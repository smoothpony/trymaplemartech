var qG=Object.defineProperty;var k7=e=>{throw TypeError(e)};var WG=(e,t,r)=>t in e?qG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var S7=(e,t,r)=>WG(e,typeof t!="symbol"?t+"":t,r),e4=(e,t,r)=>t.has(e)||k7("Cannot "+r);var le=(e,t,r)=>(e4(e,t,"read from private field"),r?r.call(e):t.get(e)),rr=(e,t,r)=>t.has(e)?k7("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),St=(e,t,r,n)=>(e4(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pr=(e,t,r)=>(e4(e,t,"access private method"),r);var I1=(e,t,r,n)=>({set _(s){St(e,t,s,r)},get _(){return le(e,t,n)}});function GG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tj={exports:{}},Wb={},Rj={exports:{}},Vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=Symbol.for("react.element"),KG=Symbol.for("react.portal"),YG=Symbol.for("react.fragment"),ZG=Symbol.for("react.strict_mode"),QG=Symbol.for("react.profiler"),XG=Symbol.for("react.provider"),JG=Symbol.for("react.context"),eK=Symbol.for("react.forward_ref"),tK=Symbol.for("react.suspense"),rK=Symbol.for("react.memo"),nK=Symbol.for("react.lazy"),_7=Symbol.iterator;function sK(e){return e===null||typeof e!="object"?null:(e=_7&&e[_7]||e["@@iterator"],typeof e=="function"?e:null)}var Ij={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jj=Object.assign,Mj={};function Bp(e,t,r){this.props=e,this.context=t,this.refs=Mj,this.updater=r||Ij}Bp.prototype.isReactComponent={};Bp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pj(){}Pj.prototype=Bp.prototype;function n8(e,t,r){this.props=e,this.context=t,this.refs=Mj,this.updater=r||Ij}var s8=n8.prototype=new Pj;s8.constructor=n8;jj(s8,Bp.prototype);s8.isPureReactComponent=!0;var E7=Array.isArray,Oj=Object.prototype.hasOwnProperty,i8={current:null},Dj={key:!0,ref:!0,__self:!0,__source:!0};function Lj(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Oj.call(t,n)&&!Dj.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Bg,type:e,key:i,ref:a,props:s,_owner:i8.current}}function iK(e,t){return{$$typeof:Bg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function a8(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bg}function aK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var N7=/\/+/g;function t4(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aK(""+e.key):t.toString(36)}function Wy(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bg:case KG:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+t4(a,0):n,E7(s)?(r="",e!=null&&(r=e.replace(N7,"$&/")+"/"),Wy(s,t,r,"",function(u){return u})):s!=null&&(a8(s)&&(s=iK(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(N7,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",E7(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+t4(i,o);a+=Wy(i,t,r,c,s)}else if(c=sK(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+t4(i,o++),a+=Wy(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function j1(e,t,r){if(e==null)return e;var n=[],s=0;return Wy(e,n,"","",function(i){return t.call(r,i,s++)}),n}function oK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wi={current:null},Gy={transition:null},lK={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:i8};function $j(){throw Error("act(...) is not supported in production builds of React.")}Vr.Children={map:j1,forEach:function(e,t,r){j1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return j1(e,function(){t++}),t},toArray:function(e){return j1(e,function(t){return t})||[]},only:function(e){if(!a8(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vr.Component=Bp;Vr.Fragment=YG;Vr.Profiler=QG;Vr.PureComponent=n8;Vr.StrictMode=ZG;Vr.Suspense=tK;Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lK;Vr.act=$j;Vr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jj({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=i8.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Oj.call(t,c)&&!Dj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Bg,type:e.type,key:s,ref:i,props:n,_owner:a}};Vr.createContext=function(e){return e={$$typeof:JG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XG,_context:e},e.Consumer=e};Vr.createElement=Lj;Vr.createFactory=function(e){var t=Lj.bind(null,e);return t.type=e,t};Vr.createRef=function(){return{current:null}};Vr.forwardRef=function(e){return{$$typeof:eK,render:e}};Vr.isValidElement=a8;Vr.lazy=function(e){return{$$typeof:nK,_payload:{_status:-1,_result:e},_init:oK}};Vr.memo=function(e,t){return{$$typeof:rK,type:e,compare:t===void 0?null:t}};Vr.startTransition=function(e){var t=Gy.transition;Gy.transition={};try{e()}finally{Gy.transition=t}};Vr.unstable_act=$j;Vr.useCallback=function(e,t){return wi.current.useCallback(e,t)};Vr.useContext=function(e){return wi.current.useContext(e)};Vr.useDebugValue=function(){};Vr.useDeferredValue=function(e){return wi.current.useDeferredValue(e)};Vr.useEffect=function(e,t){return wi.current.useEffect(e,t)};Vr.useId=function(){return wi.current.useId()};Vr.useImperativeHandle=function(e,t,r){return wi.current.useImperativeHandle(e,t,r)};Vr.useInsertionEffect=function(e,t){return wi.current.useInsertionEffect(e,t)};Vr.useLayoutEffect=function(e,t){return wi.current.useLayoutEffect(e,t)};Vr.useMemo=function(e,t){return wi.current.useMemo(e,t)};Vr.useReducer=function(e,t,r){return wi.current.useReducer(e,t,r)};Vr.useRef=function(e){return wi.current.useRef(e)};Vr.useState=function(e){return wi.current.useState(e)};Vr.useSyncExternalStore=function(e,t,r){return wi.current.useSyncExternalStore(e,t,r)};Vr.useTransition=function(){return wi.current.useTransition()};Vr.version="18.3.1";Rj.exports=Vr;var x=Rj.exports;const Ls=Fg(x),Gb=GG({__proto__:null,default:Ls},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cK=x,uK=Symbol.for("react.element"),dK=Symbol.for("react.fragment"),hK=Object.prototype.hasOwnProperty,fK=cK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pK={key:!0,ref:!0,__self:!0,__source:!0};function Fj(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)hK.call(t,n)&&!pK.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:uK,type:e,key:i,ref:a,props:s,_owner:fK.current}}Wb.Fragment=dK;Wb.jsx=Fj;Wb.jsxs=Fj;Tj.exports=Wb;var l=Tj.exports,Bj={exports:{}},ga={},Uj={exports:{}},zj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,re){var E=V.length;V.push(re);e:for(;0<E;){var N=E-1>>>1,L=V[N];if(0<s(L,re))V[N]=re,V[E]=L,E=N;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var re=V[0],E=V.pop();if(E!==re){V[0]=E;e:for(var N=0,L=V.length,M=L>>>1;N<M;){var G=2*(N+1)-1,W=V[G],se=G+1,X=V[se];if(0>s(W,E))se<L&&0>s(X,W)?(V[N]=X,V[se]=E,N=se):(V[N]=W,V[G]=E,N=G);else if(se<L&&0>s(X,E))V[N]=X,V[se]=E,N=se;else break e}}return re}function s(V,re){var E=V.sortIndex-re.sortIndex;return E!==0?E:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=V)n(u),re.sortIndex=re.expirationTime,t(c,re);else break;re=r(u)}}function k(V){if(g=!1,b(V),!m)if(r(c)!==null)m=!0,Z(C);else{var re=r(u);re!==null&&J(k,re.startTime-V)}}function C(V,re){m=!1,g&&(g=!1,y(O),O=-1),p=!0;var E=f;try{for(b(re),h=r(c);h!==null&&(!(h.expirationTime>re)||V&&!D());){var N=h.callback;if(typeof N=="function"){h.callback=null,f=h.priorityLevel;var L=N(h.expirationTime<=re);re=e.unstable_now(),typeof L=="function"?h.callback=L:h===r(c)&&n(c),b(re)}else n(c);h=r(c)}if(h!==null)var M=!0;else{var G=r(u);G!==null&&J(k,G.startTime-re),M=!1}return M}finally{h=null,f=E,p=!1}}var A=!1,R=null,O=-1,F=5,j=-1;function D(){return!(e.unstable_now()-j<F)}function z(){if(R!==null){var V=e.unstable_now();j=V;var re=!0;try{re=R(!0,V)}finally{re?Y():(A=!1,R=null)}}else A=!1}var Y;if(typeof v=="function")Y=function(){v(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,te=Q.port2;Q.port1.onmessage=z,Y=function(){te.postMessage(null)}}else Y=function(){w(z,0)};function Z(V){R=V,A||(A=!0,Y())}function J(V,re){O=w(function(){V(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,Z(C))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var re=3;break;default:re=f}var E=f;f=re;try{return V()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var E=f;f=V;try{return re()}finally{f=E}},e.unstable_scheduleCallback=function(V,re,E){var N=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?N+E:N):E=N,V){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=E+L,V={id:d++,callback:re,priorityLevel:V,startTime:E,expirationTime:L,sortIndex:-1},E>N?(V.sortIndex=E,t(u,V),r(c)===null&&V===r(u)&&(g?(y(O),O=-1):g=!0,J(k,E-N))):(V.sortIndex=L,t(c,V),m||p||(m=!0,Z(C))),V},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(V){var re=f;return function(){var E=f;f=re;try{return V.apply(this,arguments)}finally{f=E}}}})(zj);Uj.exports=zj;var mK=Uj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gK=x,pa=mK;function Qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hj=new Set,wm={};function Sh(e,t){op(e,t),op(e+"Capture",t)}function op(e,t){for(wm[e]=t,e=0;e<t.length;e++)Hj.add(t[e])}var nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h3=Object.prototype.hasOwnProperty,yK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C7={},A7={};function vK(e){return h3.call(A7,e)?!0:h3.call(C7,e)?!1:yK.test(e)?A7[e]=!0:(C7[e]=!0,!1)}function xK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bK(e,t,r,n){if(t===null||typeof t>"u"||xK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ki(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var zs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zs[e]=new ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zs[t]=new ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zs[e]=new ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zs[e]=new ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zs[e]=new ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zs[e]=new ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zs[e]=new ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zs[e]=new ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zs[e]=new ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var o8=/[\-:]([a-z])/g;function l8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(o8,l8);zs[t]=new ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(o8,l8);zs[t]=new ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(o8,l8);zs[t]=new ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zs[e]=new ki(e,1,!1,e.toLowerCase(),null,!1,!1)});zs.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zs[e]=new ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function c8(e,t,r,n){var s=zs.hasOwnProperty(t)?zs[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bK(t,r,s,n)&&(r=null),n||s===null?vK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vc=gK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M1=Symbol.for("react.element"),cf=Symbol.for("react.portal"),uf=Symbol.for("react.fragment"),u8=Symbol.for("react.strict_mode"),f3=Symbol.for("react.profiler"),Vj=Symbol.for("react.provider"),qj=Symbol.for("react.context"),d8=Symbol.for("react.forward_ref"),p3=Symbol.for("react.suspense"),m3=Symbol.for("react.suspense_list"),h8=Symbol.for("react.memo"),Uc=Symbol.for("react.lazy"),Wj=Symbol.for("react.offscreen"),T7=Symbol.iterator;function c0(e){return e===null||typeof e!="object"?null:(e=T7&&e[T7]||e["@@iterator"],typeof e=="function"?e:null)}var Vn=Object.assign,r4;function T0(e){if(r4===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);r4=t&&t[1]||""}return`
`+r4+e}var n4=!1;function s4(e,t){if(!e||n4)return"";n4=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{n4=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?T0(e):""}function wK(e){switch(e.tag){case 5:return T0(e.type);case 16:return T0("Lazy");case 13:return T0("Suspense");case 19:return T0("SuspenseList");case 0:case 2:case 15:return e=s4(e.type,!1),e;case 11:return e=s4(e.type.render,!1),e;case 1:return e=s4(e.type,!0),e;default:return""}}function g3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uf:return"Fragment";case cf:return"Portal";case f3:return"Profiler";case u8:return"StrictMode";case p3:return"Suspense";case m3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qj:return(e.displayName||"Context")+".Consumer";case Vj:return(e._context.displayName||"Context")+".Provider";case d8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h8:return t=e.displayName||null,t!==null?t:g3(e.type)||"Memo";case Uc:t=e._payload,e=e._init;try{return g3(e(t))}catch{}}return null}function kK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g3(t);case 8:return t===u8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SK(e){var t=Gj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P1(e){e._valueTracker||(e._valueTracker=SK(e))}function Kj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function y3(e,t){var r=t.checked;return Vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function R7(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Tu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yj(e,t){t=t.checked,t!=null&&c8(e,"checked",t,!1)}function v3(e,t){Yj(e,t);var r=Tu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x3(e,t.type,r):t.hasOwnProperty("defaultValue")&&x3(e,t.type,Tu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I7(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function x3(e,t,r){(t!=="number"||Mv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var R0=Array.isArray;function Ef(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Tu(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function b3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return Vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j7(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Qe(92));if(R0(r)){if(1<r.length)throw Error(Qe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Tu(r)}}function Zj(e,t){var r=Tu(t.value),n=Tu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function M7(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var O1,Xj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(O1=O1||document.createElement("div"),O1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=O1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function km(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Q0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_K=["Webkit","ms","Moz","O"];Object.keys(Q0).forEach(function(e){_K.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Q0[t]=Q0[e]})});function Jj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Q0.hasOwnProperty(e)&&Q0[e]?(""+t).trim():t+"px"}function eM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Jj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var EK=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k3(e,t){if(t){if(EK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qe(62))}}function S3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _3=null;function f8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var E3=null,Nf=null,Cf=null;function P7(e){if(e=Hg(e)){if(typeof E3!="function")throw Error(Qe(280));var t=e.stateNode;t&&(t=Xb(t),E3(e.stateNode,e.type,t))}}function tM(e){Nf?Cf?Cf.push(e):Cf=[e]:Nf=e}function rM(){if(Nf){var e=Nf,t=Cf;if(Cf=Nf=null,P7(e),t)for(e=0;e<t.length;e++)P7(t[e])}}function nM(e,t){return e(t)}function sM(){}var i4=!1;function iM(e,t,r){if(i4)return e(t,r);i4=!0;try{return nM(e,t,r)}finally{i4=!1,(Nf!==null||Cf!==null)&&(sM(),rM())}}function Sm(e,t){var r=e.stateNode;if(r===null)return null;var n=Xb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Qe(231,t,typeof r));return r}var N3=!1;if(nc)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){N3=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{N3=!1}function NK(e,t,r,n,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var X0=!1,Pv=null,Ov=!1,C3=null,CK={onError:function(e){X0=!0,Pv=e}};function AK(e,t,r,n,s,i,a,o,c){X0=!1,Pv=null,NK.apply(CK,arguments)}function TK(e,t,r,n,s,i,a,o,c){if(AK.apply(this,arguments),X0){if(X0){var u=Pv;X0=!1,Pv=null}else throw Error(Qe(198));Ov||(Ov=!0,C3=u)}}function _h(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function aM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O7(e){if(_h(e)!==e)throw Error(Qe(188))}function RK(e){var t=e.alternate;if(!t){if(t=_h(e),t===null)throw Error(Qe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return O7(s),e;if(i===n)return O7(s),t;i=i.sibling}throw Error(Qe(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Qe(189))}}if(r.alternate!==n)throw Error(Qe(190))}if(r.tag!==3)throw Error(Qe(188));return r.stateNode.current===r?e:t}function oM(e){return e=RK(e),e!==null?lM(e):null}function lM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lM(e);if(t!==null)return t;e=e.sibling}return null}var cM=pa.unstable_scheduleCallback,D7=pa.unstable_cancelCallback,IK=pa.unstable_shouldYield,jK=pa.unstable_requestPaint,es=pa.unstable_now,MK=pa.unstable_getCurrentPriorityLevel,p8=pa.unstable_ImmediatePriority,uM=pa.unstable_UserBlockingPriority,Dv=pa.unstable_NormalPriority,PK=pa.unstable_LowPriority,dM=pa.unstable_IdlePriority,Kb=null,rl=null;function OK(e){if(rl&&typeof rl.onCommitFiberRoot=="function")try{rl.onCommitFiberRoot(Kb,e,void 0,(e.current.flags&128)===128)}catch{}}var mo=Math.clz32?Math.clz32:$K,DK=Math.log,LK=Math.LN2;function $K(e){return e>>>=0,e===0?32:31-(DK(e)/LK|0)|0}var D1=64,L1=4194304;function I0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=I0(o):(i&=a,i!==0&&(n=I0(i)))}else a=r&~s,a!==0?n=I0(a):i!==0&&(n=I0(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mo(t),s=1<<r,n|=e[r],t&=~s;return n}function FK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mo(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=FK(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function A3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hM(){var e=D1;return D1<<=1,!(D1&4194240)&&(D1=64),e}function a4(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ug(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mo(t),e[t]=r}function UK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mo(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function m8(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mo(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ln=0;function fM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pM,g8,mM,gM,yM,T3=!1,$1=[],pu=null,mu=null,gu=null,_m=new Map,Em=new Map,qc=[],zK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L7(e,t){switch(e){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":mu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":_m.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Em.delete(t.pointerId)}}function d0(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hg(t),t!==null&&g8(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function HK(e,t,r,n,s){switch(t){case"focusin":return pu=d0(pu,e,t,r,n,s),!0;case"dragenter":return mu=d0(mu,e,t,r,n,s),!0;case"mouseover":return gu=d0(gu,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return _m.set(i,d0(_m.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Em.set(i,d0(Em.get(i)||null,e,t,r,n,s)),!0}return!1}function vM(e){var t=wd(e.target);if(t!==null){var r=_h(t);if(r!==null){if(t=r.tag,t===13){if(t=aM(r),t!==null){e.blockedOn=t,yM(e.priority,function(){mM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ky(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=R3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_3=n,r.target.dispatchEvent(n),_3=null}else return t=Hg(r),t!==null&&g8(t),e.blockedOn=r,!1;t.shift()}return!0}function $7(e,t,r){Ky(e)&&r.delete(t)}function VK(){T3=!1,pu!==null&&Ky(pu)&&(pu=null),mu!==null&&Ky(mu)&&(mu=null),gu!==null&&Ky(gu)&&(gu=null),_m.forEach($7),Em.forEach($7)}function h0(e,t){e.blockedOn===t&&(e.blockedOn=null,T3||(T3=!0,pa.unstable_scheduleCallback(pa.unstable_NormalPriority,VK)))}function Nm(e){function t(s){return h0(s,e)}if(0<$1.length){h0($1[0],e);for(var r=1;r<$1.length;r++){var n=$1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pu!==null&&h0(pu,e),mu!==null&&h0(mu,e),gu!==null&&h0(gu,e),_m.forEach(t),Em.forEach(t),r=0;r<qc.length;r++)n=qc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qc.length&&(r=qc[0],r.blockedOn===null);)vM(r),r.blockedOn===null&&qc.shift()}var Af=vc.ReactCurrentBatchConfig,$v=!0;function qK(e,t,r,n){var s=ln,i=Af.transition;Af.transition=null;try{ln=1,y8(e,t,r,n)}finally{ln=s,Af.transition=i}}function WK(e,t,r,n){var s=ln,i=Af.transition;Af.transition=null;try{ln=4,y8(e,t,r,n)}finally{ln=s,Af.transition=i}}function y8(e,t,r,n){if($v){var s=R3(e,t,r,n);if(s===null)g4(e,t,n,Fv,r),L7(e,n);else if(HK(s,e,t,r,n))n.stopPropagation();else if(L7(e,n),t&4&&-1<zK.indexOf(e)){for(;s!==null;){var i=Hg(s);if(i!==null&&pM(i),i=R3(e,t,r,n),i===null&&g4(e,t,n,Fv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else g4(e,t,n,null,r)}}var Fv=null;function R3(e,t,r,n){if(Fv=null,e=f8(n),e=wd(e),e!==null)if(t=_h(e),t===null)e=null;else if(r=t.tag,r===13){if(e=aM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fv=e,null}function xM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MK()){case p8:return 1;case uM:return 4;case Dv:case PK:return 16;case dM:return 536870912;default:return 16}default:return 16}}var iu=null,v8=null,Yy=null;function bM(){if(Yy)return Yy;var e,t=v8,r=t.length,n,s="value"in iu?iu.value:iu.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Yy=s.slice(e,1<n?1-n:void 0)}function Zy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function F1(){return!0}function F7(){return!1}function ya(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?F1:F7,this.isPropagationStopped=F7,this}return Vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=F1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=F1)},persist:function(){},isPersistent:F1}),t}var Up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x8=ya(Up),zg=Vn({},Up,{view:0,detail:0}),GK=ya(zg),o4,l4,f0,Yb=Vn({},zg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==f0&&(f0&&e.type==="mousemove"?(o4=e.screenX-f0.screenX,l4=e.screenY-f0.screenY):l4=o4=0,f0=e),o4)},movementY:function(e){return"movementY"in e?e.movementY:l4}}),B7=ya(Yb),KK=Vn({},Yb,{dataTransfer:0}),YK=ya(KK),ZK=Vn({},zg,{relatedTarget:0}),c4=ya(ZK),QK=Vn({},Up,{animationName:0,elapsedTime:0,pseudoElement:0}),XK=ya(QK),JK=Vn({},Up,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eY=ya(JK),tY=Vn({},Up,{data:0}),U7=ya(tY),rY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sY[e])?!!t[e]:!1}function b8(){return iY}var aY=Vn({},zg,{key:function(e){if(e.key){var t=rY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b8,charCode:function(e){return e.type==="keypress"?Zy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oY=ya(aY),lY=Vn({},Yb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z7=ya(lY),cY=Vn({},zg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b8}),uY=ya(cY),dY=Vn({},Up,{propertyName:0,elapsedTime:0,pseudoElement:0}),hY=ya(dY),fY=Vn({},Yb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pY=ya(fY),mY=[9,13,27,32],w8=nc&&"CompositionEvent"in window,J0=null;nc&&"documentMode"in document&&(J0=document.documentMode);var gY=nc&&"TextEvent"in window&&!J0,wM=nc&&(!w8||J0&&8<J0&&11>=J0),H7=" ",V7=!1;function kM(e,t){switch(e){case"keyup":return mY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var df=!1;function yY(e,t){switch(e){case"compositionend":return SM(t);case"keypress":return t.which!==32?null:(V7=!0,H7);case"textInput":return e=t.data,e===H7&&V7?null:e;default:return null}}function vY(e,t){if(df)return e==="compositionend"||!w8&&kM(e,t)?(e=bM(),Yy=v8=iu=null,df=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wM&&t.locale!=="ko"?null:t.data;default:return null}}var xY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q7(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xY[e.type]:t==="textarea"}function _M(e,t,r,n){tM(n),t=Bv(t,"onChange"),0<t.length&&(r=new x8("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var em=null,Cm=null;function bY(e){OM(e,0)}function Zb(e){var t=pf(e);if(Kj(t))return e}function wY(e,t){if(e==="change")return t}var EM=!1;if(nc){var u4;if(nc){var d4="oninput"in document;if(!d4){var W7=document.createElement("div");W7.setAttribute("oninput","return;"),d4=typeof W7.oninput=="function"}u4=d4}else u4=!1;EM=u4&&(!document.documentMode||9<document.documentMode)}function G7(){em&&(em.detachEvent("onpropertychange",NM),Cm=em=null)}function NM(e){if(e.propertyName==="value"&&Zb(Cm)){var t=[];_M(t,Cm,e,f8(e)),iM(bY,t)}}function kY(e,t,r){e==="focusin"?(G7(),em=t,Cm=r,em.attachEvent("onpropertychange",NM)):e==="focusout"&&G7()}function SY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zb(Cm)}function _Y(e,t){if(e==="click")return Zb(t)}function EY(e,t){if(e==="input"||e==="change")return Zb(t)}function NY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wo=typeof Object.is=="function"?Object.is:NY;function Am(e,t){if(wo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!h3.call(t,s)||!wo(e[s],t[s]))return!1}return!0}function K7(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Y7(e,t){var r=K7(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K7(r)}}function CM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AM(){for(var e=window,t=Mv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mv(e.document)}return t}function k8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CY(e){var t=AM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&CM(r.ownerDocument.documentElement,r)){if(n!==null&&k8(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Y7(r,i);var a=Y7(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AY=nc&&"documentMode"in document&&11>=document.documentMode,hf=null,I3=null,tm=null,j3=!1;function Z7(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;j3||hf==null||hf!==Mv(n)||(n=hf,"selectionStart"in n&&k8(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tm&&Am(tm,n)||(tm=n,n=Bv(I3,"onSelect"),0<n.length&&(t=new x8("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hf)))}function B1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ff={animationend:B1("Animation","AnimationEnd"),animationiteration:B1("Animation","AnimationIteration"),animationstart:B1("Animation","AnimationStart"),transitionend:B1("Transition","TransitionEnd")},h4={},TM={};nc&&(TM=document.createElement("div").style,"AnimationEvent"in window||(delete ff.animationend.animation,delete ff.animationiteration.animation,delete ff.animationstart.animation),"TransitionEvent"in window||delete ff.transitionend.transition);function Qb(e){if(h4[e])return h4[e];if(!ff[e])return e;var t=ff[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in TM)return h4[e]=t[r];return e}var RM=Qb("animationend"),IM=Qb("animationiteration"),jM=Qb("animationstart"),MM=Qb("transitionend"),PM=new Map,Q7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wu(e,t){PM.set(e,t),Sh(t,[e])}for(var f4=0;f4<Q7.length;f4++){var p4=Q7[f4],TY=p4.toLowerCase(),RY=p4[0].toUpperCase()+p4.slice(1);Wu(TY,"on"+RY)}Wu(RM,"onAnimationEnd");Wu(IM,"onAnimationIteration");Wu(jM,"onAnimationStart");Wu("dblclick","onDoubleClick");Wu("focusin","onFocus");Wu("focusout","onBlur");Wu(MM,"onTransitionEnd");op("onMouseEnter",["mouseout","mouseover"]);op("onMouseLeave",["mouseout","mouseover"]);op("onPointerEnter",["pointerout","pointerover"]);op("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var j0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IY=new Set("cancel close invalid load scroll toggle".split(" ").concat(j0));function X7(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TK(n,t,void 0,e),e.currentTarget=null}function OM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;X7(s,o,u),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;X7(s,o,u),i=c}}}if(Ov)throw e=C3,Ov=!1,C3=null,e}function An(e,t){var r=t[L3];r===void 0&&(r=t[L3]=new Set);var n=e+"__bubble";r.has(n)||(DM(t,e,2,!1),r.add(n))}function m4(e,t,r){var n=0;t&&(n|=4),DM(r,e,n,t)}var U1="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[U1]){e[U1]=!0,Hj.forEach(function(r){r!=="selectionchange"&&(IY.has(r)||m4(r,!1,e),m4(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[U1]||(t[U1]=!0,m4("selectionchange",!1,t))}}function DM(e,t,r,n){switch(xM(t)){case 1:var s=qK;break;case 4:s=WK;break;default:s=y8}r=s.bind(null,t,r,e),s=void 0,!N3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function g4(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=wd(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}iM(function(){var u=i,d=f8(r),h=[];e:{var f=PM.get(e);if(f!==void 0){var p=x8,m=e;switch(e){case"keypress":if(Zy(r)===0)break e;case"keydown":case"keyup":p=oY;break;case"focusin":m="focus",p=c4;break;case"focusout":m="blur",p=c4;break;case"beforeblur":case"afterblur":p=c4;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=B7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uY;break;case RM:case IM:case jM:p=XK;break;case MM:p=hY;break;case"scroll":p=GK;break;case"wheel":p=pY;break;case"copy":case"cut":case"paste":p=eY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=z7}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Sm(v,y),k!=null&&g.push(Rm(v,k,b)))),w)break;v=v.return}0<g.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==_3&&(m=r.relatedTarget||r.fromElement)&&(wd(m)||m[sc]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?wd(m):null,m!==null&&(w=_h(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=B7,k="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=z7,k="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?f:pf(p),b=m==null?f:pf(m),f=new g(k,v+"leave",p,r,d),f.target=w,f.relatedTarget=b,k=null,wd(d)===u&&(g=new g(y,v+"enter",m,r,d),g.target=b,g.relatedTarget=w,k=g),w=k,p&&m)t:{for(g=p,y=m,v=0,b=g;b;b=Lh(b))v++;for(b=0,k=y;k;k=Lh(k))b++;for(;0<v-b;)g=Lh(g),v--;for(;0<b-v;)y=Lh(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Lh(g),y=Lh(y)}g=null}else g=null;p!==null&&J7(h,f,p,g,!1),m!==null&&w!==null&&J7(h,w,m,g,!0)}}e:{if(f=u?pf(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=wY;else if(q7(f))if(EM)C=EY;else{C=SY;var A=kY}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=_Y);if(C&&(C=C(e,u))){_M(h,C,r,d);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&x3(f,"number",f.value)}switch(A=u?pf(u):window,e){case"focusin":(q7(A)||A.contentEditable==="true")&&(hf=A,I3=u,tm=null);break;case"focusout":tm=I3=hf=null;break;case"mousedown":j3=!0;break;case"contextmenu":case"mouseup":case"dragend":j3=!1,Z7(h,r,d);break;case"selectionchange":if(AY)break;case"keydown":case"keyup":Z7(h,r,d)}var R;if(w8)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else df?kM(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(wM&&r.locale!=="ko"&&(df||O!=="onCompositionStart"?O==="onCompositionEnd"&&df&&(R=bM()):(iu=d,v8="value"in iu?iu.value:iu.textContent,df=!0)),A=Bv(u,O),0<A.length&&(O=new U7(O,e,null,r,d),h.push({event:O,listeners:A}),R?O.data=R:(R=SM(r),R!==null&&(O.data=R)))),(R=gY?yY(e,r):vY(e,r))&&(u=Bv(u,"onBeforeInput"),0<u.length&&(d=new U7("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=R))}OM(h,t)})}function Rm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sm(e,r),i!=null&&n.unshift(Rm(e,i,s)),i=Sm(e,t),i!=null&&n.push(Rm(e,i,s))),e=e.return}return n}function Lh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function J7(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Sm(r,i),c!=null&&a.unshift(Rm(r,c,o))):s||(c=Sm(r,i),c!=null&&a.push(Rm(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var jY=/\r\n?/g,MY=/\u0000|\uFFFD/g;function eC(e){return(typeof e=="string"?e:""+e).replace(jY,`
`).replace(MY,"")}function z1(e,t,r){if(t=eC(t),eC(e)!==t&&r)throw Error(Qe(425))}function Uv(){}var M3=null,P3=null;function O3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var D3=typeof setTimeout=="function"?setTimeout:void 0,PY=typeof clearTimeout=="function"?clearTimeout:void 0,tC=typeof Promise=="function"?Promise:void 0,OY=typeof queueMicrotask=="function"?queueMicrotask:typeof tC<"u"?function(e){return tC.resolve(null).then(e).catch(DY)}:D3;function DY(e){setTimeout(function(){throw e})}function y4(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Nm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Nm(t)}function yu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zp=Math.random().toString(36).slice(2),Yo="__reactFiber$"+zp,Im="__reactProps$"+zp,sc="__reactContainer$"+zp,L3="__reactEvents$"+zp,LY="__reactListeners$"+zp,$Y="__reactHandles$"+zp;function wd(e){var t=e[Yo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sc]||r[Yo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rC(e);e!==null;){if(r=e[Yo])return r;e=rC(e)}return t}e=r,r=e.parentNode}return null}function Hg(e){return e=e[Yo]||e[sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qe(33))}function Xb(e){return e[Im]||null}var $3=[],mf=-1;function Gu(e){return{current:e}}function Tn(e){0>mf||(e.current=$3[mf],$3[mf]=null,mf--)}function kn(e,t){mf++,$3[mf]=e.current,e.current=t}var Ru={},ri=Gu(Ru),Ui=Gu(!1),Gd=Ru;function lp(e,t){var r=e.type.contextTypes;if(!r)return Ru;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function zi(e){return e=e.childContextTypes,e!=null}function zv(){Tn(Ui),Tn(ri)}function nC(e,t,r){if(ri.current!==Ru)throw Error(Qe(168));kn(ri,t),kn(Ui,r)}function LM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Qe(108,kK(e)||"Unknown",s));return Vn({},r,n)}function Hv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ru,Gd=ri.current,kn(ri,e),kn(Ui,Ui.current),!0}function sC(e,t,r){var n=e.stateNode;if(!n)throw Error(Qe(169));r?(e=LM(e,t,Gd),n.__reactInternalMemoizedMergedChildContext=e,Tn(Ui),Tn(ri),kn(ri,e)):Tn(Ui),kn(Ui,r)}var jl=null,Jb=!1,v4=!1;function $M(e){jl===null?jl=[e]:jl.push(e)}function FY(e){Jb=!0,$M(e)}function Ku(){if(!v4&&jl!==null){v4=!0;var e=0,t=ln;try{var r=jl;for(ln=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jl=null,Jb=!1}catch(s){throw jl!==null&&(jl=jl.slice(e+1)),cM(p8,Ku),s}finally{ln=t,v4=!1}}return null}var gf=[],yf=0,Vv=null,qv=0,Aa=[],Ta=0,Kd=null,Ll=1,$l="";function cd(e,t){gf[yf++]=qv,gf[yf++]=Vv,Vv=e,qv=t}function FM(e,t,r){Aa[Ta++]=Ll,Aa[Ta++]=$l,Aa[Ta++]=Kd,Kd=e;var n=Ll;e=$l;var s=32-mo(n)-1;n&=~(1<<s),r+=1;var i=32-mo(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ll=1<<32-mo(t)+s|r<<s|n,$l=i+e}else Ll=1<<i|r<<s|n,$l=e}function S8(e){e.return!==null&&(cd(e,1),FM(e,1,0))}function _8(e){for(;e===Vv;)Vv=gf[--yf],gf[yf]=null,qv=gf[--yf],gf[yf]=null;for(;e===Kd;)Kd=Aa[--Ta],Aa[Ta]=null,$l=Aa[--Ta],Aa[Ta]=null,Ll=Aa[--Ta],Aa[Ta]=null}var ua=null,aa=null,jn=!1,uo=null;function BM(e,t){var r=ja(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function iC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ua=e,aa=yu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ua=e,aa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kd!==null?{id:Ll,overflow:$l}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ja(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ua=e,aa=null,!0):!1;default:return!1}}function F3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B3(e){if(jn){var t=aa;if(t){var r=t;if(!iC(e,t)){if(F3(e))throw Error(Qe(418));t=yu(r.nextSibling);var n=ua;t&&iC(e,t)?BM(n,r):(e.flags=e.flags&-4097|2,jn=!1,ua=e)}}else{if(F3(e))throw Error(Qe(418));e.flags=e.flags&-4097|2,jn=!1,ua=e}}}function aC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ua=e}function H1(e){if(e!==ua)return!1;if(!jn)return aC(e),jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O3(e.type,e.memoizedProps)),t&&(t=aa)){if(F3(e))throw UM(),Error(Qe(418));for(;t;)BM(e,t),t=yu(t.nextSibling)}if(aC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){aa=yu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}aa=null}}else aa=ua?yu(e.stateNode.nextSibling):null;return!0}function UM(){for(var e=aa;e;)e=yu(e.nextSibling)}function cp(){aa=ua=null,jn=!1}function E8(e){uo===null?uo=[e]:uo.push(e)}var BY=vc.ReactCurrentBatchConfig;function p0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qe(309));var n=r.stateNode}if(!n)throw Error(Qe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Qe(284));if(!r._owner)throw Error(Qe(290,e))}return e}function V1(e,t){throw e=Object.prototype.toString.call(t),Error(Qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oC(e){var t=e._init;return t(e._payload)}function zM(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=wu(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,v,b,k){return v===null||v.tag!==6?(v=E4(b,y.mode,k),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,k){var C=b.type;return C===uf?d(y,v,b.props.children,k,b.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Uc&&oC(C)===v.type)?(k=s(v,b.props),k.ref=p0(y,v,b),k.return=y,k):(k=nv(b.type,b.key,b.props,null,y.mode,k),k.ref=p0(y,v,b),k.return=y,k)}function u(y,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=N4(b,y.mode,k),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function d(y,v,b,k,C){return v===null||v.tag!==7?(v=Ud(b,y.mode,k,C),v.return=y,v):(v=s(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=E4(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case M1:return b=nv(v.type,v.key,v.props,null,y.mode,b),b.ref=p0(y,null,v),b.return=y,b;case cf:return v=N4(v,y.mode,b),v.return=y,v;case Uc:var k=v._init;return h(y,k(v._payload),b)}if(R0(v)||c0(v))return v=Ud(v,y.mode,b,null),v.return=y,v;V1(y,v)}return null}function f(y,v,b,k){var C=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(y,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case M1:return b.key===C?c(y,v,b,k):null;case cf:return b.key===C?u(y,v,b,k):null;case Uc:return C=b._init,f(y,v,C(b._payload),k)}if(R0(b)||c0(b))return C!==null?null:d(y,v,b,k,null);V1(y,b)}return null}function p(y,v,b,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,o(v,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M1:return y=y.get(k.key===null?b:k.key)||null,c(v,y,k,C);case cf:return y=y.get(k.key===null?b:k.key)||null,u(v,y,k,C);case Uc:var A=k._init;return p(y,v,b,A(k._payload),C)}if(R0(k)||c0(k))return y=y.get(b)||null,d(v,y,k,C,null);V1(v,k)}return null}function m(y,v,b,k){for(var C=null,A=null,R=v,O=v=0,F=null;R!==null&&O<b.length;O++){R.index>O?(F=R,R=null):F=R.sibling;var j=f(y,R,b[O],k);if(j===null){R===null&&(R=F);break}e&&R&&j.alternate===null&&t(y,R),v=i(j,v,O),A===null?C=j:A.sibling=j,A=j,R=F}if(O===b.length)return r(y,R),jn&&cd(y,O),C;if(R===null){for(;O<b.length;O++)R=h(y,b[O],k),R!==null&&(v=i(R,v,O),A===null?C=R:A.sibling=R,A=R);return jn&&cd(y,O),C}for(R=n(y,R);O<b.length;O++)F=p(R,y,O,b[O],k),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?O:F.key),v=i(F,v,O),A===null?C=F:A.sibling=F,A=F);return e&&R.forEach(function(D){return t(y,D)}),jn&&cd(y,O),C}function g(y,v,b,k){var C=c0(b);if(typeof C!="function")throw Error(Qe(150));if(b=C.call(b),b==null)throw Error(Qe(151));for(var A=C=null,R=v,O=v=0,F=null,j=b.next();R!==null&&!j.done;O++,j=b.next()){R.index>O?(F=R,R=null):F=R.sibling;var D=f(y,R,j.value,k);if(D===null){R===null&&(R=F);break}e&&R&&D.alternate===null&&t(y,R),v=i(D,v,O),A===null?C=D:A.sibling=D,A=D,R=F}if(j.done)return r(y,R),jn&&cd(y,O),C;if(R===null){for(;!j.done;O++,j=b.next())j=h(y,j.value,k),j!==null&&(v=i(j,v,O),A===null?C=j:A.sibling=j,A=j);return jn&&cd(y,O),C}for(R=n(y,R);!j.done;O++,j=b.next())j=p(R,y,O,j.value,k),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?O:j.key),v=i(j,v,O),A===null?C=j:A.sibling=j,A=j);return e&&R.forEach(function(z){return t(y,z)}),jn&&cd(y,O),C}function w(y,v,b,k){if(typeof b=="object"&&b!==null&&b.type===uf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case M1:e:{for(var C=b.key,A=v;A!==null;){if(A.key===C){if(C=b.type,C===uf){if(A.tag===7){r(y,A.sibling),v=s(A,b.props.children),v.return=y,y=v;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Uc&&oC(C)===A.type){r(y,A.sibling),v=s(A,b.props),v.ref=p0(y,A,b),v.return=y,y=v;break e}r(y,A);break}else t(y,A);A=A.sibling}b.type===uf?(v=Ud(b.props.children,y.mode,k,b.key),v.return=y,y=v):(k=nv(b.type,b.key,b.props,null,y.mode,k),k.ref=p0(y,v,b),k.return=y,y=k)}return a(y);case cf:e:{for(A=b.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=N4(b,y.mode,k),v.return=y,y=v}return a(y);case Uc:return A=b._init,w(y,v,A(b._payload),k)}if(R0(b))return m(y,v,b,k);if(c0(b))return g(y,v,b,k);V1(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=E4(b,y.mode,k),v.return=y,y=v),a(y)):r(y,v)}return w}var up=zM(!0),HM=zM(!1),Wv=Gu(null),Gv=null,vf=null,N8=null;function C8(){N8=vf=Gv=null}function A8(e){var t=Wv.current;Tn(Wv),e._currentValue=t}function U3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tf(e,t){Gv=e,N8=vf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bi=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(N8!==e)if(e={context:e,memoizedValue:t,next:null},vf===null){if(Gv===null)throw Error(Qe(308));vf=e,Gv.dependencies={lanes:0,firstContext:e}}else vf=vf.next=e;return t}var kd=null;function T8(e){kd===null?kd=[e]:kd.push(e)}function VM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,T8(t)):(r.next=s.next,s.next=r),t.interleaved=r,ic(e,n)}function ic(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zc=!1;function R8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Jr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ic(e,r)}return s=n.interleaved,s===null?(t.next=t,T8(n)):(t.next=s.next,s.next=t),n.interleaved=t,ic(e,r)}function Qy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,m8(e,r)}}function lC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kv(e,t,r,n){var s=e.updateQueue;zc=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(f=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Vn({},h,f);break e;case 2:zc=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Zd|=a,e.lanes=a,e.memoizedState=h}}function cC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Qe(191,s));s.call(n)}}}var Vg={},nl=Gu(Vg),jm=Gu(Vg),Mm=Gu(Vg);function Sd(e){if(e===Vg)throw Error(Qe(174));return e}function I8(e,t){switch(kn(Mm,t),kn(jm,e),kn(nl,Vg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w3(t,e)}Tn(nl),kn(nl,t)}function dp(){Tn(nl),Tn(jm),Tn(Mm)}function WM(e){Sd(Mm.current);var t=Sd(nl.current),r=w3(t,e.type);t!==r&&(kn(jm,e),kn(nl,r))}function j8(e){jm.current===e&&(Tn(nl),Tn(jm))}var Un=Gu(0);function Yv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var x4=[];function M8(){for(var e=0;e<x4.length;e++)x4[e]._workInProgressVersionPrimary=null;x4.length=0}var Xy=vc.ReactCurrentDispatcher,b4=vc.ReactCurrentBatchConfig,Yd=0,Hn=null,fs=null,Cs=null,Zv=!1,rm=!1,Pm=0,UY=0;function Gs(){throw Error(Qe(321))}function P8(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wo(e[r],t[r]))return!1;return!0}function O8(e,t,r,n,s,i){if(Yd=i,Hn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xy.current=e===null||e.memoizedState===null?qY:WY,e=r(n,s),rm){i=0;do{if(rm=!1,Pm=0,25<=i)throw Error(Qe(301));i+=1,Cs=fs=null,t.updateQueue=null,Xy.current=GY,e=r(n,s)}while(rm)}if(Xy.current=Qv,t=fs!==null&&fs.next!==null,Yd=0,Cs=fs=Hn=null,Zv=!1,t)throw Error(Qe(300));return e}function D8(){var e=Pm!==0;return Pm=0,e}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?Hn.memoizedState=Cs=e:Cs=Cs.next=e,Cs}function Ha(){if(fs===null){var e=Hn.alternate;e=e!==null?e.memoizedState:null}else e=fs.next;var t=Cs===null?Hn.memoizedState:Cs.next;if(t!==null)Cs=t,fs=e;else{if(e===null)throw Error(Qe(310));fs=e,e={memoizedState:fs.memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},Cs===null?Hn.memoizedState=Cs=e:Cs=Cs.next=e}return Cs}function Om(e,t){return typeof t=="function"?t(e):t}function w4(e){var t=Ha(),r=t.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=e;var n=fs,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((Yd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,Hn.lanes|=d,Zd|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=o,wo(n,t.memoizedState)||(Bi=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Hn.lanes|=i,Zd|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function k4(e){var t=Ha(),r=t.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);wo(i,t.memoizedState)||(Bi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function GM(){}function KM(e,t){var r=Hn,n=Ha(),s=t(),i=!wo(n.memoizedState,s);if(i&&(n.memoizedState=s,Bi=!0),n=n.queue,L8(QM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Cs!==null&&Cs.memoizedState.tag&1){if(r.flags|=2048,Dm(9,ZM.bind(null,r,n,s,t),void 0,null),Ts===null)throw Error(Qe(349));Yd&30||YM(r,t,s)}return s}function YM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Hn.updateQueue,t===null?(t={lastEffect:null,stores:null},Hn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ZM(e,t,r,n){t.value=r,t.getSnapshot=n,XM(t)&&JM(e)}function QM(e,t,r){return r(function(){XM(t)&&JM(e)})}function XM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wo(e,r)}catch{return!0}}function JM(e){var t=ic(e,1);t!==null&&go(t,e,1,-1)}function uC(e){var t=Bo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:e},t.queue=e,e=e.dispatch=VY.bind(null,Hn,e),[t.memoizedState,e]}function Dm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Hn.updateQueue,t===null?(t={lastEffect:null,stores:null},Hn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function eP(){return Ha().memoizedState}function Jy(e,t,r,n){var s=Bo();Hn.flags|=e,s.memoizedState=Dm(1|t,r,void 0,n===void 0?null:n)}function ew(e,t,r,n){var s=Ha();n=n===void 0?null:n;var i=void 0;if(fs!==null){var a=fs.memoizedState;if(i=a.destroy,n!==null&&P8(n,a.deps)){s.memoizedState=Dm(t,r,i,n);return}}Hn.flags|=e,s.memoizedState=Dm(1|t,r,i,n)}function dC(e,t){return Jy(8390656,8,e,t)}function L8(e,t){return ew(2048,8,e,t)}function tP(e,t){return ew(4,2,e,t)}function rP(e,t){return ew(4,4,e,t)}function nP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sP(e,t,r){return r=r!=null?r.concat([e]):null,ew(4,4,nP.bind(null,t,e),r)}function $8(){}function iP(e,t){var r=Ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&P8(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function aP(e,t){var r=Ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&P8(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oP(e,t,r){return Yd&21?(wo(r,t)||(r=hM(),Hn.lanes|=r,Zd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bi=!0),e.memoizedState=r)}function zY(e,t){var r=ln;ln=r!==0&&4>r?r:4,e(!0);var n=b4.transition;b4.transition={};try{e(!1),t()}finally{ln=r,b4.transition=n}}function lP(){return Ha().memoizedState}function HY(e,t,r){var n=bu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cP(e))uP(t,r);else if(r=VM(e,t,r,n),r!==null){var s=yi();go(r,e,n,s),dP(r,t,n)}}function VY(e,t,r){var n=bu(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cP(e))uP(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,wo(o,a)){var c=t.interleaved;c===null?(s.next=s,T8(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=VM(e,t,s,n),r!==null&&(s=yi(),go(r,e,n,s),dP(r,t,n))}}function cP(e){var t=e.alternate;return e===Hn||t!==null&&t===Hn}function uP(e,t){rm=Zv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,m8(e,r)}}var Qv={readContext:za,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:!1},qY={readContext:za,useCallback:function(e,t){return Bo().memoizedState=[e,t===void 0?null:t],e},useContext:za,useEffect:dC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jy(4194308,4,nP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jy(4,2,e,t)},useMemo:function(e,t){var r=Bo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=HY.bind(null,Hn,e),[n.memoizedState,e]},useRef:function(e){var t=Bo();return e={current:e},t.memoizedState=e},useState:uC,useDebugValue:$8,useDeferredValue:function(e){return Bo().memoizedState=e},useTransition:function(){var e=uC(!1),t=e[0];return e=zY.bind(null,e[1]),Bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Hn,s=Bo();if(jn){if(r===void 0)throw Error(Qe(407));r=r()}else{if(r=t(),Ts===null)throw Error(Qe(349));Yd&30||YM(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,dC(QM.bind(null,n,i,e),[e]),n.flags|=2048,Dm(9,ZM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bo(),t=Ts.identifierPrefix;if(jn){var r=$l,n=Ll;r=(n&~(1<<32-mo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=UY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WY={readContext:za,useCallback:iP,useContext:za,useEffect:L8,useImperativeHandle:sP,useInsertionEffect:tP,useLayoutEffect:rP,useMemo:aP,useReducer:w4,useRef:eP,useState:function(){return w4(Om)},useDebugValue:$8,useDeferredValue:function(e){var t=Ha();return oP(t,fs.memoizedState,e)},useTransition:function(){var e=w4(Om)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:GM,useSyncExternalStore:KM,useId:lP,unstable_isNewReconciler:!1},GY={readContext:za,useCallback:iP,useContext:za,useEffect:L8,useImperativeHandle:sP,useInsertionEffect:tP,useLayoutEffect:rP,useMemo:aP,useReducer:k4,useRef:eP,useState:function(){return k4(Om)},useDebugValue:$8,useDeferredValue:function(e){var t=Ha();return fs===null?t.memoizedState=e:oP(t,fs.memoizedState,e)},useTransition:function(){var e=k4(Om)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:GM,useSyncExternalStore:KM,useId:lP,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=Vn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function z3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Vn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tw={isMounted:function(e){return(e=e._reactInternals)?_h(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yi(),s=bu(e),i=Wl(n,s);i.payload=t,r!=null&&(i.callback=r),t=vu(e,i,s),t!==null&&(go(t,e,s,n),Qy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yi(),s=bu(e),i=Wl(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=vu(e,i,s),t!==null&&(go(t,e,s,n),Qy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yi(),n=bu(e),s=Wl(r,n);s.tag=2,t!=null&&(s.callback=t),t=vu(e,s,n),t!==null&&(go(t,e,n,r),Qy(t,e,n))}};function hC(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Am(r,n)||!Am(s,i):!0}function hP(e,t,r){var n=!1,s=Ru,i=t.contextType;return typeof i=="object"&&i!==null?i=za(i):(s=zi(t)?Gd:ri.current,n=t.contextTypes,i=(n=n!=null)?lp(e,s):Ru),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&tw.enqueueReplaceState(t,t.state,null)}function H3(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},R8(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=za(i):(i=zi(t)?Gd:ri.current,s.context=lp(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(z3(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&tw.enqueueReplaceState(s,s.state,null),Kv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hp(e,t){try{var r="",n=t;do r+=wK(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function S4(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function V3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KY=typeof WeakMap=="function"?WeakMap:Map;function fP(e,t,r){r=Wl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jv||(Jv=!0,e6=n),V3(e,t)},r}function pP(e,t,r){r=Wl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){V3(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){V3(e,t),typeof n!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function pC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new KY;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lZ.bind(null,e,t,r),t.then(e,e))}function mC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wl(-1,1),t.tag=2,vu(r,t,1))),r.lanes|=1),e)}var YY=vc.ReactCurrentOwner,Bi=!1;function fi(e,t,r,n){t.child=e===null?HM(t,null,r,n):up(t,e.child,r,n)}function yC(e,t,r,n,s){r=r.render;var i=t.ref;return Tf(t,s),n=O8(e,t,r,n,i,s),r=D8(),e!==null&&!Bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ac(e,t,s)):(jn&&r&&S8(t),t.flags|=1,fi(e,t,n,s),t.child)}function vC(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!W8(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,mP(e,t,i,n,s)):(e=nv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Am,r(a,n)&&e.ref===t.ref)return ac(e,t,s)}return t.flags|=1,e=wu(i,n),e.ref=t.ref,e.return=t,t.child=e}function mP(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Am(i,n)&&e.ref===t.ref)if(Bi=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Bi=!0);else return t.lanes=e.lanes,ac(e,t,s)}return q3(e,t,r,n,s)}function gP(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(bf,ta),ta|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kn(bf,ta),ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,kn(bf,ta),ta|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,kn(bf,ta),ta|=n;return fi(e,t,s,r),t.child}function yP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function q3(e,t,r,n,s){var i=zi(r)?Gd:ri.current;return i=lp(t,i),Tf(t,s),r=O8(e,t,r,n,i,s),n=D8(),e!==null&&!Bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ac(e,t,s)):(jn&&n&&S8(t),t.flags|=1,fi(e,t,r,s),t.child)}function xC(e,t,r,n,s){if(zi(r)){var i=!0;Hv(t)}else i=!1;if(Tf(t,s),t.stateNode===null)ev(e,t),hP(t,r,n),H3(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=za(u):(u=zi(r)?Gd:ri.current,u=lp(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&fC(t,a,n,u),zc=!1;var f=t.memoizedState;a.state=f,Kv(t,n,a,s),c=t.memoizedState,o!==n||f!==c||Ui.current||zc?(typeof d=="function"&&(z3(t,r,d,n),c=t.memoizedState),(o=zc||hC(t,r,o,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,qM(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:no(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=za(c):(c=zi(r)?Gd:ri.current,c=lp(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&fC(t,a,n,c),zc=!1,f=t.memoizedState,a.state=f,Kv(t,n,a,s);var m=t.memoizedState;o!==h||f!==m||Ui.current||zc?(typeof p=="function"&&(z3(t,r,p,n),m=t.memoizedState),(u=zc||hC(t,r,u,n,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return W3(e,t,r,n,i,s)}function W3(e,t,r,n,s,i){yP(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sC(t,r,!1),ac(e,t,i);n=t.stateNode,YY.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=up(t,e.child,null,i),t.child=up(t,null,o,i)):fi(e,t,o,i),t.memoizedState=n.state,s&&sC(t,r,!0),t.child}function vP(e){var t=e.stateNode;t.pendingContext?nC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nC(e,t.context,!1),I8(e,t.containerInfo)}function bC(e,t,r,n,s){return cp(),E8(s),t.flags|=256,fi(e,t,r,n),t.child}var G3={dehydrated:null,treeContext:null,retryLane:0};function K3(e){return{baseLanes:e,cachePool:null,transitions:null}}function xP(e,t,r){var n=t.pendingProps,s=Un.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),kn(Un,s&1),e===null)return B3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=sw(a,n,0,null),e=Ud(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=K3(r),t.memoizedState=G3,e):F8(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ZY(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=wu(o,i):(i=Ud(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?K3(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=G3,n}return i=e.child,e=i.sibling,n=wu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function F8(e,t){return t=sw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function q1(e,t,r,n){return n!==null&&E8(n),up(t,e.child,null,r),e=F8(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZY(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=S4(Error(Qe(422))),q1(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=sw({mode:"visible",children:n.children},s,0,null),i=Ud(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&up(t,e.child,null,a),t.child.memoizedState=K3(a),t.memoizedState=G3,i);if(!(t.mode&1))return q1(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Qe(419)),n=S4(i,n,void 0),q1(e,t,a,n)}if(o=(a&e.childLanes)!==0,Bi||o){if(n=Ts,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ic(e,s),go(n,e,s,-1))}return q8(),n=S4(Error(Qe(421))),q1(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cZ.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,aa=yu(s.nextSibling),ua=t,jn=!0,uo=null,e!==null&&(Aa[Ta++]=Ll,Aa[Ta++]=$l,Aa[Ta++]=Kd,Ll=e.id,$l=e.overflow,Kd=t),t=F8(t,n.children),t.flags|=4096,t)}function wC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),U3(e.return,t,r)}function _4(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bP(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(fi(e,t,n.children,r),n=Un.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wC(e,r,t);else if(e.tag===19)wC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kn(Un,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Yv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_4(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_4(t,!0,r,null,i);break;case"together":_4(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ev(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Qe(153));if(t.child!==null){for(e=t.child,r=wu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QY(e,t,r){switch(t.tag){case 3:vP(t),cp();break;case 5:WM(t);break;case 1:zi(t.type)&&Hv(t);break;case 4:I8(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;kn(Wv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kn(Un,Un.current&1),t.flags|=128,null):r&t.child.childLanes?xP(e,t,r):(kn(Un,Un.current&1),e=ac(e,t,r),e!==null?e.sibling:null);kn(Un,Un.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bP(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),kn(Un,Un.current),n)break;return null;case 22:case 23:return t.lanes=0,gP(e,t,r)}return ac(e,t,r)}var wP,Y3,kP,SP;wP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Y3=function(){};kP=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sd(nl.current);var i=null;switch(r){case"input":s=y3(e,s),n=y3(e,n),i=[];break;case"select":s=Vn({},s,{value:void 0}),n=Vn({},n,{value:void 0}),i=[];break;case"textarea":s=b3(e,s),n=b3(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Uv)}k3(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&An("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};SP=function(e,t,r,n){r!==n&&(t.flags|=4)};function m0(e,t){if(!jn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ks(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XY(e,t,r){var n=t.pendingProps;switch(_8(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:return zi(t.type)&&zv(),Ks(t),null;case 3:return n=t.stateNode,dp(),Tn(Ui),Tn(ri),M8(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(H1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,uo!==null&&(n6(uo),uo=null))),Y3(e,t),Ks(t),null;case 5:j8(t);var s=Sd(Mm.current);if(r=t.type,e!==null&&t.stateNode!=null)kP(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Qe(166));return Ks(t),null}if(e=Sd(nl.current),H1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Yo]=t,n[Im]=i,e=(t.mode&1)!==0,r){case"dialog":An("cancel",n),An("close",n);break;case"iframe":case"object":case"embed":An("load",n);break;case"video":case"audio":for(s=0;s<j0.length;s++)An(j0[s],n);break;case"source":An("error",n);break;case"img":case"image":case"link":An("error",n),An("load",n);break;case"details":An("toggle",n);break;case"input":R7(n,i),An("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},An("invalid",n);break;case"textarea":j7(n,i),An("invalid",n)}k3(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&z1(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&z1(n.textContent,o,e),s=["children",""+o]):wm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&An("scroll",n)}switch(r){case"input":P1(n),I7(n,i,!0);break;case"textarea":P1(n),M7(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Uv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Yo]=t,e[Im]=n,wP(e,t,!1,!1),t.stateNode=e;e:{switch(a=S3(r,n),r){case"dialog":An("cancel",e),An("close",e),s=n;break;case"iframe":case"object":case"embed":An("load",e),s=n;break;case"video":case"audio":for(s=0;s<j0.length;s++)An(j0[s],e);s=n;break;case"source":An("error",e),s=n;break;case"img":case"image":case"link":An("error",e),An("load",e),s=n;break;case"details":An("toggle",e),s=n;break;case"input":R7(e,n),s=y3(e,n),An("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Vn({},n,{value:void 0}),An("invalid",e);break;case"textarea":j7(e,n),s=b3(e,n),An("invalid",e);break;default:s=n}k3(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?eM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&km(e,c):typeof c=="number"&&km(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&An("scroll",e):c!=null&&c8(e,i,c,a))}switch(r){case"input":P1(e),I7(e,n,!1);break;case"textarea":P1(e),M7(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Tu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ef(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ef(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Uv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&t.stateNode!=null)SP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Qe(166));if(r=Sd(Mm.current),Sd(nl.current),H1(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yo]=t,(i=n.nodeValue!==r)&&(e=ua,e!==null))switch(e.tag){case 3:z1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&z1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yo]=t,t.stateNode=n}return Ks(t),null;case 13:if(Tn(Un),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jn&&aa!==null&&t.mode&1&&!(t.flags&128))UM(),cp(),t.flags|=98560,i=!1;else if(i=H1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Qe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Qe(317));i[Yo]=t}else cp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ks(t),i=!1}else uo!==null&&(n6(uo),uo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Un.current&1?gs===0&&(gs=3):q8())),t.updateQueue!==null&&(t.flags|=4),Ks(t),null);case 4:return dp(),Y3(e,t),e===null&&Tm(t.stateNode.containerInfo),Ks(t),null;case 10:return A8(t.type._context),Ks(t),null;case 17:return zi(t.type)&&zv(),Ks(t),null;case 19:if(Tn(Un),i=t.memoizedState,i===null)return Ks(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)m0(i,!1);else{if(gs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yv(e),a!==null){for(t.flags|=128,m0(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kn(Un,Un.current&1|2),t.child}e=e.sibling}i.tail!==null&&es()>fp&&(t.flags|=128,n=!0,m0(i,!1),t.lanes=4194304)}else{if(!n)if(e=Yv(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),m0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!jn)return Ks(t),null}else 2*es()-i.renderingStartTime>fp&&r!==1073741824&&(t.flags|=128,n=!0,m0(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=es(),t.sibling=null,r=Un.current,kn(Un,n?r&1|2:r&1),t):(Ks(t),null);case 22:case 23:return V8(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ta&1073741824&&(Ks(t),t.subtreeFlags&6&&(t.flags|=8192)):Ks(t),null;case 24:return null;case 25:return null}throw Error(Qe(156,t.tag))}function JY(e,t){switch(_8(t),t.tag){case 1:return zi(t.type)&&zv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dp(),Tn(Ui),Tn(ri),M8(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return j8(t),null;case 13:if(Tn(Un),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qe(340));cp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tn(Un),null;case 4:return dp(),null;case 10:return A8(t.type._context),null;case 22:case 23:return V8(),null;case 24:return null;default:return null}}var W1=!1,Xs=!1,eZ=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function xf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zn(e,t,n)}else r.current=null}function Z3(e,t,r){try{r()}catch(n){Zn(e,t,n)}}var kC=!1;function tZ(e,t){if(M3=$v,e=AM(),k8(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(P3={focusedElem:e,selectionRange:r},$v=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(k){Zn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return m=kC,kC=!1,m}function nm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Z3(t,r,i)}s=s.next}while(s!==n)}}function rw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Q3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _P(e){var t=e.alternate;t!==null&&(e.alternate=null,_P(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yo],delete t[Im],delete t[L3],delete t[LY],delete t[$Y])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function EP(e){return e.tag===5||e.tag===3||e.tag===4}function SC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||EP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uv));else if(n!==4&&(e=e.child,e!==null))for(X3(e,t,r),e=e.sibling;e!==null;)X3(e,t,r),e=e.sibling}function J3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(J3(e,t,r),e=e.sibling;e!==null;)J3(e,t,r),e=e.sibling}var Ps=null,oo=!1;function Cc(e,t,r){for(r=r.child;r!==null;)NP(e,t,r),r=r.sibling}function NP(e,t,r){if(rl&&typeof rl.onCommitFiberUnmount=="function")try{rl.onCommitFiberUnmount(Kb,r)}catch{}switch(r.tag){case 5:Xs||xf(r,t);case 6:var n=Ps,s=oo;Ps=null,Cc(e,t,r),Ps=n,oo=s,Ps!==null&&(oo?(e=Ps,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ps.removeChild(r.stateNode));break;case 18:Ps!==null&&(oo?(e=Ps,r=r.stateNode,e.nodeType===8?y4(e.parentNode,r):e.nodeType===1&&y4(e,r),Nm(e)):y4(Ps,r.stateNode));break;case 4:n=Ps,s=oo,Ps=r.stateNode.containerInfo,oo=!0,Cc(e,t,r),Ps=n,oo=s;break;case 0:case 11:case 14:case 15:if(!Xs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Z3(r,t,a),s=s.next}while(s!==n)}Cc(e,t,r);break;case 1:if(!Xs&&(xf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Zn(r,t,o)}Cc(e,t,r);break;case 21:Cc(e,t,r);break;case 22:r.mode&1?(Xs=(n=Xs)||r.memoizedState!==null,Cc(e,t,r),Xs=n):Cc(e,t,r);break;default:Cc(e,t,r)}}function _C(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eZ),t.forEach(function(n){var s=uZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ps=o.stateNode,oo=!1;break e;case 3:Ps=o.stateNode.containerInfo,oo=!0;break e;case 4:Ps=o.stateNode.containerInfo,oo=!0;break e}o=o.return}if(Ps===null)throw Error(Qe(160));NP(i,a,s),Ps=null,oo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Zn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CP(t,e),t=t.sibling}function CP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),Mo(e),n&4){try{nm(3,e,e.return),rw(3,e)}catch(g){Zn(e,e.return,g)}try{nm(5,e,e.return)}catch(g){Zn(e,e.return,g)}}break;case 1:Ja(t,e),Mo(e),n&512&&r!==null&&xf(r,r.return);break;case 5:if(Ja(t,e),Mo(e),n&512&&r!==null&&xf(r,r.return),e.flags&32){var s=e.stateNode;try{km(s,"")}catch(g){Zn(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Yj(s,i),S3(o,a);var u=S3(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?eM(s,h):d==="dangerouslySetInnerHTML"?Xj(s,h):d==="children"?km(s,h):c8(s,d,h,u)}switch(o){case"input":v3(s,i);break;case"textarea":Zj(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ef(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ef(s,!!i.multiple,i.defaultValue,!0):Ef(s,!!i.multiple,i.multiple?[]:"",!1))}s[Im]=i}catch(g){Zn(e,e.return,g)}}break;case 6:if(Ja(t,e),Mo(e),n&4){if(e.stateNode===null)throw Error(Qe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Zn(e,e.return,g)}}break;case 3:if(Ja(t,e),Mo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nm(t.containerInfo)}catch(g){Zn(e,e.return,g)}break;case 4:Ja(t,e),Mo(e);break;case 13:Ja(t,e),Mo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(z8=es())),n&4&&_C(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Xs=(u=Xs)||d,Ja(t,e),Xs=u):Ja(t,e),Mo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Mt=e,d=e.child;d!==null;){for(h=Mt=d;Mt!==null;){switch(f=Mt,p=f.child,f.tag){case 0:case 11:case 14:case 15:nm(4,f,f.return);break;case 1:xf(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Zn(n,r,g)}}break;case 5:xf(f,f.return);break;case 22:if(f.memoizedState!==null){NC(h);continue}}p!==null?(p.return=f,Mt=p):NC(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Jj("display",a))}catch(g){Zn(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Zn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ja(t,e),Mo(e),n&4&&_C(e);break;case 21:break;default:Ja(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(EP(r)){var n=r;break e}r=r.return}throw Error(Qe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(km(s,""),n.flags&=-33);var i=SC(e);J3(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=SC(e);X3(e,o,a);break;default:throw Error(Qe(161))}}catch(c){Zn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rZ(e,t,r){Mt=e,AP(e)}function AP(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var s=Mt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||W1;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Xs;o=W1;var u=Xs;if(W1=a,(Xs=c)&&!u)for(Mt=s;Mt!==null;)a=Mt,c=a.child,a.tag===22&&a.memoizedState!==null?CC(s):c!==null?(c.return=a,Mt=c):CC(s);for(;i!==null;)Mt=i,AP(i),i=i.sibling;Mt=s,W1=o,Xs=u}EC(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Mt=i):EC(e)}}function EC(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xs||rw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xs)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:no(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cC(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cC(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Nm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Xs||t.flags&512&&Q3(t)}catch(f){Zn(t,t.return,f)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function NC(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function CC(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rw(4,t)}catch(c){Zn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Zn(t,s,c)}}var i=t.return;try{Q3(t)}catch(c){Zn(t,i,c)}break;case 5:var a=t.return;try{Q3(t)}catch(c){Zn(t,a,c)}}}catch(c){Zn(t,t.return,c)}if(t===e){Mt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Mt=o;break}Mt=t.return}}var nZ=Math.ceil,Xv=vc.ReactCurrentDispatcher,B8=vc.ReactCurrentOwner,$a=vc.ReactCurrentBatchConfig,Jr=0,Ts=null,is=null,Bs=0,ta=0,bf=Gu(0),gs=0,Lm=null,Zd=0,nw=0,U8=0,sm=null,$i=null,z8=0,fp=1/0,Il=null,Jv=!1,e6=null,xu=null,G1=!1,au=null,ex=0,im=0,t6=null,tv=-1,rv=0;function yi(){return Jr&6?es():tv!==-1?tv:tv=es()}function bu(e){return e.mode&1?Jr&2&&Bs!==0?Bs&-Bs:BY.transition!==null?(rv===0&&(rv=hM()),rv):(e=ln,e!==0||(e=window.event,e=e===void 0?16:xM(e.type)),e):1}function go(e,t,r,n){if(50<im)throw im=0,t6=null,Error(Qe(185));Ug(e,r,n),(!(Jr&2)||e!==Ts)&&(e===Ts&&(!(Jr&2)&&(nw|=r),gs===4&&Wc(e,Bs)),Hi(e,n),r===1&&Jr===0&&!(t.mode&1)&&(fp=es()+500,Jb&&Ku()))}function Hi(e,t){var r=e.callbackNode;BK(e,t);var n=Lv(e,e===Ts?Bs:0);if(n===0)r!==null&&D7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&D7(r),t===1)e.tag===0?FY(AC.bind(null,e)):$M(AC.bind(null,e)),OY(function(){!(Jr&6)&&Ku()}),r=null;else{switch(fM(n)){case 1:r=p8;break;case 4:r=uM;break;case 16:r=Dv;break;case 536870912:r=dM;break;default:r=Dv}r=DP(r,TP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function TP(e,t){if(tv=-1,rv=0,Jr&6)throw Error(Qe(327));var r=e.callbackNode;if(Rf()&&e.callbackNode!==r)return null;var n=Lv(e,e===Ts?Bs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=tx(e,n);else{t=n;var s=Jr;Jr|=2;var i=IP();(Ts!==e||Bs!==t)&&(Il=null,fp=es()+500,Bd(e,t));do try{aZ();break}catch(o){RP(e,o)}while(!0);C8(),Xv.current=i,Jr=s,is!==null?t=0:(Ts=null,Bs=0,t=gs)}if(t!==0){if(t===2&&(s=A3(e),s!==0&&(n=s,t=r6(e,s))),t===1)throw r=Lm,Bd(e,0),Wc(e,n),Hi(e,es()),r;if(t===6)Wc(e,n);else{if(s=e.current.alternate,!(n&30)&&!sZ(s)&&(t=tx(e,n),t===2&&(i=A3(e),i!==0&&(n=i,t=r6(e,i))),t===1))throw r=Lm,Bd(e,0),Wc(e,n),Hi(e,es()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Qe(345));case 2:ud(e,$i,Il);break;case 3:if(Wc(e,n),(n&130023424)===n&&(t=z8+500-es(),10<t)){if(Lv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){yi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=D3(ud.bind(null,e,$i,Il),t);break}ud(e,$i,Il);break;case 4:if(Wc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-mo(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=es()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nZ(n/1960))-n,10<n){e.timeoutHandle=D3(ud.bind(null,e,$i,Il),n);break}ud(e,$i,Il);break;case 5:ud(e,$i,Il);break;default:throw Error(Qe(329))}}}return Hi(e,es()),e.callbackNode===r?TP.bind(null,e):null}function r6(e,t){var r=sm;return e.current.memoizedState.isDehydrated&&(Bd(e,t).flags|=256),e=tx(e,t),e!==2&&(t=$i,$i=r,t!==null&&n6(t)),e}function n6(e){$i===null?$i=e:$i.push.apply($i,e)}function sZ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!wo(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wc(e,t){for(t&=~U8,t&=~nw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mo(t),n=1<<r;e[r]=-1,t&=~n}}function AC(e){if(Jr&6)throw Error(Qe(327));Rf();var t=Lv(e,0);if(!(t&1))return Hi(e,es()),null;var r=tx(e,t);if(e.tag!==0&&r===2){var n=A3(e);n!==0&&(t=n,r=r6(e,n))}if(r===1)throw r=Lm,Bd(e,0),Wc(e,t),Hi(e,es()),r;if(r===6)throw Error(Qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ud(e,$i,Il),Hi(e,es()),null}function H8(e,t){var r=Jr;Jr|=1;try{return e(t)}finally{Jr=r,Jr===0&&(fp=es()+500,Jb&&Ku())}}function Qd(e){au!==null&&au.tag===0&&!(Jr&6)&&Rf();var t=Jr;Jr|=1;var r=$a.transition,n=ln;try{if($a.transition=null,ln=1,e)return e()}finally{ln=n,$a.transition=r,Jr=t,!(Jr&6)&&Ku()}}function V8(){ta=bf.current,Tn(bf)}function Bd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PY(r)),is!==null)for(r=is.return;r!==null;){var n=r;switch(_8(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zv();break;case 3:dp(),Tn(Ui),Tn(ri),M8();break;case 5:j8(n);break;case 4:dp();break;case 13:Tn(Un);break;case 19:Tn(Un);break;case 10:A8(n.type._context);break;case 22:case 23:V8()}r=r.return}if(Ts=e,is=e=wu(e.current,null),Bs=ta=t,gs=0,Lm=null,U8=nw=Zd=0,$i=sm=null,kd!==null){for(t=0;t<kd.length;t++)if(r=kd[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}kd=null}return e}function RP(e,t){do{var r=is;try{if(C8(),Xy.current=Qv,Zv){for(var n=Hn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zv=!1}if(Yd=0,Cs=fs=Hn=null,rm=!1,Pm=0,B8.current=null,r===null||r.return===null){gs=1,Lm=t,is=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=Bs,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mC(a);if(p!==null){p.flags&=-257,gC(p,a,o,i,t),p.mode&1&&pC(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){pC(i,u,t),q8();break e}c=Error(Qe(426))}}else if(jn&&o.mode&1){var w=mC(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),gC(w,a,o,i,t),E8(hp(c,o));break e}}i=c=hp(c,o),gs!==4&&(gs=2),sm===null?sm=[i]:sm.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=fP(i,c,t);lC(i,y);break e;case 1:o=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xu===null||!xu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=pP(i,o,t);lC(i,k);break e}}i=i.return}while(i!==null)}MP(r)}catch(C){t=C,is===r&&r!==null&&(is=r=r.return);continue}break}while(!0)}function IP(){var e=Xv.current;return Xv.current=Qv,e===null?Qv:e}function q8(){(gs===0||gs===3||gs===2)&&(gs=4),Ts===null||!(Zd&268435455)&&!(nw&268435455)||Wc(Ts,Bs)}function tx(e,t){var r=Jr;Jr|=2;var n=IP();(Ts!==e||Bs!==t)&&(Il=null,Bd(e,t));do try{iZ();break}catch(s){RP(e,s)}while(!0);if(C8(),Jr=r,Xv.current=n,is!==null)throw Error(Qe(261));return Ts=null,Bs=0,gs}function iZ(){for(;is!==null;)jP(is)}function aZ(){for(;is!==null&&!IK();)jP(is)}function jP(e){var t=OP(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?MP(e):is=t,B8.current=null}function MP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=JY(r,t),r!==null){r.flags&=32767,is=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gs=6,is=null;return}}else if(r=XY(r,t,ta),r!==null){is=r;return}if(t=t.sibling,t!==null){is=t;return}is=t=e}while(t!==null);gs===0&&(gs=5)}function ud(e,t,r){var n=ln,s=$a.transition;try{$a.transition=null,ln=1,oZ(e,t,r,n)}finally{$a.transition=s,ln=n}return null}function oZ(e,t,r,n){do Rf();while(au!==null);if(Jr&6)throw Error(Qe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Qe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(UK(e,i),e===Ts&&(is=Ts=null,Bs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||G1||(G1=!0,DP(Dv,function(){return Rf(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$a.transition,$a.transition=null;var a=ln;ln=1;var o=Jr;Jr|=4,B8.current=null,tZ(e,r),CP(r,e),CY(P3),$v=!!M3,P3=M3=null,e.current=r,rZ(r),jK(),Jr=o,ln=a,$a.transition=i}else e.current=r;if(G1&&(G1=!1,au=e,ex=s),i=e.pendingLanes,i===0&&(xu=null),OK(r.stateNode),Hi(e,es()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jv)throw Jv=!1,e=e6,e6=null,e;return ex&1&&e.tag!==0&&Rf(),i=e.pendingLanes,i&1?e===t6?im++:(im=0,t6=e):im=0,Ku(),null}function Rf(){if(au!==null){var e=fM(ex),t=$a.transition,r=ln;try{if($a.transition=null,ln=16>e?16:e,au===null)var n=!1;else{if(e=au,au=null,ex=0,Jr&6)throw Error(Qe(331));var s=Jr;for(Jr|=4,Mt=e.current;Mt!==null;){var i=Mt,a=i.child;if(Mt.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Mt=u;Mt!==null;){var d=Mt;switch(d.tag){case 0:case 11:case 15:nm(8,d,i)}var h=d.child;if(h!==null)h.return=d,Mt=h;else for(;Mt!==null;){d=Mt;var f=d.sibling,p=d.return;if(_P(d),d===u){Mt=null;break}if(f!==null){f.return=p,Mt=f;break}Mt=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Mt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Mt=a;else e:for(;Mt!==null;){if(i=Mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nm(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Mt=y;break e}Mt=i.return}}var v=e.current;for(Mt=v;Mt!==null;){a=Mt;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Mt=b;else e:for(a=v;Mt!==null;){if(o=Mt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rw(9,o)}}catch(C){Zn(o,o.return,C)}if(o===a){Mt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Mt=k;break e}Mt=o.return}}if(Jr=s,Ku(),rl&&typeof rl.onPostCommitFiberRoot=="function")try{rl.onPostCommitFiberRoot(Kb,e)}catch{}n=!0}return n}finally{ln=r,$a.transition=t}}return!1}function TC(e,t,r){t=hp(r,t),t=fP(e,t,1),e=vu(e,t,1),t=yi(),e!==null&&(Ug(e,1,t),Hi(e,t))}function Zn(e,t,r){if(e.tag===3)TC(e,e,r);else for(;t!==null;){if(t.tag===3){TC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xu===null||!xu.has(n))){e=hp(r,e),e=pP(t,e,1),t=vu(t,e,1),e=yi(),t!==null&&(Ug(t,1,e),Hi(t,e));break}}t=t.return}}function lZ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yi(),e.pingedLanes|=e.suspendedLanes&r,Ts===e&&(Bs&r)===r&&(gs===4||gs===3&&(Bs&130023424)===Bs&&500>es()-z8?Bd(e,0):U8|=r),Hi(e,t)}function PP(e,t){t===0&&(e.mode&1?(t=L1,L1<<=1,!(L1&130023424)&&(L1=4194304)):t=1);var r=yi();e=ic(e,t),e!==null&&(Ug(e,t,r),Hi(e,r))}function cZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),PP(e,r)}function uZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Qe(314))}n!==null&&n.delete(t),PP(e,r)}var OP;OP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ui.current)Bi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bi=!1,QY(e,t,r);Bi=!!(e.flags&131072)}else Bi=!1,jn&&t.flags&1048576&&FM(t,qv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ev(e,t),e=t.pendingProps;var s=lp(t,ri.current);Tf(t,r),s=O8(null,t,n,e,s,r);var i=D8();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(n)?(i=!0,Hv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,R8(t),s.updater=tw,t.stateNode=s,s._reactInternals=t,H3(t,n,e,r),t=W3(null,t,n,!0,i,r)):(t.tag=0,jn&&i&&S8(t),fi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ev(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=hZ(n),e=no(n,e),s){case 0:t=q3(null,t,n,e,r);break e;case 1:t=xC(null,t,n,e,r);break e;case 11:t=yC(null,t,n,e,r);break e;case 14:t=vC(null,t,n,no(n.type,e),r);break e}throw Error(Qe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),q3(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),xC(e,t,n,s,r);case 3:e:{if(vP(t),e===null)throw Error(Qe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,qM(e,t),Kv(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hp(Error(Qe(423)),t),t=bC(e,t,n,r,s);break e}else if(n!==s){s=hp(Error(Qe(424)),t),t=bC(e,t,n,r,s);break e}else for(aa=yu(t.stateNode.containerInfo.firstChild),ua=t,jn=!0,uo=null,r=HM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cp(),n===s){t=ac(e,t,r);break e}fi(e,t,n,r)}t=t.child}return t;case 5:return WM(t),e===null&&B3(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,O3(n,s)?a=null:i!==null&&O3(n,i)&&(t.flags|=32),yP(e,t),fi(e,t,a,r),t.child;case 6:return e===null&&B3(t),null;case 13:return xP(e,t,r);case 4:return I8(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=up(t,null,n,r):fi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),yC(e,t,n,s,r);case 7:return fi(e,t,t.pendingProps,r),t.child;case 8:return fi(e,t,t.pendingProps.children,r),t.child;case 12:return fi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,kn(Wv,n._currentValue),n._currentValue=a,i!==null)if(wo(i.value,a)){if(i.children===s.children&&!Ui.current){t=ac(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Wl(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),U3(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Qe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),U3(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}fi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Tf(t,r),s=za(s),n=n(s),t.flags|=1,fi(e,t,n,r),t.child;case 14:return n=t.type,s=no(n,t.pendingProps),s=no(n.type,s),vC(e,t,n,s,r);case 15:return mP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),ev(e,t),t.tag=1,zi(n)?(e=!0,Hv(t)):e=!1,Tf(t,r),hP(t,n,s),H3(t,n,s,r),W3(null,t,n,!0,e,r);case 19:return bP(e,t,r);case 22:return gP(e,t,r)}throw Error(Qe(156,t.tag))};function DP(e,t){return cM(e,t)}function dZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,r,n){return new dZ(e,t,r,n)}function W8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hZ(e){if(typeof e=="function")return W8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===d8)return 11;if(e===h8)return 14}return 2}function wu(e,t){var r=e.alternate;return r===null?(r=ja(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nv(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")W8(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case uf:return Ud(r.children,s,i,t);case u8:a=8,s|=8;break;case f3:return e=ja(12,r,t,s|2),e.elementType=f3,e.lanes=i,e;case p3:return e=ja(13,r,t,s),e.elementType=p3,e.lanes=i,e;case m3:return e=ja(19,r,t,s),e.elementType=m3,e.lanes=i,e;case Wj:return sw(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vj:a=10;break e;case qj:a=9;break e;case d8:a=11;break e;case h8:a=14;break e;case Uc:a=16,n=null;break e}throw Error(Qe(130,e==null?e:typeof e,""))}return t=ja(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ud(e,t,r,n){return e=ja(7,e,n,t),e.lanes=r,e}function sw(e,t,r,n){return e=ja(22,e,n,t),e.elementType=Wj,e.lanes=r,e.stateNode={isHidden:!1},e}function E4(e,t,r){return e=ja(6,e,null,t),e.lanes=r,e}function N4(e,t,r){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fZ(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=a4(0),this.expirationTimes=a4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=a4(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function G8(e,t,r,n,s,i,a,o,c){return e=new fZ(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ja(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},R8(i),e}function pZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function LP(e){if(!e)return Ru;e=e._reactInternals;e:{if(_h(e)!==e||e.tag!==1)throw Error(Qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qe(171))}if(e.tag===1){var r=e.type;if(zi(r))return LM(e,r,t)}return t}function $P(e,t,r,n,s,i,a,o,c){return e=G8(r,n,!0,e,s,i,a,o,c),e.context=LP(null),r=e.current,n=yi(),s=bu(r),i=Wl(n,s),i.callback=t??null,vu(r,i,s),e.current.lanes=s,Ug(e,s,n),Hi(e,n),e}function iw(e,t,r,n){var s=t.current,i=yi(),a=bu(s);return r=LP(r),t.context===null?t.context=r:t.pendingContext=r,t=Wl(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vu(s,t,a),e!==null&&(go(e,s,a,i),Qy(e,s,a)),a}function rx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function K8(e,t){RC(e,t),(e=e.alternate)&&RC(e,t)}function mZ(){return null}var FP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y8(e){this._internalRoot=e}aw.prototype.render=Y8.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qe(409));iw(e,t,null,null)};aw.prototype.unmount=Y8.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qd(function(){iw(null,e,null,null)}),t[sc]=null}};function aw(e){this._internalRoot=e}aw.prototype.unstable_scheduleHydration=function(e){if(e){var t=gM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qc.length&&t!==0&&t<qc[r].priority;r++);qc.splice(r,0,e),r===0&&vM(e)}};function Z8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ow(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IC(){}function gZ(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=rx(a);i.call(u)}}var a=$P(t,n,e,0,null,!1,!1,"",IC);return e._reactRootContainer=a,e[sc]=a.current,Tm(e.nodeType===8?e.parentNode:e),Qd(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=rx(c);o.call(u)}}var c=G8(e,0,!1,null,null,!1,!1,"",IC);return e._reactRootContainer=c,e[sc]=c.current,Tm(e.nodeType===8?e.parentNode:e),Qd(function(){iw(t,c,r,n)}),c}function lw(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=rx(a);o.call(c)}}iw(t,a,e,s)}else a=gZ(r,t,e,s,n);return rx(a)}pM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=I0(t.pendingLanes);r!==0&&(m8(t,r|1),Hi(t,es()),!(Jr&6)&&(fp=es()+500,Ku()))}break;case 13:Qd(function(){var n=ic(e,1);if(n!==null){var s=yi();go(n,e,1,s)}}),K8(e,1)}};g8=function(e){if(e.tag===13){var t=ic(e,134217728);if(t!==null){var r=yi();go(t,e,134217728,r)}K8(e,134217728)}};mM=function(e){if(e.tag===13){var t=bu(e),r=ic(e,t);if(r!==null){var n=yi();go(r,e,t,n)}K8(e,t)}};gM=function(){return ln};yM=function(e,t){var r=ln;try{return ln=e,t()}finally{ln=r}};E3=function(e,t,r){switch(t){case"input":if(v3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Xb(n);if(!s)throw Error(Qe(90));Kj(n),v3(n,s)}}}break;case"textarea":Zj(e,r);break;case"select":t=r.value,t!=null&&Ef(e,!!r.multiple,t,!1)}};nM=H8;sM=Qd;var yZ={usingClientEntryPoint:!1,Events:[Hg,pf,Xb,tM,rM,H8]},g0={findFiberByHostInstance:wd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vZ={bundleType:g0.bundleType,version:g0.version,rendererPackageName:g0.rendererPackageName,rendererConfig:g0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oM(e),e===null?null:e.stateNode},findFiberByHostInstance:g0.findFiberByHostInstance||mZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K1.isDisabled&&K1.supportsFiber)try{Kb=K1.inject(vZ),rl=K1}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yZ;ga.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z8(t))throw Error(Qe(200));return pZ(e,t,null,r)};ga.createRoot=function(e,t){if(!Z8(e))throw Error(Qe(299));var r=!1,n="",s=FP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=G8(e,1,!1,null,null,r,!1,n,s),e[sc]=t.current,Tm(e.nodeType===8?e.parentNode:e),new Y8(t)};ga.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qe(188)):(e=Object.keys(e).join(","),Error(Qe(268,e)));return e=oM(t),e=e===null?null:e.stateNode,e};ga.flushSync=function(e){return Qd(e)};ga.hydrate=function(e,t,r){if(!ow(t))throw Error(Qe(200));return lw(null,e,t,!0,r)};ga.hydrateRoot=function(e,t,r){if(!Z8(e))throw Error(Qe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=FP;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=$P(t,null,e,1,r??null,s,!1,i,a),e[sc]=t.current,Tm(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new aw(t)};ga.render=function(e,t,r){if(!ow(t))throw Error(Qe(200));return lw(null,e,t,!1,r)};ga.unmountComponentAtNode=function(e){if(!ow(e))throw Error(Qe(40));return e._reactRootContainer?(Qd(function(){lw(null,null,e,!1,function(){e._reactRootContainer=null,e[sc]=null})}),!0):!1};ga.unstable_batchedUpdates=H8;ga.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ow(r))throw Error(Qe(200));if(e==null||e._reactInternals===void 0)throw Error(Qe(38));return lw(e,t,r,!1,n)};ga.version="18.3.1-next-f1338f8080-20240426";function BP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BP)}catch(e){console.error(e)}}BP(),Bj.exports=ga;var Eh=Bj.exports;const xZ=Fg(Eh);var UP,jC=Eh;UP=jC.createRoot,jC.hydrateRoot;function Dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function MC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cw(...e){return t=>{let r=!1;const n=e.map(s=>{const i=MC(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():MC(e[s],null)}}}}function Xr(...e){return x.useCallback(cw(...e),e)}function bZ(e,t){const r=x.createContext(t),n=i=>{const{children:a,...o}=i,c=x.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=x.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function pl(e,t=[]){let r=[];function n(i,a){const o=x.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:f,children:p,...m}=h,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||o,w=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>x.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,wZ(s,...t)]}function wZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Iu=x.forwardRef((e,t)=>{const{children:r,...n}=e,s=x.Children.toArray(r),i=s.find(kZ);if(i){const a=i.props.children,o=s.map(c=>c===i?x.Children.count(a)>1?x.Children.only(null):x.isValidElement(a)?a.props.children:null:c);return l.jsx(s6,{...n,ref:t,children:x.isValidElement(a)?x.cloneElement(a,void 0,o):null})}return l.jsx(s6,{...n,ref:t,children:r})});Iu.displayName="Slot";var s6=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const s=_Z(r),i=SZ(n,r.props);return r.type!==x.Fragment&&(i.ref=t?cw(t,s):s),x.cloneElement(r,i)}return x.Children.count(r)>1?x.Children.only(null):null});s6.displayName="SlotClone";var Q8=({children:e})=>l.jsx(l.Fragment,{children:e});function kZ(e){return x.isValidElement(e)&&e.type===Q8}function SZ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function _Z(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ur=EZ.reduce((e,t)=>{const r=x.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?Iu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zP(e,t){e&&Eh.flushSync(()=>e.dispatchEvent(t))}function as(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function NZ(e,t=globalThis==null?void 0:globalThis.document){const r=as(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var CZ="DismissableLayer",i6="dismissableLayer.update",AZ="dismissableLayer.pointerDownOutside",TZ="dismissableLayer.focusOutside",PC,HP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qg=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=e,u=x.useContext(HP),[d,h]=x.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),m=Xr(t,R=>h(R)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=y,C=jZ(R=>{const O=R.target,F=[...u.branches].some(j=>j.contains(O));!k||F||(s==null||s(R),a==null||a(R),R.defaultPrevented||o==null||o())},f),A=MZ(R=>{const O=R.target;[...u.branches].some(j=>j.contains(O))||(i==null||i(R),a==null||a(R),R.defaultPrevented||o==null||o())},f);return NZ(R=>{v===u.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},f),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(PC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=PC)}},[d,f,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OC())},[d,u]),x.useEffect(()=>{const R=()=>p({});return document.addEventListener(i6,R),()=>document.removeEventListener(i6,R)},[]),l.jsx(Ur.div,{...c,ref:m,style:{pointerEvents:b?k?"auto":"none":void 0,...e.style},onFocusCapture:Dt(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Dt(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Dt(e.onPointerDownCapture,C.onPointerDownCapture)})});qg.displayName=CZ;var RZ="DismissableLayerBranch",IZ=x.forwardRef((e,t)=>{const r=x.useContext(HP),n=x.useRef(null),s=Xr(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(Ur.div,{...e,ref:s})});IZ.displayName=RZ;function jZ(e,t=globalThis==null?void 0:globalThis.document){const r=as(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){VP(AZ,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function MZ(e,t=globalThis==null?void 0:globalThis.document){const r=as(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&VP(TZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function OC(){const e=new CustomEvent(i6);document.dispatchEvent(e)}function VP(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?zP(s,i):s.dispatchEvent(i)}var os=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},PZ=Gb.useId||(()=>{}),OZ=0;function Gl(e){const[t,r]=x.useState(PZ());return os(()=>{r(n=>n??String(OZ++))},[e]),e||(t?`radix-${t}`:"")}const DZ=["top","right","bottom","left"],ju=Math.min,sa=Math.max,nx=Math.round,Y1=Math.floor,sl=e=>({x:e,y:e}),LZ={left:"right",right:"left",bottom:"top",top:"bottom"},$Z={start:"end",end:"start"};function a6(e,t,r){return sa(e,ju(t,r))}function oc(e,t){return typeof e=="function"?e(t):e}function lc(e){return e.split("-")[0]}function Hp(e){return e.split("-")[1]}function X8(e){return e==="x"?"y":"x"}function J8(e){return e==="y"?"height":"width"}function Mu(e){return["top","bottom"].includes(lc(e))?"y":"x"}function e_(e){return X8(Mu(e))}function FZ(e,t,r){r===void 0&&(r=!1);const n=Hp(e),s=e_(e),i=J8(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=sx(a)),[a,sx(a)]}function BZ(e){const t=sx(e);return[o6(e),t,o6(t)]}function o6(e){return e.replace(/start|end/g,t=>$Z[t])}function UZ(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:a;default:return[]}}function zZ(e,t,r,n){const s=Hp(e);let i=UZ(lc(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(o6)))),i}function sx(e){return e.replace(/left|right|bottom|top/g,t=>LZ[t])}function HZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function qP(e){return typeof e!="number"?HZ(e):{top:e,right:e,bottom:e,left:e}}function ix(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function DC(e,t,r){let{reference:n,floating:s}=e;const i=Mu(t),a=e_(t),o=J8(a),c=lc(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Hp(t)){case"start":p[a]-=f*(r&&u?-1:1);break;case"end":p[a]+=f*(r&&u?-1:1);break}return p}const VZ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=DC(u,n,c),f=n,p={},m=0;for(let g=0;g<o.length;g++){const{name:w,fn:y}=o[g],{x:v,y:b,data:k,reset:C}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=v??d,h=b??h,p={...p,[w]:{...p[w],...k}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=DC(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function $m(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=oc(t,e),m=qP(p),w=o[f?h==="floating"?"reference":"floating":h],y=ix(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),k=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=ix(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-C.top+m.top)/k.y,bottom:(C.bottom-y.bottom+m.bottom)/k.y,left:(y.left-C.left+m.left)/k.x,right:(C.right-y.right+m.right)/k.x}}const qZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=oc(e,t)||{};if(u==null)return{};const h=qP(d),f={x:r,y:n},p=e_(s),m=J8(p),g=await a.getDimensions(u),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",k=i.reference[m]+i.reference[p]-f[p]-i.floating[m],C=f[p]-i.reference[p],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let R=A?A[b]:0;(!R||!await(a.isElement==null?void 0:a.isElement(A)))&&(R=o.floating[b]||i.floating[m]);const O=k/2-C/2,F=R/2-g[m]/2-1,j=ju(h[y],F),D=ju(h[v],F),z=j,Y=R-g[m]-D,Q=R/2-g[m]/2+O,te=a6(z,Q,Y),Z=!c.arrow&&Hp(s)!=null&&Q!==te&&i.reference[m]/2-(Q<z?j:D)-g[m]/2<0,J=Z?Q<z?Q-z:Q-Y:0;return{[p]:f[p]+J,data:{[p]:te,centerOffset:Q-te-J,...Z&&{alignmentOffset:J}},reset:Z}}}),WZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...w}=oc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=lc(s),v=Mu(o),b=lc(o)===o,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=f||(b||!g?[sx(o)]:BZ(o)),A=m!=="none";!f&&A&&C.push(...zZ(o,g,m,k));const R=[o,...C],O=await $m(t,w),F=[];let j=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&F.push(O[y]),h){const Q=FZ(s,a,k);F.push(O[Q[0]],O[Q[1]])}if(j=[...j,{placement:s,overflows:F}],!F.every(Q=>Q<=0)){var D,z;const Q=(((D=i.flip)==null?void 0:D.index)||0)+1,te=R[Q];if(te)return{data:{index:Q,overflows:j},reset:{placement:te}};let Z=(z=j.filter(J=>J.overflows[0]<=0).sort((J,V)=>J.overflows[1]-V.overflows[1])[0])==null?void 0:z.placement;if(!Z)switch(p){case"bestFit":{var Y;const J=(Y=j.filter(V=>{if(A){const re=Mu(V.placement);return re===v||re==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(re=>re>0).reduce((re,E)=>re+E,0)]).sort((V,re)=>V[1]-re[1])[0])==null?void 0:Y[0];J&&(Z=J);break}case"initialPlacement":Z=o;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function LC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $C(e){return DZ.some(t=>e[t]>=0)}const GZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=oc(e,t);switch(n){case"referenceHidden":{const i=await $m(t,{...s,elementContext:"reference"}),a=LC(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:$C(a)}}}case"escaped":{const i=await $m(t,{...s,altBoundary:!0}),a=LC(i,r.floating);return{data:{escapedOffsets:a,escaped:$C(a)}}}default:return{}}}}};async function KZ(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=lc(r),o=Hp(r),c=Mu(r)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,h=oc(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const YZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:o}=t,c=await KZ(t,e);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},ZZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=oc(e,t),u={x:r,y:n},d=await $m(t,c),h=Mu(lc(s)),f=X8(h);let p=u[f],m=u[h];if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=p+d[w],b=p-d[y];p=a6(v,p,b)}if(a){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=m+d[w],b=m-d[y];m=a6(v,m,b)}const g=o.fn({...t,[f]:p,[h]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:i,[h]:a}}}}}},QZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=oc(e,t),d={x:r,y:n},h=Mu(s),f=X8(h);let p=d[f],m=d[h];const g=oc(o,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",k=i.reference[f]-i.floating[b]+w.mainAxis,C=i.reference[f]+i.reference[b]-w.mainAxis;p<k?p=k:p>C&&(p=C)}if(u){var y,v;const b=f==="y"?"width":"height",k=["top","left"].includes(lc(s)),C=i.reference[h]-i.floating[b]+(k&&((y=a.offset)==null?void 0:y[h])||0)+(k?0:w.crossAxis),A=i.reference[h]+i.reference[b]+(k?0:((v=a.offset)==null?void 0:v[h])||0)-(k?w.crossAxis:0);m<C?m=C:m>A&&(m=A)}return{[f]:p,[h]:m}}}},XZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:c=()=>{},...u}=oc(e,t),d=await $m(t,u),h=lc(s),f=Hp(s),p=Mu(s)==="y",{width:m,height:g}=i.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=m-d.left-d.right,k=ju(g-d[w],v),C=ju(m-d[y],b),A=!t.middlewareData.shift;let R=k,O=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=v),A&&!f){const j=sa(d.left,0),D=sa(d.right,0),z=sa(d.top,0),Y=sa(d.bottom,0);p?O=m-2*(j!==0||D!==0?j+D:sa(d.left,d.right)):R=g-2*(z!==0||Y!==0?z+Y:sa(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:R});const F=await a.getDimensions(o.floating);return m!==F.width||g!==F.height?{reset:{rects:!0}}:{}}}};function uw(){return typeof window<"u"}function Vp(e){return WP(e)?(e.nodeName||"").toLowerCase():"#document"}function da(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ml(e){var t;return(t=(WP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WP(e){return uw()?e instanceof Node||e instanceof da(e).Node:!1}function ko(e){return uw()?e instanceof Element||e instanceof da(e).Element:!1}function ll(e){return uw()?e instanceof HTMLElement||e instanceof da(e).HTMLElement:!1}function FC(e){return!uw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof da(e).ShadowRoot}function Wg(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=So(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function JZ(e){return["table","td","th"].includes(Vp(e))}function dw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function t_(e){const t=r_(),r=ko(e)?So(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function eQ(e){let t=Pu(e);for(;ll(t)&&!pp(t);){if(t_(t))return t;if(dw(t))return null;t=Pu(t)}return null}function r_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pp(e){return["html","body","#document"].includes(Vp(e))}function So(e){return da(e).getComputedStyle(e)}function hw(e){return ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pu(e){if(Vp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FC(e)&&e.host||ml(e);return FC(t)?t.host:t}function GP(e){const t=Pu(e);return pp(t)?e.ownerDocument?e.ownerDocument.body:e.body:ll(t)&&Wg(t)?t:GP(t)}function Fm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=GP(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=da(s);if(i){const o=l6(a);return t.concat(a,a.visualViewport||[],Wg(s)?s:[],o&&r?Fm(o):[])}return t.concat(s,Fm(s,[],r))}function l6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KP(e){const t=So(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ll(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,o=nx(r)!==i||nx(n)!==a;return o&&(r=i,n=a),{width:r,height:n,$:o}}function n_(e){return ko(e)?e:e.contextElement}function If(e){const t=n_(e);if(!ll(t))return sl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=KP(t);let a=(i?nx(r.width):r.width)/n,o=(i?nx(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const tQ=sl(0);function YP(e){const t=da(e);return!r_()||!t.visualViewport?tQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rQ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==da(e)?!1:t}function Xd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=n_(e);let a=sl(1);t&&(n?ko(n)&&(a=If(n)):a=If(e));const o=rQ(i,r,n)?YP(i):sl(0);let c=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=da(i),p=n&&ko(n)?da(n):n;let m=f,g=l6(m);for(;g&&n&&p!==m;){const w=If(g),y=g.getBoundingClientRect(),v=So(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,k=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=b,u+=k,m=da(g),g=l6(m)}}return ix({width:d,height:h,x:c,y:u})}function s_(e,t){const r=hw(e).scrollLeft;return t?t.left+r:Xd(ml(e)).left+r}function ZP(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:s_(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function nQ(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=ml(n),o=t?dw(t.floating):!1;if(n===a||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=sl(1);const d=sl(0),h=ll(n);if((h||!h&&!i)&&((Vp(n)!=="body"||Wg(a))&&(c=hw(n)),ll(n))){const p=Xd(n);u=If(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=a&&!h&&!i?ZP(a,c,!0):sl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function sQ(e){return Array.from(e.getClientRects())}function iQ(e){const t=ml(e),r=hw(e),n=e.ownerDocument.body,s=sa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=sa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+s_(e);const o=-r.scrollTop;return So(n).direction==="rtl"&&(a+=sa(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:o}}function aQ(e,t){const r=da(e),n=ml(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const u=r_();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}function oQ(e,t){const r=Xd(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ll(e)?If(e):sl(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:o,x:c,y:u}}function BC(e,t,r){let n;if(t==="viewport")n=aQ(e,r);else if(t==="document")n=iQ(ml(e));else if(ko(t))n=oQ(t,r);else{const s=YP(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ix(n)}function QP(e,t){const r=Pu(e);return r===t||!ko(r)||pp(r)?!1:So(r).position==="fixed"||QP(r,t)}function lQ(e,t){const r=t.get(e);if(r)return r;let n=Fm(e,[],!1).filter(o=>ko(o)&&Vp(o)!=="body"),s=null;const i=So(e).position==="fixed";let a=i?Pu(e):e;for(;ko(a)&&!pp(a);){const o=So(a),c=t_(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wg(a)&&!c&&QP(e,a))?n=n.filter(d=>d!==a):s=o,a=Pu(a)}return t.set(e,n),n}function cQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?dw(t)?[]:lQ(t,this._c):[].concat(r),n],o=a[0],c=a.reduce((u,d)=>{const h=BC(t,d,s);return u.top=sa(h.top,u.top),u.right=ju(h.right,u.right),u.bottom=ju(h.bottom,u.bottom),u.left=sa(h.left,u.left),u},BC(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uQ(e){const{width:t,height:r}=KP(e);return{width:t,height:r}}function dQ(e,t,r){const n=ll(t),s=ml(t),i=r==="fixed",a=Xd(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=sl(0);if(n||!n&&!i)if((Vp(t)!=="body"||Wg(s))&&(o=hw(t)),n){const f=Xd(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=s_(s));const u=s&&!n&&!i?ZP(s,o):sl(0),d=a.left+o.scrollLeft-c.x-u.x,h=a.top+o.scrollTop-c.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function C4(e){return So(e).position==="static"}function UC(e,t){if(!ll(e)||So(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ml(e)===r&&(r=r.ownerDocument.body),r}function XP(e,t){const r=da(e);if(dw(e))return r;if(!ll(e)){let s=Pu(e);for(;s&&!pp(s);){if(ko(s)&&!C4(s))return s;s=Pu(s)}return r}let n=UC(e,t);for(;n&&JZ(n)&&C4(n);)n=UC(n,t);return n&&pp(n)&&C4(n)&&!t_(n)?r:n||eQ(e)||r}const hQ=async function(e){const t=this.getOffsetParent||XP,r=this.getDimensions,n=await r(e.floating);return{reference:dQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fQ(e){return So(e).direction==="rtl"}const pQ={convertOffsetParentRelativeRectToViewportRelativeRect:nQ,getDocumentElement:ml,getClippingRect:cQ,getOffsetParent:XP,getElementRects:hQ,getClientRects:sQ,getDimensions:uQ,getScale:If,isElement:ko,isRTL:fQ};function JP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mQ(e,t){let r=null,n;const s=ml(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(o||t(),!f||!p)return;const m=Y1(h),g=Y1(s.clientWidth-(d+f)),w=Y1(s.clientHeight-(h+p)),y=Y1(d),b={rootMargin:-m+"px "+-g+"px "+-w+"px "+-y+"px",threshold:sa(0,ju(1,c))||1};let k=!0;function C(A){const R=A[0].intersectionRatio;if(R!==c){if(!k)return a();R?a(!1,R):n=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!JP(u,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,b)}r.observe(e)}return a(!0),i}function gQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=n_(e),d=s||i?[...u?Fm(u):[],...Fm(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=u&&o?mQ(u,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,g=c?Xd(e):null;c&&w();function w(){const y=Xd(e);g&&!JP(g,y)&&r(),g=y,m=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const yQ=YZ,vQ=ZZ,xQ=WZ,bQ=XZ,wQ=GZ,zC=qZ,kQ=QZ,SQ=(e,t,r)=>{const n=new Map,s={platform:pQ,...r},i={...s.platform,_c:n};return VZ(e,t,{...s,platform:i})};var sv=typeof document<"u"?x.useLayoutEffect:x.useEffect;function ax(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ax(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!ax(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function eO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function HC(e,t){const r=eO(e);return Math.round(t*r)/r}function A4(e){const t=x.useRef(e);return sv(()=>{t.current=e}),t}function _Q(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(n);ax(f,n)||p(n);const[m,g]=x.useState(null),[w,y]=x.useState(null),v=x.useCallback(V=>{V!==A.current&&(A.current=V,g(V))},[]),b=x.useCallback(V=>{V!==R.current&&(R.current=V,y(V))},[]),k=i||m,C=a||w,A=x.useRef(null),R=x.useRef(null),O=x.useRef(d),F=c!=null,j=A4(c),D=A4(s),z=A4(u),Y=x.useCallback(()=>{if(!A.current||!R.current)return;const V={placement:t,strategy:r,middleware:f};D.current&&(V.platform=D.current),SQ(A.current,R.current,V).then(re=>{const E={...re,isPositioned:z.current!==!1};Q.current&&!ax(O.current,E)&&(O.current=E,Eh.flushSync(()=>{h(E)}))})},[f,t,r,D,z]);sv(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const Q=x.useRef(!1);sv(()=>(Q.current=!0,()=>{Q.current=!1}),[]),sv(()=>{if(k&&(A.current=k),C&&(R.current=C),k&&C){if(j.current)return j.current(k,C,Y);Y()}},[k,C,Y,j,F]);const te=x.useMemo(()=>({reference:A,floating:R,setReference:v,setFloating:b}),[v,b]),Z=x.useMemo(()=>({reference:k,floating:C}),[k,C]),J=x.useMemo(()=>{const V={position:r,left:0,top:0};if(!Z.floating)return V;const re=HC(Z.floating,d.x),E=HC(Z.floating,d.y);return o?{...V,transform:"translate("+re+"px, "+E+"px)",...eO(Z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:E}},[r,o,Z.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:Y,refs:te,elements:Z,floatingStyles:J}),[d,Y,te,Z,J])}const EQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?zC({element:n.current,padding:s}).fn(r):{}:n?zC({element:n,padding:s}).fn(r):{}}}},NQ=(e,t)=>({...yQ(e),options:[e,t]}),CQ=(e,t)=>({...vQ(e),options:[e,t]}),AQ=(e,t)=>({...kQ(e),options:[e,t]}),TQ=(e,t)=>({...xQ(e),options:[e,t]}),RQ=(e,t)=>({...bQ(e),options:[e,t]}),IQ=(e,t)=>({...wQ(e),options:[e,t]}),jQ=(e,t)=>({...EQ(e),options:[e,t]});var MQ="Arrow",tO=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return l.jsx(Ur.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});tO.displayName=MQ;var PQ=tO;function OQ(e){const[t,r]=x.useState(void 0);return os(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var i_="Popper",[rO,qp]=pl(i_),[DQ,nO]=rO(i_),sO=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return l.jsx(DQ,{scope:t,anchor:n,onAnchorChange:s,children:r})};sO.displayName=i_;var iO="PopperAnchor",aO=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=nO(iO,r),a=x.useRef(null),o=Xr(t,a);return x.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(Ur.div,{...s,ref:o})});aO.displayName=iO;var a_="PopperContent",[LQ,$Q]=rO(a_),oO=x.forwardRef((e,t)=>{var X,me,be,ge,Ee,Re;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=e,w=nO(a_,r),[y,v]=x.useState(null),b=Xr(t,je=>v(je)),[k,C]=x.useState(null),A=OQ(k),R=(A==null?void 0:A.width)??0,O=(A==null?void 0:A.height)??0,F=n+(i!=="center"?"-"+i:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],z=D.length>0,Y={padding:j,boundary:D.filter(BQ),altBoundary:z},{refs:Q,floatingStyles:te,placement:Z,isPositioned:J,middlewareData:V}=_Q({strategy:"fixed",placement:F,whileElementsMounted:(...je)=>gQ(...je,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[NQ({mainAxis:s+O,alignmentAxis:a}),c&&CQ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?AQ():void 0,...Y}),c&&TQ({...Y}),RQ({...Y,apply:({elements:je,rects:Ie,availableWidth:Ve,availableHeight:He})=>{const{width:we,height:Ne}=Ie.reference,Je=je.floating.style;Je.setProperty("--radix-popper-available-width",`${Ve}px`),Je.setProperty("--radix-popper-available-height",`${He}px`),Je.setProperty("--radix-popper-anchor-width",`${we}px`),Je.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),k&&jQ({element:k,padding:o}),UQ({arrowWidth:R,arrowHeight:O}),f&&IQ({strategy:"referenceHidden",...Y})]}),[re,E]=uO(Z),N=as(m);os(()=>{J&&(N==null||N())},[J,N]);const L=(X=V.arrow)==null?void 0:X.x,M=(me=V.arrow)==null?void 0:me.y,G=((be=V.arrow)==null?void 0:be.centerOffset)!==0,[W,se]=x.useState();return os(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:J?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ge=V.transformOrigin)==null?void 0:ge.x,(Ee=V.transformOrigin)==null?void 0:Ee.y].join(" "),...((Re=V.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(LQ,{scope:r,placedSide:re,onArrowChange:C,arrowX:L,arrowY:M,shouldHideArrow:G,children:l.jsx(Ur.div,{"data-side":re,"data-align":E,...g,ref:b,style:{...g.style,animation:J?void 0:"none"}})})})});oO.displayName=a_;var lO="PopperArrow",FQ={top:"bottom",right:"left",bottom:"top",left:"right"},cO=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=$Q(lO,n),a=FQ[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(PQ,{...s,ref:r,style:{...s.style,display:"block"}})})});cO.displayName=lO;function BQ(e){return e!==null}var UQ=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=uO(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+o/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=a?h:`${f}px`,g=`${-c}px`):u==="top"?(m=a?h:`${f}px`,g=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=a?h:`${p}px`):u==="left"&&(m=`${n.floating.width+c}px`,g=a?h:`${p}px`),{data:{x:m,y:g}}}});function uO(e){const[t,r="center"]=e.split("-");return[t,r]}var dO=sO,o_=aO,l_=oO,c_=cO,zQ="Portal",fw=x.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[s,i]=x.useState(!1);os(()=>i(!0),[]);const a=r||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?xZ.createPortal(l.jsx(Ur.div,{...n,ref:t}),a):null});fw.displayName=zQ;function HQ(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var hO=e=>{const{present:t,children:r}=e,n=VQ(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Xr(n.ref,qQ(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};hO.displayName="Presence";function VQ(e){const[t,r]=x.useState(),n=x.useRef({}),s=x.useRef(e),i=x.useRef("none"),a=e?"mounted":"unmounted",[o,c]=HQ(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Z1(n.current);i.current=o==="mounted"?u:"none"},[o]),os(()=>{const u=n.current,d=s.current;if(d!==e){const f=i.current,p=Z1(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),os(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=Z1(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=p=>{p.target===t&&(i.current=Z1(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Z1(e){return(e==null?void 0:e.animationName)||"none"}function qQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var WQ="VisuallyHidden",u_=x.forwardRef((e,t)=>l.jsx(Ur.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));u_.displayName=WQ;var GQ=u_,[pw,uke]=pl("Tooltip",[qp]),d_=qp(),fO="TooltipProvider",KQ=700,VC="tooltip.open",[YQ,pO]=pw(fO),mO=e=>{const{__scopeTooltip:t,delayDuration:r=KQ,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[a,o]=x.useState(!0),c=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(YQ,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};mO.displayName=fO;var gO="Tooltip",[dke,mw]=pw(gO),c6="TooltipTrigger",ZQ=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=mw(c6,r),i=pO(c6,r),a=d_(r),o=x.useRef(null),c=Xr(t,o,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),h=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(o_,{asChild:!0,...a,children:l.jsx(Ur.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Dt(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Dt(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Dt(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Dt(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Dt(e.onBlur,s.onClose),onClick:Dt(e.onClick,s.onClose)})})});ZQ.displayName=c6;var QQ="TooltipPortal",[hke,XQ]=pw(QQ,{forceMount:void 0}),mp="TooltipContent",yO=x.forwardRef((e,t)=>{const r=XQ(mp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=mw(mp,e.__scopeTooltip);return l.jsx(hO,{present:n||a.open,children:a.disableHoverableContent?l.jsx(vO,{side:s,...i,ref:t}):l.jsx(JQ,{side:s,...i,ref:t})})}),JQ=x.forwardRef((e,t)=>{const r=mw(mp,e.__scopeTooltip),n=pO(mp,e.__scopeTooltip),s=x.useRef(null),i=Xr(t,s),[a,o]=x.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=x.useCallback(()=>{o(null),h(!1)},[h]),p=x.useCallback((m,g)=>{const w=m.currentTarget,y={x:m.clientX,y:m.clientY},v=nX(y,w.getBoundingClientRect()),b=sX(y,v),k=iX(g.getBoundingClientRect()),C=oX([...b,...k]);o(C),h(!0)},[h]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(c&&d){const m=w=>p(w,d),g=w=>p(w,c);return c.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),x.useEffect(()=>{if(a){const m=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!aX(y,a);v?f():b&&(f(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,d,a,u,f]),l.jsx(vO,{...e,ref:i})}),[eX,tX]=pw(gO,{isInside:!1}),vO=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,c=mw(mp,r),u=d_(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(VC,d),()=>document.removeEventListener(VC,d)),[d]),x.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(qg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(l_,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Q8,{children:n}),l.jsx(eX,{scope:r,isInside:!0,children:l.jsx(GQ,{id:c.contentId,role:"tooltip",children:s||n})})]})})});yO.displayName=mp;var xO="TooltipArrow",rX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=d_(r);return tX(xO,r).isInside?null:l.jsx(c_,{...s,...n,ref:t})});rX.displayName=xO;function nX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function sX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function iX(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function aX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function oX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lX(t)}function lX(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var cX=mO,bO=yO;function wO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=wO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kO(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=wO(e))&&(n&&(n+=" "),n+=t);return n}const h_="-",uX=e=>{const t=hX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(h_);return o[0]===""&&o.length!==1&&o.shift(),SO(o,t)||dX(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},SO=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?SO(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(h_);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},qC=/^\[(.+)\]$/,dX=e=>{if(qC.test(e)){const t=qC.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pX(Object.entries(e.classGroups),r).forEach(([i,a])=>{u6(a,n,i,t)}),n},u6=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:WC(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(fX(s)){u6(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{u6(a,WC(t,i),r,n)})})},WC=(e,t)=>{let r=e;return t.split(h_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},fX=e=>e.isThemeGetter,pX=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,mX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},_O="!",gX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let w=0;w<o.length;w++){let y=o[w];if(u===0){if(y===s&&(n||o.slice(w,w+i)===t)){c.push(o.slice(d,w)),d=w+i;continue}if(y==="/"){h=w;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?o:o.substring(d),p=f.startsWith(_O),m=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:a}):a},yX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},vX=e=>({cache:mX(e.cacheSize),parseClassName:gX(e),...uX(e)}),xX=/\s+/,bX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(xX);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let m=!!p,g=n(m?f.substring(0,p):f);if(!g){if(!m){o=u+(o.length>0?" "+o:o);continue}if(g=n(f),!g){o=u+(o.length>0?" "+o:o);continue}m=!1}const w=yX(d).join(":"),y=h?w+_O:w,v=y+g;if(i.includes(v))continue;i.push(v);const b=s(g,m);for(let k=0;k<b.length;++k){const C=b[k];i.push(y+C)}o=u+(o.length>0?" "+o:o)}return o};function wX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=EO(t))&&(n&&(n+=" "),n+=r);return n}const EO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=EO(e[n]))&&(r&&(r+=" "),r+=t);return r};function kX(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=vX(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=bX(c,r);return s(c,d),d}return function(){return i(wX.apply(null,arguments))}}const Cn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NO=/^\[(?:([a-z-]+):)?(.+)\]$/i,SX=/^\d+\/\d+$/,_X=new Set(["px","full","screen"]),EX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sl=e=>jf(e)||_X.has(e)||SX.test(e),Ac=e=>Wp(e,"length",LX),jf=e=>!!e&&!Number.isNaN(Number(e)),T4=e=>Wp(e,"number",jf),y0=e=>!!e&&Number.isInteger(Number(e)),RX=e=>e.endsWith("%")&&jf(e.slice(0,-1)),Rr=e=>NO.test(e),Tc=e=>EX.test(e),IX=new Set(["length","size","percentage"]),jX=e=>Wp(e,IX,CO),MX=e=>Wp(e,"position",CO),PX=new Set(["image","url"]),OX=e=>Wp(e,PX,FX),DX=e=>Wp(e,"",$X),v0=()=>!0,Wp=(e,t,r)=>{const n=NO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},LX=e=>NX.test(e)&&!CX.test(e),CO=()=>!1,$X=e=>AX.test(e),FX=e=>TX.test(e),BX=()=>{const e=Cn("colors"),t=Cn("spacing"),r=Cn("blur"),n=Cn("brightness"),s=Cn("borderColor"),i=Cn("borderRadius"),a=Cn("borderSpacing"),o=Cn("borderWidth"),c=Cn("contrast"),u=Cn("grayscale"),d=Cn("hueRotate"),h=Cn("invert"),f=Cn("gap"),p=Cn("gradientColorStops"),m=Cn("gradientColorStopPositions"),g=Cn("inset"),w=Cn("margin"),y=Cn("opacity"),v=Cn("padding"),b=Cn("saturate"),k=Cn("scale"),C=Cn("sepia"),A=Cn("skew"),R=Cn("space"),O=Cn("translate"),F=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Rr,t],z=()=>[Rr,t],Y=()=>["",Sl,Ac],Q=()=>["auto",jf,Rr],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Rr],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>[jf,Rr];return{cacheSize:500,separator:":",theme:{colors:[v0],spacing:[Sl,Ac],blur:["none","",Tc,Rr],brightness:N(),borderColor:[e],borderRadius:["none","","full",Tc,Rr],borderSpacing:z(),borderWidth:Y(),contrast:N(),grayscale:re(),hueRotate:N(),invert:re(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[RX,Ac],inset:D(),margin:D(),opacity:N(),padding:z(),saturate:N(),scale:N(),sepia:re(),skew:N(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Rr]}],container:["container"],columns:[{columns:[Tc]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Rr]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",y0,Rr]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rr]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",y0,Rr]}],"grid-cols":[{"grid-cols":[v0]}],"col-start-end":[{col:["auto",{span:["full",y0,Rr]},Rr]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[v0]}],"row-start-end":[{row:["auto",{span:[y0,Rr]},Rr]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rr,t]}],"min-w":[{"min-w":[Rr,t,"min","max","fit"]}],"max-w":[{"max-w":[Rr,t,"none","full","min","max","fit","prose",{screen:[Tc]},Tc]}],h:[{h:[Rr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Tc,Ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",T4]}],"font-family":[{font:[v0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rr]}],"line-clamp":[{"line-clamp":["none",jf,T4]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sl,Rr]}],"list-image":[{"list-image":["none",Rr]}],"list-style-type":[{list:["none","disc","decimal",Rr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sl,Ac]}],"underline-offset":[{"underline-offset":["auto",Sl,Rr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),MX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Sl,Rr]}],"outline-w":[{outline:[Sl,Ac]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Sl,Ac]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Tc,DX]}],"shadow-color":[{shadow:[v0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Tc,Rr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rr]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",Rr]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[y0,Rr]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sl,Ac,T4]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UX=kX(BX),GC=768;function Ht(...e){return UX(kO(e))}function f_(){const[e,t]=x.useState(()=>typeof window<"u"?window.matchMedia(`(max-width: ${GC-1}px)`).matches:!1);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${GC-1}px)`),n=s=>{t(s.matches)};return"addEventListener"in r?r.addEventListener("change",n):r.addListener(n),()=>{"removeEventListener"in r?r.removeEventListener("change",n):r.removeListener(n)}},[]),e}function zX(e,t){x.useEffect(()=>{function r(n){e.current&&!e.current.contains(n.target)&&t(n)}return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t])}function R4(e){return e?e==="ibnzterrell/Meta-Llama-3.3-70B-Instruct-AWQ-INT4"||e==="llama3-3-70b"?"llama-3.3-70b":e:""}const HX=cX,VX=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(bO,{ref:n,sideOffset:t,className:Ht("z-1000 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));VX.displayName=bO.displayName;var qX="Invariant failed";function fo(e,t){if(!e)throw new Error(qX)}function Mf(e){const t=e.resolvedLocation,r=e.location,n=(t==null?void 0:t.pathname)!==r.pathname,s=(t==null?void 0:t.href)!==r.href,i=(t==null?void 0:t.hash)!==r.hash;return{fromLocation:t,toLocation:r,pathChanged:n,hrefChanged:s,hashChanged:i}}const WX="Error preloading route! ";function am(e){return e[e.length-1]}function GX(e){return typeof e=="function"}function _d(e,t){return GX(e)?e(t):e}function d6(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function Sa(e,t){if(e===t)return e;const r=t,n=YC(e)&&YC(r);if(n||ox(e)&&ox(r)){const s=n?e:Object.keys(e),i=s.length,a=n?r:Object.keys(r),o=a.length,c=n?[]:{};let u=0;for(let d=0;d<o;d++){const h=n?d:a[d];(!n&&s.includes(h)||n)&&e[h]===void 0&&r[h]===void 0?(c[h]=void 0,u++):(c[h]=Sa(e[h],r[h]),c[h]===e[h]&&e[h]!==void 0&&u++)}return i===o&&u===i?e:c}return r}function ox(e){if(!KC(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!KC(r)||!r.hasOwnProperty("isPrototypeOf"))}function KC(e){return Object.prototype.toString.call(e)==="[object Object]"}function YC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ZC(e,t){let r=Object.keys(e);return t&&(r=r.filter(n=>e[n]!==void 0)),r}function Pf(e,t,r){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(ox(e)&&ox(t)){const n=(r==null?void 0:r.ignoreUndefined)??!0,s=ZC(e,n),i=ZC(t,n);return!(r!=null&&r.partial)&&s.length!==i.length?!1:i.every(a=>Pf(e[a],t[a],r))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((n,s)=>!Pf(n,t[s],r)):!1}function Xh(e){let t,r;const n=new Promise((s,i)=>{t=s,r=i});return n.status="pending",n.resolve=s=>{n.status="resolved",n.value=s,t(s),e==null||e(s)},n.reject=s=>{n.status="rejected",r(s)},n}function KX(e){return/%[0-9A-Fa-f]{2}/.test(e)}function Kl(e){return gw(e.filter(t=>t!==void 0).join("/"))}function gw(e){return e.replace(/\/{2,}/g,"/")}function p_(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Ed(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function YX(e){return Ed(p_(e))}function lx(e,t){return e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function ZX(e,t,r){return lx(e,r)===lx(t,r)}function QX({basepath:e,base:t,to:r,trailingSlash:n="never",caseSensitive:s}){var i,a;t=cx(e,t,s),r=cx(e,r,s);let o=gp(t);const c=gp(r);o.length>1&&((i=am(o))==null?void 0:i.value)==="/"&&o.pop(),c.forEach((d,h)=>{d.value==="/"?h?h===c.length-1&&o.push(d):o=[d]:d.value===".."?o.pop():d.value==="."||o.push(d)}),o.length>1&&(((a=am(o))==null?void 0:a.value)==="/"?n==="never"&&o.pop():n==="always"&&o.push({type:"pathname",value:"/"}));const u=Kl([e,...o.map(d=>d.value)]);return gw(u)}function gp(e){if(!e)return[];e=gw(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const r=e.split("/").filter(Boolean);return t.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function Q1({path:e,params:t,leaveWildcards:r,leaveParams:n,decodeCharMap:s}){const i=gp(e);function a(u){const d=t[u],h=typeof d=="string";return["*","_splat"].includes(u)?h?encodeURI(d):d:h?XX(d,s):d}const o={},c=Kl(i.map(u=>{if(u.type==="wildcard"){o._splat=t._splat;const d=a("_splat");return r?`${u.value}${d??""}`:d}if(u.type==="param"){const d=u.value.substring(1);if(o[d]=t[d],n){const h=a(u.value);return`${u.value}${h??""}`}return a(d)??"undefined"}return u.value}));return{usedParams:o,interpolatedPath:c}}function XX(e,t){let r=encodeURIComponent(e);if(t)for(const[n,s]of t)r=r.replaceAll(n,s);return r}function X1(e,t,r){const n=JX(e,t,r);if(!(r.to&&!n))return n??{}}function cx(e,t,r=!1){const n=r?e:e.toLowerCase(),s=r?t:t.toLowerCase();switch(!0){case n==="/":return t;case s===n:return"";case t.length<e.length:return t;case s[n.length]!=="/":return t;case s.startsWith(n):return t.slice(e.length);default:return t}}function JX(e,t,r){if(e!=="/"&&!t.startsWith(e))return;t=cx(e,t,r.caseSensitive);const n=cx(e,`${r.to??"$"}`,r.caseSensitive),s=gp(t),i=gp(n);t.startsWith("/")||s.unshift({type:"pathname",value:"/"}),n.startsWith("/")||i.unshift({type:"pathname",value:"/"});const a={};return(()=>{for(let c=0;c<Math.max(s.length,i.length);c++){const u=s[c],d=i[c],h=c>=s.length-1,f=c>=i.length-1;if(d){if(d.type==="wildcard"){const p=decodeURI(Kl(s.slice(c).map(m=>m.value)));return a["*"]=p,a._splat=p,!0}if(d.type==="pathname"){if(d.value==="/"&&!(u!=null&&u.value))return!0;if(u){if(r.caseSensitive){if(d.value!==u.value)return!1}else if(d.value.toLowerCase()!==u.value.toLowerCase())return!1}}if(!u)return!1;if(d.type==="param"){if(u.value==="/")return!1;u.value.charAt(0)!=="$"&&(a[d.value.substring(1)]=decodeURIComponent(u.value))}}if(!h&&f)return a["**"]=Kl(s.slice(c+1).map(p=>p.value)),!!r.fuzzy&&(d==null?void 0:d.value)!=="/"}return!0})()?a:void 0}function eJ(e,t){let r,n,s,i="";for(r in e)if((s=e[r])!==void 0)if(Array.isArray(s))for(n=0;n<s.length;n++)i&&(i+="&"),i+=encodeURIComponent(r)+"="+encodeURIComponent(s[n]);else i&&(i+="&"),i+=encodeURIComponent(r)+"="+encodeURIComponent(s);return""+i}function QC(e){if(!e)return"";const t=KX(e)?decodeURIComponent(e):decodeURIComponent(encodeURIComponent(e));return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function tJ(e,t){let r,n;const s={},i=e.split("&");for(;r=i.shift();){const a=r.indexOf("=");if(a!==-1){n=r.slice(0,a),n=decodeURIComponent(n);const o=r.slice(a+1);s[n]!==void 0?s[n]=[].concat(s[n],QC(o)):s[n]=QC(o)}else n=r,n=decodeURIComponent(n),s[n]=""}return s}const Oi="__root__",rJ=sJ(JSON.parse),nJ=iJ(JSON.stringify,JSON.parse);function sJ(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const r=tJ(t);for(const n in r){const s=r[n];if(typeof s=="string")try{r[n]=e(s)}catch{}}return r}}function iJ(e,t){function r(n){if(typeof n=="object"&&n!==null)try{return e(n)}catch{}else if(typeof n=="string"&&typeof t=="function")try{return t(n),e(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(i=>{const a=n[i];typeof a>"u"||a===void 0?delete n[i]:n[i]=r(a)});const s=eJ(n).toString();return s?`?${s}`:""}}const ku="__TSR_index",XC="popstate",JC="beforeunload";function AO(e){let t=e.getLocation();const r=new Set,n=a=>{t=e.getLocation(),r.forEach(o=>o({location:t,action:a}))},s=a=>{e.notifyOnIndexChange??!0?n(a):t=e.getLocation()},i=async({task:a,navigateOpts:o,...c})=>{var u,d;if((o==null?void 0:o.ignoreBlocker)??!1){a();return}const f=((u=e.getBlockers)==null?void 0:u.call(e))??[],p=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&f.length&&p)for(const m of f){const g=Bm(c.path,c.state);if(await m.blockerFn({currentLocation:t,nextLocation:g,action:c.type})){(d=e.onBlocked)==null||d.call(e);return}}a()};return{get location(){return t},get length(){return e.getLength()},subscribers:r,subscribe:a=>(r.add(a),()=>{r.delete(a)}),push:(a,o,c)=>{const u=t.state[ku];o=h6(u+1,o),i({task:()=>{e.pushState(a,o),n({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:a,state:o})},replace:(a,o,c)=>{const u=t.state[ku];o=h6(u,o),i({task:()=>{e.replaceState(a,o),n({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:a,state:o})},go:(a,o)=>{i({task:()=>{e.go(a),s({type:"GO",index:a})},navigateOpts:o,type:"GO"})},back:a=>{i({task:()=>{e.back((a==null?void 0:a.ignoreBlocker)??!1),s({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{i({task:()=>{e.forward((a==null?void 0:a.ignoreBlocker)??!1),s({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>t.state[ku]!==0,createHref:a=>e.createHref(a),block:a=>{var o;if(!e.setBlockers)return()=>{};const c=((o=e.getBlockers)==null?void 0:o.call(e))??[];return e.setBlockers([...c,a]),()=>{var u,d;const h=((u=e.getBlockers)==null?void 0:u.call(e))??[];(d=e.setBlockers)==null||d.call(e,h.filter(f=>f!==a))}},flush:()=>{var a;return(a=e.flush)==null?void 0:a.call(e)},destroy:()=>{var a;return(a=e.destroy)==null?void 0:a.call(e)},notify:n}}function h6(e,t){return t||(t={}),{...t,key:m_(),[ku]:e}}function aJ(e){var t;const r=typeof document<"u"?window:void 0,n=r.history.pushState,s=r.history.replaceState;let i=[];const a=()=>i,o=F=>i=F,c=F=>F,u=()=>Bm(`${r.location.pathname}${r.location.search}${r.location.hash}`,r.history.state);(t=r.history.state)!=null&&t.key||r.history.replaceState({[ku]:0,key:m_()},"");let d=u(),h,f=!1,p=!1,m=!1,g=!1;const w=()=>d;let y,v;const b=()=>{y&&(O._ignoreSubscribers=!0,(y.isPush?r.history.pushState:r.history.replaceState)(y.state,"",y.href),O._ignoreSubscribers=!1,y=void 0,v=void 0,h=void 0)},k=(F,j,D)=>{const z=c(j);v||(h=d),d=Bm(j,D),y={href:z,state:D,isPush:(y==null?void 0:y.isPush)||F==="push"},v||(v=Promise.resolve().then(()=>b()))},C=F=>{d=u(),O.notify({type:F})},A=async()=>{if(p){p=!1;return}const F=u(),j=F.state[ku]-d.state[ku],D=j===1,z=j===-1,Y=!D&&!z||f;f=!1;const Q=Y?"GO":z?"BACK":"FORWARD",te=Y?{type:"GO",index:j}:{type:z?"BACK":"FORWARD"};if(m)m=!1;else{const Z=a();if(typeof document<"u"&&Z.length){for(const J of Z)if(await J.blockerFn({currentLocation:d,nextLocation:F,action:Q})){p=!0,r.history.go(1),O.notify(te);return}}}d=u(),O.notify(te)},R=F=>{if(g){g=!1;return}let j=!1;const D=a();if(typeof document<"u"&&D.length)for(const z of D){const Y=z.enableBeforeUnload??!0;if(Y===!0){j=!0;break}if(typeof Y=="function"&&Y()===!0){j=!0;break}}if(j)return F.preventDefault(),F.returnValue=""},O=AO({getLocation:w,getLength:()=>r.history.length,pushState:(F,j)=>k("push",F,j),replaceState:(F,j)=>k("replace",F,j),back:F=>(F&&(m=!0),g=!0,r.history.back()),forward:F=>{F&&(m=!0),g=!0,r.history.forward()},go:F=>{f=!0,r.history.go(F)},createHref:F=>c(F),flush:b,destroy:()=>{r.history.pushState=n,r.history.replaceState=s,r.removeEventListener(JC,R,{capture:!0}),r.removeEventListener(XC,A)},onBlocked:()=>{h&&d!==h&&(d=h)},getBlockers:a,setBlockers:o,notifyOnIndexChange:!1});return r.addEventListener(JC,R,{capture:!0}),r.addEventListener(XC,A),r.history.pushState=function(...F){const j=n.apply(r.history,F);return O._ignoreSubscribers||C("PUSH"),j},r.history.replaceState=function(...F){const j=s.apply(r.history,F);return O._ignoreSubscribers||C("REPLACE"),j},O}function oJ(e={initialEntries:["/"]}){const t=e.initialEntries;let r=e.initialIndex?Math.min(Math.max(e.initialIndex,0),t.length-1):t.length-1;const n=t.map((i,a)=>h6(a,void 0));return AO({getLocation:()=>Bm(t[r],n[r]),getLength:()=>t.length,pushState:(i,a)=>{r<t.length-1&&(t.splice(r+1),n.splice(r+1)),n.push(a),t.push(i),r=Math.max(t.length-1,0)},replaceState:(i,a)=>{n[r]=a,t[r]=i},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,t.length-1)},go:i=>{r=Math.min(Math.max(r+i,0),t.length-1)},createHref:i=>i})}function Bm(e,t){const r=e.indexOf("#"),n=e.indexOf("?");return{href:e,pathname:e.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:e.length),hash:r>-1?e.substring(r):"",search:n>-1?e.slice(n,r===-1?void 0:r):"",state:t||{[ku]:0,key:m_()}}}function m_(){return(Math.random()+1).toString(36).substring(7)}function g_(e){const t=e.errorComponent??yw;return l.jsx(lJ,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:r,reset:n})=>r?x.createElement(t,{error:r,reset:n}):e.children})}class lJ extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,r){this.props.onCatch&&this.props.onCatch(t,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function yw({error:e}){const[t,r]=x.useState(!1);return l.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[l.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),l.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:t?"Hide Error":"Show Error"})]}),l.jsx("div",{style:{height:".25rem"}}),t?l.jsx("div",{children:l.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?l.jsx("code",{children:e.message}):null})}):null]})}var TO={exports:{}},RO={},IO={exports:{}},jO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=x;function cJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uJ=typeof Object.is=="function"?Object.is:cJ,dJ=yp.useState,hJ=yp.useEffect,fJ=yp.useLayoutEffect,pJ=yp.useDebugValue;function mJ(e,t){var r=t(),n=dJ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return fJ(function(){s.value=r,s.getSnapshot=t,I4(s)&&i({inst:s})},[e,r,t]),hJ(function(){return I4(s)&&i({inst:s}),e(function(){I4(s)&&i({inst:s})})},[e]),pJ(r),r}function I4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!uJ(e,r)}catch{return!0}}function gJ(e,t){return t()}var yJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gJ:mJ;jO.useSyncExternalStore=yp.useSyncExternalStore!==void 0?yp.useSyncExternalStore:yJ;IO.exports=jO;var vJ=IO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=x,xJ=vJ;function bJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wJ=typeof Object.is=="function"?Object.is:bJ,kJ=xJ.useSyncExternalStore,SJ=vw.useRef,_J=vw.useEffect,EJ=vw.useMemo,NJ=vw.useDebugValue;RO.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=SJ(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=EJ(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&a.hasValue){var m=a.value;if(s(m,p))return h=m}return h=p}if(m=h,wJ(d,p))return m;var g=n(p);return s!==void 0&&s(m,g)?(d=p,m):(d=p,h=g)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var o=kJ(e,i[0],i[1]);return _J(function(){a.hasValue=!0,a.value=o},[o]),NJ(o),o};TO.exports=RO;var CJ=TO.exports;const Of=new WeakMap,iv=new WeakMap,ux={current:[]};let j4=!1,om=0;const M0=new Set,J1=new Map;function MO(e){const t=Array.from(e).sort((r,n)=>r instanceof Df&&r.options.deps.includes(n)?1:n instanceof Df&&n.options.deps.includes(r)?-1:0);for(const r of t){if(ux.current.includes(r))continue;ux.current.push(r),r.recompute();const n=iv.get(r);if(n)for(const s of n){const i=Of.get(s);i&&MO(i)}}}function AJ(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function TJ(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function PO(e){if(om>0&&!J1.has(e)&&J1.set(e,e.prevState),M0.add(e),!(om>0)&&!j4)try{for(j4=!0;M0.size>0;){const t=Array.from(M0);M0.clear();for(const r of t){const n=J1.get(r)??r.prevState;r.prevState=n,AJ(r)}for(const r of t){const n=Of.get(r);n&&(ux.current.push(r),MO(n))}for(const r of t){const n=Of.get(r);if(n)for(const s of n)TJ(s)}}}finally{j4=!1,ux.current=[],J1.clear()}}function M4(e){om++;try{e()}finally{if(om--,om===0){const t=Array.from(M0)[0];t&&PO(t)}}}class f6{constructor(t,r){this.listeners=new Set,this.subscribe=n=>{var s,i;this.listeners.add(n);const a=(i=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:i.call(s,n,this);return()=>{this.listeners.delete(n),a==null||a()}},this.setState=n=>{var s,i,a;this.prevState=this.state,this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(this.prevState)(n):n(this.prevState),(a=(i=this.options)==null?void 0:i.onUpdate)==null||a.call(i),PO(this)},this.prevState=t,this.state=t,this.options=r}}class Df{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const r=[],n=[];for(const s of this.options.deps)r.push(s.prevState),n.push(s.state);return this.lastSeenDepValues=n,{prevDepVals:r,currDepVals:n,prevVal:this.prevState??void 0}},this.recompute=()=>{var r,n;this.prevState=this.state;const{prevDepVals:s,currDepVals:i,prevVal:a}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:i,prevVal:a}),(n=(r=this.options).onUpdate)==null||n.call(r)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof Df&&i.checkIfRecalculationNeededDeeply();let r=!1;const n=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let i=0;i<s.length;i++)if(s[i]!==n[i]){r=!0;break}r&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const r of this._subscriptions)r()}),this.subscribe=r=>{var n,s;this.listeners.add(r);const i=(s=(n=this.options).onSubscribe)==null?void 0:s.call(n,r,this);return()=>{this.listeners.delete(r),i==null||i()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const r of t)if(r instanceof Df)r.registerOnGraph(),this.registerOnGraph(r.options.deps);else if(r instanceof f6){let n=Of.get(r);n||(n=new Set,Of.set(r,n)),n.add(this);let s=iv.get(this);s||(s=new Set,iv.set(this,s)),s.add(r)}}unregisterFromGraph(t=this.options.deps){for(const r of t)if(r instanceof Df)this.unregisterFromGraph(r.options.deps);else if(r instanceof f6){const n=Of.get(r);n&&n.delete(this);const s=iv.get(this);s&&s.delete(r)}}}function RJ(e,t=r=>r){return CJ.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,IJ)}function IJ(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,s]of e)if(!t.has(n)||!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}const P4=x.createContext(null);function OO(){return typeof document>"u"?P4:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=P4,P4)}function Si(e){const t=x.useContext(OO());return e==null||e.warn,t}function Us(e){const t=Si({warn:(e==null?void 0:e.router)===void 0}),r=(e==null?void 0:e.router)||t,n=x.useRef(void 0);return RJ(r.__store,s=>{if(e!=null&&e.select){if(e.structuralSharing??r.options.defaultStructuralSharing){const i=Sa(n.current,e.select(s));return n.current=i,i}return e.select(s)}return s})}const xw=x.createContext(void 0),jJ=x.createContext(void 0);function Jd(e){const t=x.useContext(e.from?jJ:xw);return Us({select:n=>{const s=n.matches.find(i=>e.from?e.from===i.routeId:i.id===t);if(fo(!((e.shouldThrow??!0)&&!s),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),s!==void 0)return e.select?e.select(s):s},structuralSharing:e.structuralSharing})}function MJ(e){return Jd({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function PJ(e){const{select:t,...r}=e;return Jd({...r,select:n=>t?t(n.loaderDeps):n.loaderDeps})}function OJ(e){return Jd({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function DJ(e){return Jd({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Na(e){return!!(e!=null&&e.isNotFound)}function LJ(e){const t=Us({select:r=>`not-found-${r.location.pathname}-${r.status}`});return l.jsx(g_,{getResetKey:()=>t,onCatch:(r,n)=>{var s;if(Na(r))(s=e.onCatch)==null||s.call(e,r,n);else throw r},errorComponent:({error:r})=>{var n;if(Na(r))return(n=e.fallback)==null?void 0:n.call(e,r);throw r},children:e.children})}function $J(){return l.jsx("p",{children:"Not Found"})}function ws(e){const{navigate:t}=Si();return x.useCallback(r=>t({...r}),[t])}function av(e){const{navigate:t}=Si();return x.useEffect(()=>{t({...e})},[t,e]),null}let DO=class{constructor(t){this.init=r=>{var n,s;this.originalIndex=r.originalIndex;const i=this.options,a=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(s=(n=this.options).getParentRoute)==null?void 0:s.call(n),a?this._path=Oi:fo(this.parentRoute);let o=a?Oi:i.path;o&&o!=="/"&&(o=p_(o));const c=(i==null?void 0:i.id)||o;let u=a?Oi:Kl([this.parentRoute.id===Oi?"":this.parentRoute.id,c]);o===Oi&&(o="/"),u!==Oi&&(u=Kl(["/",u]));const d=u===Oi?"/":Kl([this.parentRoute.fullPath,o]);this._path=o,this._id=u,this._fullPath=d,this._to=d,this._ssr=(i==null?void 0:i.ssr)??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>Jd({select:r==null?void 0:r.select,from:this.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>Jd({...r,from:this.id,select:n=>r!=null&&r.select?r.select(n.context):n.context}),this.useSearch=r=>DJ({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useParams=r=>OJ({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useLoaderDeps=r=>PJ({...r,from:this.id}),this.useLoaderData=r=>MJ({...r,from:this.id}),this.useNavigate=()=>ws({from:this.id}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),fo(!(t!=null&&t.id&&(t!=null&&t.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this}};function FJ(e){return new DO(e)}function BJ(){return e=>zJ(e)}class UJ extends DO{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function zJ(e){return new UJ(e)}function ks(e){return new HJ(e,{silent:!0}).createRoute}class HJ{constructor(t,r){this.path=t,this.createRoute=n=>{this.silent;const s=FJ(n);return s.isRoot=!1,s},this.silent=r==null?void 0:r.silent}}function VJ(e){if(e.isRedirect=!0,e.statusCode=e.statusCode||e.code||307,e.headers=e.headers||{},!e.reloadDocument){e.reloadDocument=!1;try{new URL(`${e.href}`),e.reloadDocument=!0}catch{}}if(e.throw)throw e;return e}function dd(e){return!!(e!=null&&e.isRedirect)}function O4(e){return!!(e!=null&&e.isRedirect)&&e.href}function ov(e){return l.jsx(l.Fragment,{children:e.children})}function LO(e,t,r){return t.options.notFoundComponent?l.jsx(t.options.notFoundComponent,{data:r}):e.options.defaultNotFoundComponent?l.jsx(e.options.defaultNotFoundComponent,{data:r}):l.jsx($J,{})}const $O={},qJ=$O.hasOwnProperty,FO=(e,t)=>{for(const r in e)qJ.call(e,r)&&t(r,e[r])},WJ=(e,t)=>(t&&FO(t,(r,n)=>{e[r]=n}),e),GJ=(e,t)=>{const r=e.length;let n=-1;for(;++n<r;)t(e[n])},ey=e=>"\\u"+("0000"+e).slice(-4),x0=(e,t)=>{let r=e.toString(16);return t?r:r.toUpperCase()},Gg=$O.toString,KJ=Array.isArray,YJ=e=>typeof Buffer=="function"&&Buffer.isBuffer(e),ZJ=e=>Gg.call(e)=="[object Object]",QJ=e=>typeof e=="string"||Gg.call(e)=="[object String]",XJ=e=>typeof e=="number"||Gg.call(e)=="[object Number]",D4=e=>typeof e=="bigint",JJ=e=>typeof e=="function",eee=e=>Gg.call(e)=="[object Map]",tee=e=>Gg.call(e)=="[object Set]",ree={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},nee=/[\\\b\f\n\r\t]/,see=/[0-9]/,iee=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,aee=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,oee=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,hd=(e,t)=>{const r=()=>{u=c,++t.indentLevel,c=t.indent.repeat(t.indentLevel)},n={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},s=t&&t.json;s&&(n.quotes="double",n.wrap=!0),t=WJ(n,t),t.quotes!="single"&&t.quotes!="double"&&t.quotes!="backtick"&&(t.quotes="single");const i=t.quotes=="double"?'"':t.quotes=="backtick"?"`":"'",a=t.compact,o=t.lowercaseHex;let c=t.indent.repeat(t.indentLevel),u="";const d=t.__inline1__,h=t.__inline2__,f=a?"":`
`;let p,m=!0;const g=t.numbers=="binary",w=t.numbers=="octal",y=t.numbers=="decimal",v=t.numbers=="hexadecimal";if(s&&e&&JJ(e.toJSON)&&(e=e.toJSON()),!QJ(e)){if(eee(e))return e.size==0?"new Map()":(a||(t.__inline1__=!0,t.__inline2__=!1),"new Map("+hd(Array.from(e),t)+")");if(tee(e))return e.size==0?"new Set()":"new Set("+hd(Array.from(e),t)+")";if(YJ(e))return e.length==0?"Buffer.from([])":"Buffer.from("+hd(Array.from(e),t)+")";if(KJ(e))return p=[],t.wrap=!0,d&&(t.__inline1__=!1,t.__inline2__=!0),h||r(),GJ(e,k=>{m=!1,h&&(t.__inline2__=!1),p.push((a||h?"":c)+hd(k,t))}),m?"[]":h?"["+p.join(", ")+"]":"["+f+p.join(","+f)+f+(a?"":u)+"]";if(XJ(e)||D4(e)){if(s)return JSON.stringify(Number(e));let k;if(y)k=String(e);else if(v){let C=e.toString(16);o||(C=C.toUpperCase()),k="0x"+C}else g?k="0b"+e.toString(2):w&&(k="0o"+e.toString(8));return D4(e)?k+"n":k}else return D4(e)?s?JSON.stringify(Number(e)):e+"n":ZJ(e)?(p=[],t.wrap=!0,r(),FO(e,(k,C)=>{m=!1,p.push((a?"":c)+hd(k,t)+":"+(a?"":" ")+hd(C,t))}),m?"{}":"{"+f+p.join(","+f)+f+(a?"":u)+"}"):s?JSON.stringify(e)||"null":String(e)}const b=t.escapeEverything?aee:oee;return p=e.replace(b,(k,C,A,R,O,F)=>{if(C){if(t.minimal)return C;const D=C.charCodeAt(0),z=C.charCodeAt(1);if(t.es6){const Y=(D-55296)*1024+z-56320+65536;return"\\u{"+x0(Y,o)+"}"}return ey(x0(D,o))+ey(x0(z,o))}if(A)return ey(x0(A.charCodeAt(0),o));if(k=="\0"&&!s&&!see.test(F.charAt(O+1)))return"\\0";if(R)return R==i||t.escapeEverything?"\\"+R:R;if(nee.test(k))return ree[k];if(t.minimal&&!iee.test(k))return k;const j=x0(k.charCodeAt(0),o);return s||j.length>2?ey(j):"\\x"+("00"+j).slice(-2)}),i=="`"&&(p=p.replace(/\$\{/g,"\\${")),t.isScriptContext&&(p=p.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,s?"\\u003C!--":"\\x3C!--")),t.wrap&&(p=i+p+i),p};hd.version="3.0.2";function lee({children:e,log:t}){return typeof document<"u"?null:l.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[e,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}const dx="tsr-scroll-restoration-v1_3",cee=typeof window<"u"&&window.sessionStorage,uee=(e,t)=>{let r;return(...n)=>{r||(r=setTimeout(()=>{e(...n),r=null},t))}},wf=cee?{state:JSON.parse(window.sessionStorage.getItem(dx)||"null")||{},set:t=>(wf.state=_d(t,wf.state)||wf.state,window.sessionStorage.setItem(dx,JSON.stringify(wf.state)))}:void 0,p6=e=>e.state.key||e.href;function dee(e){const t=[];let r;for(;r=e.parentNode;)t.unshift(`${e.tagName}:nth-child(${[].indexOf.call(r.children,e)+1})`),e=r;return`${t.join(" > ")}`.toLowerCase()}let hx=!1;function BO(e,t,r,n,s){var i;let a;try{a=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(u){console.error(u);return}const o=t||((i=window.history.state)==null?void 0:i.key),c=a[o];hx=!0,(()=>{if(n&&c){for(const d in c){const h=c[d];if(d==="window")window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:r});else if(d){const f=document.querySelector(d);f&&(f.scrollLeft=h.scrollX,f.scrollTop=h.scrollY)}}return}const u=window.location.hash.split("#")[1];if(u){const d=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(d){const h=document.getElementById(u);h&&h.scrollIntoView(d)}return}["window",...(s==null?void 0:s.filter(d=>d!=="window"))??[]].forEach(d=>{const h=d==="window"?window:document.querySelector(d);h&&h.scrollTo({top:0,left:0,behavior:r})})})(),hx=!1}function hee(e,t){if((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup)return;e.isScrollRestorationSetup=!0,hx=!1;const n=e.options.getScrollRestorationKey||p6;window.history.scrollRestoration="manual";const s=i=>{if(hx||!e.isScrollRestoring)return;let a="";if(i.target===document||i.target===window)a="window";else{const c=i.target.getAttribute("data-scroll-restoration-id");c?a=`[data-scroll-restoration-id="${c}"]`:a=dee(i.target)}const o=n(e.state.location);wf.set(c=>{const u=c[o]=c[o]||{},d=u[a]=u[a]||{};if(a==="window")d.scrollX=window.scrollX||0,d.scrollY=window.scrollY||0;else if(a){const h=document.querySelector(a);h&&(d.scrollX=h.scrollLeft||0,d.scrollY=h.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",uee(s,100),!0),e.subscribe("onRendered",i=>{const a=n(i.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}BO(dx,a,e.options.scrollRestorationBehavior,e.isScrollRestoring,e.options.scrollToTopSelectors),e.isScrollRestoring&&wf.set(o=>(o[a]=o[a]||{},o))})}function fee(){const e=Si(),r=(e.options.getScrollRestorationKey||p6)(e.latestLocation),n=r!==p6(e.latestLocation)?r:null;return!e.isScrollRestoring||!e.isServer?null:l.jsx(lee,{children:`(${BO.toString()})(${JSON.stringify(dx)},${JSON.stringify(n)}, undefined, true)`,log:!1})}const UO=x.memo(function({matchId:t}){var r,n;const s=Si(),i=Us({select:y=>{var v;return(v=y.matches.find(b=>b.id===t))==null?void 0:v.routeId}});fo(i);const a=s.routesById[i],o=a.options.pendingComponent??s.options.defaultPendingComponent,c=o?l.jsx(o,{}):null,u=a.options.errorComponent??s.options.defaultErrorComponent,d=a.options.onCatch??s.options.defaultOnCatch,h=a.isRoot?a.options.notFoundComponent??((r=s.options.notFoundRoute)==null?void 0:r.options.component):a.options.notFoundComponent,f=(!a.isRoot||a.options.wrapInSuspense)&&(a.options.wrapInSuspense??o??((n=a.options.errorComponent)==null?void 0:n.preload))?x.Suspense:ov,p=u?g_:ov,m=h?LJ:ov,g=Us({select:y=>y.loadedAt}),w=Us({select:y=>{var v;const b=y.matches.findIndex(k=>k.id===t);return(v=y.matches[b-1])==null?void 0:v.routeId}});return l.jsxs(l.Fragment,{children:[l.jsx(xw.Provider,{value:t,children:l.jsx(f,{fallback:c,children:l.jsx(p,{getResetKey:()=>g,errorComponent:u||yw,onCatch:(y,v)=>{if(Na(y))throw y;d==null||d(y,v)},children:l.jsx(m,{fallback:y=>{if(!h||y.routeId&&y.routeId!==i||!y.routeId&&!a.isRoot)throw y;return x.createElement(h,y)},children:l.jsx(mee,{matchId:t})})})})}),w===Oi?l.jsxs(l.Fragment,{children:[l.jsx(pee,{}),l.jsx(fee,{})]}):null]})});function pee(){var e;const t=Si(),r=x.useRef(void 0);return l.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n?t.emit({type:"onRendered",...Mf(t.state)}):r.current=t.state.resolvedLocation}},(e=t.state.resolvedLocation)==null?void 0:e.state.key)}const mee=x.memo(function({matchId:t}){var r,n,s;const i=Si(),{match:a,key:o,routeId:c}=Us({select:f=>{const p=f.matches.findIndex(b=>b.id===t),m=f.matches[p],g=m.routeId,w=i.routesById[g].options.remountDeps??i.options.defaultRemountDeps,y=w==null?void 0:w({routeId:g,loaderDeps:m.loaderDeps,params:m._strictParams,search:m._strictSearch});return{key:y?JSON.stringify(y):void 0,routeId:g,match:d6(m,["id","status","error"])}},structuralSharing:!0}),u=i.routesById[c],d=x.useMemo(()=>{const f=u.options.component??i.options.defaultComponent;return f?l.jsx(f,{},o):l.jsx(y_,{})},[o,u.options.component,i.options.defaultComponent]),h=(u.options.errorComponent??i.options.defaultErrorComponent)||yw;if(a.status==="notFound")return fo(Na(a.error)),LO(i,u,a.error);if(a.status==="redirected")throw fo(dd(a.error)),(r=i.getMatch(a.id))==null?void 0:r.loadPromise;if(a.status==="error"){if(i.isServer)return l.jsx(h,{error:a.error,reset:void 0,info:{componentStack:""}});throw a.error}if(a.status==="pending"){const f=u.options.pendingMinMs??i.options.defaultPendingMinMs;if(f&&!((n=i.getMatch(a.id))!=null&&n.minPendingPromise)&&!i.isServer){const p=Xh();Promise.resolve().then(()=>{i.updateMatch(a.id,m=>({...m,minPendingPromise:p}))}),setTimeout(()=>{p.resolve(),i.updateMatch(a.id,m=>({...m,minPendingPromise:void 0}))},f)}throw(s=i.getMatch(a.id))==null?void 0:s.loadPromise}return d}),y_=x.memo(function(){const t=Si(),r=x.useContext(xw),n=Us({select:u=>{var d;return(d=u.matches.find(h=>h.id===r))==null?void 0:d.routeId}}),s=t.routesById[n],i=Us({select:u=>{const h=u.matches.find(f=>f.id===r);return fo(h),h.globalNotFound}}),a=Us({select:u=>{var d;const h=u.matches,f=h.findIndex(p=>p.id===r);return(d=h[f+1])==null?void 0:d.id}});if(i)return LO(t,s,void 0);if(!a)return null;const o=l.jsx(UO,{matchId:a}),c=t.options.defaultPendingComponent?l.jsx(t.options.defaultPendingComponent,{}):null;return r===Oi?l.jsx(x.Suspense,{fallback:c,children:o}):o}),P0=typeof window<"u"?x.useLayoutEffect:x.useEffect;function L4(e){const t=x.useRef({value:e,prev:null}),r=t.current.value;return e!==r&&(t.current={value:e,prev:r}),t.current.prev}function gee(e,t,r={},n={}){const s=x.useRef(typeof IntersectionObserver=="function"),i=x.useRef(null);return x.useEffect(()=>{if(!(!e.current||!s.current||n.disabled))return i.current=new IntersectionObserver(([a])=>{t(a)},r),i.current.observe(e.current),()=>{var a;(a=i.current)==null||a.disconnect()}},[t,r,n.disabled,e]),i.current}function yee(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function vee(e,t){const r=Si(),[n,s]=x.useState(!1),i=x.useRef(!1),a=yee(t),{activeProps:o=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:u,to:d,preload:h,preloadDelay:f,hashScrollIntoView:p,replace:m,startTransition:g,resetScroll:w,viewTransition:y,children:v,target:b,disabled:k,style:C,className:A,onClick:R,onFocus:O,onMouseEnter:F,onMouseLeave:j,onTouchStart:D,ignoreBlocker:z,...Y}=e,{params:Q,search:te,hash:Z,state:J,mask:V,reloadDocument:re,...E}=Y,N=x.useMemo(()=>{try{return new URL(`${d}`),"external"}catch{}return"internal"},[d]),L=Us({select:oe=>oe.location.search,structuralSharing:!0});e={from:Jd({strict:!1,select:oe=>oe.pathname}),...e};const G=x.useMemo(()=>r.buildLocation(e),[r,e,L]),W=x.useMemo(()=>e.reloadDocument?!1:h??r.options.defaultPreload,[r.options.defaultPreload,h,e.reloadDocument]),se=f??r.options.defaultPreloadDelay??0,X=Us({select:oe=>{if(u!=null&&u.exact){if(!ZX(oe.location.pathname,G.pathname,r.basepath))return!1}else{const xe=lx(oe.location.pathname,r.basepath).split("/");if(!lx(G.pathname,r.basepath).split("/").every((tr,Yt)=>tr===xe[Yt]))return!1}return((u==null?void 0:u.includeSearch)??!0)&&!Pf(oe.location.search,G.search,{partial:!(u!=null&&u.exact),ignoreUndefined:!(u!=null&&u.explicitUndefined)})?!1:u!=null&&u.includeHash?oe.location.hash===G.hash:!0}}),me=x.useCallback(()=>{r.preloadRoute(e).catch(oe=>{console.warn(oe),console.warn(WX)})},[e,r]),be=x.useCallback(oe=>{oe!=null&&oe.isIntersecting&&me()},[me]);if(gee(a,be,{rootMargin:"100px"},{disabled:!!k||W!=="viewport"}),P0(()=>{i.current||!k&&W==="render"&&(me(),i.current=!0)},[k,me,W]),N==="external")return{...E,ref:a,type:N,href:d,...v&&{children:v},...b&&{target:b},...k&&{disabled:k},...C&&{style:C},...A&&{className:A},...R&&{onClick:R},...O&&{onFocus:O},...F&&{onMouseEnter:F},...j&&{onMouseLeave:j},...D&&{onTouchStart:D}};const ge=oe=>{if(!k&&!xee(oe)&&!oe.defaultPrevented&&(!b||b==="_self")&&oe.button===0){oe.preventDefault(),Eh.flushSync(()=>{s(!0)});const xe=r.subscribe("onResolved",()=>{xe(),s(!1)});return r.navigate({...e,replace:m,resetScroll:w,hashScrollIntoView:p,startTransition:g,viewTransition:y,ignoreBlocker:z})}},Ee=oe=>{k||W&&me()},Re=Ee,je=oe=>{if(k)return;const xe=oe.target||{};if(W){if(xe.preloadTimeout)return;xe.preloadTimeout=setTimeout(()=>{xe.preloadTimeout=null,me()},se)}},Ie=oe=>{if(k)return;const xe=oe.target||{};xe.preloadTimeout&&(clearTimeout(xe.preloadTimeout),xe.preloadTimeout=null)},Ve=oe=>xe=>{var rt;(rt=xe.persist)==null||rt.call(xe),oe.filter(Boolean).forEach(nt=>{xe.defaultPrevented||nt(xe)})},He=X?_d(o,{})??{}:{},we=X?{}:_d(c,{}),Ne=[A,He.className,we.className].filter(Boolean).join(" "),Je={...C,...He.style,...we.style};return{...E,...He,...we,href:k?void 0:G.maskedLocation?r.history.createHref(G.maskedLocation.href):r.history.createHref(G.href),ref:a,onClick:Ve([R,ge]),onFocus:Ve([O,Ee]),onMouseEnter:Ve([F,je]),onMouseLeave:Ve([j,Ie]),onTouchStart:Ve([D,Re]),disabled:!!k,target:b,...Object.keys(Je).length&&{style:Je},...Ne&&{className:Ne},...k&&{role:"link","aria-disabled":!0},...X&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}const Sn=x.forwardRef((e,t)=>{const{_asChild:r,...n}=e,{type:s,ref:i,...a}=vee(n,t),o=typeof n.children=="function"?n.children({isActive:a["data-status"]==="active"}):n.children;return typeof r>"u"&&delete a.disabled,x.createElement(r||"a",{...a,ref:i},o)});function xee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bee(){const e=Si(),t=x.useRef({router:e,mounted:!1}),r=Us({select:({isLoading:h})=>h}),[n,s]=x.useState(!1),i=Us({select:h=>h.matches.some(f=>f.status==="pending"),structuralSharing:!0}),a=L4(r),o=r||n||i,c=L4(o),u=r||i,d=L4(u);return e.isServer||(e.startReactTransition=h=>{s(!0),x.startTransition(()=>{h(),s(!1)})}),x.useEffect(()=>{const h=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ed(e.latestLocation.href)!==Ed(f.href)&&e.commitLocation({...f,replace:!0}),()=>{h()}},[e,e.history]),P0(()=>{if(typeof window<"u"&&e.clientSsr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(f){console.error(f)}})()},[e]),P0(()=>{a&&!r&&e.emit({type:"onLoad",...Mf(e.state)})},[a,e,r]),P0(()=>{d&&!u&&e.emit({type:"onBeforeRouteMount",...Mf(e.state)})},[u,d,e]),P0(()=>{c&&!o&&(e.emit({type:"onResolved",...Mf(e.state)}),e.__store.setState(h=>({...h,status:"idle",resolvedLocation:h.location})))},[o,c,e]),null}function wee(){const e=Si(),t=e.options.defaultPendingComponent?l.jsx(e.options.defaultPendingComponent,{}):null,r=e.isServer||typeof document<"u"&&e.clientSsr?ov:x.Suspense,n=l.jsxs(r,{fallback:t,children:[l.jsx(bee,{}),l.jsx(kee,{})]});return e.options.InnerWrap?l.jsx(e.options.InnerWrap,{children:n}):n}function kee(){const e=Us({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),t=Us({select:r=>r.loadedAt});return l.jsx(xw.Provider,{value:e,children:l.jsx(g_,{getResetKey:()=>t,errorComponent:yw,onCatch:r=>{r.message||r.toString()},children:e?l.jsx(UO,{matchId:e}):null})})}function See(){const e=Si();return Us({select:t=>{var r;return[t.location.href,(r=t.resolvedLocation)==null?void 0:r.href,t.status]},structuralSharing:!0}),x.useCallback(t=>{const{pending:r,caseSensitive:n,fuzzy:s,includeSearch:i,...a}=t;return e.matchRoute(a,{pending:r,caseSensitive:n,fuzzy:s,includeSearch:i})},[e])}const zO=["component","errorComponent","pendingComponent","notFoundComponent"];function _ee(e){var t;for(const r of zO)if((t=e.options[r])!=null&&t.preload)return!0;return!1}function $4(e,t){if(e==null)return{};if("~standard"in e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new fx("Async validation not supported");if(r.issues)throw new fx(JSON.stringify(r.issues,void 0,2),{cause:r});return r.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function Eee(e){return new Nee(e)}class Nee{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||r.basepath&&r.basepath!==s.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${YX(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?oJ({initialEntries:[this.basepath||"/"]}):aJ()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new f6(Aee(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),hee(this)),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=a=>{a.forEach((o,c)=>{o.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const u=this.routesById[o.id];if(fo(!u,`Duplicate routes found with id: ${String(o.id)}`),this.routesById[o.id]=o,!o.isRoot&&o.path){const h=Ed(o.fullPath);(!this.routesByPath[h]||o.fullPath.endsWith("/"))&&(this.routesByPath[h]=o)}const d=o.children;d!=null&&d.length&&n(d)})};n([this.routeTree]);const s=[];Object.values(this.routesById).forEach((a,o)=>{var c;if(a.isRoot||!a.path)return;const u=p_(a.fullPath),d=gp(u);for(;d.length>1&&((c=d[0])==null?void 0:c.value)==="/";)d.shift();const h=d.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);s.push({child:a,trimmed:u,parsed:d,index:o,scores:h})}),this.flatRoutes=s.sort((a,o)=>{const c=Math.min(a.scores.length,o.scores.length);for(let u=0;u<c;u++)if(a.scores[u]!==o.scores[u])return o.scores[u]-a.scores[u];if(a.scores.length!==o.scores.length)return o.scores.length-a.scores.length;for(let u=0;u<c;u++)if(a.parsed[u].value!==o.parsed[u].value)return a.parsed[u].value>o.parsed[u].value?1:-1;return a.index-o.index}).map((a,o)=>(a.child.rank=o,a.child))},this.subscribe=(r,n)=>{const s={eventType:r,fn:n};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const s=({pathname:c,search:u,hash:d,state:h})=>{const f=this.options.parseSearch(u),p=this.options.stringifySearch(f);return{pathname:c,searchStr:p,search:Sa(r==null?void 0:r.search,f),hash:d.split("#").reverse()[0]??"",href:`${c}${p}${d}`,state:Sa(r==null?void 0:r.state,h)}},i=s(n??this.history.location),{__tempLocation:a,__tempKey:o}=i.state;if(a&&(!o||o===this.tempLocationKey)){const c=s(a);return c.state.key=i.state.key,delete c.state.__tempLocation,{...c,maskedLocation:i}}return i},this.resolvePathWithBase=(r,n)=>QX({basepath:this.basepath,base:r,to:gw(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let s={};const i=Ed(r.pathname),a=d=>X1(this.basepath,i,{to:d.fullPath,caseSensitive:d.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let o=(n==null?void 0:n.to)!==void 0?this.routesByPath[n.to]:void 0;o?s=a(o):o=this.flatRoutes.find(d=>{const h=a(d);return h?(s=h,!0):!1});let c=o||this.routesById[Oi];const u=[c];for(;c.parentRoute;)c=c.parentRoute,u.unshift(c);return{matchedRoutes:u,routeParams:s,foundRoute:o}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(i={},a)=>{var o,c,u,d,h,f;const p=i._fromLocation?this.matchRoutes(i._fromLocation,{_buildLocation:!0}):this.state.matches,m=i.from!=null?p.find(D=>X1(this.basepath,Ed(D.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0,g=(m==null?void 0:m.pathname)||this.latestLocation.pathname;fo(i.from==null||m!=null,"Could not find match for from: "+i.from);const w=(o=this.state.pendingMatches)!=null&&o.length?(c=am(this.state.pendingMatches))==null?void 0:c.search:((u=am(p))==null?void 0:u.search)||this.latestLocation.search,y=a==null?void 0:a.matchedRoutes.filter(D=>p.find(z=>z.routeId===D.id));let v;if(i.to){const D=(m==null?void 0:m.fullPath)||this.latestLocation.pathname;v=this.resolvePathWithBase(D,`${i.to}`)}else{const D=this.routesById[(d=y==null?void 0:y.find(z=>{const Y=Q1({path:z.fullPath,params:(a==null?void 0:a.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Kl([this.basepath,Y])===g}))==null?void 0:d.id];v=this.resolvePathWithBase(g,(D==null?void 0:D.to)??g)}const b={...(h=am(p))==null?void 0:h.params};let k=(i.params??!0)===!0?b:{...b,..._d(i.params,b)};Object.keys(k).length>0&&(a==null||a.matchedRoutes.map(D=>{var z;return((z=D.options.params)==null?void 0:z.stringify)??D.options.stringifyParams}).filter(Boolean).forEach(D=>{k={...k,...D(k)}})),v=Q1({path:v,params:k??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let C=w;if(r._includeValidateSearch&&((f=this.options.search)!=null&&f.strict)){let D={};a==null||a.matchedRoutes.forEach(z=>{try{z.options.validateSearch&&(D={...D,...$4(z.options.validateSearch,{...D,...C})??{}})}catch{}}),C=D}C=(D=>{const z=(a==null?void 0:a.matchedRoutes.reduce((te,Z)=>{var J;const V=[];if("search"in Z.options)(J=Z.options.search)!=null&&J.middlewares&&V.push(...Z.options.search.middlewares);else if(Z.options.preSearchFilters||Z.options.postSearchFilters){const re=({search:E,next:N})=>{let L=E;"preSearchFilters"in Z.options&&Z.options.preSearchFilters&&(L=Z.options.preSearchFilters.reduce((G,W)=>W(G),E));const M=N(L);return"postSearchFilters"in Z.options&&Z.options.postSearchFilters?Z.options.postSearchFilters.reduce((G,W)=>W(G),M):M};V.push(re)}if(r._includeValidateSearch&&Z.options.validateSearch){const re=({search:E,next:N})=>{try{const L=N(E);return{...L,...$4(Z.options.validateSearch,L)??{}}}catch{}};V.push(re)}return te.concat(V)},[]))??[],Y=({search:te})=>i.search?i.search===!0?te:_d(i.search,te):{};z.push(Y);const Q=(te,Z)=>{if(te>=z.length)return Z;const J=z[te];return J({search:Z,next:re=>Q(te+1,re)})};return Q(0,D)})(C),C=Sa(w,C);const R=this.options.stringifySearch(C),O=i.hash===!0?this.latestLocation.hash:i.hash?_d(i.hash,this.latestLocation.hash):void 0,F=O?`#${O}`:"";let j=i.state===!0?this.latestLocation.state:i.state?_d(i.state,this.latestLocation.state):{};return j=Sa(this.latestLocation.state,j),{pathname:v,search:C,searchStr:R,state:j,hash:O??"",href:`${v}${R}${F}`,unmaskOnReload:i.unmaskOnReload}},s=(i={},a)=>{var o;const c=n(i);let u=a?n(a):void 0;if(!u){let f={};const p=(o=this.options.routeMasks)==null?void 0:o.find(m=>{const g=X1(this.basepath,c.pathname,{to:m.from,caseSensitive:!1,fuzzy:!1});return g?(f=g,!0):!1});if(p){const{from:m,...g}=p;a={...d6(r,["from"]),...g,params:f},u=n(a)}}const d=this.getMatchedRoutes(c,i),h=n(i,d);if(u){const f=this.getMatchedRoutes(u,a),p=n(a,f);h.maskedLocation=p}return h};return r.mask?s(r,{...d6(r,["from"]),...r.mask}):s(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...s})=>{const i=()=>{const c=["key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(d=>{s.state[d]=this.latestLocation.state[d]});const u=Pf(s.state,this.latestLocation.state);return c.forEach(d=>{delete s.state[d]}),u},a=this.latestLocation.href===s.href,o=this.commitLocationPromise;if(this.commitLocationPromise=Xh(()=>{o==null||o.resolve()}),a&&i())this.load();else{let{maskedLocation:c,hashScrollIntoView:u,...d}=s;c&&(d={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[s.replace?"replace":"push"](d.href,d.state,{ignoreBlocker:n})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:s,viewTransition:i,ignoreBlocker:a,href:o,...c}={})=>{if(o){const d=this.history.location.state.__TSR_index,h=Bm(o,{__TSR_index:r?d:d+1});c.to=h.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const u=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...u,viewTransition:i,replace:r,resetScroll:n,hashScrollIntoView:s,ignoreBlocker:a})},this.navigate=({to:r,reloadDocument:n,href:s,...i})=>{if(n){if(!s){const a=this.buildLocation({to:r,...i});s=this.history.createHref(a.href)}i.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...i,href:s,to:r})},this.load=async r=>{this.latestLocation=this.parseLocation(this.latestLocation);let n,s,i;for(i=new Promise(a=>{this.startReactTransition(async()=>{var o;try{const c=this.latestLocation,u=this.state.resolvedLocation;this.cancelMatches();let d;M4(()=>{d=this.matchRoutes(c),this.__store.setState(h=>({...h,status:"pending",isLoading:!0,location:c,pendingMatches:d,cachedMatches:h.cachedMatches.filter(f=>!d.find(p=>p.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...Mf({resolvedLocation:u,location:c})}),this.emit({type:"onBeforeLoad",...Mf({resolvedLocation:u,location:c})}),await this.loadMatches({sync:r==null?void 0:r.sync,matches:d,location:c,onReady:async()=>{this.startViewTransition(async()=>{let h,f,p;M4(()=>{this.__store.setState(m=>{const g=m.matches,w=m.pendingMatches||m.matches;return h=g.filter(y=>!w.find(v=>v.id===y.id)),f=w.filter(y=>!g.find(v=>v.id===y.id)),p=g.filter(y=>w.find(v=>v.id===y.id)),{...m,isLoading:!1,loadedAt:Date.now(),matches:w,pendingMatches:void 0,cachedMatches:[...m.cachedMatches,...h.filter(y=>y.status!=="error")]}}),this.clearExpiredCache()}),[[h,"onLeave"],[f,"onEnter"],[p,"onStay"]].forEach(([m,g])=>{m.forEach(w=>{var y,v;(v=(y=this.looseRoutesById[w.routeId].options)[g])==null||v.call(y,w)})})})}})}catch(c){O4(c)?(n=c,this.isServer||this.navigate({...n,replace:!0,ignoreBlocker:!0})):Na(c)&&(s=c),this.__store.setState(u=>({...u,statusCode:n?n.statusCode:s?404:u.matches.some(d=>d.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===i&&((o=this.commitLocationPromise)==null||o.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(a=>({...a,statusCode:404}))},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;typeof n=="object"&&this.isViewTransitionTypesSupported?s={update:r,types:n.types}:s=r,document.startViewTransition(s)}else r()},this.updateMatch=(r,n)=>{var s;let i;const a=(s=this.state.pendingMatches)==null?void 0:s.find(d=>d.id===r),o=this.state.matches.find(d=>d.id===r),c=this.state.cachedMatches.find(d=>d.id===r),u=a?"pendingMatches":o?"matches":c?"cachedMatches":"";return u&&this.__store.setState(d=>{var h;return{...d,[u]:(h=d[u])==null?void 0:h.map(f=>f.id===r?i=n(f):f)}}),i},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:s,onReady:i,updateMatch:a=this.updateMatch,sync:o})=>{let c,u=!1;const d=async()=>{u||(u=!0,await(i==null?void 0:i()))},h=p=>!!(s&&!this.state.matches.find(m=>m.id===p));!this.isServer&&!this.state.matches.length&&d();const f=(p,m)=>{var g,w,y,v;if(O4(m)&&!m.reloadDocument)throw m;if(dd(m)||Na(m)){if(a(p.id,b=>({...b,status:dd(m)?"redirected":Na(m)?"notFound":"error",isFetching:!1,error:m,beforeLoadPromise:void 0,loaderPromise:void 0})),m.routeId||(m.routeId=p.routeId),(g=p.beforeLoadPromise)==null||g.resolve(),(w=p.loaderPromise)==null||w.resolve(),(y=p.loadPromise)==null||y.resolve(),dd(m))throw u=!0,m=this.resolveRedirect({...m,_fromLocation:r}),m;if(Na(m))throw this._handleNotFound(n,m,{updateMatch:a}),(v=this.serverSsr)==null||v.onMatchSettled({router:this,match:this.getMatch(p.id)}),m}};try{await new Promise((p,m)=>{(async()=>{var g,w,y;try{const v=(C,A,R)=>{var O,F;const{id:j,routeId:D}=n[C],z=this.looseRoutesById[D];if(A instanceof Promise)throw A;A.routerCode=R,c=c??C,f(this.getMatch(j),A);try{(F=(O=z.options).onError)==null||F.call(O,A)}catch(Y){A=Y,f(this.getMatch(j),A)}a(j,Y=>{var Q,te;return(Q=Y.beforeLoadPromise)==null||Q.resolve(),(te=Y.loadPromise)==null||te.resolve(),{...Y,error:A,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[C,{id:A,routeId:R}]of n.entries()){const O=this.getMatch(A),F=(g=n[C-1])==null?void 0:g.id,j=this.looseRoutesById[R],D=j.options.pendingMs??this.options.defaultPendingMs,z=!!(i&&!this.isServer&&!h(A)&&(j.options.loader||j.options.beforeLoad)&&typeof D=="number"&&D!==1/0&&(j.options.pendingComponent??this.options.defaultPendingComponent));let Y=!0;if((O.beforeLoadPromise||O.loaderPromise)&&(z&&setTimeout(()=>{try{d()}catch{}},D),await O.beforeLoadPromise,Y=this.getMatch(A).status!=="success"),Y){try{a(A,se=>({...se,loadPromise:Xh(()=>{var X;(X=se.loadPromise)==null||X.resolve()}),beforeLoadPromise:Xh()}));const Q=new AbortController;let te;z&&(te=setTimeout(()=>{try{d()}catch{}},D));const{paramsError:Z,searchError:J}=this.getMatch(A);Z&&v(C,Z,"PARSE_PARAMS"),J&&v(C,J,"VALIDATE_SEARCH");const V=()=>F?this.getMatch(F).context:this.options.context??{};a(A,se=>({...se,isFetching:"beforeLoad",fetchCount:se.fetchCount+1,abortController:Q,pendingTimeout:te,context:{...V(),...se.__routeContext}}));const{search:re,params:E,context:N,cause:L}=this.getMatch(A),M=h(A),G={search:re,abortController:Q,params:E,preload:M,context:N,location:r,navigate:se=>this.navigate({...se,_fromLocation:r}),buildLocation:this.buildLocation,cause:M?"preload":L,matches:n},W=await((y=(w=j.options).beforeLoad)==null?void 0:y.call(w,G))??{};(dd(W)||Na(W))&&v(C,W,"BEFORE_LOAD"),a(A,se=>({...se,__beforeLoadContext:W,context:{...V(),...se.__routeContext,...W},abortController:Q}))}catch(Q){v(C,Q,"BEFORE_LOAD")}a(A,Q=>{var te;return(te=Q.beforeLoadPromise)==null||te.resolve(),{...Q,beforeLoadPromise:void 0,isFetching:!1}})}}const b=n.slice(0,c),k=[];b.forEach(({id:C,routeId:A},R)=>{k.push((async()=>{const{loaderPromise:O}=this.getMatch(C);let F=!1,j=!1;if(O){await O;const D=this.getMatch(C);D.error&&f(D,D.error)}else{const D=k[R-1],z=this.looseRoutesById[A],Y=()=>{const{params:L,loaderDeps:M,abortController:G,context:W,cause:se}=this.getMatch(C),X=h(C);return{params:L,deps:M,preload:!!X,parentMatchPromise:D,abortController:G,context:W,location:r,navigate:me=>this.navigate({...me,_fromLocation:r}),cause:X?"preload":se,route:z}},Q=Date.now()-this.getMatch(C).updatedAt,te=h(C),Z=te?z.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:z.options.staleTime??this.options.defaultStaleTime??0,J=z.options.shouldReload,V=typeof J=="function"?J(Y()):J;a(C,L=>({...L,loaderPromise:Xh(),preload:!!te&&!this.state.matches.find(M=>M.id===C)}));const re=async()=>{var L,M,G,W,se,X,me,be,ge,Ee,Re;try{const je=async()=>{const Ie=this.getMatch(C);Ie.minPendingPromise&&await Ie.minPendingPromise};try{this.loadRouteChunk(z),a(C,rt=>({...rt,isFetching:"loader"}));const Ie=await((M=(L=z.options).loader)==null?void 0:M.call(L,Y()));f(this.getMatch(C),Ie),await z._lazyPromise,await je();const Ve={matches:n,match:this.getMatch(C),params:this.getMatch(C).params,loaderData:Ie},He=(W=(G=z.options).head)==null?void 0:W.call(G,Ve),we=He==null?void 0:He.meta,Ne=He==null?void 0:He.links,Je=He==null?void 0:He.scripts,oe=(X=(se=z.options).scripts)==null?void 0:X.call(se,Ve),xe=(be=(me=z.options).headers)==null?void 0:be.call(me,{loaderData:Ie});a(C,rt=>({...rt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Ie,meta:we,links:Ne,headScripts:Je,headers:xe,scripts:oe}))}catch(Ie){let Ve=Ie;await je(),f(this.getMatch(C),Ie);try{(Ee=(ge=z.options).onError)==null||Ee.call(ge,Ie)}catch(He){Ve=He,f(this.getMatch(C),He)}a(C,He=>({...He,error:Ve,status:"error",isFetching:!1}))}(Re=this.serverSsr)==null||Re.onMatchSettled({router:this,match:this.getMatch(C)}),await z._componentsPromise}catch(je){a(C,Ie=>({...Ie,loaderPromise:void 0})),f(this.getMatch(C),je)}},{status:E,invalid:N}=this.getMatch(C);F=E==="success"&&(N||(V??Q>Z)),te&&z.options.preload===!1||(F&&!o?(j=!0,(async()=>{try{await re();const{loaderPromise:L,loadPromise:M}=this.getMatch(C);L==null||L.resolve(),M==null||M.resolve(),a(C,G=>({...G,loaderPromise:void 0}))}catch(L){O4(L)&&await this.navigate(L)}})()):(E!=="success"||F&&o)&&await re())}if(!j){const{loaderPromise:D,loadPromise:z}=this.getMatch(C);D==null||D.resolve(),z==null||z.resolve()}return a(C,D=>({...D,isFetching:j?D.isFetching:!1,loaderPromise:j?D.loaderPromise:void 0,invalid:!1})),this.getMatch(C)})())}),await Promise.all(k),p()}catch(v){m(v)}})()}),await d()}catch(p){if(dd(p)||Na(p))throw Na(p)&&!s&&await d(),p}return n},this.invalidate=r=>{const n=s=>{var i;return((i=r==null?void 0:r.filter)==null?void 0:i.call(r,s))??!0?{...s,invalid:!0,...s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var i;return{...s,matches:s.matches.map(n),cachedMatches:s.cachedMatches.map(n),pendingMatches:(i=s.pendingMatches)==null?void 0:i.map(n)}}),this.load({sync:r==null?void 0:r.sync})},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r==null?void 0:r.filter;n!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(i=>!n(i))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const s=this.looseRoutesById[n.routeId];if(!s.options.loader)return!0;const i=(n.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<i)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:s,...i}=n.options;Object.assign(r.options,i)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(zO.map(async n=>{const s=r.options[n];s!=null&&s.preload&&await s.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let s=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(o=>o.id)),a=new Set([...i,...this.state.cachedMatches.map(o=>o.id)]);M4(()=>{s.forEach(o=>{a.has(o.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,o]}))})});try{return s=await this.loadMatches({matches:s,location:n,preload:!0,updateMatch:(o,c)=>{i.has(o)?s=s.map(u=>u.id===o?c(u):u):this.updateMatch(o,c)}}),s}catch(o){if(dd(o))return o.reloadDocument?void 0:await this.preloadRoute({...o,_fromLocation:n});Na(o)||console.error(o);return}},this.matchRoute=(r,n)=>{const s={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},i=this.buildLocation(s);if(n!=null&&n.pending&&this.state.status!=="pending")return!1;const o=((n==null?void 0:n.pending)===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=X1(this.basepath,o.pathname,{...n,to:i.pathname});return!c||r.params&&!Pf(c,r.params,{partial:!0})?!1:c&&((n==null?void 0:n.includeSearch)??!0)?Pf(o.search,i.search,{partial:!0})?c:!1:c},this._handleNotFound=(r,n,{updateMatch:s=this.updateMatch}={})=>{const i=Object.fromEntries(r.map(c=>[c.routeId,c]));let a=(n.global?this.looseRoutesById[Oi]:this.looseRoutesById[n.routeId])||this.looseRoutesById[Oi];for(;!a.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&a.id!==Oi;)a=a.parentRoute,fo(a);const o=i[a.id];fo(o,"Could not find match for route: "+a.id),s(o.id,c=>({...c,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&a.parentRoute&&(n.routeId=a.parentRoute.id,this._handleNotFound(r,n,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??nJ,parseSearch:t.parseSearch??rJ}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,r,n){return typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},n):this.matchRoutesInternal(t,r)}matchRoutesInternal(t,r){const{foundRoute:n,matchedRoutes:s,routeParams:i}=this.getMatchedRoutes(t,r==null?void 0:r.dest);let a=!1;(n?n.path!=="/"&&i["**"]:Ed(t.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):a=!0);const o=(()=>{if(a){if(this.options.notFoundMode!=="root")for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.children)return f.id}return Oi}})(),c=s.map(h=>{var f;let p;const m=((f=h.options.params)==null?void 0:f.parse)??h.options.parseParams;if(m)try{const g=m(i);Object.assign(i,g)}catch(g){if(p=new Cee(g.message,{cause:g}),r!=null&&r.throwOnError)throw p;return p}}),u=[],d=h=>(h==null?void 0:h.id)?h.context??this.options.context??{}:this.options.context??{};return s.forEach((h,f)=>{var p,m;const g=u[f-1],[w,y,v]=(()=>{const Y=(g==null?void 0:g.search)??t.search,Q=(g==null?void 0:g._strictSearch)??{};try{const te=$4(h.options.validateSearch,{...Y})??{};return[{...Y,...te},{...Q,...te},void 0]}catch(te){let Z=te;if(te instanceof fx||(Z=new fx(te.message,{cause:te})),r!=null&&r.throwOnError)throw Z;return[Y,{},Z]}})(),b=((m=(p=h.options).loaderDeps)==null?void 0:m.call(p,{search:w}))??"",k=b?JSON.stringify(b):"",{usedParams:C,interpolatedPath:A}=Q1({path:h.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),R=Q1({path:h.id,params:i,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+k,O=this.getMatch(R),F=this.state.matches.find(Y=>Y.routeId===h.id),j=F?"stay":"enter";let D;if(O)D={...O,cause:j,params:F?Sa(F.params,i):i,_strictParams:C,search:Sa(F?F.search:O.search,w),_strictSearch:y};else{const Y=h.options.loader||h.options.beforeLoad||h.lazyFn||_ee(h)?"pending":"success";D={id:R,index:f,routeId:h.id,params:F?Sa(F.params,i):i,_strictParams:C,pathname:Kl([this.basepath,A]),updatedAt:Date.now(),search:F?Sa(F.search,w):w,_strictSearch:y,searchError:void 0,status:Y,isFetching:!1,error:void 0,paramsError:c[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:j,loaderDeps:F?Sa(F.loaderDeps,b):b,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:Xh(),fullPath:h.fullPath}}r!=null&&r.preload||(D.globalNotFound=o===h.id),D.searchError=v;const z=d(g);D.context={...z,...D.__routeContext,...D.__beforeLoadContext},u.push(D)}),u.forEach((h,f)=>{var p,m,g,w,y,v,b,k;const C=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&(r==null?void 0:r._buildLocation)!==!0){const R=u[f-1],O=d(R),F={deps:h.loaderDeps,params:h.params,context:O,location:t,navigate:j=>this.navigate({...j,_fromLocation:t}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:u};h.__routeContext=((m=(p=C.options).context)==null?void 0:m.call(p,F))??{},h.context={...O,...h.__routeContext,...h.__beforeLoadContext}}if(h.status==="success"){h.headers=(w=(g=C.options).headers)==null?void 0:w.call(g,{loaderData:h.loaderData});const R={matches:u,match:h,params:h.params,loaderData:h.loaderData},O=(v=(y=C.options).head)==null?void 0:v.call(y,R);h.links=O==null?void 0:O.links,h.headScripts=O==null?void 0:O.scripts,h.meta=O==null?void 0:O.meta,h.scripts=(k=(b=C.options).scripts)==null?void 0:k.call(b,R)}}),u}}class fx extends Error{}class Cee extends Error{}function Aee(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Tee({router:e,children:t,...r}){e.update({...e.options,...r,context:{...e.options.context,...r.context}});const n=OO(),s=l.jsx(n.Provider,{value:e,children:t});return e.options.Wrap?l.jsx(e.options.Wrap,{children:s}):s}function Ree({router:e,...t}){return l.jsx(Tee,{router:e,...t,children:l.jsx(wee,{})})}function Iee(e){return Us({select:t=>t.location})}var Gp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eh=typeof window>"u"||"Deno"in globalThis;function Ca(){}function jee(e,t){return typeof e=="function"?e(t):e}function m6(e){return typeof e=="number"&&e>=0&&e!==1/0}function HO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Lf(e,t){return typeof e=="function"?e(t):e}function ho(e,t){return typeof e=="function"?e(t):e}function eA(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==v_(a,t.options))return!1}else if(!Um(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function tA(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(th(t.options.mutationKey)!==th(i))return!1}else if(!Um(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function v_(e,t){return((t==null?void 0:t.queryKeyHashFn)||th)(e)}function th(e){return JSON.stringify(e,(t,r)=>g6(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Um(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Um(e[r],t[r])):!1}function VO(e,t){if(e===t)return e;const r=rA(e)&&rA(t);if(r||g6(e)&&g6(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=VO(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:o}return t}function px(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function rA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g6(e){if(!nA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!nA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nA(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mee(e){return new Promise(t=>{setTimeout(t,e)})}function y6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?VO(e,t):t}function Pee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Oee(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var x_=Symbol();function qO(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===x_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var jd,Zc,Kf,xj,Dee=(xj=class extends Gp{constructor(){super();rr(this,jd);rr(this,Zc);rr(this,Kf);St(this,Kf,t=>{if(!eh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){le(this,Zc)||this.setEventListener(le(this,Kf))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Zc))==null||t.call(this),St(this,Zc,void 0))}setEventListener(t){var r;St(this,Kf,t),(r=le(this,Zc))==null||r.call(this),St(this,Zc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){le(this,jd)!==t&&(St(this,jd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof le(this,jd)=="boolean"?le(this,jd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jd=new WeakMap,Zc=new WeakMap,Kf=new WeakMap,xj),b_=new Dee,Yf,Qc,Zf,bj,Lee=(bj=class extends Gp{constructor(){super();rr(this,Yf,!0);rr(this,Qc);rr(this,Zf);St(this,Zf,t=>{if(!eh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){le(this,Qc)||this.setEventListener(le(this,Zf))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Qc))==null||t.call(this),St(this,Qc,void 0))}setEventListener(t){var r;St(this,Zf,t),(r=le(this,Qc))==null||r.call(this),St(this,Qc,t(this.setOnline.bind(this)))}setOnline(t){le(this,Yf)!==t&&(St(this,Yf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return le(this,Yf)}},Yf=new WeakMap,Qc=new WeakMap,Zf=new WeakMap,bj),mx=new Lee;function v6(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function $ee(e){return Math.min(1e3*2**e,3e4)}function WO(e){return(e??"online")==="online"?mx.isOnline():!0}var GO=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function F4(e){return e instanceof GO}function KO(e){let t=!1,r=0,n=!1,s;const i=v6(),a=g=>{var w;n||(f(new GO(g)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>b_.isFocused()&&(e.networkMode==="always"||mx.isOnline())&&e.canRun(),d=()=>WO(e.networkMode)&&e.canRun(),h=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),i.resolve(g))},f=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var w;s=y=>{(n||u())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var A;if(n)return;const v=e.retry??(eh?0:3),b=e.retryDelay??$ee,k=typeof b=="function"?b(r,y):b,C=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!C){f(y);return}r++,(A=e.onFail)==null||A.call(e,r,y),Mee(k).then(()=>u()?void 0:p()).then(()=>{t?f(y):m()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),i)}}function Fee(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var ps=Fee(),Md,wj,YO=(wj=class{constructor(){rr(this,Md)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m6(this.gcTime)&&St(this,Md,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(eh?1/0:5*60*1e3))}clearGcTimeout(){le(this,Md)&&(clearTimeout(le(this,Md)),St(this,Md,void 0))}},Md=new WeakMap,wj),Qf,Xf,Ea,Pd,Zs,Og,Od,io,Tl,kj,Bee=(kj=class extends YO{constructor(t){super();rr(this,io);rr(this,Qf);rr(this,Xf);rr(this,Ea);rr(this,Pd);rr(this,Zs);rr(this,Og);rr(this,Od);St(this,Od,!1),St(this,Og,t.defaultOptions),this.setOptions(t.options),this.observers=[],St(this,Pd,t.client),St(this,Ea,le(this,Pd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,St(this,Qf,Uee(this.options)),this.state=t.state??le(this,Qf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,Zs))==null?void 0:t.promise}setOptions(t){this.options={...le(this,Og),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Ea).remove(this)}setData(t,r){const n=y6(this.state.data,t,this.options);return Pr(this,io,Tl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pr(this,io,Tl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=le(this,Zs))==null?void 0:n.promise;return(s=le(this,Zs))==null||s.cancel(t),r?r.then(Ca).catch(Ca):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Qf))}isActive(){return this.observers.some(t=>ho(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===x_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!HO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,Zs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,Zs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Ea).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(le(this,Zs)&&(le(this,Od)?le(this,Zs).cancel({revert:!0}):le(this,Zs).cancelRetry()),this.scheduleGc()),le(this,Ea).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pr(this,io,Tl).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(le(this,Zs))return le(this,Zs).continueRetry(),le(this,Zs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(St(this,Od,!0),n.signal)})},i=()=>{const h=qO(this.options,r),f={client:le(this,Pd),queryKey:this.queryKey,meta:this.meta};return s(f),St(this,Od,!1),this.options.persister?this.options.persister(h,f,this):h(f)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:le(this,Pd),state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),St(this,Xf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Pr(this,io,Tl).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=h=>{var f,p,m,g;F4(h)&&h.silent||Pr(this,io,Tl).call(this,{type:"error",error:h}),F4(h)||((p=(f=le(this,Ea).config).onError)==null||p.call(f,h,this),(g=(m=le(this,Ea).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return St(this,Zs,KO({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,p,m,g;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){o(w);return}(p=(f=le(this,Ea).config).onSuccess)==null||p.call(f,h,this),(g=(m=le(this,Ea).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,f)=>{Pr(this,io,Tl).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Pr(this,io,Tl).call(this,{type:"pause"})},onContinue:()=>{Pr(this,io,Tl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),le(this,Zs).start()}},Qf=new WeakMap,Xf=new WeakMap,Ea=new WeakMap,Pd=new WeakMap,Zs=new WeakMap,Og=new WeakMap,Od=new WeakMap,io=new WeakSet,Tl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ZO(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return F4(s)&&s.revert&&le(this,Xf)?{...le(this,Xf),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ps.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),le(this,Ea).notify({query:this,type:"updated",action:t})})},kj);function ZO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Uee(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vo,Sj,zee=(Sj=class extends Gp{constructor(t={}){super();rr(this,Vo);this.config=t,St(this,Vo,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??v_(s,r);let a=this.get(i);return a||(a=new Bee({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){le(this,Vo).has(t.queryHash)||(le(this,Vo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=le(this,Vo).get(t.queryHash);r&&(t.destroy(),r===t&&le(this,Vo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,Vo).get(t)}getAll(){return[...le(this,Vo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>eA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>eA(t,n)):r}notify(t){ps.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ps.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ps.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vo=new WeakMap,Sj),qo,ui,Dd,Wo,$c,_j,Hee=(_j=class extends YO{constructor(t){super();rr(this,Wo);rr(this,qo);rr(this,ui);rr(this,Dd);this.mutationId=t.mutationId,St(this,ui,t.mutationCache),St(this,qo,[]),this.state=t.state||QO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,qo).includes(t)||(le(this,qo).push(t),this.clearGcTimeout(),le(this,ui).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){St(this,qo,le(this,qo).filter(r=>r!==t)),this.scheduleGc(),le(this,ui).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,qo).length||(this.state.status==="pending"?this.scheduleGc():le(this,ui).remove(this))}continue(){var t;return((t=le(this,Dd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,o,c,u,d,h,f,p,m,g,w,y,v,b,k,C,A,R;St(this,Dd,KO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,F)=>{Pr(this,Wo,$c).call(this,{type:"failed",failureCount:O,error:F})},onPause:()=>{Pr(this,Wo,$c).call(this,{type:"pause"})},onContinue:()=>{Pr(this,Wo,$c).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,ui).canRun(this)}));const r=this.state.status==="pending",n=!le(this,Dd).canStart();try{if(!r){Pr(this,Wo,$c).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=le(this,ui).config).onMutate)==null?void 0:i.call(s,t,this));const F=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));F!==this.state.context&&Pr(this,Wo,$c).call(this,{type:"pending",context:F,variables:t,isPaused:n})}const O=await le(this,Dd).start();return await((u=(c=le(this,ui).config).onSuccess)==null?void 0:u.call(c,O,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,O,t,this.state.context)),await((p=(f=le(this,ui).config).onSettled)==null?void 0:p.call(f,O,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,O,null,t,this.state.context)),Pr(this,Wo,$c).call(this,{type:"success",data:O}),O}catch(O){try{throw await((y=(w=le(this,ui).config).onError)==null?void 0:y.call(w,O,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,O,t,this.state.context)),await((C=(k=le(this,ui).config).onSettled)==null?void 0:C.call(k,void 0,O,this.state.variables,this.state.context,this)),await((R=(A=this.options).onSettled)==null?void 0:R.call(A,void 0,O,t,this.state.context)),O}finally{Pr(this,Wo,$c).call(this,{type:"error",error:O})}}finally{le(this,ui).runNext(this)}}},qo=new WeakMap,ui=new WeakMap,Dd=new WeakMap,Wo=new WeakSet,$c=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ps.batch(()=>{le(this,qo).forEach(n=>{n.onMutationUpdate(t)}),le(this,ui).notify({mutation:this,type:"updated",action:t})})},_j);function QO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ol,ao,Dg,Ej,Vee=(Ej=class extends Gp{constructor(t={}){super();rr(this,Ol);rr(this,ao);rr(this,Dg);this.config=t,St(this,Ol,new Set),St(this,ao,new Map),St(this,Dg,0)}build(t,r,n){const s=new Hee({mutationCache:this,mutationId:++I1(this,Dg)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){le(this,Ol).add(t);const r=ty(t);if(typeof r=="string"){const n=le(this,ao).get(r);n?n.push(t):le(this,ao).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,Ol).delete(t)){const r=ty(t);if(typeof r=="string"){const n=le(this,ao).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&le(this,ao).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ty(t);if(typeof r=="string"){const n=le(this,ao).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ty(t);if(typeof r=="string"){const s=(n=le(this,ao).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ps.batch(()=>{le(this,Ol).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,Ol).clear(),le(this,ao).clear()})}getAll(){return Array.from(le(this,Ol))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tA(r,n))}findAll(t={}){return this.getAll().filter(r=>tA(t,r))}notify(t){ps.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ps.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ca))))}},Ol=new WeakMap,ao=new WeakMap,Dg=new WeakMap,Ej);function ty(e){var t;return(t=e.options.scope)==null?void 0:t.id}function sA(e){return{onFetch:(t,r)=>{var d,h,f,p,m;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=qO(t.options,t.fetchOptions),v=async(b,k,C)=>{if(g)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const A={client:t.client,queryKey:t.queryKey,pageParam:k,direction:C?"backward":"forward",meta:t.options.meta};w(A);const R=await y(A),{maxPages:O}=t.options,F=C?Oee:Pee;return{pages:F(b.pages,R,O),pageParams:F(b.pageParams,k,O)}};if(s&&i.length){const b=s==="backward",k=b?qee:iA,C={pages:i,pageParams:a},A=k(n,C);o=await v(C,A,b)}else{const b=e??i.length;do{const k=c===0?a[0]??n.initialPageParam:iA(n,o);if(c>0&&k==null)break;o=await v(o,k),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function iA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gn,Xc,Jc,Jf,ep,eu,tp,rp,Nj,Wee=(Nj=class{constructor(e={}){rr(this,Gn);rr(this,Xc);rr(this,Jc);rr(this,Jf);rr(this,ep);rr(this,eu);rr(this,tp);rr(this,rp);St(this,Gn,e.queryCache||new zee),St(this,Xc,e.mutationCache||new Vee),St(this,Jc,e.defaultOptions||{}),St(this,Jf,new Map),St(this,ep,new Map),St(this,eu,0)}mount(){I1(this,eu)._++,le(this,eu)===1&&(St(this,tp,b_.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Gn).onFocus())})),St(this,rp,mx.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Gn).onOnline())})))}unmount(){var e,t;I1(this,eu)._--,le(this,eu)===0&&((e=le(this,tp))==null||e.call(this),St(this,tp,void 0),(t=le(this,rp))==null||t.call(this),St(this,rp,void 0))}isFetching(e){return le(this,Gn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,Xc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,Gn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=le(this,Gn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Lf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return le(this,Gn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=le(this,Gn).get(n.queryHash),i=s==null?void 0:s.state.data,a=jee(t,i);if(a!==void 0)return le(this,Gn).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ps.batch(()=>le(this,Gn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,Gn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=le(this,Gn);ps.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=le(this,Gn),n={type:"active",...e};return ps.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ps.batch(()=>le(this,Gn).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ca).catch(Ca)}invalidateQueries(e,t={}){return ps.batch(()=>{if(le(this,Gn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const r={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ps.batch(()=>le(this,Gn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ca)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ca)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=le(this,Gn).build(this,t);return r.isStaleByTime(Lf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ca).catch(Ca)}fetchInfiniteQuery(e){return e.behavior=sA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ca).catch(Ca)}ensureInfiniteQueryData(e){return e.behavior=sA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mx.isOnline()?le(this,Xc).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Gn)}getMutationCache(){return le(this,Xc)}getDefaultOptions(){return le(this,Jc)}setDefaultOptions(e){St(this,Jc,e)}setQueryDefaults(e,t){le(this,Jf).set(th(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,Jf).values()],r={};return t.forEach(n=>{Um(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){le(this,ep).set(th(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,ep).values()];let r={};return t.forEach(n=>{Um(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Jc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=v_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===x_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Jc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,Gn).clear(),le(this,Xc).clear()}},Gn=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,Jf=new WeakMap,ep=new WeakMap,eu=new WeakMap,tp=new WeakMap,rp=new WeakMap,Nj),ji,Gr,Lg,di,Ld,np,tu,Go,$g,sp,ip,$d,Fd,ru,ap,sn,O0,x6,b6,w6,k6,S6,_6,E6,XO,Cj,Gee=(Cj=class extends Gp{constructor(t,r){super();rr(this,sn);rr(this,ji);rr(this,Gr);rr(this,Lg);rr(this,di);rr(this,Ld);rr(this,np);rr(this,tu);rr(this,Go);rr(this,$g);rr(this,sp);rr(this,ip);rr(this,$d);rr(this,Fd);rr(this,ru);rr(this,ap,new Set);this.options=r,St(this,ji,t),St(this,Go,null),St(this,tu,v6()),this.options.experimental_prefetchInRender||le(this,tu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(le(this,Gr).addObserver(this),aA(le(this,Gr),this.options)?Pr(this,sn,O0).call(this):this.updateResult(),Pr(this,sn,k6).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return N6(le(this,Gr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return N6(le(this,Gr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pr(this,sn,S6).call(this),Pr(this,sn,_6).call(this),le(this,Gr).removeObserver(this)}setOptions(t,r){const n=this.options,s=le(this,Gr);if(this.options=le(this,ji).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ho(this.options.enabled,le(this,Gr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pr(this,sn,E6).call(this),le(this,Gr).setOptions(this.options),n._defaulted&&!px(this.options,n)&&le(this,ji).getQueryCache().notify({type:"observerOptionsUpdated",query:le(this,Gr),observer:this});const i=this.hasListeners();i&&oA(le(this,Gr),s,this.options,n)&&Pr(this,sn,O0).call(this),this.updateResult(r),i&&(le(this,Gr)!==s||ho(this.options.enabled,le(this,Gr))!==ho(n.enabled,le(this,Gr))||Lf(this.options.staleTime,le(this,Gr))!==Lf(n.staleTime,le(this,Gr)))&&Pr(this,sn,x6).call(this);const a=Pr(this,sn,b6).call(this);i&&(le(this,Gr)!==s||ho(this.options.enabled,le(this,Gr))!==ho(n.enabled,le(this,Gr))||a!==le(this,ru))&&Pr(this,sn,w6).call(this,a)}getOptimisticResult(t){const r=le(this,ji).getQueryCache().build(le(this,ji),t),n=this.createResult(r,t);return Yee(this,n)&&(St(this,di,n),St(this,np,this.options),St(this,Ld,le(this,Gr).state)),n}getCurrentResult(){return le(this,di)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){le(this,ap).add(t)}getCurrentQuery(){return le(this,Gr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=le(this,ji).defaultQueryOptions(t),n=le(this,ji).getQueryCache().build(le(this,ji),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pr(this,sn,O0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),le(this,di)))}createResult(t,r){var O;const n=le(this,Gr),s=this.options,i=le(this,di),a=le(this,Ld),o=le(this,np),u=t!==n?t.state:le(this,Lg),{state:d}=t;let h={...d},f=!1,p;if(r._optimisticResults){const F=this.hasListeners(),j=!F&&aA(t,r),D=F&&oA(t,n,r,s);(j||D)&&(h={...h,...ZO(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:w}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(a==null?void 0:a.data)&&r.select===le(this,$g))p=le(this,sp);else try{St(this,$g,r.select),p=r.select(h.data),p=y6(i==null?void 0:i.data,p,r),St(this,sp,p),St(this,Go,null)}catch(F){St(this,Go,F)}else p=h.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let F;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))F=i.data;else if(F=typeof r.placeholderData=="function"?r.placeholderData((O=le(this,ip))==null?void 0:O.state.data,le(this,ip)):r.placeholderData,r.select&&F!==void 0)try{F=r.select(F),St(this,Go,null)}catch(j){St(this,Go,j)}F!==void 0&&(w="success",p=y6(i==null?void 0:i.data,F,r),f=!0)}le(this,Go)&&(m=le(this,Go),p=le(this,sp),g=Date.now(),w="error");const y=h.fetchStatus==="fetching",v=w==="pending",b=w==="error",k=v&&y,C=p!==void 0,R={status:w,fetchStatus:h.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&C,isStale:w_(t,r),refetch:this.refetch,promise:le(this,tu)};if(this.options.experimental_prefetchInRender){const F=z=>{R.status==="error"?z.reject(R.error):R.data!==void 0&&z.resolve(R.data)},j=()=>{const z=St(this,tu,R.promise=v6());F(z)},D=le(this,tu);switch(D.status){case"pending":t.queryHash===n.queryHash&&F(D);break;case"fulfilled":(R.status==="error"||R.data!==D.value)&&j();break;case"rejected":(R.status!=="error"||R.error!==D.reason)&&j();break}}return R}updateResult(t){const r=le(this,di),n=this.createResult(le(this,Gr),this.options);if(St(this,Ld,le(this,Gr).state),St(this,np,this.options),le(this,Ld).data!==void 0&&St(this,ip,le(this,Gr)),px(n,r))return;St(this,di,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!le(this,ap).size)return!0;const c=new Set(o??le(this,ap));return this.options.throwOnError&&c.add("error"),Object.keys(le(this,di)).some(u=>{const d=u;return le(this,di)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),Pr(this,sn,XO).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pr(this,sn,k6).call(this)}},ji=new WeakMap,Gr=new WeakMap,Lg=new WeakMap,di=new WeakMap,Ld=new WeakMap,np=new WeakMap,tu=new WeakMap,Go=new WeakMap,$g=new WeakMap,sp=new WeakMap,ip=new WeakMap,$d=new WeakMap,Fd=new WeakMap,ru=new WeakMap,ap=new WeakMap,sn=new WeakSet,O0=function(t){Pr(this,sn,E6).call(this);let r=le(this,Gr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ca)),r},x6=function(){Pr(this,sn,S6).call(this);const t=Lf(this.options.staleTime,le(this,Gr));if(eh||le(this,di).isStale||!m6(t))return;const n=HO(le(this,di).dataUpdatedAt,t)+1;St(this,$d,setTimeout(()=>{le(this,di).isStale||this.updateResult()},n))},b6=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(le(this,Gr)):this.options.refetchInterval)??!1},w6=function(t){Pr(this,sn,_6).call(this),St(this,ru,t),!(eh||ho(this.options.enabled,le(this,Gr))===!1||!m6(le(this,ru))||le(this,ru)===0)&&St(this,Fd,setInterval(()=>{(this.options.refetchIntervalInBackground||b_.isFocused())&&Pr(this,sn,O0).call(this)},le(this,ru)))},k6=function(){Pr(this,sn,x6).call(this),Pr(this,sn,w6).call(this,Pr(this,sn,b6).call(this))},S6=function(){le(this,$d)&&(clearTimeout(le(this,$d)),St(this,$d,void 0))},_6=function(){le(this,Fd)&&(clearInterval(le(this,Fd)),St(this,Fd,void 0))},E6=function(){const t=le(this,ji).getQueryCache().build(le(this,ji),this.options);if(t===le(this,Gr))return;const r=le(this,Gr);St(this,Gr,t),St(this,Lg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},XO=function(t){ps.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(le(this,di))}),le(this,ji).getQueryCache().notify({query:le(this,Gr),type:"observerResultsUpdated"})})},Cj);function Kee(e,t){return ho(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aA(e,t){return Kee(e,t)||e.state.data!==void 0&&N6(e,t,t.refetchOnMount)}function N6(e,t,r){if(ho(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&w_(e,t)}return!1}function oA(e,t,r,n){return(e!==t||ho(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&w_(e,r)}function w_(e,t){return ho(t.enabled,e)!==!1&&e.isStaleByTime(Lf(t.staleTime,e))}function Yee(e,t){return!px(e.getCurrentResult(),t)}var nu,su,Mi,Dl,rc,lv,C6,Aj,Zee=(Aj=class extends Gp{constructor(r,n){super();rr(this,rc);rr(this,nu);rr(this,su);rr(this,Mi);rr(this,Dl);St(this,nu,r),this.setOptions(n),this.bindMethods(),Pr(this,rc,lv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=le(this,nu).defaultMutationOptions(r),px(this.options,n)||le(this,nu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:le(this,Mi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&th(n.mutationKey)!==th(this.options.mutationKey)?this.reset():((s=le(this,Mi))==null?void 0:s.state.status)==="pending"&&le(this,Mi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=le(this,Mi))==null||r.removeObserver(this)}onMutationUpdate(r){Pr(this,rc,lv).call(this),Pr(this,rc,C6).call(this,r)}getCurrentResult(){return le(this,su)}reset(){var r;(r=le(this,Mi))==null||r.removeObserver(this),St(this,Mi,void 0),Pr(this,rc,lv).call(this),Pr(this,rc,C6).call(this)}mutate(r,n){var s;return St(this,Dl,n),(s=le(this,Mi))==null||s.removeObserver(this),St(this,Mi,le(this,nu).getMutationCache().build(le(this,nu),this.options)),le(this,Mi).addObserver(this),le(this,Mi).execute(r)}},nu=new WeakMap,su=new WeakMap,Mi=new WeakMap,Dl=new WeakMap,rc=new WeakSet,lv=function(){var n;const r=((n=le(this,Mi))==null?void 0:n.state)??QO();St(this,su,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},C6=function(r){ps.batch(()=>{var n,s,i,a,o,c,u,d;if(le(this,Dl)&&this.hasListeners()){const h=le(this,su).variables,f=le(this,su).context;(r==null?void 0:r.type)==="success"?((s=(n=le(this,Dl)).onSuccess)==null||s.call(n,r.data,h,f),(a=(i=le(this,Dl)).onSettled)==null||a.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(o=le(this,Dl)).onError)==null||c.call(o,r.error,h,f),(d=(u=le(this,Dl)).onSettled)==null||d.call(u,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(le(this,su))})})},Aj),JO=x.createContext(void 0),Wa=e=>{const t=x.useContext(JO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Qee=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(JO.Provider,{value:e,children:t})),eD=x.createContext(!1),Xee=()=>x.useContext(eD);eD.Provider;function Jee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ete=x.createContext(Jee()),tte=()=>x.useContext(ete);function tD(e,t){return typeof e=="function"?e(...t):!!e}function A6(){}var rte=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},nte=e=>{x.useEffect(()=>{e.clearReset()},[e])},ste=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||tD(r,[e.error,n])),ite=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},ate=(e,t)=>e.isLoading&&e.isFetching&&!t,ote=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function lte(e,t,r){var h,f,p,m,g;const n=Wa(),s=Xee(),i=tte(),a=n.defaultQueryOptions(e);(f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=s?"isRestoring":"optimistic",ite(a),rte(a,i),nte(i);const o=!n.getQueryCache().get(a.queryHash),[c]=x.useState(()=>new t(n,a)),u=c.getOptimisticResult(a),d=!s&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(w=>{const y=d?c.subscribe(ps.batchCalls(w)):A6;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),ote(a,u))throw lA(a,c,i);if(ste({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((m=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,a,u),a.experimental_prefetchInRender&&!eh&&ate(u,s)){const w=o?lA(a,c,i):(g=n.getQueryCache().get(a.queryHash))==null?void 0:g.promise;w==null||w.catch(A6).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function ts(e,t){return lte(e,Gee)}function cte(e,t){const r=Wa(),[n]=x.useState(()=>new Zee(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(a=>n.subscribe(ps.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((a,o)=>{n.mutate(a,o).catch(A6)},[n]);if(s.error&&tD(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var ute=Object.defineProperty,rD=e=>{throw TypeError(e)},dte=(e,t,r)=>t in e?ute(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ir=(e,t,r)=>dte(e,typeof t!="symbol"?t+"":t,r),k_=(e,t,r)=>t.has(e)||rD("Cannot "+r),Be=(e,t,r)=>(k_(e,t,"read from private field"),r?r.call(e):t.get(e)),pi=(e,t,r)=>t.has(e)?rD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Qn=(e,t,r,n)=>(k_(e,t,"write to private field"),t.set(e,r),r),Cr=(e,t,r)=>(k_(e,t,"access private method"),r),hte=(e,t,r,n)=>({set _(s){Qn(e,t,s)},get _(){return Be(e,t,n)}});const _l=256;class fte{constructor(t="="){Ir(this,"_paddingCharacter"),this._paddingCharacter=t}encodedLength(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0}encode(t){let r="",n=0;for(;n<t.length-2;n+=3){let i=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(i>>>3*6&63),r+=this._encodeByte(i>>>2*6&63),r+=this._encodeByte(i>>>1*6&63),r+=this._encodeByte(i>>>0*6&63)}const s=t.length-n;if(s>0){let i=t[n]<<16|(s===2?t[n+1]<<8:0);r+=this._encodeByte(i>>>3*6&63),r+=this._encodeByte(i>>>2*6&63),s===2?r+=this._encodeByte(i>>>1*6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r}maxDecodedLength(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0}decodedLength(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))}decode(t){if(t.length===0)return new Uint8Array(0);const r=this._getPaddingLength(t),n=t.length-r,s=new Uint8Array(this.maxDecodedLength(n));let i=0,a=0,o=0,c=0,u=0,d=0,h=0;for(;a<n-4;a+=4)c=this._decodeChar(t.charCodeAt(a+0)),u=this._decodeChar(t.charCodeAt(a+1)),d=this._decodeChar(t.charCodeAt(a+2)),h=this._decodeChar(t.charCodeAt(a+3)),s[i++]=c<<2|u>>>4,s[i++]=u<<4|d>>>2,s[i++]=d<<6|h,o|=c&_l,o|=u&_l,o|=d&_l,o|=h&_l;if(a<n-1&&(c=this._decodeChar(t.charCodeAt(a)),u=this._decodeChar(t.charCodeAt(a+1)),s[i++]=c<<2|u>>>4,o|=c&_l,o|=u&_l),a<n-2&&(d=this._decodeChar(t.charCodeAt(a+2)),s[i++]=u<<4|d>>>2,o|=d&_l),a<n-3&&(h=this._decodeChar(t.charCodeAt(a+3)),s[i++]=d<<6|h,o|=h&_l),o!==0)throw new Error("Base64Coder: incorrect characters for decoding");return s}_encodeByte(t){let r=t;return r+=65,r+=25-t>>>8&6,r+=51-t>>>8&-75,r+=61-t>>>8&-15,r+=62-t>>>8&3,String.fromCharCode(r)}_decodeChar(t){let r=_l;return r+=(42-t&t-44)>>>8&-256+t-43+62,r+=(46-t&t-48)>>>8&-256+t-47+63,r+=(47-t&t-58)>>>8&-256+t-48+52,r+=(64-t&t-91)>>>8&-256+t-65+0,r+=(96-t&t-123)>>>8&-256+t-97+26,r}_getPaddingLength(t){let r=0;if(this._paddingCharacter){for(let n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r}}const nD=new fte;function oa(e){return nD.encode(e)}function zm(e){return nD.decode(e)}function _s(e,t=new Uint8Array(4),r=0){return t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function cA(e,t=new Uint8Array(8),r=0){return _s(e>>>0,t,r),_s(e/4294967296>>>0,t,r+4),t}function Ia(e){for(let t=0;t<e.length;t++)e[t]=0;return e}const pte=20;function mte(e,t,r){let n=1634760805,s=857760878,i=2036477234,a=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],m=r[31]<<24|r[30]<<16|r[29]<<8|r[28],g=t[3]<<24|t[2]<<16|t[1]<<8|t[0],w=t[7]<<24|t[6]<<16|t[5]<<8|t[4],y=t[11]<<24|t[10]<<16|t[9]<<8|t[8],v=t[15]<<24|t[14]<<16|t[13]<<8|t[12],b=n,k=s,C=i,A=a,R=o,O=c,F=u,j=d,D=h,z=f,Y=p,Q=m,te=g,Z=w,J=y,V=v;for(let re=0;re<pte;re+=2)b=b+R|0,te^=b,te=te>>>16|te<<16,D=D+te|0,R^=D,R=R>>>20|R<<12,k=k+O|0,Z^=k,Z=Z>>>16|Z<<16,z=z+Z|0,O^=z,O=O>>>20|O<<12,C=C+F|0,J^=C,J=J>>>16|J<<16,Y=Y+J|0,F^=Y,F=F>>>20|F<<12,A=A+j|0,V^=A,V=V>>>16|V<<16,Q=Q+V|0,j^=Q,j=j>>>20|j<<12,C=C+F|0,J^=C,J=J>>>24|J<<8,Y=Y+J|0,F^=Y,F=F>>>25|F<<7,A=A+j|0,V^=A,V=V>>>24|V<<8,Q=Q+V|0,j^=Q,j=j>>>25|j<<7,k=k+O|0,Z^=k,Z=Z>>>24|Z<<8,z=z+Z|0,O^=z,O=O>>>25|O<<7,b=b+R|0,te^=b,te=te>>>24|te<<8,D=D+te|0,R^=D,R=R>>>25|R<<7,b=b+O|0,V^=b,V=V>>>16|V<<16,Y=Y+V|0,O^=Y,O=O>>>20|O<<12,k=k+F|0,te^=k,te=te>>>16|te<<16,Q=Q+te|0,F^=Q,F=F>>>20|F<<12,C=C+j|0,Z^=C,Z=Z>>>16|Z<<16,D=D+Z|0,j^=D,j=j>>>20|j<<12,A=A+R|0,J^=A,J=J>>>16|J<<16,z=z+J|0,R^=z,R=R>>>20|R<<12,C=C+j|0,Z^=C,Z=Z>>>24|Z<<8,D=D+Z|0,j^=D,j=j>>>25|j<<7,A=A+R|0,J^=A,J=J>>>24|J<<8,z=z+J|0,R^=z,R=R>>>25|R<<7,k=k+F|0,te^=k,te=te>>>24|te<<8,Q=Q+te|0,F^=Q,F=F>>>25|F<<7,b=b+O|0,V^=b,V=V>>>24|V<<8,Y=Y+V|0,O^=Y,O=O>>>25|O<<7;_s(b+n|0,e,0),_s(k+s|0,e,4),_s(C+i|0,e,8),_s(A+a|0,e,12),_s(R+o|0,e,16),_s(O+c|0,e,20),_s(F+u|0,e,24),_s(j+d|0,e,28),_s(D+h|0,e,32),_s(z+f|0,e,36),_s(Y+p|0,e,40),_s(Q+m|0,e,44),_s(te+g|0,e,48),_s(Z+w|0,e,52),_s(J+y|0,e,56),_s(V+v|0,e,60)}function T6(e,t,r,n,s=0){if(e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");let i,a;if(s===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");i=new Uint8Array(16),a=i.length-t.length,i.set(t,a)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");i=t,a=s}const o=new Uint8Array(64);for(let c=0;c<r.length;c+=64){mte(o,i,e);for(let u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^o[u-c];gte(i,0,a)}return Ia(o),s===0&&Ia(i),n}function uA(e,t,r,n=0){return Ia(r),T6(e,t,r,r,n)}function gte(e,t,r){let n=1;for(;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}function yte(e,t){if(e.length!==t.length)return 0;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}function vte(e,t){return e.length===0||t.length===0?!1:yte(e,t)!==0}const xte=16;class bte{constructor(t){Ir(this,"digestLength",xte),Ir(this,"_buffer",new Uint8Array(16)),Ir(this,"_r",new Uint16Array(10)),Ir(this,"_h",new Uint16Array(10)),Ir(this,"_pad",new Uint16Array(8)),Ir(this,"_leftover",0),Ir(this,"_fin",0),Ir(this,"_finished",!1);let r=t[0]|t[1]<<8;this._r[0]=r&8191;let n=t[2]|t[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;let s=t[4]|t[5]<<8;this._r[2]=(n>>>10|s<<6)&7939;let i=t[6]|t[7]<<8;this._r[3]=(s>>>7|i<<9)&8191;let a=t[8]|t[9]<<8;this._r[4]=(i>>>4|a<<12)&255,this._r[5]=a>>>1&8190;let o=t[10]|t[11]<<8;this._r[6]=(a>>>14|o<<2)&8191;let c=t[12]|t[13]<<8;this._r[7]=(o>>>11|c<<5)&8065;let u=t[14]|t[15]<<8;this._r[8]=(c>>>8|u<<8)&8191,this._r[9]=u>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}_blocks(t,r,n){let s=this._fin?0:2048,i=this._h[0],a=this._h[1],o=this._h[2],c=this._h[3],u=this._h[4],d=this._h[5],h=this._h[6],f=this._h[7],p=this._h[8],m=this._h[9],g=this._r[0],w=this._r[1],y=this._r[2],v=this._r[3],b=this._r[4],k=this._r[5],C=this._r[6],A=this._r[7],R=this._r[8],O=this._r[9];for(;n>=16;){let F=t[r+0]|t[r+1]<<8;i+=F&8191;let j=t[r+2]|t[r+3]<<8;a+=(F>>>13|j<<3)&8191;let D=t[r+4]|t[r+5]<<8;o+=(j>>>10|D<<6)&8191;let z=t[r+6]|t[r+7]<<8;c+=(D>>>7|z<<9)&8191;let Y=t[r+8]|t[r+9]<<8;u+=(z>>>4|Y<<12)&8191,d+=Y>>>1&8191;let Q=t[r+10]|t[r+11]<<8;h+=(Y>>>14|Q<<2)&8191;let te=t[r+12]|t[r+13]<<8;f+=(Q>>>11|te<<5)&8191;let Z=t[r+14]|t[r+15]<<8;p+=(te>>>8|Z<<8)&8191,m+=Z>>>5|s;let J=0,V=J;V+=i*g,V+=a*(5*O),V+=o*(5*R),V+=c*(5*A),V+=u*(5*C),J=V>>>13,V&=8191,V+=d*(5*k),V+=h*(5*b),V+=f*(5*v),V+=p*(5*y),V+=m*(5*w),J+=V>>>13,V&=8191;let re=J;re+=i*w,re+=a*g,re+=o*(5*O),re+=c*(5*R),re+=u*(5*A),J=re>>>13,re&=8191,re+=d*(5*C),re+=h*(5*k),re+=f*(5*b),re+=p*(5*v),re+=m*(5*y),J+=re>>>13,re&=8191;let E=J;E+=i*y,E+=a*w,E+=o*g,E+=c*(5*O),E+=u*(5*R),J=E>>>13,E&=8191,E+=d*(5*A),E+=h*(5*C),E+=f*(5*k),E+=p*(5*b),E+=m*(5*v),J+=E>>>13,E&=8191;let N=J;N+=i*v,N+=a*y,N+=o*w,N+=c*g,N+=u*(5*O),J=N>>>13,N&=8191,N+=d*(5*R),N+=h*(5*A),N+=f*(5*C),N+=p*(5*k),N+=m*(5*b),J+=N>>>13,N&=8191;let L=J;L+=i*b,L+=a*v,L+=o*y,L+=c*w,L+=u*g,J=L>>>13,L&=8191,L+=d*(5*O),L+=h*(5*R),L+=f*(5*A),L+=p*(5*C),L+=m*(5*k),J+=L>>>13,L&=8191;let M=J;M+=i*k,M+=a*b,M+=o*v,M+=c*y,M+=u*w,J=M>>>13,M&=8191,M+=d*g,M+=h*(5*O),M+=f*(5*R),M+=p*(5*A),M+=m*(5*C),J+=M>>>13,M&=8191;let G=J;G+=i*C,G+=a*k,G+=o*b,G+=c*v,G+=u*y,J=G>>>13,G&=8191,G+=d*w,G+=h*g,G+=f*(5*O),G+=p*(5*R),G+=m*(5*A),J+=G>>>13,G&=8191;let W=J;W+=i*A,W+=a*C,W+=o*k,W+=c*b,W+=u*v,J=W>>>13,W&=8191,W+=d*y,W+=h*w,W+=f*g,W+=p*(5*O),W+=m*(5*R),J+=W>>>13,W&=8191;let se=J;se+=i*R,se+=a*A,se+=o*C,se+=c*k,se+=u*b,J=se>>>13,se&=8191,se+=d*v,se+=h*y,se+=f*w,se+=p*g,se+=m*(5*O),J+=se>>>13,se&=8191;let X=J;X+=i*O,X+=a*R,X+=o*A,X+=c*C,X+=u*k,J=X>>>13,X&=8191,X+=d*b,X+=h*v,X+=f*y,X+=p*w,X+=m*g,J+=X>>>13,X&=8191,J=(J<<2)+J|0,J=J+V|0,V=J&8191,J=J>>>13,re+=J,i=V,a=re,o=E,c=N,u=L,d=M,h=G,f=W,p=se,m=X,r+=16,n-=16}this._h[0]=i,this._h[1]=a,this._h[2]=o,this._h[3]=c,this._h[4]=u,this._h[5]=d,this._h[6]=h,this._h[7]=f,this._h[8]=p,this._h[9]=m}finish(t,r=0){const n=new Uint16Array(10);let s,i,a,o;if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(s=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=s,s=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=s*5,s=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=s,s=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=s,n[0]=this._h[0]+5,s=n[0]>>>13,n[0]&=8191,o=1;o<10;o++)n[o]=this._h[o]+s,s=n[o]>>>13,n[o]&=8191;for(n[9]-=8192,i=(s^1)-1,o=0;o<10;o++)n[o]&=i;for(i=~i,o=0;o<10;o++)this._h[o]=this._h[o]&i|n[o];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,a=this._h[0]+this._pad[0],this._h[0]=a&65535,o=1;o<8;o++)a=(this._h[o]+this._pad[o]|0)+(a>>>16)|0,this._h[o]=a&65535;return t[r+0]=this._h[0]>>>0,t[r+1]=this._h[0]>>>8,t[r+2]=this._h[1]>>>0,t[r+3]=this._h[1]>>>8,t[r+4]=this._h[2]>>>0,t[r+5]=this._h[2]>>>8,t[r+6]=this._h[3]>>>0,t[r+7]=this._h[3]>>>8,t[r+8]=this._h[4]>>>0,t[r+9]=this._h[4]>>>8,t[r+10]=this._h[5]>>>0,t[r+11]=this._h[5]>>>8,t[r+12]=this._h[6]>>>0,t[r+13]=this._h[6]>>>8,t[r+14]=this._h[7]>>>0,t[r+15]=this._h[7]>>>8,this._finished=!0,this}update(t){let r=0,n=t.length,s;if(this._leftover){s=16-this._leftover,s>n&&(s=n);for(let i=0;i<s;i++)this._buffer[this._leftover+i]=t[r+i];if(n-=s,r+=s,this._leftover+=s,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(s=n-n%16,this._blocks(t,r,s),r+=s,n-=s),n){for(let i=0;i<n;i++)this._buffer[this._leftover+i]=t[r+i];this._leftover+=n}return this}digest(){if(this._finished)throw new Error("Poly1305 was finished");let t=new Uint8Array(16);return this.finish(t),t}clean(){return Ia(this._buffer),Ia(this._r),Ia(this._h),Ia(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this}}const wte=32,kte=12,Ste=16,dA=new Uint8Array(16);class S_{constructor(t){if(Ir(this,"nonceLength",kte),Ir(this,"tagLength",Ste),Ir(this,"_key"),t.length!==wte)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}seal(t,r,n,s){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");const i=new Uint8Array(16);i.set(t,i.length-t.length);const a=new Uint8Array(32);uA(this._key,i,a,4);const o=r.length+this.tagLength;let c;if(s){if(s.length!==o)throw new Error("ChaCha20Poly1305: incorrect destination length");c=s}else c=new Uint8Array(o);return T6(this._key,i,r,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),n),Ia(i),c}open(t,r,n,s){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;const i=new Uint8Array(16);i.set(t,i.length-t.length);const a=new Uint8Array(32);uA(this._key,i,a,4);const o=new Uint8Array(this.tagLength);if(this._authenticate(o,a,r.subarray(0,r.length-this.tagLength),n),!vte(o,r.subarray(r.length-this.tagLength,r.length)))return null;const c=r.length-this.tagLength;let u;if(s){if(s.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");u=s}else u=new Uint8Array(c);return T6(this._key,i,r.subarray(0,r.length-this.tagLength),u,4),Ia(i),u}clean(){return Ia(this._key),this}_authenticate(t,r,n,s){const i=new bte(r);s&&(i.update(s),s.length%16>0&&i.update(dA.subarray(s.length%16))),i.update(n),n.length%16>0&&i.update(dA.subarray(n.length%16));const a=new Uint8Array(8);s&&cA(s.length,a),i.update(a),cA(n.length,a),i.update(a);const o=i.digest();for(let c=0;c<o.length;c++)t[c]=o[c];i.clean(),Ia(o),Ia(a)}}const hA=65536;class _te{constructor(){Ir(this,"isAvailable",!1),Ir(this,"isInstantiated",!1),typeof crypto<"u"&&"getRandomValues"in crypto&&(this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=hA)crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,hA)));return r}}const Ete=new _te;function Nte(e,t=Ete){return t.randomBytes(e)}function sD(e,t){const r=new S_(e),n=Nte(12),s=new TextEncoder().encode(t),i=r.seal(n,s),a=new Uint8Array(n.length+i.length);return a.set(n),a.set(i,n.length),oa(a)}function R6(e,t){const r=new S_(e),n=zm(t),s=12,i=n.slice(0,s),a=n.slice(s),o=r.open(i,a);if(!o)throw new Error("Decryption failed");return new TextDecoder().decode(o)}var I6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cte(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ate(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fA;(function(e){(function(t){var r=typeof globalThis=="object"?globalThis:typeof I6=="object"?I6:typeof self=="object"?self:typeof this=="object"?this:o(),n=s(e);typeof r.Reflect<"u"&&(n=s(r.Reflect,n)),t(n,r),typeof r.Reflect>"u"&&(r.Reflect=e);function s(c,u){return function(d,h){Object.defineProperty(c,d,{configurable:!0,writable:!0,value:h}),u&&u(d,h)}}function i(){try{return Function("return this;")()}catch{}}function a(){try{return(0,eval)("(function() { return this; })()")}catch{}}function o(){return i()||a()}})(function(t,r){var n=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",i=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",a=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!o&&!c,d={create:o?function(){return kt(Object.create(null))}:c?function(){return kt({__proto__:null})}:function(){return kt({})},has:u?function(ce,pe){return n.call(ce,pe)}:function(ce,pe){return pe in ce},get:u?function(ce,pe){return n.call(ce,pe)?ce[pe]:void 0}:function(ce,pe){return ce[pe]}},h=Object.getPrototypeOf(Function),f=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:fe(),p=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Le(),m=typeof WeakMap=="function"?WeakMap:Ge(),g=s?Symbol.for("@reflect-metadata:registry"):void 0,w=nt(),y=tr(w);function v(ce,pe,Ae,$e){if(L(Ae)){if(!Ee(ce))throw new TypeError;if(!je(pe))throw new TypeError;return z(ce,pe)}else{if(!Ee(ce))throw new TypeError;if(!W(pe))throw new TypeError;if(!W($e)&&!L($e)&&!M($e))throw new TypeError;return M($e)&&($e=void 0),Ae=ge(Ae),Y(ce,pe,Ae,$e)}}t("decorate",v);function b(ce,pe){function Ae($e,pt){if(!W($e))throw new TypeError;if(!L(pt)&&!Ie(pt))throw new TypeError;V(ce,pe,$e,pt)}return Ae}t("metadata",b);function k(ce,pe,Ae,$e){if(!W(Ae))throw new TypeError;return L($e)||($e=ge($e)),V(ce,pe,Ae,$e)}t("defineMetadata",k);function C(ce,pe,Ae){if(!W(pe))throw new TypeError;return L(Ae)||(Ae=ge(Ae)),Q(ce,pe,Ae)}t("hasMetadata",C);function A(ce,pe,Ae){if(!W(pe))throw new TypeError;return L(Ae)||(Ae=ge(Ae)),te(ce,pe,Ae)}t("hasOwnMetadata",A);function R(ce,pe,Ae){if(!W(pe))throw new TypeError;return L(Ae)||(Ae=ge(Ae)),Z(ce,pe,Ae)}t("getMetadata",R);function O(ce,pe,Ae){if(!W(pe))throw new TypeError;return L(Ae)||(Ae=ge(Ae)),J(ce,pe,Ae)}t("getOwnMetadata",O);function F(ce,pe){if(!W(ce))throw new TypeError;return L(pe)||(pe=ge(pe)),re(ce,pe)}t("getMetadataKeys",F);function j(ce,pe){if(!W(ce))throw new TypeError;return L(pe)||(pe=ge(pe)),E(ce,pe)}t("getOwnMetadataKeys",j);function D(ce,pe,Ae){if(!W(pe))throw new TypeError;if(L(Ae)||(Ae=ge(Ae)),!W(pe))throw new TypeError;L(Ae)||(Ae=ge(Ae));var $e=ae(pe,Ae,!1);return L($e)?!1:$e.OrdinaryDeleteMetadata(ce,pe,Ae)}t("deleteMetadata",D);function z(ce,pe){for(var Ae=ce.length-1;Ae>=0;--Ae){var $e=ce[Ae],pt=$e(pe);if(!L(pt)&&!M(pt)){if(!je(pt))throw new TypeError;pe=pt}}return pe}function Y(ce,pe,Ae,$e){for(var pt=ce.length-1;pt>=0;--pt){var Xt=ce[pt],vr=Xt(pe,Ae,$e);if(!L(vr)&&!M(vr)){if(!W(vr))throw new TypeError;$e=vr}}return $e}function Q(ce,pe,Ae){var $e=te(ce,pe,Ae);if($e)return!0;var pt=xe(pe);return M(pt)?!1:Q(ce,pt,Ae)}function te(ce,pe,Ae){var $e=ae(pe,Ae,!1);return L($e)?!1:me($e.OrdinaryHasOwnMetadata(ce,pe,Ae))}function Z(ce,pe,Ae){var $e=te(ce,pe,Ae);if($e)return J(ce,pe,Ae);var pt=xe(pe);if(!M(pt))return Z(ce,pt,Ae)}function J(ce,pe,Ae){var $e=ae(pe,Ae,!1);if(!L($e))return $e.OrdinaryGetOwnMetadata(ce,pe,Ae)}function V(ce,pe,Ae,$e){var pt=ae(Ae,$e,!0);pt.OrdinaryDefineOwnMetadata(ce,pe,Ae,$e)}function re(ce,pe){var Ae=E(ce,pe),$e=xe(ce);if($e===null)return Ae;var pt=re($e,pe);if(pt.length<=0)return Ae;if(Ae.length<=0)return pt;for(var Xt=new p,vr=[],Wt=0,at=Ae;Wt<at.length;Wt++){var ct=at[Wt],yt=Xt.has(ct);yt||(Xt.add(ct),vr.push(ct))}for(var _t=0,xr=pt;_t<xr.length;_t++){var ct=xr[_t],yt=Xt.has(ct);yt||(Xt.add(ct),vr.push(ct))}return vr}function E(ce,pe){var Ae=ae(ce,pe,!1);return Ae?Ae.OrdinaryOwnMetadataKeys(ce,pe):[]}function N(ce){if(ce===null)return 1;switch(typeof ce){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ce===null?1:6;default:return 6}}function L(ce){return ce===void 0}function M(ce){return ce===null}function G(ce){return typeof ce=="symbol"}function W(ce){return typeof ce=="object"?ce!==null:typeof ce=="function"}function se(ce,pe){switch(N(ce)){case 0:return ce;case 1:return ce;case 2:return ce;case 3:return ce;case 4:return ce;case 5:return ce}var Ae="string",$e=He(ce,i);if($e!==void 0){var pt=$e.call(ce,Ae);if(W(pt))throw new TypeError;return pt}return X(ce)}function X(ce,pe){var Ae,$e;{var pt=ce.toString;if(Re(pt)){var $e=pt.call(ce);if(!W($e))return $e}var Ae=ce.valueOf;if(Re(Ae)){var $e=Ae.call(ce);if(!W($e))return $e}}throw new TypeError}function me(ce){return!!ce}function be(ce){return""+ce}function ge(ce){var pe=se(ce);return G(pe)?pe:be(pe)}function Ee(ce){return Array.isArray?Array.isArray(ce):ce instanceof Object?ce instanceof Array:Object.prototype.toString.call(ce)==="[object Array]"}function Re(ce){return typeof ce=="function"}function je(ce){return typeof ce=="function"}function Ie(ce){switch(N(ce)){case 3:return!0;case 4:return!0;default:return!1}}function Ve(ce,pe){return ce===pe||ce!==ce&&pe!==pe}function He(ce,pe){var Ae=ce[pe];if(Ae!=null){if(!Re(Ae))throw new TypeError;return Ae}}function we(ce){var pe=He(ce,a);if(!Re(pe))throw new TypeError;var Ae=pe.call(ce);if(!W(Ae))throw new TypeError;return Ae}function Ne(ce){return ce.value}function Je(ce){var pe=ce.next();return pe.done?!1:pe}function oe(ce){var pe=ce.return;pe&&pe.call(ce)}function xe(ce){var pe=Object.getPrototypeOf(ce);if(typeof ce!="function"||ce===h||pe!==h)return pe;var Ae=ce.prototype,$e=Ae&&Object.getPrototypeOf(Ae);if($e==null||$e===Object.prototype)return pe;var pt=$e.constructor;return typeof pt!="function"||pt===ce?pe:pt}function rt(){var ce;!L(g)&&typeof r.Reflect<"u"&&!(g in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(ce=Yt(r.Reflect));var pe,Ae,$e,pt=new m,Xt={registerProvider:vr,getProvider:at,setProvider:yt};return Xt;function vr(_t){if(!Object.isExtensible(Xt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ce===_t:break;case L(pe):pe=_t;break;case pe===_t:break;case L(Ae):Ae=_t;break;case Ae===_t:break;default:$e===void 0&&($e=new p),$e.add(_t);break}}function Wt(_t,xr){if(!L(pe)){if(pe.isProviderFor(_t,xr))return pe;if(!L(Ae)){if(Ae.isProviderFor(_t,xr))return pe;if(!L($e))for(var kr=we($e);;){var Mr=Je(kr);if(!Mr)return;var _r=Ne(Mr);if(_r.isProviderFor(_t,xr))return oe(kr),_r}}}if(!L(ce)&&ce.isProviderFor(_t,xr))return ce}function at(_t,xr){var kr=pt.get(_t),Mr;return L(kr)||(Mr=kr.get(xr)),L(Mr)&&(Mr=Wt(_t,xr),L(Mr)||(L(kr)&&(kr=new f,pt.set(_t,kr)),kr.set(xr,Mr))),Mr}function ct(_t){if(L(_t))throw new TypeError;return pe===_t||Ae===_t||!L($e)&&$e.has(_t)}function yt(_t,xr,kr){if(!ct(kr))throw new Error("Metadata provider not registered.");var Mr=at(_t,xr);if(Mr!==kr){if(!L(Mr))return!1;var _r=pt.get(_t);L(_r)&&(_r=new f,pt.set(_t,_r)),_r.set(xr,kr)}return!0}}function nt(){var ce;return!L(g)&&W(r.Reflect)&&Object.isExtensible(r.Reflect)&&(ce=r.Reflect[g]),L(ce)&&(ce=rt()),!L(g)&&W(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,g,{enumerable:!1,configurable:!1,writable:!1,value:ce}),ce}function tr(ce){var pe=new m,Ae={isProviderFor:function(ct,yt){var _t=pe.get(ct);return L(_t)?!1:_t.has(yt)},OrdinaryDefineOwnMetadata:vr,OrdinaryHasOwnMetadata:pt,OrdinaryGetOwnMetadata:Xt,OrdinaryOwnMetadataKeys:Wt,OrdinaryDeleteMetadata:at};return w.registerProvider(Ae),Ae;function $e(ct,yt,_t){var xr=pe.get(ct),kr=!1;if(L(xr)){if(!_t)return;xr=new f,pe.set(ct,xr),kr=!0}var Mr=xr.get(yt);if(L(Mr)){if(!_t)return;if(Mr=new f,xr.set(yt,Mr),!ce.setProvider(ct,yt,Ae))throw xr.delete(yt),kr&&pe.delete(ct),new Error("Wrong provider for target.")}return Mr}function pt(ct,yt,_t){var xr=$e(yt,_t,!1);return L(xr)?!1:me(xr.has(ct))}function Xt(ct,yt,_t){var xr=$e(yt,_t,!1);if(!L(xr))return xr.get(ct)}function vr(ct,yt,_t,xr){var kr=$e(_t,xr,!0);kr.set(ct,yt)}function Wt(ct,yt){var _t=[],xr=$e(ct,yt,!1);if(L(xr))return _t;for(var kr=xr.keys(),Mr=we(kr),_r=0;;){var Ci=Je(Mr);if(!Ci)return _t.length=_r,_t;var wa=Ne(Ci);try{_t[_r]=wa}catch(jo){try{oe(Mr)}finally{throw jo}}_r++}}function at(ct,yt,_t){var xr=$e(yt,_t,!1);if(L(xr)||!xr.delete(ct))return!1;if(xr.size===0){var kr=pe.get(yt);L(kr)||(kr.delete(_t),kr.size===0&&pe.delete(kr))}return!0}}function Yt(ce){var pe=ce.defineMetadata,Ae=ce.hasOwnMetadata,$e=ce.getOwnMetadata,pt=ce.getOwnMetadataKeys,Xt=ce.deleteMetadata,vr=new m,Wt={isProviderFor:function(at,ct){var yt=vr.get(at);return!L(yt)&&yt.has(ct)?!0:pt(at,ct).length?(L(yt)&&(yt=new p,vr.set(at,yt)),yt.add(ct),!0):!1},OrdinaryDefineOwnMetadata:pe,OrdinaryHasOwnMetadata:Ae,OrdinaryGetOwnMetadata:$e,OrdinaryOwnMetadataKeys:pt,OrdinaryDeleteMetadata:Xt};return Wt}function ae(ce,pe,Ae){var $e=w.getProvider(ce,pe);if(!L($e))return $e;if(Ae){if(w.setProvider(ce,pe,y))return y;throw new Error("Illegal state.")}}function fe(){var ce={},pe=[],Ae=function(){function Wt(at,ct,yt){this._index=0,this._keys=at,this._values=ct,this._selector=yt}return Wt.prototype["@@iterator"]=function(){return this},Wt.prototype[a]=function(){return this},Wt.prototype.next=function(){var at=this._index;if(at>=0&&at<this._keys.length){var ct=this._selector(this._keys[at],this._values[at]);return at+1>=this._keys.length?(this._index=-1,this._keys=pe,this._values=pe):this._index++,{value:ct,done:!1}}return{value:void 0,done:!0}},Wt.prototype.throw=function(at){throw this._index>=0&&(this._index=-1,this._keys=pe,this._values=pe),at},Wt.prototype.return=function(at){return this._index>=0&&(this._index=-1,this._keys=pe,this._values=pe),{value:at,done:!0}},Wt}(),$e=function(){function Wt(){this._keys=[],this._values=[],this._cacheKey=ce,this._cacheIndex=-2}return Object.defineProperty(Wt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Wt.prototype.has=function(at){return this._find(at,!1)>=0},Wt.prototype.get=function(at){var ct=this._find(at,!1);return ct>=0?this._values[ct]:void 0},Wt.prototype.set=function(at,ct){var yt=this._find(at,!0);return this._values[yt]=ct,this},Wt.prototype.delete=function(at){var ct=this._find(at,!1);if(ct>=0){for(var yt=this._keys.length,_t=ct+1;_t<yt;_t++)this._keys[_t-1]=this._keys[_t],this._values[_t-1]=this._values[_t];return this._keys.length--,this._values.length--,Ve(at,this._cacheKey)&&(this._cacheKey=ce,this._cacheIndex=-2),!0}return!1},Wt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ce,this._cacheIndex=-2},Wt.prototype.keys=function(){return new Ae(this._keys,this._values,pt)},Wt.prototype.values=function(){return new Ae(this._keys,this._values,Xt)},Wt.prototype.entries=function(){return new Ae(this._keys,this._values,vr)},Wt.prototype["@@iterator"]=function(){return this.entries()},Wt.prototype[a]=function(){return this.entries()},Wt.prototype._find=function(at,ct){if(!Ve(this._cacheKey,at)){this._cacheIndex=-1;for(var yt=0;yt<this._keys.length;yt++)if(Ve(this._keys[yt],at)){this._cacheIndex=yt;break}}return this._cacheIndex<0&&ct&&(this._cacheIndex=this._keys.length,this._keys.push(at),this._values.push(void 0)),this._cacheIndex},Wt}();return $e;function pt(Wt,at){return Wt}function Xt(Wt,at){return at}function vr(Wt,at){return[Wt,at]}}function Le(){var ce=function(){function pe(){this._map=new f}return Object.defineProperty(pe.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),pe.prototype.has=function(Ae){return this._map.has(Ae)},pe.prototype.add=function(Ae){return this._map.set(Ae,Ae),this},pe.prototype.delete=function(Ae){return this._map.delete(Ae)},pe.prototype.clear=function(){this._map.clear()},pe.prototype.keys=function(){return this._map.keys()},pe.prototype.values=function(){return this._map.keys()},pe.prototype.entries=function(){return this._map.entries()},pe.prototype["@@iterator"]=function(){return this.keys()},pe.prototype[a]=function(){return this.keys()},pe}();return ce}function Ge(){var ce=16,pe=d.create(),Ae=$e();return function(){function at(){this._key=$e()}return at.prototype.has=function(ct){var yt=pt(ct,!1);return yt!==void 0?d.has(yt,this._key):!1},at.prototype.get=function(ct){var yt=pt(ct,!1);return yt!==void 0?d.get(yt,this._key):void 0},at.prototype.set=function(ct,yt){var _t=pt(ct,!0);return _t[this._key]=yt,this},at.prototype.delete=function(ct){var yt=pt(ct,!1);return yt!==void 0?delete yt[this._key]:!1},at.prototype.clear=function(){this._key=$e()},at}();function $e(){var at;do at="@@WeakMap@@"+Wt();while(d.has(pe,at));return pe[at]=!0,at}function pt(at,ct){if(!n.call(at,Ae)){if(!ct)return;Object.defineProperty(at,Ae,{value:d.create()})}return at[Ae]}function Xt(at,ct){for(var yt=0;yt<ct;++yt)at[yt]=Math.random()*255|0;return at}function vr(at){if(typeof Uint8Array=="function"){var ct=new Uint8Array(at);return typeof crypto<"u"?crypto.getRandomValues(ct):typeof msCrypto<"u"?msCrypto.getRandomValues(ct):Xt(ct,at),ct}return Xt(new Array(at),at)}function Wt(){var at=vr(ce);at[6]=at[6]&79|64,at[8]=at[8]&191|128;for(var ct="",yt=0;yt<ce;++yt){var _t=at[yt];(yt===4||yt===6||yt===8)&&(ct+="-"),_t<16&&(ct+="0"),ct+=_t.toString(16).toLowerCase()}return ct}}function kt(ce){return ce.__=void 0,delete ce.__,ce}})})(fA||(fA={}));/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Tte="[object ArrayBuffer]";class vt{static isArrayBuffer(t){return Object.prototype.toString.call(t)===Tte}static toArrayBuffer(t){return this.isArrayBuffer(t)?t:t.byteLength===t.buffer.byteLength||t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:this.toUint8Array(t.buffer).slice(t.byteOffset,t.byteOffset+t.byteLength).buffer}static toUint8Array(t){return this.toView(t,Uint8Array)}static toView(t,r){if(t.constructor===r)return t;if(this.isArrayBuffer(t))return new r(t);if(this.isArrayBufferView(t))return new r(t.buffer,t.byteOffset,t.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(t){return this.isArrayBufferView(t)||this.isArrayBuffer(t)}static isArrayBufferView(t){return ArrayBuffer.isView(t)||t&&this.isArrayBuffer(t.buffer)}static isEqual(t,r){const n=vt.toUint8Array(t),s=vt.toUint8Array(r);if(n.length!==s.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==s[i])return!1;return!0}static concat(...t){let r;Array.isArray(t[0])&&!(t[1]instanceof Function)||Array.isArray(t[0])&&t[1]instanceof Function?r=t[0]:t[t.length-1]instanceof Function?r=t.slice(0,t.length-1):r=t;let n=0;for(const a of r)n+=a.byteLength;const s=new Uint8Array(n);let i=0;for(const a of r){const o=this.toUint8Array(a);s.set(o,i),i+=o.length}return t[t.length-1]instanceof Function?this.toView(s,t[t.length-1]):s.buffer}}const B4="string",Rte=/^[0-9a-f]+$/i,Ite=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,jte=/^[a-zA-Z0-9-_]+$/;class pA{static fromString(t){const r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n.buffer}static toString(t){const r=vt.toUint8Array(t);let n="";for(let s=0;s<r.length;s++)n+=String.fromCharCode(r[s]);return decodeURIComponent(escape(n))}}class Po{static toString(t,r=!1){const n=vt.toArrayBuffer(t),s=new DataView(n);let i="";for(let a=0;a<n.byteLength;a+=2){const o=s.getUint16(a,r);i+=String.fromCharCode(o)}return i}static fromString(t,r=!1){const n=new ArrayBuffer(t.length*2),s=new DataView(n);for(let i=0;i<t.length;i++)s.setUint16(i*2,t.charCodeAt(i),r);return n}}class Pt{static isHex(t){return typeof t===B4&&Rte.test(t)}static isBase64(t){return typeof t===B4&&Ite.test(t)}static isBase64Url(t){return typeof t===B4&&jte.test(t)}static ToString(t,r="utf8"){const n=vt.toUint8Array(t);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return Po.toString(n,!0);case"utf16":case"utf16be":return Po.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(t,r="utf8"){if(!t)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(t);case"binary":return this.FromBinary(t);case"hex":return this.FromHex(t);case"base64":return this.FromBase64(t);case"base64url":return this.FromBase64Url(t);case"utf16le":return Po.fromString(t,!0);case"utf16":case"utf16be":return Po.fromString(t);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(t){const r=vt.toUint8Array(t);if(typeof btoa<"u"){const n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(t){const r=this.formatString(t);if(!r)return new ArrayBuffer(0);if(!Pt.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(t){const r=this.formatString(t);if(!r)return new ArrayBuffer(0);if(!Pt.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(t){return this.ToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(t,r=Pt.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(t);case"utf8":return pA.fromString(t);case"utf16":case"utf16be":return Po.fromString(t);case"utf16le":case"usc2":return Po.fromString(t,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(t,r=Pt.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(t);case"utf8":return pA.toString(t);case"utf16":case"utf16be":return Po.toString(t);case"utf16le":case"usc2":return Po.toString(t,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(t){const r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return n.buffer}static ToBinary(t){const r=vt.toUint8Array(t);let n="";for(let s=0;s<r.length;s++)n+=String.fromCharCode(r[s]);return n}static ToHex(t){const r=vt.toUint8Array(t);let n="";const s=r.length;for(let i=0;i<s;i++){const a=r[i];a<16&&(n+="0"),n+=a.toString(16)}return n}static FromHex(t){let r=this.formatString(t);if(!r)return new ArrayBuffer(0);if(!Pt.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);const n=new Uint8Array(r.length/2);for(let s=0;s<r.length;s=s+2){const i=r.slice(s,s+2);n[s/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(t,r=!1){return Po.toString(t,r)}static FromUtf16String(t,r=!1){return Po.fromString(t,r)}static Base64Padding(t){const r=4-t.length%4;if(r<4)for(let n=0;n<r;n++)t+="=";return t}static formatString(t){return(t==null?void 0:t.replace(/[\n\r\t ]/g,""))||""}}Pt.DEFAULT_UTF8_ENCODING="utf8";function Mte(...e){const t=e.map(s=>s.byteLength).reduce((s,i)=>s+i),r=new Uint8Array(t);let n=0;return e.map(s=>new Uint8Array(s)).forEach(s=>{for(const i of s)r[n++]=i}),r.buffer}function gx(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<e.byteLength;s++)if(r[s]!==n[s])return!1;return!0}/*!
 Copyright (c) Peculiar Ventures, LLC
*/function vp(e,t){let r=0;if(e.length===1)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function rh(e,t,r=-1){const n=r;let s=e,i=0,a=Math.pow(2,t);for(let o=1;o<8;o++){if(e<a){let c;if(n<0)c=new ArrayBuffer(o),i=o;else{if(n<o)return new ArrayBuffer(0);c=new ArrayBuffer(n),i=n}const u=new Uint8Array(c);for(let d=o-1;d>=0;d--){const h=Math.pow(2,d*t);u[i-d-1]=Math.floor(s/h),s-=u[i-d-1]*h}return c}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function j6(...e){let t=0,r=0;for(const i of e)t+=i.length;const n=new ArrayBuffer(t),s=new Uint8Array(n);for(const i of e)s.set(i,r),r+=i.length;return s}function iD(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=e[0]===255&&e[1]&128,o=e[0]===0&&(e[1]&128)===0;(a||o)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let a=0;a<this.valueHex.byteLength;a++)r[a]=0;r[0]=e[0]&128;const n=vp(r,8),s=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(s);for(let a=0;a<this.valueHex.byteLength;a++)i[a]=e[a];return i[0]&=127,vp(i,8)-n}function Pte(e){const t=e<0?e*-1:e;let r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){const a=r-t,o=rh(a,8,n),c=new Uint8Array(o);return c[0]|=128,o}let s=rh(t,8,n),i=new Uint8Array(s);if(i[0]&128){const a=s.slice(0),o=new Uint8Array(a);s=new ArrayBuffer(s.byteLength+1),i=new Uint8Array(s);for(let c=0;c<a.byteLength;c++)i[c+1]=o[c];i[0]=0}return s}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function Ote(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<r.length;s++)if(r[s]!==n[s])return!1;return!0}function ra(e,t){const r=e.toString(10);if(t<r.length)return"";const n=t-r.length,s=new Array(n);for(let i=0;i<n;i++)s[i]="0";return s.join("").concat(r)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function yx(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function __(e){let t=0,r=0;for(let s=0;s<e.length;s++){const i=e[s];t+=i.byteLength}const n=new Uint8Array(t);for(let s=0;s<e.length;s++){const i=e[s];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}function xc(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):t.byteLength-r-n<0?(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class bw{constructor(){this.items=[]}write(t){this.items.push(t)}final(){return __(this.items)}}const b0=[new Uint8Array([1])],mA="0123456789",U4="name",gA="valueHexView",Dte="isHexOnly",Lte="idBlock",$te="tagClass",Fte="tagNumber",Bte="isConstructed",Ute="fromBER",zte="toBER",Hte="local",Di="",To=new ArrayBuffer(0),ww=new Uint8Array(0),Hm="EndOfContent",aD="OCTET STRING",oD="BIT STRING";function gl(e){var t;return t=class extends e{constructor(...r){var n;super(...r);const s=r[0]||{};this.isHexOnly=(n=s.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=s.valueHex?vt.toUint8Array(s.valueHex):ww}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(r){this.valueHexView=new Uint8Array(r)}fromBER(r,n,s){const i=r instanceof ArrayBuffer?new Uint8Array(r):r;if(!xc(this,i,n,s))return-1;const a=n+s;return this.valueHexView=i.subarray(n,a),this.valueHexView.length?(this.blockLength=s,a):(this.warnings.push("Zero buffer length"),n)}toBER(r=!1){return this.isHexOnly?r?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",To)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Pt.ToHex(this.valueHexView)}}},t.NAME="hexBlock",t}class Nh{constructor({blockLength:t=0,error:r=Di,warnings:n=[],valueBeforeDecode:s=ww}={}){this.blockLength=t,this.error=r,this.warnings=n,this.valueBeforeDecodeView=vt.toUint8Array(s)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(t){this.valueBeforeDecodeView=new Uint8Array(t)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Pt.ToHex(this.valueBeforeDecodeView)}}}Nh.NAME="baseBlock";class _i extends Nh{fromBER(t,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}_i.NAME="valueBlock";class lD extends gl(Nh){constructor({idBlock:t={}}={}){var r,n,s,i;super(),t?(this.isHexOnly=(r=t.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=t.valueHex?vt.toUint8Array(t.valueHex):ww,this.tagClass=(n=t.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(s=t.tagNumber)!==null&&s!==void 0?s:-1,this.isConstructed=(i=t.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(t=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",To}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){const s=new Uint8Array(1);if(!t){let i=this.tagNumber;i&=31,r|=i,s[0]=r}return s.buffer}if(!this.isHexOnly){const s=rh(this.tagNumber,7),i=new Uint8Array(s),a=s.byteLength,o=new Uint8Array(a+1);if(o[0]=r|31,!t){for(let c=0;c<a-1;c++)o[c+1]=i[c]|128;o[a]=i[a-1]}return o.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!t){const s=this.valueHexView;for(let i=0;i<s.length-1;i++)n[i+1]=s[i]|128;n[this.valueHexView.byteLength]=s[s.length-1]}return n.buffer}fromBER(t,r,n){const s=vt.toUint8Array(t);if(!xc(this,s,r,n))return-1;const i=s.subarray(r,r+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const a=i[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let o=1,c=this.valueHexView=new Uint8Array(255),u=255;for(;i[o]&128;){if(c[o-1]=i[o]&127,o++,o>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(o===u){u+=255;const h=new Uint8Array(u);for(let f=0;f<c.length;f++)h[f]=c[f];c=this.valueHexView=new Uint8Array(u)}}this.blockLength=o+1,c[o-1]=i[o]&127;const d=new Uint8Array(o);for(let h=0;h<o;h++)d[h]=c[h];c=this.valueHexView=new Uint8Array(o),c.set(d),this.blockLength<=9?this.tagNumber=vp(c,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}lD.NAME="identificationBlock";class cD extends Nh{constructor({lenBlock:t={}}={}){var r,n,s;super(),this.isIndefiniteForm=(r=t.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=t.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(s=t.length)!==null&&s!==void 0?s:0}fromBER(t,r,n){const s=vt.toUint8Array(t);if(!xc(this,s,r,n))return-1;const i=s.subarray(r,r+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,r+this.blockLength;const a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const o=r+1,c=s.subarray(o,o+a);return c[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=vp(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,r+this.blockLength}toBER(t=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),t===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){const s=rh(this.length,8);if(s.byteLength>127)return this.error="Too big length",To;if(r=new ArrayBuffer(s.byteLength+1),t)return r;const i=new Uint8Array(s);n=new Uint8Array(r),n[0]=s.byteLength|128;for(let a=0;a<s.byteLength;a++)n[a+1]=i[a];return r}return r=new ArrayBuffer(1),t===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}cD.NAME="lengthBlock";const Tt={};class Hs extends Nh{constructor({name:t=Di,optional:r=!1,primitiveSchema:n,...s}={},i){super(s),this.name=t,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new lD(s),this.lenBlock=new cD(s),this.valueBlock=i?new i(s):new _i(s)}fromBER(t,r,n){const s=this.valueBlock.fromBER(t,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}toBER(t,r){const n=r||new bw;r||uD(this);const s=this.idBlock.toBER(t);if(n.write(s),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(t,n),n.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(t);this.lenBlock.length=i.byteLength;const a=this.lenBlock.toBER(t);n.write(a),n.write(i)}return r?To:n.final()}toJSON(){const t={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(t.primitiveSchema=this.primitiveSchema.toJSON()),t}toString(t="ascii"){return t==="ascii"?this.onAsciiEncoding():Pt.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Pt.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(t){if(this===t)return!0;if(!(t instanceof this.constructor))return!1;const r=this.toBER(),n=t.toBER();return Ote(r,n)}}Hs.NAME="BaseBlock";function uD(e){if(e instanceof Tt.Constructed)for(const t of e.valueBlock.value)uD(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}class E_ extends Hs{constructor({value:t=Di,...r}={},n){super(r,n),t&&this.fromString(t)}getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}fromBER(t,r,n){const s=this.valueBlock.fromBER(t,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}E_.NAME="BaseStringBlock";class dD extends gl(_i){constructor({isHexOnly:t=!0,...r}={}){super(r),this.isHexOnly=t}}dD.NAME="PrimitiveValueBlock";var hD;class Kg extends Hs{constructor(t={}){super(t,dD),this.idBlock.isConstructed=!1}}hD=Kg;Tt.Primitive=hD;Kg.NAME="PRIMITIVE";function Vte(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}function Kp(e,t=0,r=e.length){const n=t;let s=new Hs({},_i);const i=new Nh;if(!xc(i,e,t,r))return s.error=i.error,{offset:-1,result:s};if(!e.subarray(t,t+r).length)return s.error="Zero buffer length",{offset:-1,result:s};let a=s.idBlock.fromBER(e,t,r);if(s.idBlock.warnings.length&&s.warnings.concat(s.idBlock.warnings),a===-1)return s.error=s.idBlock.error,{offset:-1,result:s};if(t=a,r-=s.idBlock.blockLength,a=s.lenBlock.fromBER(e,t,r),s.lenBlock.warnings.length&&s.warnings.concat(s.lenBlock.warnings),a===-1)return s.error=s.lenBlock.error,{offset:-1,result:s};if(t=a,r-=s.lenBlock.blockLength,!s.idBlock.isConstructed&&s.lenBlock.isIndefiniteForm)return s.error="Indefinite length form used for primitive encoding form",{offset:-1,result:s};let o=Hs;switch(s.idBlock.tagClass){case 1:if(s.idBlock.tagNumber>=37&&s.idBlock.isHexOnly===!1)return s.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:s};switch(s.idBlock.tagNumber){case 0:if(s.idBlock.isConstructed&&s.lenBlock.length>0)return s.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:s};o=Tt.EndOfContent;break;case 1:o=Tt.Boolean;break;case 2:o=Tt.Integer;break;case 3:o=Tt.BitString;break;case 4:o=Tt.OctetString;break;case 5:o=Tt.Null;break;case 6:o=Tt.ObjectIdentifier;break;case 10:o=Tt.Enumerated;break;case 12:o=Tt.Utf8String;break;case 13:o=Tt.RelativeObjectIdentifier;break;case 14:o=Tt.TIME;break;case 15:return s.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:s};case 16:o=Tt.Sequence;break;case 17:o=Tt.Set;break;case 18:o=Tt.NumericString;break;case 19:o=Tt.PrintableString;break;case 20:o=Tt.TeletexString;break;case 21:o=Tt.VideotexString;break;case 22:o=Tt.IA5String;break;case 23:o=Tt.UTCTime;break;case 24:o=Tt.GeneralizedTime;break;case 25:o=Tt.GraphicString;break;case 26:o=Tt.VisibleString;break;case 27:o=Tt.GeneralString;break;case 28:o=Tt.UniversalString;break;case 29:o=Tt.CharacterString;break;case 30:o=Tt.BmpString;break;case 31:o=Tt.DATE;break;case 32:o=Tt.TimeOfDay;break;case 33:o=Tt.DateTime;break;case 34:o=Tt.Duration;break;default:{const c=s.idBlock.isConstructed?new Tt.Constructed:new Tt.Primitive;c.idBlock=s.idBlock,c.lenBlock=s.lenBlock,c.warnings=s.warnings,s=c}}break;case 2:case 3:case 4:default:o=s.idBlock.isConstructed?Tt.Constructed:Tt.Primitive}return s=Vte(s,o),a=s.fromBER(e,t,s.lenBlock.isIndefiniteForm?r:s.lenBlock.length),s.valueBeforeDecodeView=e.subarray(n,n+s.blockLength),{offset:a,result:s}}function $f(e){if(!e.byteLength){const t=new Hs({},_i);return t.error="Input buffer has zero length",{offset:-1,result:t}}return Kp(vt.toUint8Array(e).slice(),0,e.byteLength)}function qte(e,t){return e?1:t}class Su extends _i{constructor({value:t=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=t,this.isIndefiniteForm=r}fromBER(t,r,n){const s=vt.toUint8Array(t);if(!xc(this,s,r,n))return-1;if(this.valueBeforeDecodeView=s.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let i=r;for(;qte(this.isIndefiniteForm,n)>0;){const a=Kp(s,i,n);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,n-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===Hm)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Hm?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(t,r){const n=r||new bw;for(let s=0;s<this.value.length;s++)this.value[s].toBER(t,n);return r?To:n.final()}toJSON(){const t={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const r of this.value)t.value.push(r.toJSON());return t}}Su.NAME="ConstructedValueBlock";var fD;class Vi extends Hs{constructor(t={}){super(t,Su),this.idBlock.isConstructed=!0}fromBER(t,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const s=this.valueBlock.fromBER(t,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){const t=[];for(const n of this.valueBlock.value)t.push(n.toString("ascii").split(`
`).map(s=>`  ${s}`).join(`
`));const r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return t.length?`${r} :
${t.join(`
`)}`:`${r} :`}}fD=Vi;Tt.Constructed=fD;Vi.NAME="CONSTRUCTED";class pD extends _i{fromBER(t,r,n){return r}toBER(t){return To}}pD.override="EndOfContentValueBlock";var mD;class N_ extends Hs{constructor(t={}){super(t,pD),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}mD=N_;Tt.EndOfContent=mD;N_.NAME=Hm;var gD;class nh extends Hs{constructor(t={}){super(t,_i),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(t,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>t.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(t,r){const n=new ArrayBuffer(2);if(!t){const s=new Uint8Array(n);s[0]=5,s[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}gD=nh;Tt.Null=gD;nh.NAME="NULL";class yD extends gl(_i){constructor({value:t,...r}={}){super(r),r.valueHex?this.valueHexView=vt.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),t&&(this.value=t)}get value(){for(const t of this.valueHexView)if(t>0)return!0;return!1}set value(t){this.valueHexView[0]=t?255:0}fromBER(t,r,n){const s=vt.toUint8Array(t);return xc(this,s,r,n)?(this.valueHexView=s.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,iD.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}yD.NAME="BooleanValueBlock";var vD;let kw=class extends Hs{constructor(e={}){super(e,yD),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};vD=kw;Tt.Boolean=vD;kw.NAME="BOOLEAN";class xD extends gl(Su){constructor({isConstructed:t=!1,...r}={}){super(r),this.isConstructed=t}fromBER(t,r,n){let s=0;if(this.isConstructed){if(this.isHexOnly=!1,s=Su.prototype.fromBER.call(this,t,r,n),s===-1)return s;for(let i=0;i<this.value.length;i++){const a=this.value[i].constructor.NAME;if(a===Hm){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==aD)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,s=super.fromBER(t,r,n),this.blockLength=n;return s}toBER(t,r){return this.isConstructed?Su.prototype.toBER.call(this,t,r):t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}xD.NAME="OctetStringValueBlock";var bD;let zd=class wD extends Hs{constructor({idBlock:t={},lenBlock:r={},...n}={}){var s,i;(s=n.isConstructed)!==null&&s!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...t},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},xD),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(t,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){const s=(t instanceof ArrayBuffer?new Uint8Array(t):t).subarray(r,r+n);try{if(s.byteLength){const i=Kp(s,0,s.byteLength);i.offset!==-1&&i.offset===n&&(this.valueBlock.value=[i.result])}}catch{}}return super.fromBER(t,r,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Vi.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Pt.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const t=[];for(const r of this.valueBlock.value)r instanceof wD&&t.push(r.valueBlock.valueHexView);return vt.concat(t)}};bD=zd;Tt.OctetString=bD;zd.NAME=aD;class kD extends gl(Su){constructor({unusedBits:t=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=t,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(t,r,n){if(!n)return r;let s=-1;if(this.isConstructed){if(s=Su.prototype.fromBER.call(this,t,r,n),s===-1)return s;for(const o of this.value){const c=o.constructor.NAME;if(c===Hm){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==oD)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const u=o.valueBlock;if(this.unusedBits>0&&u.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=u.unusedBits}return s}const i=vt.toUint8Array(t);if(!xc(this,i,r,n))return-1;const a=i.subarray(r,r+n);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const o=a.subarray(1);try{if(o.byteLength){const c=Kp(o,0,o.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,r+n}toBER(t,r){if(this.isConstructed)return Su.prototype.toBER.call(this,t,r);if(t)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return To;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}kD.NAME="BitStringValueBlock";var SD;let Hd=class extends Hs{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,s;(n=r.isConstructed)!==null&&n!==void 0||(r.isConstructed=!!(!((s=r.value)===null||s===void 0)&&s.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},kD),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Vi.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const n of t)e.push(n.toString(2).padStart(8,"0"));const r=e.join("");return`${this.constructor.NAME} : ${r.substring(0,r.length-this.valueBlock.unusedBits)}`}}};SD=Hd;Tt.BitString=SD;Hd.NAME=oD;var _D;function Wte(e,t){const r=new Uint8Array([0]),n=new Uint8Array(e),s=new Uint8Array(t);let i=n.slice(0);const a=i.length-1,o=s.slice(0),c=o.length-1;let u=0;const d=c<a?a:c;let h=0;for(let f=d;f>=0;f--,h++){switch(!0){case h<o.length:u=i[a-h]+o[c-h]+r[0];break;default:u=i[a-h]+r[0]}switch(r[0]=u/10,!0){case h>=i.length:i=j6(new Uint8Array([u%10]),i);break;default:i[a-h]=u%10}}return r[0]>0&&(i=j6(r,i)),i}function yA(e){if(e>=b0.length)for(let t=b0.length;t<=e;t++){const r=new Uint8Array([0]);let n=b0[t-1].slice(0);for(let s=n.length-1;s>=0;s--){const i=new Uint8Array([(n[s]<<1)+r[0]]);r[0]=i[0]/10,n[s]=i[0]%10}r[0]>0&&(n=j6(r,n)),b0.push(n)}return b0[e]}function Gte(e,t){let r=0;const n=new Uint8Array(e),s=new Uint8Array(t),i=n.slice(0),a=i.length-1,o=s.slice(0),c=o.length-1;let u,d=0;for(let h=c;h>=0;h--,d++)switch(u=i[a-d]-o[c-d]-r,!0){case u<0:r=1,i[a-d]=u+10;break;default:r=0,i[a-d]=u}if(r>0)for(let h=a-c+1;h>=0;h--,d++)if(u=i[a-d]-r,u<0)r=1,i[a-d]=u+10;else{r=0,i[a-d]=u;break}return i.slice()}class C_ extends gl(_i){constructor({value:t,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),t!==void 0&&(this.valueDec=t)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=iD.call(this)))}set valueDec(t){this._valueDec=t,this.isHexOnly=!1,this.valueHexView=new Uint8Array(Pte(t))}get valueDec(){return this._valueDec}fromDER(t,r,n,s=0){const i=this.fromBER(t,r,n);if(i===-1)return i;const a=this.valueHexView;return a[0]===0&&a[1]&128?this.valueHexView=a.subarray(1):s!==0&&a.length<s&&(s-a.length>1&&(s=a.length+1),this.valueHexView=a.subarray(s-a.length)),i}toDER(t=!1){const r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(t)}fromBER(t,r,n){const s=super.fromBER(t,r,n);return s===-1||this.setValueHex(),s}toBER(t){return t?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const t=this.valueHexView.length*8-1;let r=new Uint8Array(this.valueHexView.length*8/3),n=0,s;const i=this.valueHexView;let a="",o=!1;for(let c=i.byteLength-1;c>=0;c--){s=i[c];for(let u=0;u<8;u++){if((s&1)===1)switch(n){case t:r=Gte(yA(n),r),a="-";break;default:r=Wte(r,yA(n))}n++,s>>=1}}for(let c=0;c<r.length;c++)r[c]&&(o=!0),o&&(a+=mA.charAt(r[c]));return o===!1&&(a+=mA.charAt(0)),a}}_D=C_;C_.NAME="IntegerValueBlock";Object.defineProperty(_D.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var ED;class il extends Hs{constructor(t={}){super(t,C_),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return yx(),BigInt(this.valueBlock.toString())}static fromBigInt(t){yx();const r=BigInt(t),n=new bw,s=r.toString(16).replace(/^-/,""),i=new Uint8Array(Pt.FromHex(s));if(r<0){const a=new Uint8Array(i.length+(i[0]&128?1:0));a[0]|=128;const o=BigInt(`0x${Pt.ToHex(a)}`)+r,c=vt.toUint8Array(Pt.FromHex(o.toString(16)));c[0]|=128,n.write(c)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new il({valueHex:n.final()})}convertToDER(){const t=new il({valueHex:this.valueBlock.valueHexView});return t.valueBlock.toDER(),t}convertFromDER(){return new il({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}ED=il;Tt.Integer=ED;il.NAME="INTEGER";var ND;class Sw extends il{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}ND=Sw;Tt.Enumerated=ND;Sw.NAME="ENUMERATED";class M6 extends gl(_i){constructor({valueDec:t=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=t,this.isFirstSid=r}fromBER(t,r,n){if(!n)return r;const s=vt.toUint8Array(t);if(!xc(this,s,r,n))return-1;const i=s.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let o=0;o<n&&(this.valueHexView[o]=i[o]&127,this.blockLength++,!!(i[o]&128));o++);const a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];return this.valueHexView=a,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=vp(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(t){yx();let r=BigInt(t).toString(2);for(;r.length%7;)r="0"+r;const n=new Uint8Array(r.length/7);for(let s=0;s<n.length;s++)n[s]=parseInt(r.slice(s*7,s*7+7),2)+(s+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);const s=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=s[a]|128;return i[this.blockLength-1]=s[this.blockLength-1],i.buffer}const r=rh(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",To;const n=new Uint8Array(r.byteLength);if(!t){const s=new Uint8Array(r),i=r.byteLength-1;for(let a=0;a<i;a++)n[a]=s[a]|128;n[i]=s[i]}return n}toString(){let t="";if(this.isHexOnly)t=Pt.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?t="0.":this.valueDec<=79?(t="1.",r-=40):(t="2.",r-=80),t+=r.toString()}else t=this.valueDec.toString();return t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}M6.NAME="sidBlock";class CD extends _i{constructor({value:t=Di,...r}={}){super(r),this.value=[],t&&this.fromString(t)}fromBER(t,r,n){let s=r;for(;n>0;){const i=new M6;if(s=i.fromBER(t,s,n),s===-1)return this.blockLength=0,this.error=i.error,s;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return s}toBER(t){const r=[];for(let n=0;n<this.value.length;n++){const s=this.value[n].toBER(t);if(s.byteLength===0)return this.error=this.value[n].error,To;r.push(s)}return __(r)}fromString(t){this.value=[];let r=0,n=0,s="",i=!1;do if(n=t.indexOf(".",r),n===-1?s=t.substring(r):s=t.substring(r,n),r=n+1,i){const a=this.value[0];let o=0;switch(a.valueDec){case 0:break;case 1:o=40;break;case 2:o=80;break;default:this.value=[];return}const c=parseInt(s,10);if(isNaN(c))return;a.valueDec=c+o,i=!1}else{const a=new M6;if(s>Number.MAX_SAFE_INTEGER){yx();const o=BigInt(s);a.valueBigInt=o}else if(a.valueDec=parseInt(s,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(n!==-1)}toString(){let t="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let s=this.value[n].toString();n!==0&&(t=`${t}.`),r?(s=`{${s}}`,this.value[n].isFirstSid?t=`2.{${s} - 80}`:t+=s):t+=s}return t}toJSON(){const t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)t.sidArray.push(this.value[r].toJSON());return t}}CD.NAME="ObjectIdentifierValueBlock";var AD;class _w extends Hs{constructor(t={}){super(t,CD),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}AD=_w;Tt.ObjectIdentifier=AD;_w.NAME="OBJECT IDENTIFIER";class P6 extends gl(Nh){constructor({valueDec:t=0,...r}={}){super(r),this.valueDec=t}fromBER(t,r,n){if(n===0)return r;const s=vt.toUint8Array(t);if(!xc(this,s,r,n))return-1;const i=s.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let o=0;o<n&&(this.valueHexView[o]=i[o]&127,this.blockLength++,!!(i[o]&128));o++);const a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];return this.valueHexView=a,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=vp(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);const s=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=s[a]|128;return i[this.blockLength-1]=s[this.blockLength-1],i.buffer}const r=rh(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",To;const n=new Uint8Array(r.byteLength);if(!t){const s=new Uint8Array(r),i=r.byteLength-1;for(let a=0;a<i;a++)n[a]=s[a]|128;n[i]=s[i]}return n.buffer}toString(){let t="";return this.isHexOnly?t=Pt.ToHex(this.valueHexView):t=this.valueDec.toString(),t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}P6.NAME="relativeSidBlock";class TD extends _i{constructor({value:t=Di,...r}={}){super(r),this.value=[],t&&this.fromString(t)}fromBER(t,r,n){let s=r;for(;n>0;){const i=new P6;if(s=i.fromBER(t,s,n),s===-1)return this.blockLength=0,this.error=i.error,s;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return s}toBER(t,r){const n=[];for(let s=0;s<this.value.length;s++){const i=this.value[s].toBER(t);if(i.byteLength===0)return this.error=this.value[s].error,To;n.push(i)}return __(n)}fromString(t){this.value=[];let r=0,n=0,s="";do{n=t.indexOf(".",r),n===-1?s=t.substring(r):s=t.substring(r,n),r=n+1;const i=new P6;if(i.valueDec=parseInt(s,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let t="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let s=this.value[n].toString();n!==0&&(t=`${t}.`),r&&(s=`{${s}}`),t+=s}return t}toJSON(){const t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)t.sidArray.push(this.value[r].toJSON());return t}}TD.NAME="RelativeObjectIdentifierValueBlock";var RD;class A_ extends Hs{constructor(t={}){super(t,TD),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}RD=A_;Tt.RelativeObjectIdentifier=RD;A_.NAME="RelativeObjectIdentifier";var ID;class Yl extends Vi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}ID=Yl;Tt.Sequence=ID;Yl.NAME="SEQUENCE";var jD;let Zl=class extends Vi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};jD=Zl;Tt.Set=jD;Zl.NAME="SET";class MD extends gl(_i){constructor({...t}={}){super(t),this.isHexOnly=!0,this.value=Di}toJSON(){return{...super.toJSON(),value:this.value}}}MD.NAME="StringValueBlock";class PD extends MD{}PD.NAME="SimpleStringValueBlock";class va extends E_{constructor({...t}={}){super(t,PD)}fromBuffer(t){this.valueBlock.value=String.fromCharCode.apply(null,vt.toUint8Array(t))}fromString(t){const r=t.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);this.valueBlock.value=t}}va.NAME="SIMPLE STRING";class OD extends va{fromBuffer(t){this.valueBlock.valueHexView=vt.toUint8Array(t);try{this.valueBlock.value=Pt.ToUtf8String(t)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=Pt.ToBinary(t)}}fromString(t){this.valueBlock.valueHexView=new Uint8Array(Pt.FromUtf8String(t)),this.valueBlock.value=t}}OD.NAME="Utf8StringValueBlock";var DD;class bc extends OD{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}DD=bc;Tt.Utf8String=DD;bc.NAME="UTF8String";let LD=class extends va{fromBuffer(t){this.valueBlock.value=Pt.ToUtf16String(t),this.valueBlock.valueHexView=vt.toUint8Array(t)}fromString(t){this.valueBlock.value=t,this.valueBlock.valueHexView=new Uint8Array(Pt.FromUtf16String(t))}};LD.NAME="BmpStringValueBlock";var $D;class Ew extends LD{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}$D=Ew;Tt.BmpString=$D;Ew.NAME="BMPString";class FD extends va{fromBuffer(t){const r=ArrayBuffer.isView(t)?t.slice().buffer:t.slice(0),n=new Uint8Array(r);for(let s=0;s<n.length;s+=4)n[s]=n[s+3],n[s+1]=n[s+2],n[s+2]=0,n[s+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(t){const r=t.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let s=0;s<r;s++){const i=rh(t.charCodeAt(s),8),a=new Uint8Array(i);if(a.length>4)continue;const o=4-a.length;for(let c=a.length-1;c>=0;c--)n[s*4+c+o]=a[c]}this.valueBlock.value=t}}FD.NAME="UniversalStringValueBlock";var BD;class Nw extends FD{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}BD=Nw;Tt.UniversalString=BD;Nw.NAME="UniversalString";var UD;class Cw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}UD=Cw;Tt.NumericString=UD;Cw.NAME="NumericString";var zD;class Aw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}zD=Aw;Tt.PrintableString=zD;Aw.NAME="PrintableString";var HD;class Tw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}HD=Tw;Tt.TeletexString=HD;Tw.NAME="TeletexString";var VD;class Rw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}VD=Rw;Tt.VideotexString=VD;Rw.NAME="VideotexString";var qD;class Iw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}qD=Iw;Tt.IA5String=qD;Iw.NAME="IA5String";var WD;class jw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}WD=jw;Tt.GraphicString=WD;jw.NAME="GraphicString";var GD;class Yg extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}GD=Yg;Tt.VisibleString=GD;Yg.NAME="VisibleString";var KD;class Mw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}KD=Mw;Tt.GeneralString=KD;Mw.NAME="GeneralString";var YD;class Pw extends va{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}YD=Pw;Tt.CharacterString=YD;Pw.NAME="CharacterString";var ZD;class Zg extends Yg{constructor({value:t,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,t){this.fromString(t),this.valueBlock.valueHexView=new Uint8Array(t.length);for(let s=0;s<t.length;s++)this.valueBlock.valueHexView[s]=t.charCodeAt(s)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(t){this.fromString(String.fromCharCode.apply(null,vt.toUint8Array(t)))}toBuffer(){const t=this.toString(),r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return r}fromDate(t){this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(t){const r=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(t);if(r===null){this.error="Wrong input string for conversion";return}const n=parseInt(r[1],10);n>=50?this.year=1900+n:this.year=2e3+n,this.month=parseInt(r[2],10),this.day=parseInt(r[3],10),this.hour=parseInt(r[4],10),this.minute=parseInt(r[5],10),this.second=parseInt(r[6],10)}toString(t="iso"){if(t==="iso"){const r=new Array(7);return r[0]=ra(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=ra(this.month,2),r[2]=ra(this.day,2),r[3]=ra(this.hour,2),r[4]=ra(this.minute,2),r[5]=ra(this.second,2),r[6]="Z",r.join("")}return super.toString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}ZD=Zg;Tt.UTCTime=ZD;Zg.NAME="UTCTime";var QD;class Ow extends Zg{constructor(t={}){var r;super(t),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(t){super.fromDate(t),this.millisecond=t.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(t){let r=!1,n="",s="",i=0,a,o=0,c=0;if(t[t.length-1]==="Z")n=t.substring(0,t.length-1),r=!0;else{const h=new Number(t[t.length-1]);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");n=t}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let h=1,f=n.indexOf("+"),p="";if(f===-1&&(f=n.indexOf("-"),h=-1),f!==-1){if(p=n.substring(f+1),n=n.substring(0,f),p.length!==2&&p.length!==4)throw new Error("Wrong input string for conversion");let m=parseInt(p.substring(0,2),10);if(isNaN(m.valueOf()))throw new Error("Wrong input string for conversion");if(o=h*m,p.length===4){if(m=parseInt(p.substring(2,4),10),isNaN(m.valueOf()))throw new Error("Wrong input string for conversion");c=h*m}}}let u=n.indexOf(".");if(u===-1&&(u=n.indexOf(",")),u!==-1){const h=new Number(`0${n.substring(u)}`);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");i=h.valueOf(),s=n.substring(0,u)}else s=n;switch(!0){case s.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,u!==-1)throw new Error("Wrong input string for conversion");break;case s.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let h=60*i;this.minute=Math.floor(h),h=60*(h-this.minute),this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case s.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let h=60*i;this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case s.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){const h=1e3*i;this.millisecond=Math.floor(h)}break;default:throw new Error("Wrong input string for conversion")}const d=a.exec(s);if(d===null)throw new Error("Wrong input string for conversion");for(let h=1;h<d.length;h++)switch(h){case 1:this.year=parseInt(d[h],10);break;case 2:this.month=parseInt(d[h],10);break;case 3:this.day=parseInt(d[h],10);break;case 4:this.hour=parseInt(d[h],10)+o;break;case 5:this.minute=parseInt(d[h],10)+c;break;case 6:this.second=parseInt(d[h],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){const h=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=h.getUTCFullYear(),this.month=h.getUTCMonth(),this.day=h.getUTCDay(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds(),this.millisecond=h.getUTCMilliseconds()}}toString(t="iso"){if(t==="iso"){const r=[];return r.push(ra(this.year,4)),r.push(ra(this.month,2)),r.push(ra(this.day,2)),r.push(ra(this.hour,2)),r.push(ra(this.minute,2)),r.push(ra(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(ra(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(t)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}QD=Ow;Tt.GeneralizedTime=QD;Ow.NAME="GeneralizedTime";var XD;class T_ extends bc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}XD=T_;Tt.DATE=XD;T_.NAME="DATE";var JD;class R_ extends bc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}JD=R_;Tt.TimeOfDay=JD;R_.NAME="TimeOfDay";var eL;class I_ extends bc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}eL=I_;Tt.DateTime=eL;I_.NAME="DateTime";var tL;class j_ extends bc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}tL=j_;Tt.Duration=tL;j_.NAME="Duration";var rL;class M_ extends bc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}rL=M_;Tt.TIME=rL;M_.NAME="TIME";class sh{constructor({name:t=Di,optional:r=!1}={}){this.name=t,this.optional=r}}class P_ extends sh{constructor({value:t=[],...r}={}){super(r),this.value=t}}class vx extends sh{constructor({value:t=new sh,local:r=!1,...n}={}){super(n),this.value=t,this.local=r}}class Kte{constructor({data:t=ww}={}){this.dataView=vt.toUint8Array(t)}get data(){return this.dataView.slice().buffer}set data(t){this.dataView=vt.toUint8Array(t)}fromBER(t,r,n){const s=r+n;return this.dataView=vt.toUint8Array(t).subarray(r,s),s}toBER(t){return this.dataView.slice().buffer}}function Nd(e,t,r){if(r instanceof P_){for(let s=0;s<r.value.length;s++)if(Nd(e,t,r.value[s]).verified)return{verified:!0,result:e};{const s={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(U4)&&(s.name=r.name),s}}if(r instanceof sh)return r.hasOwnProperty(U4)&&(e[r.name]=t),{verified:!0,result:e};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(Lte in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(Ute in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(zte in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty($te)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(r.idBlock.hasOwnProperty(Fte)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(r.idBlock.hasOwnProperty(Bte)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!(Dte in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(!(gA in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(s.length!==i.length)return{verified:!1,result:e};for(let a=0;a<s.length;a++)if(s[a]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&(e[r.name]=t)),r instanceof Tt.Constructed){let s=0,i={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof vx&&(a=t.valueBlock.value.length),a===0)return{verified:!0,result:e};if(t.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let o=!0;for(let c=0;c<r.valueBlock.value.length;c++)o=o&&(r.valueBlock.value[c].optional||!1);return o?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let o=0;o<a;o++)if(o-s>=t.valueBlock.value.length){if(r.valueBlock.value[o].optional===!1){const c={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&(delete e[r.name],c.name=r.name)),c}}else if(r.valueBlock.value[0]instanceof vx){if(i=Nd(e,t.valueBlock.value[o],r.valueBlock.value[0].value),i.verified===!1)if(r.valueBlock.value[0].optional)s++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&delete e[r.name]),i;if(U4 in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let c={};Hte in r.valueBlock.value[0]&&r.valueBlock.value[0].local?c=t:c=e,typeof c[r.valueBlock.value[0].name]>"u"&&(c[r.valueBlock.value[0].name]=[]),c[r.valueBlock.value[0].name].push(t.valueBlock.value[o])}}else if(i=Nd(e,t.valueBlock.value[o-s],r.valueBlock.value[o]),i.verified===!1)if(r.valueBlock.value[o].optional)s++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&delete e[r.name]),i;if(i.verified===!1){const o={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&(delete e[r.name],o.name=r.name)),o}return{verified:!0,result:e}}if(r.primitiveSchema&&gA in t.valueBlock){const s=Kp(t.valueBlock.valueHexView);if(s.offset===-1){const i={verified:!1,result:s.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Di),r.name&&(delete e[r.name],i.name=r.name)),i}return Nd(e,s.result,r.primitiveSchema)}return{verified:!0,result:e}}function Yte(e,t){if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const r=Kp(vt.toUint8Array(e));return r.offset===-1?{verified:!1,result:r.result}:Nd(r.result,r.result,t)}const nL=Object.freeze(Object.defineProperty({__proto__:null,Any:sh,BaseBlock:Hs,BaseStringBlock:E_,BitString:Hd,BmpString:Ew,Boolean:kw,CharacterString:Pw,Choice:P_,Constructed:Vi,DATE:T_,DateTime:I_,Duration:j_,EndOfContent:N_,Enumerated:Sw,GeneralString:Mw,GeneralizedTime:Ow,GraphicString:jw,HexBlock:gl,IA5String:Iw,Integer:il,Null:nh,NumericString:Cw,ObjectIdentifier:_w,OctetString:zd,Primitive:Kg,PrintableString:Aw,RawData:Kte,RelativeObjectIdentifier:A_,Repeated:vx,Sequence:Yl,Set:Zl,TIME:M_,TeletexString:Tw,TimeOfDay:R_,UTCTime:Zg,UniversalString:Nw,Utf8String:bc,ValueBlock:_i,VideotexString:Rw,ViewWriter:bw,VisibleString:Yg,compareSchema:Nd,fromBER:$f,verifySchema:Yte},Symbol.toStringTag,{value:"Module"}));var Ue;(function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"})(Ue||(Ue={}));var de;(function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"})(de||(de={}));class Dw{constructor(t,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),t)if(typeof t=="number")this.fromNumber(t);else if(vt.isBufferSource(t))this.unusedBits=r,this.value=vt.toArrayBuffer(t);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(t){if(!(t instanceof Hd))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=t.valueBlock.unusedBits,this.value=t.valueBlock.valueHex,this}toASN(){return new Hd({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(t){return new Hd({name:t})}toNumber(){let t="";const r=new Uint8Array(this.value);for(const n of r)t+=n.toString(2).padStart(8,"0");return t=t.split("").reverse().join(""),this.unusedBits&&(t=t.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(t,2)}fromNumber(t){let r=t.toString(2);const n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;const s=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let i=0;for(;i<n;)s[i]=parseInt(r.slice(i<<3,(i<<3)+8),2),i++;this.value=s.buffer}}class Yr{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(t){typeof t=="number"?this.buffer=new ArrayBuffer(t):vt.isBufferSource(t)?this.buffer=vt.toArrayBuffer(t):Array.isArray(t)?this.buffer=new Uint8Array(t):this.buffer=new ArrayBuffer(0)}fromASN(t){if(!(t instanceof zd))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=t.valueBlock.valueHex,this}toASN(){return new zd({valueHex:this.buffer})}toSchema(t){return new zd({name:t})}}const Zte={fromASN:e=>e instanceof nh?null:e.valueBeforeDecodeView,toASN:e=>{if(e===null)return new nh;const t=$f(e);if(t.result.error)throw new Error(t.result.error);return t.result}},Qte={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new il({value:+e})},Xte={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new Sw({value:e})},Rn={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new il({valueHex:e})},Jte={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new Hd({valueHex:e})},ere={fromASN:e=>e.valueBlock.toString(),toASN:e=>new _w({value:e})},tre={fromASN:e=>e.valueBlock.value,toASN:e=>new kw({value:e})},xx={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new zd({valueHex:e})},rre={fromASN:e=>new Yr(e.getValue()),toASN:e=>e.toASN()};function Ga(e){return{fromASN:t=>t.valueBlock.value,toASN:t=>new e({value:t})}}const sL=Ga(bc),nre=Ga(Ew),sre=Ga(Nw),ire=Ga(Cw),are=Ga(Aw),ore=Ga(Tw),lre=Ga(Rw),cre=Ga(Iw),ure=Ga(jw),dre=Ga(Yg),hre=Ga(Mw),fre=Ga(Pw),pre={fromASN:e=>e.toDate(),toASN:e=>new Zg({valueDate:e})},mre={fromASN:e=>e.toDate(),toASN:e=>new Ow({valueDate:e})},gre={fromASN:()=>null,toASN:()=>new nh};function O_(e){switch(e){case de.Any:return Zte;case de.BitString:return Jte;case de.BmpString:return nre;case de.Boolean:return tre;case de.CharacterString:return fre;case de.Enumerated:return Xte;case de.GeneralString:return hre;case de.GeneralizedTime:return mre;case de.GraphicString:return ure;case de.IA5String:return cre;case de.Integer:return Qte;case de.Null:return gre;case de.NumericString:return ire;case de.ObjectIdentifier:return ere;case de.OctetString:return xx;case de.PrintableString:return are;case de.TeletexString:return ore;case de.UTCTime:return pre;case de.UniversalString:return sre;case de.Utf8String:return sL;case de.VideotexString:return lre;case de.VisibleString:return dre;default:return null}}function Fl(e){return typeof e=="function"&&e.prototype?e.prototype.toASN&&e.prototype.fromASN?!0:Fl(e.prototype):!!(e&&typeof e=="object"&&"toASN"in e&&"fromASN"in e)}function iL(e){var t;if(e){const r=Object.getPrototypeOf(e);return((t=r==null?void 0:r.prototype)===null||t===void 0?void 0:t.constructor)===Array?!0:iL(r)}return!1}function yre(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<e.byteLength;s++)if(r[s]!==n[s])return!1;return!0}class vre{constructor(){this.items=new WeakMap}has(t){return this.items.has(t)}get(t,r=!1){const n=this.items.get(t);if(!n)throw new Error(`Cannot get schema for '${t.prototype.constructor.name}' target`);if(r&&!n.schema)throw new Error(`Schema '${t.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(t){const r=this.get(t);r.schema||(r.schema=this.create(t,!0))}createDefault(t){const r={type:Ue.Sequence,items:{}},n=this.findParentSchema(t);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(t,r){const n=this.items.get(t)||this.createDefault(t),s=[];for(const i in n.items){const a=n.items[i],o=r?i:"";let c;if(typeof a.type=="number"){const d=de[a.type],h=nL[d];if(!h)throw new Error(`Cannot get ASN1 class by name '${d}'`);c=new h({name:o})}else Fl(a.type)?c=new a.type().toSchema(o):a.optional?this.get(a.type).type===Ue.Choice?c=new sh({name:o}):(c=this.create(a.type,!1),c.name=o):c=new sh({name:o});const u=!!a.optional||a.defaultValue!==void 0;if(a.repeated){c.name="";const d=a.repeated==="set"?Zl:Yl;c=new d({name:"",value:[new vx({name:o,value:c})]})}if(a.context!==null&&a.context!==void 0)if(a.implicit)if(typeof a.type=="number"||Fl(a.type)){const d=a.repeated?Vi:Kg;s.push(new d({name:o,optional:u,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);const d=!!a.repeated;let h=d?c:this.get(a.type,!0).schema;h="valueBlock"in h?h.valueBlock.value:h.value,s.push(new Vi({name:d?"":o,optional:u,idBlock:{tagClass:3,tagNumber:a.context},value:h}))}else s.push(new Vi({optional:u,idBlock:{tagClass:3,tagNumber:a.context},value:[c]}));else c.optional=u,s.push(c)}switch(n.type){case Ue.Sequence:return new Yl({value:s,name:""});case Ue.Set:return new Zl({value:s,name:""});case Ue.Choice:return new P_({value:s,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(t,r){return this.items.set(t,r),this}findParentSchema(t){const r=Object.getPrototypeOf(t);return r?this.items.get(r)||this.findParentSchema(r):null}}const Ma=new vre,Xe=e=>t=>{let r;Ma.has(t)?r=Ma.get(t):(r=Ma.createDefault(t),Ma.set(t,r)),Object.assign(r,e)},q=e=>(t,r)=>{let n;Ma.has(t.constructor)?n=Ma.get(t.constructor):(n=Ma.createDefault(t.constructor),Ma.set(t.constructor,n));const s=Object.assign({},e);if(typeof s.type=="number"&&!s.converter){const i=O_(e.type);if(!i)throw new Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);s.converter=i}n.items[r]=s};class vA extends Error{constructor(){super(...arguments),this.schemas=[]}}class xre{static parse(t,r){const n=$f(t);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,r)}static fromASN(t,r){var n;try{if(Fl(r))return new r().fromASN(t);const s=Ma.get(r);Ma.cache(r);let i=s.schema;if(t.constructor===Vi&&s.type!==Ue.Choice){i=new Vi({idBlock:{tagClass:3,tagNumber:t.idBlock.tagNumber},value:s.schema.valueBlock.value});for(const c in s.items)delete t[c]}const a=Nd({},t,i);if(!a.verified)throw new vA(`Data does not match to ${r.name} ASN1 schema. ${a.result.error}`);const o=new r;if(iL(r)){if(!("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const c=s.itemType;if(typeof c=="number"){const u=O_(c);if(!u)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(t.valueBlock.value,d=>u.fromASN(d))}else return r.from(t.valueBlock.value,u=>this.fromASN(u,c))}for(const c in s.items){const u=a.result[c];if(!u)continue;const d=s.items[c],h=d.type;if(typeof h=="number"||Fl(h)){const f=(n=d.converter)!==null&&n!==void 0?n:Fl(h)?new h:null;if(!f)throw new Error("Converter is empty");if(d.repeated)if(d.implicit){const p=d.repeated==="sequence"?Yl:Zl,m=new p;m.valueBlock=u.valueBlock;const g=$f(m.toBER(!1));if(g.offset===-1)throw new Error(`Cannot parse the child item. ${g.result.error}`);if(!("value"in g.result.valueBlock&&Array.isArray(g.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const w=g.result.valueBlock.value;o[c]=Array.from(w,y=>f.fromASN(y))}else o[c]=Array.from(u,p=>f.fromASN(p));else{let p=u;if(d.implicit){let m;if(Fl(h))m=new h().toSchema("");else{const g=de[h],w=nL[g];if(!w)throw new Error(`Cannot get '${g}' class from asn1js module`);m=new w}m.valueBlock=p.valueBlock,p=$f(m.toBER(!1)).result}o[c]=f.fromASN(p)}}else if(d.repeated){if(!Array.isArray(u))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");o[c]=Array.from(u,f=>this.fromASN(f,h))}else o[c]=this.fromASN(u,h)}return o}catch(s){throw s instanceof vA&&s.schemas.push(r.name),s}}}class D_{static serialize(t){return t instanceof Hs?t.toBER(!1):this.toASN(t).toBER(!1)}static toASN(t){if(t&&typeof t=="object"&&Fl(t))return t.toASN();if(!(t&&typeof t=="object"))throw new TypeError("Parameter 1 should be type of Object.");const r=t.constructor,n=Ma.get(r);Ma.cache(r);let s=[];if(n.itemType){if(!Array.isArray(t))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){const a=O_(n.itemType);if(!a)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);s=t.map(o=>a.toASN(o))}else s=t.map(a=>this.toAsnItem({type:n.itemType},"[]",r,a))}else for(const a in n.items){const o=n.items[a],c=t[a];if(c===void 0||o.defaultValue===c||typeof o.defaultValue=="object"&&typeof c=="object"&&yre(this.serialize(o.defaultValue),this.serialize(c)))continue;const u=D_.toAsnItem(o,a,r,c);if(typeof o.context=="number")if(o.implicit)if(!o.repeated&&(typeof o.type=="number"||Fl(o.type))){const d={};d.valueHex=u instanceof nh?u.valueBeforeDecodeView:u.valueBlock.toBER(),s.push(new Kg({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},...d}))}else s.push(new Vi({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:u.valueBlock.value}));else s.push(new Vi({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:[u]}));else o.repeated?s=s.concat(u):s.push(u)}let i;switch(n.type){case Ue.Sequence:i=new Yl({value:s});break;case Ue.Set:i=new Zl({value:s});break;case Ue.Choice:if(!s[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);i=s[0];break}return i}static toAsnItem(t,r,n,s){let i;if(typeof t.type=="number"){const a=t.converter;if(!a)throw new Error(`Property '${r}' doesn't have converter for type ${de[t.type]} in schema '${n.name}'`);if(t.repeated){if(!Array.isArray(s))throw new TypeError("Parameter 'objProp' should be type of Array.");const o=Array.from(s,u=>a.toASN(u)),c=t.repeated==="sequence"?Yl:Zl;i=new c({value:o})}else i=a.toASN(s)}else if(t.repeated){if(!Array.isArray(s))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(s,c=>this.toASN(c)),o=t.repeated==="sequence"?Yl:Zl;i=new o({value:a})}else i=this.toASN(s);return i}}class an extends Array{constructor(t=[]){if(typeof t=="number")super(t);else{super();for(const r of t)this.push(r)}}}class lt{static serialize(t){return D_.serialize(t)}static parse(t,r){return xre.parse(t,r)}static toString(t){const r=vt.isBufferSource(t)?vt.toArrayBuffer(t):lt.serialize(t),n=$f(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}function P(e,t,r,n){var s=arguments.length,i=s<3?t:n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}var aL={exports:{}};(function(e){(function(t){const r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${r}\\.${r}\\.${r}\\.${r}$`,"i"),threeOctet:new RegExp(`^${r}\\.${r}\\.${r}$`,"i"),twoOctet:new RegExp(`^${r}\\.${r}$`,"i"),longValue:new RegExp(`^${r}$`,"i")},s=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),a="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(a,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${a})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${r}\\.${r}\\.${r}\\.${r}(${a})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${r}\\.${r}\\.${r}\\.${r}(${a})?$`,"i")};function u(m,g){if(m.indexOf("::")!==m.lastIndexOf("::"))return null;let w=0,y=-1,v=(m.match(c.zoneIndex)||[])[0],b,k;for(v&&(v=v.substring(1),m=m.replace(/%.+$/,""));(y=m.indexOf(":",y+1))>=0;)w++;if(m.substr(0,2)==="::"&&w--,m.substr(-2,2)==="::"&&w--,w>g)return null;for(k=g-w,b=":";k--;)b+="0:";return m=m.replace("::",b),m[0]===":"&&(m=m.slice(1)),m[m.length-1]===":"&&(m=m.slice(0,-1)),g=function(){const C=m.split(":"),A=[];for(let R=0;R<C.length;R++)A.push(parseInt(C[R],16));return A}(),{parts:g,zoneId:v}}function d(m,g,w,y){if(m.length!==g.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let v=0,b;for(;y>0;){if(b=w-y,b<0&&(b=0),m[v]>>b!==g[v]>>b)return!1;y-=w,v+=1}return!0}function h(m){if(i.test(m))return parseInt(m,16);if(m[0]==="0"&&!isNaN(parseInt(m[1],10))){if(s.test(m))return parseInt(m,8);throw new Error(`ipaddr: cannot parse ${m} as octal`)}return parseInt(m,10)}function f(m,g){for(;m.length<g;)m=`0${m}`;return m}const p={};p.IPv4=function(){function m(g){if(g.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let w,y;for(w=0;w<g.length;w++)if(y=g[w],!(0<=y&&y<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=g}return m.prototype.SpecialRanges={unspecified:[[new m([0,0,0,0]),8]],broadcast:[[new m([255,255,255,255]),32]],multicast:[[new m([224,0,0,0]),4]],linkLocal:[[new m([169,254,0,0]),16]],loopback:[[new m([127,0,0,0]),8]],carrierGradeNat:[[new m([100,64,0,0]),10]],private:[[new m([10,0,0,0]),8],[new m([172,16,0,0]),12],[new m([192,168,0,0]),16]],reserved:[[new m([192,0,0,0]),24],[new m([192,0,2,0]),24],[new m([192,88,99,0]),24],[new m([198,18,0,0]),15],[new m([198,51,100,0]),24],[new m([203,0,113,0]),24],[new m([240,0,0,0]),4]],as112:[[new m([192,175,48,0]),24],[new m([192,31,196,0]),24]],amt:[[new m([192,52,193,0]),24]]},m.prototype.kind=function(){return"ipv4"},m.prototype.match=function(g,w){let y;if(w===void 0&&(y=g,g=y[0],w=y[1]),g.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return d(this.octets,g.octets,8,w)},m.prototype.prefixLengthFromSubnetMask=function(){let g=0,w=!1;const y={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let v,b,k;for(v=3;v>=0;v-=1)if(b=this.octets[v],b in y){if(k=y[b],w&&k!==0)return null;k!==8&&(w=!0),g+=k}else return null;return 32-g},m.prototype.range=function(){return p.subnetMatch(this,this.SpecialRanges)},m.prototype.toByteArray=function(){return this.octets.slice(0)},m.prototype.toIPv4MappedAddress=function(){return p.IPv6.parse(`::ffff:${this.toString()}`)},m.prototype.toNormalizedString=function(){return this.toString()},m.prototype.toString=function(){return this.octets.join(".")},m}(),p.IPv4.broadcastAddressFromCIDR=function(m){try{const g=this.parseCIDR(m),w=g[0].toByteArray(),y=this.subnetMaskFromPrefixLength(g[1]).toByteArray(),v=[];let b=0;for(;b<4;)v.push(parseInt(w[b],10)|parseInt(y[b],10)^255),b++;return new this(v)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},p.IPv4.isIPv4=function(m){return this.parser(m)!==null},p.IPv4.isValid=function(m){try{return new this(this.parser(m)),!0}catch{return!1}},p.IPv4.isValidCIDR=function(m){try{return this.parseCIDR(m),!0}catch{return!1}},p.IPv4.isValidFourPartDecimal=function(m){return!!(p.IPv4.isValid(m)&&m.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},p.IPv4.networkAddressFromCIDR=function(m){let g,w,y,v,b;try{for(g=this.parseCIDR(m),y=g[0].toByteArray(),b=this.subnetMaskFromPrefixLength(g[1]).toByteArray(),v=[],w=0;w<4;)v.push(parseInt(y[w],10)&parseInt(b[w],10)),w++;return new this(v)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},p.IPv4.parse=function(m){const g=this.parser(m);if(g===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(g)},p.IPv4.parseCIDR=function(m){let g;if(g=m.match(/^(.+)\/(\d+)$/)){const w=parseInt(g[2]);if(w>=0&&w<=32){const y=[this.parse(g[1]),w];return Object.defineProperty(y,"toString",{value:function(){return this.join("/")}}),y}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},p.IPv4.parser=function(m){let g,w,y;if(g=m.match(n.fourOctet))return function(){const v=g.slice(1,6),b=[];for(let k=0;k<v.length;k++)w=v[k],b.push(h(w));return b}();if(g=m.match(n.longValue)){if(y=h(g[1]),y>4294967295||y<0)throw new Error("ipaddr: address outside defined range");return function(){const v=[];let b;for(b=0;b<=24;b+=8)v.push(y>>b&255);return v}().reverse()}else return(g=m.match(n.twoOctet))?function(){const v=g.slice(1,4),b=[];if(y=h(v[1]),y>16777215||y<0)throw new Error("ipaddr: address outside defined range");return b.push(h(v[0])),b.push(y>>16&255),b.push(y>>8&255),b.push(y&255),b}():(g=m.match(n.threeOctet))?function(){const v=g.slice(1,5),b=[];if(y=h(v[2]),y>65535||y<0)throw new Error("ipaddr: address outside defined range");return b.push(h(v[0])),b.push(h(v[1])),b.push(y>>8&255),b.push(y&255),b}():null},p.IPv4.subnetMaskFromPrefixLength=function(m){if(m=parseInt(m),m<0||m>32)throw new Error("ipaddr: invalid IPv4 prefix length");const g=[0,0,0,0];let w=0;const y=Math.floor(m/8);for(;w<y;)g[w]=255,w++;return y<4&&(g[y]=Math.pow(2,m%8)-1<<8-m%8),new this(g)},p.IPv6=function(){function m(g,w){let y,v;if(g.length===16)for(this.parts=[],y=0;y<=14;y+=2)this.parts.push(g[y]<<8|g[y+1]);else if(g.length===8)this.parts=g;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(y=0;y<this.parts.length;y++)if(v=this.parts[y],!(0<=v&&v<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");w&&(this.zoneId=w)}return m.prototype.SpecialRanges={unspecified:[new m([0,0,0,0,0,0,0,0]),128],linkLocal:[new m([65152,0,0,0,0,0,0,0]),10],multicast:[new m([65280,0,0,0,0,0,0,0]),8],loopback:[new m([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new m([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new m([0,0,0,0,0,65535,0,0]),96],discard:[new m([256,0,0,0,0,0,0,0]),64],rfc6145:[new m([0,0,0,0,65535,0,0,0]),96],rfc6052:[new m([100,65435,0,0,0,0,0,0]),96],"6to4":[new m([8194,0,0,0,0,0,0,0]),16],teredo:[new m([8193,0,0,0,0,0,0,0]),32],benchmarking:[new m([8193,2,0,0,0,0,0,0]),48],amt:[new m([8193,3,0,0,0,0,0,0]),32],as112v6:[[new m([8193,4,274,0,0,0,0,0]),48],[new m([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new m([8193,16,0,0,0,0,0,0]),28],orchid2:[new m([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new m([8193,48,0,0,0,0,0,0]),28],reserved:[[new m([8193,0,0,0,0,0,0,0]),23],[new m([8193,3512,0,0,0,0,0,0]),32]]},m.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},m.prototype.kind=function(){return"ipv6"},m.prototype.match=function(g,w){let y;if(w===void 0&&(y=g,g=y[0],w=y[1]),g.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return d(this.parts,g.parts,16,w)},m.prototype.prefixLengthFromSubnetMask=function(){let g=0,w=!1;const y={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let v,b;for(let k=7;k>=0;k-=1)if(v=this.parts[k],v in y){if(b=y[v],w&&b!==0)return null;b!==16&&(w=!0),g+=b}else return null;return 128-g},m.prototype.range=function(){return p.subnetMatch(this,this.SpecialRanges)},m.prototype.toByteArray=function(){let g;const w=[],y=this.parts;for(let v=0;v<y.length;v++)g=y[v],w.push(g>>8),w.push(g&255);return w},m.prototype.toFixedLengthString=function(){const g=(function(){const y=[];for(let v=0;v<this.parts.length;v++)y.push(f(this.parts[v].toString(16),4));return y}).call(this).join(":");let w="";return this.zoneId&&(w=`%${this.zoneId}`),g+w},m.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const g=this.parts.slice(-2),w=g[0],y=g[1];return new p.IPv4([w>>8,w&255,y>>8,y&255])},m.prototype.toNormalizedString=function(){const g=(function(){const y=[];for(let v=0;v<this.parts.length;v++)y.push(this.parts[v].toString(16));return y}).call(this).join(":");let w="";return this.zoneId&&(w=`%${this.zoneId}`),g+w},m.prototype.toRFC5952String=function(){const g=/((^|:)(0(:|$)){2,})/g,w=this.toNormalizedString();let y=0,v=-1,b;for(;b=g.exec(w);)b[0].length>v&&(y=b.index,v=b[0].length);return v<0?w:`${w.substring(0,y)}::${w.substring(y+v)}`},m.prototype.toString=function(){return this.toRFC5952String()},m}(),p.IPv6.broadcastAddressFromCIDR=function(m){try{const g=this.parseCIDR(m),w=g[0].toByteArray(),y=this.subnetMaskFromPrefixLength(g[1]).toByteArray(),v=[];let b=0;for(;b<16;)v.push(parseInt(w[b],10)|parseInt(y[b],10)^255),b++;return new this(v)}catch(g){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${g})`)}},p.IPv6.isIPv6=function(m){return this.parser(m)!==null},p.IPv6.isValid=function(m){if(typeof m=="string"&&m.indexOf(":")===-1)return!1;try{const g=this.parser(m);return new this(g.parts,g.zoneId),!0}catch{return!1}},p.IPv6.isValidCIDR=function(m){if(typeof m=="string"&&m.indexOf(":")===-1)return!1;try{return this.parseCIDR(m),!0}catch{return!1}},p.IPv6.networkAddressFromCIDR=function(m){let g,w,y,v,b;try{for(g=this.parseCIDR(m),y=g[0].toByteArray(),b=this.subnetMaskFromPrefixLength(g[1]).toByteArray(),v=[],w=0;w<16;)v.push(parseInt(y[w],10)&parseInt(b[w],10)),w++;return new this(v)}catch(k){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${k})`)}},p.IPv6.parse=function(m){const g=this.parser(m);if(g.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(g.parts,g.zoneId)},p.IPv6.parseCIDR=function(m){let g,w,y;if((w=m.match(/^(.+)\/(\d+)$/))&&(g=parseInt(w[2]),g>=0&&g<=128))return y=[this.parse(w[1]),g],Object.defineProperty(y,"toString",{value:function(){return this.join("/")}}),y;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},p.IPv6.parser=function(m){let g,w,y,v,b,k;if(y=m.match(c.deprecatedTransitional))return this.parser(`::ffff:${y[1]}`);if(c.native.test(m))return u(m,8);if((y=m.match(c.transitional))&&(k=y[6]||"",g=y[1],y[1].endsWith("::")||(g=g.slice(0,-1)),g=u(g+k,6),g.parts)){for(b=[parseInt(y[2]),parseInt(y[3]),parseInt(y[4]),parseInt(y[5])],w=0;w<b.length;w++)if(v=b[w],!(0<=v&&v<=255))return null;return g.parts.push(b[0]<<8|b[1]),g.parts.push(b[2]<<8|b[3]),{parts:g.parts,zoneId:g.zoneId}}return null},p.IPv6.subnetMaskFromPrefixLength=function(m){if(m=parseInt(m),m<0||m>128)throw new Error("ipaddr: invalid IPv6 prefix length");const g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let w=0;const y=Math.floor(m/8);for(;w<y;)g[w]=255,w++;return y<16&&(g[y]=Math.pow(2,m%8)-1<<8-m%8),new this(g)},p.fromByteArray=function(m){const g=m.length;if(g===4)return new p.IPv4(m);if(g===16)return new p.IPv6(m);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},p.isValid=function(m){return p.IPv6.isValid(m)||p.IPv4.isValid(m)},p.isValidCIDR=function(m){return p.IPv6.isValidCIDR(m)||p.IPv4.isValidCIDR(m)},p.parse=function(m){if(p.IPv6.isValid(m))return p.IPv6.parse(m);if(p.IPv4.isValid(m))return p.IPv4.parse(m);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},p.parseCIDR=function(m){try{return p.IPv6.parseCIDR(m)}catch{try{return p.IPv4.parseCIDR(m)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},p.process=function(m){const g=this.parse(m);return g.kind()==="ipv6"&&g.isIPv4MappedAddress()?g.toIPv4Address():g},p.subnetMatch=function(m,g,w){let y,v,b,k;w==null&&(w="unicast");for(v in g)if(Object.prototype.hasOwnProperty.call(g,v)){for(b=g[v],b[0]&&!(b[0]instanceof Array)&&(b=[b]),y=0;y<b.length;y++)if(k=b[y],m.kind()===k[0].kind()&&m.match.apply(m,k))return v}return w},e.exports?e.exports=p:t.ipaddr=p})(I6)})(aL);var xA=aL.exports;class bA{static decodeIP(t){if(t.length===64&&parseInt(t,16)===0)return"::/0";if(t.length!==16)return t;const r=parseInt(t.slice(8),16).toString(2).split("").reduce((s,i)=>s+ +i,0);let n=t.slice(0,8).replace(/(.{2})/g,s=>`${parseInt(s,16)}.`);return n=n.slice(0,-1),`${n}/${r}`}static toString(t){if(t.byteLength===4||t.byteLength===16){const r=new Uint8Array(t);return xA.fromByteArray(Array.from(r)).toString()}return this.decodeIP(Pt.ToHex(t))}static fromString(t){const r=xA.parse(t);return new Uint8Array(r.toByteArray()).buffer}}var O6,D6,L6;let Vs=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};P([q({type:de.TeletexString})],Vs.prototype,"teletexString",void 0);P([q({type:de.PrintableString})],Vs.prototype,"printableString",void 0);P([q({type:de.UniversalString})],Vs.prototype,"universalString",void 0);P([q({type:de.Utf8String})],Vs.prototype,"utf8String",void 0);P([q({type:de.BmpString})],Vs.prototype,"bmpString",void 0);Vs=P([Xe({type:Ue.Choice})],Vs);let xp=class extends Vs{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Pt.ToHex(this.anyValue):super.toString())}};P([q({type:de.IA5String})],xp.prototype,"ia5String",void 0);P([q({type:de.Any})],xp.prototype,"anyValue",void 0);xp=P([Xe({type:Ue.Choice})],xp);class Lw{constructor(t={}){this.type="",this.value=new xp,Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Lw.prototype,"type",void 0);P([q({type:xp})],Lw.prototype,"value",void 0);let bp=O6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,O6.prototype)}};bp=O6=P([Xe({type:Ue.Set,itemType:Lw})],bp);let $6=D6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,D6.prototype)}};$6=D6=P([Xe({type:Ue.Sequence,itemType:bp})],$6);let ms=L6=class extends $6{constructor(e){super(e),Object.setPrototypeOf(this,L6.prototype)}};ms=L6=P([Xe({type:Ue.Sequence})],ms);const bre={fromASN:e=>bA.toString(xx.fromASN(e)),toASN:e=>xx.toASN(bA.fromString(e))};class Vm{constructor(t={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Vm.prototype,"typeId",void 0);P([q({type:de.Any,context:0})],Vm.prototype,"value",void 0);class L_{constructor(t={}){this.partyName=new Vs,Object.assign(this,t)}}P([q({type:Vs,optional:!0,context:0,implicit:!0})],L_.prototype,"nameAssigner",void 0);P([q({type:Vs,context:1,implicit:!0})],L_.prototype,"partyName",void 0);let Er=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Vm,context:0,implicit:!0})],Er.prototype,"otherName",void 0);P([q({type:de.IA5String,context:1,implicit:!0})],Er.prototype,"rfc822Name",void 0);P([q({type:de.IA5String,context:2,implicit:!0})],Er.prototype,"dNSName",void 0);P([q({type:de.Any,context:3,implicit:!0})],Er.prototype,"x400Address",void 0);P([q({type:ms,context:4,implicit:!1})],Er.prototype,"directoryName",void 0);P([q({type:L_,context:5})],Er.prototype,"ediPartyName",void 0);P([q({type:de.IA5String,context:6,implicit:!0})],Er.prototype,"uniformResourceIdentifier",void 0);P([q({type:de.OctetString,context:7,implicit:!0,converter:bre})],Er.prototype,"iPAddress",void 0);P([q({type:de.ObjectIdentifier,context:8,implicit:!0})],Er.prototype,"registeredID",void 0);Er=P([Xe({type:Ue.Choice})],Er);const $_="1.3.6.1.5.5.7",wre=`${$_}.1`,Yp=`${$_}.3`,$w=`${$_}.48`,wA=`${$w}.1`,kA=`${$w}.2`,SA=`${$w}.3`,_A=`${$w}.5`,Yu="2.5.29";var F6;const B6=`${wre}.1`;class Qg{constructor(t={}){this.accessMethod="",this.accessLocation=new Er,Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Qg.prototype,"accessMethod",void 0);P([q({type:Er})],Qg.prototype,"accessLocation",void 0);let kf=F6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,F6.prototype)}};kf=F6=P([Xe({type:Ue.Sequence,itemType:Qg})],kf);const bx=`${Yu}.35`;class F_ extends Yr{}class Cd{constructor(t={}){t&&Object.assign(this,t)}}P([q({type:F_,context:0,optional:!0,implicit:!0})],Cd.prototype,"keyIdentifier",void 0);P([q({type:Er,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Cd.prototype,"authorityCertIssuer",void 0);P([q({type:de.Integer,context:2,optional:!0,implicit:!0,converter:Rn})],Cd.prototype,"authorityCertSerialNumber",void 0);const oL=`${Yu}.19`;class wx{constructor(t={}){this.cA=!1,Object.assign(this,t)}}P([q({type:de.Boolean,defaultValue:!1})],wx.prototype,"cA",void 0);P([q({type:de.Integer,optional:!0})],wx.prototype,"pathLenConstraint",void 0);var U6;let vi=U6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,U6.prototype)}};vi=U6=P([Xe({type:Ue.Sequence,itemType:Er})],vi);var z6;let EA=z6=class extends vi{constructor(e){super(e),Object.setPrototypeOf(this,z6.prototype)}};EA=z6=P([Xe({type:Ue.Sequence})],EA);var H6;const lL=`${Yu}.32`;let cc=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};P([q({type:de.IA5String})],cc.prototype,"ia5String",void 0);P([q({type:de.VisibleString})],cc.prototype,"visibleString",void 0);P([q({type:de.BmpString})],cc.prototype,"bmpString",void 0);P([q({type:de.Utf8String})],cc.prototype,"utf8String",void 0);cc=P([Xe({type:Ue.Choice})],cc);class B_{constructor(t={}){this.organization=new cc,this.noticeNumbers=[],Object.assign(this,t)}}P([q({type:cc})],B_.prototype,"organization",void 0);P([q({type:de.Integer,repeated:"sequence"})],B_.prototype,"noticeNumbers",void 0);class U_{constructor(t={}){Object.assign(this,t)}}P([q({type:B_,optional:!0})],U_.prototype,"noticeRef",void 0);P([q({type:cc,optional:!0})],U_.prototype,"explicitText",void 0);let kx=class{constructor(e={}){Object.assign(this,e)}};P([q({type:de.IA5String})],kx.prototype,"cPSuri",void 0);P([q({type:U_})],kx.prototype,"userNotice",void 0);kx=P([Xe({type:Ue.Choice})],kx);class z_{constructor(t={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],z_.prototype,"policyQualifierId",void 0);P([q({type:de.Any})],z_.prototype,"qualifier",void 0);class Fw{constructor(t={}){this.policyIdentifier="",Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Fw.prototype,"policyIdentifier",void 0);P([q({type:z_,repeated:"sequence",optional:!0})],Fw.prototype,"policyQualifiers",void 0);let Sx=H6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,H6.prototype)}};Sx=H6=P([Xe({type:Ue.Sequence,itemType:Fw})],Sx);let _x=class{constructor(e=0){this.value=e}};P([q({type:de.Integer})],_x.prototype,"value",void 0);_x=P([Xe({type:Ue.Choice})],_x);let NA=class extends _x{};NA=P([Xe({type:Ue.Choice})],NA);var V6;const q6=`${Yu}.31`;var eo;(function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"})(eo||(eo={}));class cL extends Dw{toJSON(){const t=[],r=this.toNumber();return r&eo.aACompromise&&t.push("aACompromise"),r&eo.affiliationChanged&&t.push("affiliationChanged"),r&eo.cACompromise&&t.push("cACompromise"),r&eo.certificateHold&&t.push("certificateHold"),r&eo.cessationOfOperation&&t.push("cessationOfOperation"),r&eo.keyCompromise&&t.push("keyCompromise"),r&eo.privilegeWithdrawn&&t.push("privilegeWithdrawn"),r&eo.superseded&&t.push("superseded"),r&eo.unused&&t.push("unused"),t}toString(){return`[${this.toJSON().join(", ")}]`}}let ih=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Er,context:0,repeated:"sequence",implicit:!0})],ih.prototype,"fullName",void 0);P([q({type:bp,context:1,implicit:!0})],ih.prototype,"nameRelativeToCRLIssuer",void 0);ih=P([Xe({type:Ue.Choice})],ih);class Zp{constructor(t={}){Object.assign(this,t)}}P([q({type:ih,context:0,optional:!0})],Zp.prototype,"distributionPoint",void 0);P([q({type:cL,context:1,optional:!0,implicit:!0})],Zp.prototype,"reasons",void 0);P([q({type:Er,context:2,optional:!0,repeated:"sequence",implicit:!0})],Zp.prototype,"cRLIssuer",void 0);let Ff=V6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,V6.prototype)}};Ff=V6=P([Xe({type:Ue.Sequence,itemType:Zp})],Ff);var W6;let CA=W6=class extends Ff{constructor(e){super(e),Object.setPrototypeOf(this,W6.prototype)}};CA=W6=P([Xe({type:Ue.Sequence,itemType:Zp})],CA);class ei{constructor(t={}){this.onlyContainsUserCerts=ei.ONLY,this.onlyContainsCACerts=ei.ONLY,this.indirectCRL=ei.ONLY,this.onlyContainsAttributeCerts=ei.ONLY,Object.assign(this,t)}}ei.ONLY=!1;P([q({type:ih,context:0,optional:!0})],ei.prototype,"distributionPoint",void 0);P([q({type:de.Boolean,context:1,defaultValue:ei.ONLY,implicit:!0})],ei.prototype,"onlyContainsUserCerts",void 0);P([q({type:de.Boolean,context:2,defaultValue:ei.ONLY,implicit:!0})],ei.prototype,"onlyContainsCACerts",void 0);P([q({type:cL,context:3,optional:!0,implicit:!0})],ei.prototype,"onlySomeReasons",void 0);P([q({type:de.Boolean,context:4,defaultValue:ei.ONLY,implicit:!0})],ei.prototype,"indirectCRL",void 0);P([q({type:de.Boolean,context:5,defaultValue:ei.ONLY,implicit:!0})],ei.prototype,"onlyContainsAttributeCerts",void 0);var lm;(function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"})(lm||(lm={}));let G6=class{constructor(e=lm.unspecified){this.reason=lm.unspecified,this.reason=e}toJSON(){return lm[this.reason]}toString(){return this.toJSON()}};P([q({type:de.Enumerated})],G6.prototype,"reason",void 0);G6=P([Xe({type:Ue.Choice})],G6);var K6;const uL=`${Yu}.37`;let Ex=K6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,K6.prototype)}};Ex=K6=P([Xe({type:Ue.Sequence,itemType:de.ObjectIdentifier})],Ex);const kre=`${Yp}.1`,Sre=`${Yp}.2`,_re=`${Yp}.3`,Ere=`${Yp}.4`,Nre=`${Yp}.8`,Cre=`${Yp}.9`;let Y6=class{constructor(e=new ArrayBuffer(0)){this.value=e}};P([q({type:de.Integer,converter:Rn})],Y6.prototype,"value",void 0);Y6=P([Xe({type:Ue.Choice})],Y6);let Z6=class{constructor(e){this.value=new Date,e&&(this.value=e)}};P([q({type:de.GeneralizedTime})],Z6.prototype,"value",void 0);Z6=P([Xe({type:Ue.Choice})],Z6);var Q6;let AA=Q6=class extends vi{constructor(e){super(e),Object.setPrototypeOf(this,Q6.prototype)}};AA=Q6=P([Xe({type:Ue.Sequence})],AA);const dL=`${Yu}.15`;var to;(function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"})(to||(to={}));class z4 extends Dw{toJSON(){const t=this.toNumber(),r=[];return t&to.cRLSign&&r.push("crlSign"),t&to.dataEncipherment&&r.push("dataEncipherment"),t&to.decipherOnly&&r.push("decipherOnly"),t&to.digitalSignature&&r.push("digitalSignature"),t&to.encipherOnly&&r.push("encipherOnly"),t&to.keyAgreement&&r.push("keyAgreement"),t&to.keyCertSign&&r.push("keyCertSign"),t&to.keyEncipherment&&r.push("keyEncipherment"),t&to.nonRepudiation&&r.push("nonRepudiation"),r}toString(){return`[${this.toJSON().join(", ")}]`}}var X6;class Bw{constructor(t={}){this.base=new Er,this.minimum=0,Object.assign(this,t)}}P([q({type:Er})],Bw.prototype,"base",void 0);P([q({type:de.Integer,context:0,defaultValue:0,implicit:!0})],Bw.prototype,"minimum",void 0);P([q({type:de.Integer,context:1,optional:!0,implicit:!0})],Bw.prototype,"maximum",void 0);let Nx=X6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,X6.prototype)}};Nx=X6=P([Xe({type:Ue.Sequence,itemType:Bw})],Nx);class hL{constructor(t={}){Object.assign(this,t)}}P([q({type:Nx,context:0,optional:!0,implicit:!0})],hL.prototype,"permittedSubtrees",void 0);P([q({type:Nx,context:1,optional:!0,implicit:!0})],hL.prototype,"excludedSubtrees",void 0);class fL{constructor(t={}){Object.assign(this,t)}}P([q({type:de.Integer,context:0,implicit:!0,optional:!0,converter:Rn})],fL.prototype,"requireExplicitPolicy",void 0);P([q({type:de.Integer,context:1,implicit:!0,optional:!0,converter:Rn})],fL.prototype,"inhibitPolicyMapping",void 0);var J6;class H_{constructor(t={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],H_.prototype,"issuerDomainPolicy",void 0);P([q({type:de.ObjectIdentifier})],H_.prototype,"subjectDomainPolicy",void 0);let TA=J6=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,J6.prototype)}};TA=J6=P([Xe({type:Ue.Sequence,itemType:H_})],TA);var ek;const V_=`${Yu}.17`;let tk=ek=class extends vi{constructor(e){super(e),Object.setPrototypeOf(this,ek.prototype)}};tk=ek=P([Xe({type:Ue.Sequence})],tk);let uc=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};P([q({type:de.ObjectIdentifier})],uc.prototype,"type",void 0);P([q({type:de.Any,repeated:"set"})],uc.prototype,"values",void 0);var rk;let RA=rk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,rk.prototype)}};RA=rk=P([Xe({type:Ue.Sequence,itemType:uc})],RA);const q_=`${Yu}.14`;class _u extends F_{}class pL{constructor(t={}){Object.assign(this,t)}}P([q({type:de.GeneralizedTime,context:0,implicit:!0,optional:!0})],pL.prototype,"notBefore",void 0);P([q({type:de.GeneralizedTime,context:1,implicit:!0,optional:!0})],pL.prototype,"notAfter",void 0);var cm;(function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"})(cm||(cm={}));class mL extends Dw{toJSON(){const t=[],r=this.toNumber();return r&cm.pKIXCertificate&&t.push("pKIXCertificate"),r&cm.newExtensions&&t.push("newExtensions"),r&cm.keyUpdateAllowed&&t.push("keyUpdateAllowed"),t}toString(){return`[${this.toJSON().join(", ")}]`}}class gL{constructor(t={}){this.entrustVers="",this.entrustInfoFlags=new mL,Object.assign(this,t)}}P([q({type:de.GeneralString})],gL.prototype,"entrustVers",void 0);P([q({type:mL})],gL.prototype,"entrustInfoFlags",void 0);var nk;let IA=nk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,nk.prototype)}};IA=nk=P([Xe({type:Ue.Sequence,itemType:Qg})],IA);class Nt{constructor(t={}){this.algorithm="",Object.assign(this,t)}isEqual(t){return t instanceof Nt&&t.algorithm==this.algorithm&&(t.parameters&&this.parameters&&gx(t.parameters,this.parameters)||t.parameters===this.parameters)}}P([q({type:de.ObjectIdentifier})],Nt.prototype,"algorithm",void 0);P([q({type:de.Any,optional:!0})],Nt.prototype,"parameters",void 0);class Qo{constructor(t={}){this.algorithm=new Nt,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:Nt})],Qo.prototype,"algorithm",void 0);P([q({type:de.BitString})],Qo.prototype,"subjectPublicKey",void 0);let Fs=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){const t=new Date(e);t.getUTCFullYear()>2049?this.generalTime=t:this.utcTime=t}else Object.assign(this,e)}getTime(){const e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};P([q({type:de.UTCTime})],Fs.prototype,"utcTime",void 0);P([q({type:de.GeneralizedTime})],Fs.prototype,"generalTime",void 0);Fs=P([Xe({type:Ue.Choice})],Fs);class Uw{constructor(t){this.notBefore=new Fs(new Date),this.notAfter=new Fs(new Date),t&&(this.notBefore=new Fs(t.notBefore),this.notAfter=new Fs(t.notAfter))}}P([q({type:Fs})],Uw.prototype,"notBefore",void 0);P([q({type:Fs})],Uw.prototype,"notAfter",void 0);var sk;let _o=class yL{constructor(t={}){this.extnID="",this.critical=yL.CRITICAL,this.extnValue=new Yr,Object.assign(this,t)}};_o.CRITICAL=!1;P([q({type:de.ObjectIdentifier})],_o.prototype,"extnID",void 0);P([q({type:de.Boolean,defaultValue:_o.CRITICAL})],_o.prototype,"critical",void 0);P([q({type:Yr})],_o.prototype,"extnValue",void 0);let ah=sk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,sk.prototype)}};ah=sk=P([Xe({type:Ue.Sequence,itemType:_o})],ah);var wp;(function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"})(wp||(wp={}));class Ka{constructor(t={}){this.version=wp.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new Nt,this.issuer=new ms,this.validity=new Uw,this.subject=new ms,this.subjectPublicKeyInfo=new Qo,Object.assign(this,t)}}P([q({type:de.Integer,context:0,defaultValue:wp.v1})],Ka.prototype,"version",void 0);P([q({type:de.Integer,converter:Rn})],Ka.prototype,"serialNumber",void 0);P([q({type:Nt})],Ka.prototype,"signature",void 0);P([q({type:ms})],Ka.prototype,"issuer",void 0);P([q({type:Uw})],Ka.prototype,"validity",void 0);P([q({type:ms})],Ka.prototype,"subject",void 0);P([q({type:Qo})],Ka.prototype,"subjectPublicKeyInfo",void 0);P([q({type:de.BitString,context:1,implicit:!0,optional:!0})],Ka.prototype,"issuerUniqueID",void 0);P([q({type:de.BitString,context:2,implicit:!0,optional:!0})],Ka.prototype,"subjectUniqueID",void 0);P([q({type:ah,context:3,optional:!0})],Ka.prototype,"extensions",void 0);class oh{constructor(t={}){this.tbsCertificate=new Ka,this.signatureAlgorithm=new Nt,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:Ka})],oh.prototype,"tbsCertificate",void 0);P([q({type:Nt})],oh.prototype,"signatureAlgorithm",void 0);P([q({type:de.BitString})],oh.prototype,"signatureValue",void 0);class zw{constructor(t={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Fs,Object.assign(this,t)}}P([q({type:de.Integer,converter:Rn})],zw.prototype,"userCertificate",void 0);P([q({type:Fs})],zw.prototype,"revocationDate",void 0);P([q({type:_o,optional:!0,repeated:"sequence"})],zw.prototype,"crlEntryExtensions",void 0);class wc{constructor(t={}){this.signature=new Nt,this.issuer=new ms,this.thisUpdate=new Fs,Object.assign(this,t)}}P([q({type:de.Integer,optional:!0})],wc.prototype,"version",void 0);P([q({type:Nt})],wc.prototype,"signature",void 0);P([q({type:ms})],wc.prototype,"issuer",void 0);P([q({type:Fs})],wc.prototype,"thisUpdate",void 0);P([q({type:Fs,optional:!0})],wc.prototype,"nextUpdate",void 0);P([q({type:zw,repeated:"sequence",optional:!0})],wc.prototype,"revokedCertificates",void 0);P([q({type:_o,optional:!0,context:0,repeated:"sequence"})],wc.prototype,"crlExtensions",void 0);class W_{constructor(t={}){this.tbsCertList=new wc,this.signatureAlgorithm=new Nt,this.signature=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:wc})],W_.prototype,"tbsCertList",void 0);P([q({type:Nt})],W_.prototype,"signatureAlgorithm",void 0);P([q({type:de.BitString})],W_.prototype,"signature",void 0);class Qp{constructor(t={}){this.issuer=new ms,this.serialNumber=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:ms})],Qp.prototype,"issuer",void 0);P([q({type:de.Integer,converter:Rn})],Qp.prototype,"serialNumber",void 0);let kp=class{constructor(e={}){Object.assign(this,e)}};P([q({type:_u,context:0,implicit:!0})],kp.prototype,"subjectKeyIdentifier",void 0);P([q({type:Qp})],kp.prototype,"issuerAndSerialNumber",void 0);kp=P([Xe({type:Ue.Choice})],kp);var cl;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2",e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v5=5]="v5"})(cl||(cl={}));let qm=class extends Nt{};qm=P([Xe({type:Ue.Sequence})],qm);let Cx=class extends Nt{};Cx=P([Xe({type:Ue.Sequence})],Cx);let ul=class extends Nt{};ul=P([Xe({type:Ue.Sequence})],ul);let Ax=class extends Nt{};Ax=P([Xe({type:Ue.Sequence})],Ax);let jA=class extends Nt{};jA=P([Xe({type:Ue.Sequence})],jA);let ik=class extends Nt{};ik=P([Xe({type:Ue.Sequence})],ik);let Xp=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};P([q({type:de.ObjectIdentifier})],Xp.prototype,"attrType",void 0);P([q({type:de.Any,repeated:"set"})],Xp.prototype,"attrValues",void 0);var ak;class yl{constructor(t={}){this.version=cl.v0,this.sid=new kp,this.digestAlgorithm=new qm,this.signatureAlgorithm=new Cx,this.signature=new Yr,Object.assign(this,t)}}P([q({type:de.Integer})],yl.prototype,"version",void 0);P([q({type:kp})],yl.prototype,"sid",void 0);P([q({type:qm})],yl.prototype,"digestAlgorithm",void 0);P([q({type:Xp,repeated:"set",context:0,implicit:!0,optional:!0})],yl.prototype,"signedAttrs",void 0);P([q({type:Cx})],yl.prototype,"signatureAlgorithm",void 0);P([q({type:Yr})],yl.prototype,"signature",void 0);P([q({type:Xp,repeated:"set",context:1,implicit:!0,optional:!0})],yl.prototype,"unsignedAttrs",void 0);let Tx=ak=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,ak.prototype)}};Tx=ak=P([Xe({type:Ue.Set,itemType:yl})],Tx);let MA=class extends Fs{};MA=P([Xe({type:Ue.Choice})],MA);let PA=class extends yl{};PA=P([Xe({type:Ue.Sequence})],PA);class G_{constructor(t={}){this.acIssuer=new Er,this.acSerial=0,this.attrs=[],Object.assign(this,t)}}P([q({type:Er})],G_.prototype,"acIssuer",void 0);P([q({type:de.Integer})],G_.prototype,"acSerial",void 0);P([q({type:uc,repeated:"sequence"})],G_.prototype,"attrs",void 0);var ok;let Rx=ok=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,ok.prototype)}};Rx=ok=P([Xe({type:Ue.Sequence,itemType:de.ObjectIdentifier})],Rx);class Hw{constructor(t={}){this.permitUnSpecified=!0,Object.assign(this,t)}}P([q({type:de.Integer,optional:!0})],Hw.prototype,"pathLenConstraint",void 0);P([q({type:Rx,implicit:!0,context:0,optional:!0})],Hw.prototype,"permittedAttrs",void 0);P([q({type:Rx,implicit:!0,context:1,optional:!0})],Hw.prototype,"excludedAttrs",void 0);P([q({type:de.Boolean,defaultValue:!0})],Hw.prototype,"permitUnSpecified",void 0);class Ch{constructor(t={}){this.issuer=new vi,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:vi})],Ch.prototype,"issuer",void 0);P([q({type:de.Integer,converter:Rn})],Ch.prototype,"serial",void 0);P([q({type:de.BitString,optional:!0})],Ch.prototype,"issuerUID",void 0);var lk;(function(e){e[e.publicKey=0]="publicKey",e[e.publicKeyCert=1]="publicKeyCert",e[e.otherObjectTypes=2]="otherObjectTypes"})(lk||(lk={}));class Ah{constructor(t={}){this.digestedObjectType=lk.publicKey,this.digestAlgorithm=new Nt,this.objectDigest=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.Enumerated})],Ah.prototype,"digestedObjectType",void 0);P([q({type:de.ObjectIdentifier,optional:!0})],Ah.prototype,"otherObjectTypeID",void 0);P([q({type:Nt})],Ah.prototype,"digestAlgorithm",void 0);P([q({type:de.BitString})],Ah.prototype,"objectDigest",void 0);class Vw{constructor(t={}){Object.assign(this,t)}}P([q({type:vi,optional:!0})],Vw.prototype,"issuerName",void 0);P([q({type:Ch,context:0,implicit:!0,optional:!0})],Vw.prototype,"baseCertificateID",void 0);P([q({type:Ah,context:1,implicit:!0,optional:!0})],Vw.prototype,"objectDigestInfo",void 0);let Sp=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Er,repeated:"sequence"})],Sp.prototype,"v1Form",void 0);P([q({type:Vw,context:0,implicit:!0})],Sp.prototype,"v2Form",void 0);Sp=P([Xe({type:Ue.Choice})],Sp);class qw{constructor(t={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,t)}}P([q({type:de.GeneralizedTime})],qw.prototype,"notBeforeTime",void 0);P([q({type:de.GeneralizedTime})],qw.prototype,"notAfterTime",void 0);let Xg=class{constructor(t={}){Object.assign(this,t)}};P([q({type:Ch,implicit:!0,context:0,optional:!0})],Xg.prototype,"baseCertificateID",void 0);P([q({type:vi,implicit:!0,context:1,optional:!0})],Xg.prototype,"entityName",void 0);P([q({type:Ah,implicit:!0,context:2,optional:!0})],Xg.prototype,"objectDigestInfo",void 0);var ck;(function(e){e[e.v2=1]="v2"})(ck||(ck={}));class Ro{constructor(t={}){this.version=ck.v2,this.holder=new Xg,this.issuer=new Sp,this.signature=new Nt,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new qw,this.attributes=[],Object.assign(this,t)}}P([q({type:de.Integer})],Ro.prototype,"version",void 0);P([q({type:Xg})],Ro.prototype,"holder",void 0);P([q({type:Sp})],Ro.prototype,"issuer",void 0);P([q({type:Nt})],Ro.prototype,"signature",void 0);P([q({type:de.Integer,converter:Rn})],Ro.prototype,"serialNumber",void 0);P([q({type:qw})],Ro.prototype,"attrCertValidityPeriod",void 0);P([q({type:uc,repeated:"sequence"})],Ro.prototype,"attributes",void 0);P([q({type:de.BitString,optional:!0})],Ro.prototype,"issuerUniqueID",void 0);P([q({type:ah,optional:!0})],Ro.prototype,"extensions",void 0);class Ww{constructor(t={}){this.acinfo=new Ro,this.signatureAlgorithm=new Nt,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:Ro})],Ww.prototype,"acinfo",void 0);P([q({type:Nt})],Ww.prototype,"signatureAlgorithm",void 0);P([q({type:de.BitString})],Ww.prototype,"signatureValue",void 0);var Ix;(function(e){e[e.unmarked=1]="unmarked",e[e.unclassified=2]="unclassified",e[e.restricted=4]="restricted",e[e.confidential=8]="confidential",e[e.secret=16]="secret",e[e.topSecret=32]="topSecret"})(Ix||(Ix={}));class uk extends Dw{}class K_{constructor(t={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier,implicit:!0,context:0})],K_.prototype,"type",void 0);P([q({type:de.Any,implicit:!0,context:1})],K_.prototype,"value",void 0);class Y_{constructor(t={}){this.policyId="",this.classList=new uk(Ix.unclassified),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Y_.prototype,"policyId",void 0);P([q({type:uk,defaultValue:new uk(Ix.unclassified)})],Y_.prototype,"classList",void 0);P([q({type:K_,repeated:"set"})],Y_.prototype,"securityCategories",void 0);class Gw{constructor(t={}){Object.assign(this,t)}}P([q({type:Yr})],Gw.prototype,"cotets",void 0);P([q({type:de.ObjectIdentifier})],Gw.prototype,"oid",void 0);P([q({type:de.Utf8String})],Gw.prototype,"string",void 0);class vL{constructor(t={}){this.values=[],Object.assign(this,t)}}P([q({type:vi,implicit:!0,context:0,optional:!0})],vL.prototype,"policyAuthority",void 0);P([q({type:Gw,repeated:"sequence"})],vL.prototype,"values",void 0);var dk;class Kw{constructor(t={}){this.targetCertificate=new Ch,Object.assign(this,t)}}P([q({type:Ch})],Kw.prototype,"targetCertificate",void 0);P([q({type:Er,optional:!0})],Kw.prototype,"targetName",void 0);P([q({type:Ah,optional:!0})],Kw.prototype,"certDigestInfo",void 0);let _p=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Er,context:0,implicit:!0})],_p.prototype,"targetName",void 0);P([q({type:Er,context:1,implicit:!0})],_p.prototype,"targetGroup",void 0);P([q({type:Kw,context:2,implicit:!0})],_p.prototype,"targetCert",void 0);_p=P([Xe({type:Ue.Choice})],_p);let hk=dk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,dk.prototype)}};hk=dk=P([Xe({type:Ue.Sequence,itemType:_p})],hk);var fk;let OA=fk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,fk.prototype)}};OA=fk=P([Xe({type:Ue.Sequence,itemType:hk})],OA);class xL{constructor(t={}){Object.assign(this,t)}}P([q({type:vi,implicit:!0,context:0,optional:!0})],xL.prototype,"roleAuthority",void 0);P([q({type:Er,implicit:!0,context:1})],xL.prototype,"roleName",void 0);class Z_{constructor(t={}){this.service=new Er,this.ident=new Er,Object.assign(this,t)}}P([q({type:Er})],Z_.prototype,"service",void 0);P([q({type:Er})],Z_.prototype,"ident",void 0);P([q({type:Yr,optional:!0})],Z_.prototype,"authInfo",void 0);var pk;class Q_{constructor(t={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Q_.prototype,"otherCertFormat",void 0);P([q({type:de.Any})],Q_.prototype,"otherCert",void 0);let lh=class{constructor(e={}){Object.assign(this,e)}};P([q({type:oh})],lh.prototype,"certificate",void 0);P([q({type:Ww,context:2,implicit:!0})],lh.prototype,"v2AttrCert",void 0);P([q({type:Q_,context:3,implicit:!0})],lh.prototype,"other",void 0);lh=P([Xe({type:Ue.Choice})],lh);let Wm=pk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,pk.prototype)}};Wm=pk=P([Xe({type:Ue.Set,itemType:lh})],Wm);class Ql{constructor(t={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Ql.prototype,"contentType",void 0);P([q({type:de.Any,context:0})],Ql.prototype,"content",void 0);let Ep=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Yr})],Ep.prototype,"single",void 0);P([q({type:de.Any})],Ep.prototype,"any",void 0);Ep=P([Xe({type:Ue.Choice})],Ep);class Yw{constructor(t={}){this.eContentType="",Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Yw.prototype,"eContentType",void 0);P([q({type:Ep,context:0,optional:!0})],Yw.prototype,"eContent",void 0);let Gm=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Yr,context:0,implicit:!0,optional:!0})],Gm.prototype,"value",void 0);P([q({type:Yr,converter:rre,context:0,implicit:!0,optional:!0,repeated:"sequence"})],Gm.prototype,"constructedValue",void 0);Gm=P([Xe({type:Ue.Choice})],Gm);class Jg{constructor(t={}){this.contentType="",this.contentEncryptionAlgorithm=new Ax,Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Jg.prototype,"contentType",void 0);P([q({type:Ax})],Jg.prototype,"contentEncryptionAlgorithm",void 0);P([q({type:Gm,optional:!0})],Jg.prototype,"encryptedContent",void 0);class Zw{constructor(t={}){this.keyAttrId="",Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Zw.prototype,"keyAttrId",void 0);P([q({type:de.Any,optional:!0})],Zw.prototype,"keyAttr",void 0);var mk;class Qw{constructor(t={}){this.subjectKeyIdentifier=new _u,Object.assign(this,t)}}P([q({type:_u})],Qw.prototype,"subjectKeyIdentifier",void 0);P([q({type:de.GeneralizedTime,optional:!0})],Qw.prototype,"date",void 0);P([q({type:Zw,optional:!0})],Qw.prototype,"other",void 0);let Np=class{constructor(e={}){Object.assign(this,e)}};P([q({type:Qw,context:0,implicit:!0,optional:!0})],Np.prototype,"rKeyId",void 0);P([q({type:Qp,optional:!0})],Np.prototype,"issuerAndSerialNumber",void 0);Np=P([Xe({type:Ue.Choice})],Np);class X_{constructor(t={}){this.rid=new Np,this.encryptedKey=new Yr,Object.assign(this,t)}}P([q({type:Np})],X_.prototype,"rid",void 0);P([q({type:Yr})],X_.prototype,"encryptedKey",void 0);let jx=mk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,mk.prototype)}};jx=mk=P([Xe({type:Ue.Sequence,itemType:X_})],jx);class J_{constructor(t={}){this.algorithm=new Nt,this.publicKey=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:Nt})],J_.prototype,"algorithm",void 0);P([q({type:de.BitString})],J_.prototype,"publicKey",void 0);let ch=class{constructor(e={}){Object.assign(this,e)}};P([q({type:_u,context:0,implicit:!0,optional:!0})],ch.prototype,"subjectKeyIdentifier",void 0);P([q({type:J_,context:1,implicit:!0,optional:!0})],ch.prototype,"originatorKey",void 0);P([q({type:Qp,optional:!0})],ch.prototype,"issuerAndSerialNumber",void 0);ch=P([Xe({type:Ue.Choice})],ch);class Jp{constructor(t={}){this.version=cl.v3,this.originator=new ch,this.keyEncryptionAlgorithm=new ul,this.recipientEncryptedKeys=new jx,Object.assign(this,t)}}P([q({type:de.Integer})],Jp.prototype,"version",void 0);P([q({type:ch,context:0})],Jp.prototype,"originator",void 0);P([q({type:Yr,context:1,optional:!0})],Jp.prototype,"ukm",void 0);P([q({type:ul})],Jp.prototype,"keyEncryptionAlgorithm",void 0);P([q({type:jx})],Jp.prototype,"recipientEncryptedKeys",void 0);let Cp=class{constructor(e={}){Object.assign(this,e)}};P([q({type:_u,context:0,implicit:!0})],Cp.prototype,"subjectKeyIdentifier",void 0);P([q({type:Qp})],Cp.prototype,"issuerAndSerialNumber",void 0);Cp=P([Xe({type:Ue.Choice})],Cp);class e1{constructor(t={}){this.version=cl.v0,this.rid=new Cp,this.keyEncryptionAlgorithm=new ul,this.encryptedKey=new Yr,Object.assign(this,t)}}P([q({type:de.Integer})],e1.prototype,"version",void 0);P([q({type:Cp})],e1.prototype,"rid",void 0);P([q({type:ul})],e1.prototype,"keyEncryptionAlgorithm",void 0);P([q({type:Yr})],e1.prototype,"encryptedKey",void 0);class t1{constructor(t={}){this.keyIdentifier=new Yr,Object.assign(this,t)}}P([q({type:Yr})],t1.prototype,"keyIdentifier",void 0);P([q({type:de.GeneralizedTime,optional:!0})],t1.prototype,"date",void 0);P([q({type:Zw,optional:!0})],t1.prototype,"other",void 0);class r1{constructor(t={}){this.version=cl.v4,this.kekid=new t1,this.keyEncryptionAlgorithm=new ul,this.encryptedKey=new Yr,Object.assign(this,t)}}P([q({type:de.Integer})],r1.prototype,"version",void 0);P([q({type:t1})],r1.prototype,"kekid",void 0);P([q({type:ul})],r1.prototype,"keyEncryptionAlgorithm",void 0);P([q({type:Yr})],r1.prototype,"encryptedKey",void 0);class n1{constructor(t={}){this.version=cl.v0,this.keyEncryptionAlgorithm=new ul,this.encryptedKey=new Yr,Object.assign(this,t)}}P([q({type:de.Integer})],n1.prototype,"version",void 0);P([q({type:ik,context:0,optional:!0})],n1.prototype,"keyDerivationAlgorithm",void 0);P([q({type:ul})],n1.prototype,"keyEncryptionAlgorithm",void 0);P([q({type:Yr})],n1.prototype,"encryptedKey",void 0);class eE{constructor(t={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],eE.prototype,"oriType",void 0);P([q({type:de.Any})],eE.prototype,"oriValue",void 0);let Ou=class{constructor(e={}){Object.assign(this,e)}};P([q({type:e1,optional:!0})],Ou.prototype,"ktri",void 0);P([q({type:Jp,context:1,implicit:!0,optional:!0})],Ou.prototype,"kari",void 0);P([q({type:r1,context:2,implicit:!0,optional:!0})],Ou.prototype,"kekri",void 0);P([q({type:n1,context:3,implicit:!0,optional:!0})],Ou.prototype,"pwri",void 0);P([q({type:eE,context:4,implicit:!0,optional:!0})],Ou.prototype,"ori",void 0);Ou=P([Xe({type:Ue.Choice})],Ou);var gk;let Mx=gk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,gk.prototype)}};Mx=gk=P([Xe({type:Ue.Set,itemType:Ou})],Mx);var yk;class Xw{constructor(t={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],Xw.prototype,"otherRevInfoFormat",void 0);P([q({type:de.Any})],Xw.prototype,"otherRevInfo",void 0);let Px=class{constructor(e={}){this.other=new Xw,Object.assign(this,e)}};P([q({type:Xw,context:1,implicit:!0})],Px.prototype,"other",void 0);Px=P([Xe({type:Ue.Choice})],Px);let Ox=yk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,yk.prototype)}};Ox=yk=P([Xe({type:Ue.Set,itemType:Px})],Ox);class tE{constructor(t={}){Object.assign(this,t)}}P([q({type:Wm,context:0,implicit:!0,optional:!0})],tE.prototype,"certs",void 0);P([q({type:Ox,context:1,implicit:!0,optional:!0})],tE.prototype,"crls",void 0);var vk;let xk=vk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,vk.prototype)}};xk=vk=P([Xe({type:Ue.Set,itemType:Xp})],xk);class s1{constructor(t={}){this.version=cl.v0,this.recipientInfos=new Mx,this.encryptedContentInfo=new Jg,Object.assign(this,t)}}P([q({type:de.Integer})],s1.prototype,"version",void 0);P([q({type:tE,context:0,implicit:!0,optional:!0})],s1.prototype,"originatorInfo",void 0);P([q({type:Mx})],s1.prototype,"recipientInfos",void 0);P([q({type:Jg})],s1.prototype,"encryptedContentInfo",void 0);P([q({type:xk,context:1,implicit:!0,optional:!0})],s1.prototype,"unprotectedAttrs",void 0);const Are="1.2.840.113549.1.7.1",bk="1.2.840.113549.1.7.2";var wk;let Dx=wk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,wk.prototype)}};Dx=wk=P([Xe({type:Ue.Set,itemType:qm})],Dx);class Xl{constructor(t={}){this.version=cl.v0,this.digestAlgorithms=new Dx,this.encapContentInfo=new Yw,this.signerInfos=new Tx,Object.assign(this,t)}}P([q({type:de.Integer})],Xl.prototype,"version",void 0);P([q({type:Dx})],Xl.prototype,"digestAlgorithms",void 0);P([q({type:Yw})],Xl.prototype,"encapContentInfo",void 0);P([q({type:Wm,context:0,implicit:!0,optional:!0})],Xl.prototype,"certificates",void 0);P([q({type:Ox,context:1,implicit:!0,optional:!0})],Xl.prototype,"crls",void 0);P([q({type:Tx})],Xl.prototype,"signerInfos",void 0);const Km="1.2.840.10045.2.1",rE="1.2.840.10045.4.1",bL="1.2.840.10045.4.3.1",nE="1.2.840.10045.4.3.2",sE="1.2.840.10045.4.3.3",iE="1.2.840.10045.4.3.4",DA="1.2.840.10045.3.1.7",LA="1.3.132.0.34",$A="1.3.132.0.35";function i1(e){return new Nt({algorithm:e})}const Tre=i1(rE);i1(bL);const Rre=i1(nE),Ire=i1(sE),jre=i1(iE);let Ym=class{constructor(e={}){Object.assign(this,e)}};P([q({type:de.ObjectIdentifier})],Ym.prototype,"fieldType",void 0);P([q({type:de.Any})],Ym.prototype,"parameters",void 0);Ym=P([Xe({type:Ue.Sequence})],Ym);class Mre extends Yr{}let Ap=class{constructor(e={}){Object.assign(this,e)}};P([q({type:de.OctetString})],Ap.prototype,"a",void 0);P([q({type:de.OctetString})],Ap.prototype,"b",void 0);P([q({type:de.BitString,optional:!0})],Ap.prototype,"seed",void 0);Ap=P([Xe({type:Ue.Sequence})],Ap);var kk;(function(e){e[e.ecpVer1=1]="ecpVer1"})(kk||(kk={}));let dc=class{constructor(e={}){this.version=kk.ecpVer1,Object.assign(this,e)}};P([q({type:de.Integer})],dc.prototype,"version",void 0);P([q({type:Ym})],dc.prototype,"fieldID",void 0);P([q({type:Ap})],dc.prototype,"curve",void 0);P([q({type:Mre})],dc.prototype,"base",void 0);P([q({type:de.Integer,converter:Rn})],dc.prototype,"order",void 0);P([q({type:de.Integer,optional:!0})],dc.prototype,"cofactor",void 0);dc=P([Xe({type:Ue.Sequence})],dc);let Du=class{constructor(e={}){Object.assign(this,e)}};P([q({type:de.ObjectIdentifier})],Du.prototype,"namedCurve",void 0);P([q({type:de.Null})],Du.prototype,"implicitCurve",void 0);P([q({type:dc})],Du.prototype,"specifiedCurve",void 0);Du=P([Xe({type:Ue.Choice})],Du);class Jw{constructor(t={}){this.version=1,this.privateKey=new Yr,Object.assign(this,t)}}P([q({type:de.Integer})],Jw.prototype,"version",void 0);P([q({type:Yr})],Jw.prototype,"privateKey",void 0);P([q({type:Du,context:0,optional:!0})],Jw.prototype,"parameters",void 0);P([q({type:de.BitString,context:1,optional:!0})],Jw.prototype,"publicKey",void 0);class Lx{constructor(t={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.Integer,converter:Rn})],Lx.prototype,"r",void 0);P([q({type:de.Integer,converter:Rn})],Lx.prototype,"s",void 0);const Gi="1.2.840.113549.1.1",uh=`${Gi}.1`,Pre=`${Gi}.7`,Ore=`${Gi}.9`,um=`${Gi}.10`,Dre=`${Gi}.2`,Lre=`${Gi}.4`,$x=`${Gi}.5`,$re=`${Gi}.14`,Sk=`${Gi}.11`,Fx=`${Gi}.12`,Bx=`${Gi}.13`,wL=`${Gi}.15`,kL=`${Gi}.16`,Ux="1.3.14.3.2.26",SL="2.16.840.1.101.3.4.2.4",zx="2.16.840.1.101.3.4.2.1",Hx="2.16.840.1.101.3.4.2.2",Vx="2.16.840.1.101.3.4.2.3",Fre="2.16.840.1.101.3.4.2.5",Bre="2.16.840.1.101.3.4.2.6",Ure="1.2.840.113549.2.2",zre="1.2.840.113549.2.5",e2=`${Gi}.8`;function Ss(e){return new Nt({algorithm:e,parameters:null})}Ss(Ure);Ss(zre);const dh=Ss(Ux);Ss(SL);Ss(zx);Ss(Hx);Ss(Vx);Ss(Fre);Ss(Bre);const _L=new Nt({algorithm:e2,parameters:lt.serialize(dh)}),EL=new Nt({algorithm:Ore,parameters:lt.serialize(xx.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});Ss(uh);Ss(Dre);Ss(Lre);Ss($x);Ss(wL);Ss(kL);Ss(Fx);Ss(Bx);Ss(wL);Ss(kL);class t2{constructor(t={}){this.hashAlgorithm=new Nt(dh),this.maskGenAlgorithm=new Nt({algorithm:e2,parameters:lt.serialize(dh)}),this.pSourceAlgorithm=new Nt(EL),Object.assign(this,t)}}P([q({type:Nt,context:0,defaultValue:dh})],t2.prototype,"hashAlgorithm",void 0);P([q({type:Nt,context:1,defaultValue:_L})],t2.prototype,"maskGenAlgorithm",void 0);P([q({type:Nt,context:2,defaultValue:EL})],t2.prototype,"pSourceAlgorithm",void 0);new Nt({algorithm:Pre,parameters:lt.serialize(new t2)});class hh{constructor(t={}){this.hashAlgorithm=new Nt(dh),this.maskGenAlgorithm=new Nt({algorithm:e2,parameters:lt.serialize(dh)}),this.saltLength=20,this.trailerField=1,Object.assign(this,t)}}P([q({type:Nt,context:0,defaultValue:dh})],hh.prototype,"hashAlgorithm",void 0);P([q({type:Nt,context:1,defaultValue:_L})],hh.prototype,"maskGenAlgorithm",void 0);P([q({type:de.Integer,context:2,defaultValue:20})],hh.prototype,"saltLength",void 0);P([q({type:de.Integer,context:3,defaultValue:1})],hh.prototype,"trailerField",void 0);new Nt({algorithm:um,parameters:lt.serialize(new hh)});class r2{constructor(t={}){this.digestAlgorithm=new Nt,this.digest=new Yr,Object.assign(this,t)}}P([q({type:Nt})],r2.prototype,"digestAlgorithm",void 0);P([q({type:Yr})],r2.prototype,"digest",void 0);var _k;class n2{constructor(t={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.Integer,converter:Rn})],n2.prototype,"prime",void 0);P([q({type:de.Integer,converter:Rn})],n2.prototype,"exponent",void 0);P([q({type:de.Integer,converter:Rn})],n2.prototype,"coefficient",void 0);let Ek=_k=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,_k.prototype)}};Ek=_k=P([Xe({type:Ue.Sequence,itemType:n2})],Ek);class vl{constructor(t={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.Integer})],vl.prototype,"version",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"modulus",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"publicExponent",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"privateExponent",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"prime1",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"prime2",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"exponent1",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"exponent2",void 0);P([q({type:de.Integer,converter:Rn})],vl.prototype,"coefficient",void 0);P([q({type:Ek,optional:!0})],vl.prototype,"otherPrimeInfos",void 0);class aE{constructor(t={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.Integer,converter:Rn})],aE.prototype,"modulus",void 0);P([q({type:de.Integer,converter:Rn})],aE.prototype,"publicExponent",void 0);var Nk;(function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"})(Nk||(Nk={}));const Ai=Nk;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ck=function(e,t){return Ck=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Ck(e,t)};function oE(e,t){Ck(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Hre(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,[])).next())})}function Vre(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ry(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function md(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qx(arguments[t]));return e}var qre="injectionTokens";function Wre(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(qre,e)||{};return Object.keys(r).forEach(function(n){t[+n]=r[n]}),t}function NL(e){return!!e.useClass}function Ak(e){return!!e.useFactory}var CL=function(){function e(t){this.wrap=t,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(t){var r=this,n={},s=!1,i,a=function(){return s||(i=t(r.wrap()),s=!0),i};return new Proxy(n,this.createHandler(a))},e.prototype.createHandler=function(t){var r={},n=function(s){r[s]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];i[0]=t();var o=Reflect[s];return o.apply(void 0,md(i))}};return this.reflectMethods.forEach(n),r},e}();function $h(e){return typeof e=="string"||typeof e=="symbol"}function Gre(e){return typeof e=="object"&&"token"in e&&"multiple"in e}function FA(e){return typeof e=="object"&&"token"in e&&"transform"in e}function Kre(e){return typeof e=="function"||e instanceof CL}function cv(e){return!!e.useToken}function uv(e){return e.useValue!=null}function Yre(e){return NL(e)||uv(e)||cv(e)||Ak(e)}var lE=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(t){return this.ensure(t),this._registryMap.get(t)},e.prototype.get=function(t){this.ensure(t);var r=this._registryMap.get(t);return r[r.length-1]||null},e.prototype.set=function(t,r){this.ensure(t),this._registryMap.get(t).push(r)},e.prototype.setAll=function(t,r){this._registryMap.set(t,r)},e.prototype.has=function(t){return this.ensure(t),this._registryMap.get(t).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(t){this._registryMap.has(t)||this._registryMap.set(t,[])},e}(),Zre=function(e){oE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(lE),BA=function(){function e(){this.scopedResolutions=new Map}return e}();function Qre(e,t){if(e===null)return"at position #"+t;var r=e.split(",")[t].trim();return'"'+r+'" at position #'+t}function Xre(e,t,r){return r===void 0&&(r="    "),md([e],t.message.split(`
`).map(function(n){return r+n})).join(`
`)}function Jre(e,t,r){var n=qx(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2),s=n[1],i=s===void 0?null:s,a=Qre(i,t);return Xre("Cannot inject the dependency "+a+' of "'+e.name+'" constructor. Reason:',r)}function ene(e){if(typeof e.dispose!="function")return!1;var t=e.dispose;return!(t.length>0)}var tne=function(e){oE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(lE),rne=function(e){oE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(lE),nne=function(){function e(){this.preResolution=new tne,this.postResolution=new rne}return e}(),AL=new Map,sne=function(){function e(t){this.parent=t,this._registry=new Zre,this.interceptors=new nne,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(t,r,n){n===void 0&&(n={lifecycle:Ai.Transient}),this.ensureNotDisposed();var s;if(Yre(r)?s=r:s={useClass:r},cv(s))for(var i=[t],a=s;a!=null;){var o=a.useToken;if(i.includes(o))throw new Error("Token registration cycle detected! "+md(i,[o]).join(" -> "));i.push(o);var c=this._registry.get(o);c&&cv(c.provider)?a=c.provider:a=null}if((n.lifecycle===Ai.Singleton||n.lifecycle==Ai.ContainerScoped||n.lifecycle==Ai.ResolutionScoped)&&(uv(s)||Ak(s)))throw new Error('Cannot use lifecycle "'+Ai[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(t,{provider:s,options:n}),this},e.prototype.registerType=function(t,r){return this.ensureNotDisposed(),$h(r)?this.register(t,{useToken:r}):this.register(t,{useClass:r})},e.prototype.registerInstance=function(t,r){return this.ensureNotDisposed(),this.register(t,{useValue:r})},e.prototype.registerSingleton=function(t,r){if(this.ensureNotDisposed(),$h(t)){if($h(r))return this.register(t,{useToken:r},{lifecycle:Ai.Singleton});if(r)return this.register(t,{useClass:r},{lifecycle:Ai.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=t;return r&&!$h(r)&&(n=r),this.register(t,{useClass:n},{lifecycle:Ai.Singleton})},e.prototype.resolve=function(t,r){r===void 0&&(r=new BA),this.ensureNotDisposed();var n=this.getRegistration(t);if(!n&&$h(t))throw new Error('Attempted to resolve unregistered dependency token: "'+t.toString()+'"');if(this.executePreResolutionInterceptor(t,"Single"),n){var s=this.resolveRegistration(n,r);return this.executePostResolutionInterceptor(t,s,"Single"),s}if(Kre(t)){var s=this.construct(t,r);return this.executePostResolutionInterceptor(t,s,"Single"),s}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(t,r){var n,s;if(this.interceptors.preResolution.has(t)){var i=[];try{for(var a=ry(this.interceptors.preResolution.getAll(t)),o=a.next();!o.done;o=a.next()){var c=o.value;c.options.frequency!="Once"&&i.push(c),c.callback(t,r)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(t,i)}},e.prototype.executePostResolutionInterceptor=function(t,r,n){var s,i;if(this.interceptors.postResolution.has(t)){var a=[];try{for(var o=ry(this.interceptors.postResolution.getAll(t)),c=o.next();!c.done;c=o.next()){var u=c.value;u.options.frequency!="Once"&&a.push(u),u.callback(t,r,n)}}catch(d){s={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}this.interceptors.postResolution.setAll(t,a)}},e.prototype.resolveRegistration=function(t,r){if(this.ensureNotDisposed(),t.options.lifecycle===Ai.ResolutionScoped&&r.scopedResolutions.has(t))return r.scopedResolutions.get(t);var n=t.options.lifecycle===Ai.Singleton,s=t.options.lifecycle===Ai.ContainerScoped,i=n||s,a;return uv(t.provider)?a=t.provider.useValue:cv(t.provider)?a=i?t.instance||(t.instance=this.resolve(t.provider.useToken,r)):this.resolve(t.provider.useToken,r):NL(t.provider)?a=i?t.instance||(t.instance=this.construct(t.provider.useClass,r)):this.construct(t.provider.useClass,r):Ak(t.provider)?a=t.provider.useFactory(this):a=this.construct(t.provider,r),t.options.lifecycle===Ai.ResolutionScoped&&r.scopedResolutions.set(t,a),a},e.prototype.resolveAll=function(t,r){var n=this;r===void 0&&(r=new BA),this.ensureNotDisposed();var s=this.getAllRegistrations(t);if(!s&&$h(t))throw new Error('Attempted to resolve unregistered dependency token: "'+t.toString()+'"');if(this.executePreResolutionInterceptor(t,"All"),s){var i=s.map(function(o){return n.resolveRegistration(o,r)});return this.executePostResolutionInterceptor(t,i,"All"),i}var a=[this.construct(t,r)];return this.executePostResolutionInterceptor(t,a,"All"),a},e.prototype.isRegistered=function(t,r){return r===void 0&&(r=!1),this.ensureNotDisposed(),this._registry.has(t)||r&&(this.parent||!1)&&this.parent.isRegistered(t,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var t,r;this.ensureNotDisposed();try{for(var n=ry(this._registry.entries()),s=n.next();!s.done;s=n.next()){var i=qx(s.value,2),a=i[0],o=i[1];this._registry.setAll(a,o.filter(function(c){return!uv(c.provider)}).map(function(c){return c.instance=void 0,c}))}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.createChildContainer=function(){var t,r;this.ensureNotDisposed();var n=new e(this);try{for(var s=ry(this._registry.entries()),i=s.next();!i.done;i=s.next()){var a=qx(i.value,2),o=a[0],c=a[1];c.some(function(u){var d=u.options;return d.lifecycle===Ai.ContainerScoped})&&n._registry.setAll(o,c.map(function(u){return u.options.lifecycle===Ai.ContainerScoped?{provider:u.provider,options:u.options}:u}))}}catch(u){t={error:u}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(t,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.preResolution.set(t,{callback:r,options:n})},e.prototype.afterResolution=function(t,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.postResolution.set(t,{callback:r,options:n})},e.prototype.dispose=function(){return Hre(this,void 0,void 0,function(){var t;return Vre(this,function(r){switch(r.label){case 0:return this.disposed=!0,t=[],this.disposables.forEach(function(n){var s=n.dispose();s&&t.push(s)}),[4,Promise.all(t)];case 1:return r.sent(),[2]}})})},e.prototype.getRegistration=function(t){return this.isRegistered(t)?this._registry.get(t):this.parent?this.parent.getRegistration(t):null},e.prototype.getAllRegistrations=function(t){return this.isRegistered(t)?this._registry.getAll(t):this.parent?this.parent.getAllRegistrations(t):null},e.prototype.construct=function(t,r){var n=this;if(t instanceof CL)return t.createProxy(function(i){return n.resolve(i,r)});var s=function(){var i=AL.get(t);if(!i||i.length===0){if(t.length===0)return new t;throw new Error('TypeInfo not known for "'+t.name+'"')}var a=i.map(n.resolveParams(r,t));return new(t.bind.apply(t,md([void 0],a)))}();return ene(s)&&this.disposables.add(s),s},e.prototype.resolveParams=function(t,r){var n=this;return function(s,i){var a,o,c;try{return Gre(s)?FA(s)?s.multiple?(a=n.resolve(s.transform)).transform.apply(a,md([n.resolveAll(s.token)],s.transformArgs)):(o=n.resolve(s.transform)).transform.apply(o,md([n.resolve(s.token,t)],s.transformArgs)):s.multiple?n.resolveAll(s.token):n.resolve(s.token,t):FA(s)?(c=n.resolve(s.transform,t)).transform.apply(c,md([n.resolve(s.token,t)],s.transformArgs)):n.resolve(s,t)}catch(u){throw new Error(Jre(r,i,u))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e}(),xi=new sne;function s2(){return function(e){AL.set(e,Wre(e))}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var Tk;class i2{constructor(t={}){this.attrId="",this.attrValues=[],Object.assign(t)}}P([q({type:de.ObjectIdentifier})],i2.prototype,"attrId",void 0);P([q({type:de.Any,repeated:"set"})],i2.prototype,"attrValues",void 0);let UA=Tk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,Tk.prototype)}};UA=Tk=P([Xe({type:Ue.Sequence,itemType:i2})],UA);var Rk;let zA=Rk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,Rk.prototype)}};zA=Rk=P([Xe({type:Ue.Sequence,itemType:Ql})],zA);class TL{constructor(t={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],TL.prototype,"certId",void 0);P([q({type:de.Any,context:0})],TL.prototype,"certValue",void 0);class RL{constructor(t={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],RL.prototype,"crlId",void 0);P([q({type:de.Any,context:0})],RL.prototype,"crltValue",void 0);class IL extends Yr{}let a2=class{constructor(e={}){this.encryptionAlgorithm=new Nt,this.encryptedData=new IL,Object.assign(this,e)}};P([q({type:Nt})],a2.prototype,"encryptionAlgorithm",void 0);P([q({type:IL})],a2.prototype,"encryptedData",void 0);var Ik,jk;(function(e){e[e.v1=0]="v1"})(jk||(jk={}));class jL extends Yr{}let Mk=Ik=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,Ik.prototype)}};Mk=Ik=P([Xe({type:Ue.Sequence,itemType:uc})],Mk);class a1{constructor(t={}){this.version=jk.v1,this.privateKeyAlgorithm=new Nt,this.privateKey=new jL,Object.assign(this,t)}}P([q({type:de.Integer})],a1.prototype,"version",void 0);P([q({type:Nt})],a1.prototype,"privateKeyAlgorithm",void 0);P([q({type:jL})],a1.prototype,"privateKey",void 0);P([q({type:Mk,implicit:!0,context:0,optional:!0})],a1.prototype,"attributes",void 0);let HA=class extends a1{};HA=P([Xe({type:Ue.Sequence})],HA);let VA=class extends a2{};VA=P([Xe({type:Ue.Sequence})],VA);class ML{constructor(t={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:de.ObjectIdentifier})],ML.prototype,"secretTypeId",void 0);P([q({type:de.Any,context:0})],ML.prototype,"secretValue",void 0);class o1{constructor(t={}){this.mac=new r2,this.macSalt=new Yr,this.iterations=1,Object.assign(this,t)}}P([q({type:r2})],o1.prototype,"mac",void 0);P([q({type:Yr})],o1.prototype,"macSalt",void 0);P([q({type:de.Integer,defaultValue:1})],o1.prototype,"iterations",void 0);class o2{constructor(t={}){this.version=3,this.authSafe=new Ql,this.macData=new o1,Object.assign(this,t)}}P([q({type:de.Integer})],o2.prototype,"version",void 0);P([q({type:Ql})],o2.prototype,"authSafe",void 0);P([q({type:o1,optional:!0})],o2.prototype,"macData",void 0);var Pk;let l2=class{constructor(t={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,t)}};P([q({type:de.ObjectIdentifier})],l2.prototype,"bagId",void 0);P([q({type:de.Any,context:0})],l2.prototype,"bagValue",void 0);P([q({type:i2,repeated:"set",optional:!0})],l2.prototype,"bagAttributes",void 0);let qA=Pk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,Pk.prototype)}};qA=Pk=P([Xe({type:Ue.Sequence,itemType:l2})],qA);var Ok,Dk,Lk;const PL="1.2.840.113549.1.9",OL=`${PL}.7`,cE=`${PL}.14`;let Wx=class extends Vs{constructor(e={}){super(e)}toString(){return this.ia5String||super.toString()}};P([q({type:de.IA5String})],Wx.prototype,"ia5String",void 0);Wx=P([Xe({type:Ue.Choice})],Wx);let WA=class extends Ql{};WA=P([Xe({type:Ue.Sequence})],WA);let GA=class extends o2{};GA=P([Xe({type:Ue.Sequence})],GA);let KA=class extends a2{};KA=P([Xe({type:Ue.Sequence})],KA);let $k=class{constructor(e=""){this.value=e}toString(){return this.value}};P([q({type:de.IA5String})],$k.prototype,"value",void 0);$k=P([Xe({type:Ue.Choice})],$k);let YA=class extends Wx{};YA=P([Xe({type:Ue.Choice})],YA);let ZA=class extends Vs{};ZA=P([Xe({type:Ue.Choice})],ZA);let Fk=class{constructor(e=new Date){this.value=e}};P([q({type:de.GeneralizedTime})],Fk.prototype,"value",void 0);Fk=P([Xe({type:Ue.Choice})],Fk);let QA=class extends Vs{};QA=P([Xe({type:Ue.Choice})],QA);let Bk=class{constructor(e="M"){this.value=e}toString(){return this.value}};P([q({type:de.PrintableString})],Bk.prototype,"value",void 0);Bk=P([Xe({type:Ue.Choice})],Bk);let Gx=class{constructor(e=""){this.value=e}toString(){return this.value}};P([q({type:de.PrintableString})],Gx.prototype,"value",void 0);Gx=P([Xe({type:Ue.Choice})],Gx);let XA=class extends Gx{};XA=P([Xe({type:Ue.Choice})],XA);let JA=class extends Vs{};JA=P([Xe({type:Ue.Choice})],JA);let Uk=class{constructor(e=""){this.value=e}toString(){return this.value}};P([q({type:de.ObjectIdentifier})],Uk.prototype,"value",void 0);Uk=P([Xe({type:Ue.Choice})],Uk);let e9=class extends Fs{};e9=P([Xe({type:Ue.Choice})],e9);let zk=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};P([q({type:de.Integer})],zk.prototype,"value",void 0);zk=P([Xe({type:Ue.Choice})],zk);let t9=class extends yl{};t9=P([Xe({type:Ue.Sequence})],t9);let Kx=class extends Vs{};Kx=P([Xe({type:Ue.Choice})],Kx);let r9=Ok=class extends ah{constructor(e){super(e),Object.setPrototypeOf(this,Ok.prototype)}};r9=Ok=P([Xe({type:Ue.Sequence})],r9);let n9=Dk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,Dk.prototype)}};n9=Dk=P([Xe({type:Ue.Set,itemType:Xp})],n9);let Hk=class{constructor(e=""){this.value=e}toString(){return this.value}};P([q({type:de.BmpString})],Hk.prototype,"value",void 0);Hk=P([Xe({type:Ue.Choice})],Hk);let Vk=class extends Nt{};Vk=P([Xe({type:Ue.Sequence})],Vk);let s9=Lk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,Lk.prototype)}};s9=Lk=P([Xe({type:Ue.Sequence,itemType:Vk})],s9);var qk;let Yx=qk=class extends an{constructor(e){super(e),Object.setPrototypeOf(this,qk.prototype)}};Yx=qk=P([Xe({type:Ue.Sequence,itemType:uc})],Yx);class e0{constructor(t={}){this.version=0,this.subject=new ms,this.subjectPKInfo=new Qo,this.attributes=new Yx,Object.assign(this,t)}}P([q({type:de.Integer})],e0.prototype,"version",void 0);P([q({type:ms})],e0.prototype,"subject",void 0);P([q({type:Qo})],e0.prototype,"subjectPKInfo",void 0);P([q({type:Yx,implicit:!0,context:0})],e0.prototype,"attributes",void 0);class Zm{constructor(t={}){this.certificationRequestInfo=new e0,this.signatureAlgorithm=new Nt,this.signature=new ArrayBuffer(0),Object.assign(this,t)}}P([q({type:e0})],Zm.prototype,"certificationRequestInfo",void 0);P([q({type:Nt})],Zm.prototype,"signatureAlgorithm",void 0);P([q({type:de.BitString})],Zm.prototype,"signature",void 0);/*!
 * MIT License
 * 
 * Copyright (c) Peculiar Ventures. All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const l1="crypto.algorithm";class ine{getAlgorithms(){return xi.resolveAll(l1)}toAsnAlgorithm(t){({...t});for(const r of this.getAlgorithms()){const n=r.toAsnAlgorithm(t);if(n)return n}if(/^[0-9.]+$/.test(t.name)){const r=new Nt({algorithm:t.name});if("parameters"in t){const n=t;r.parameters=n.parameters}return r}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(t){for(const r of this.getAlgorithms()){const n=r.toWebAlgorithm(t);if(n)return n}return{name:t.algorithm,parameters:t.parameters}}}const Tp="crypto.algorithmProvider";xi.registerSingleton(Tp,ine);var dv;const Ki="1.3.36.3.3.2.8.1.1",i9=`${Ki}.1`,a9=`${Ki}.2`,o9=`${Ki}.3`,l9=`${Ki}.4`,c9=`${Ki}.5`,u9=`${Ki}.6`,d9=`${Ki}.7`,h9=`${Ki}.8`,f9=`${Ki}.9`,p9=`${Ki}.10`,m9=`${Ki}.11`,g9=`${Ki}.12`,y9=`${Ki}.13`,v9=`${Ki}.14`,x9="brainpoolP160r1",b9="brainpoolP160t1",w9="brainpoolP192r1",k9="brainpoolP192t1",S9="brainpoolP224r1",_9="brainpoolP224t1",E9="brainpoolP256r1",N9="brainpoolP256t1",C9="brainpoolP320r1",A9="brainpoolP320t1",T9="brainpoolP384r1",R9="brainpoolP384t1",I9="brainpoolP512r1",j9="brainpoolP512t1",Ln="ECDSA";let Qm=dv=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case Ln.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return Tre;case"sha-256":return Rre;case"sha-384":return Ire;case"sha-512":return jre}else if("namedCurve"in e){let t="";switch(e.namedCurve){case"P-256":t=DA;break;case"K-256":t=dv.SECP256K1;break;case"P-384":t=LA;break;case"P-521":t=$A;break;case x9:t=i9;break;case b9:t=a9;break;case w9:t=o9;break;case k9:t=l9;break;case S9:t=c9;break;case _9:t=u9;break;case E9:t=d9;break;case N9:t=h9;break;case C9:t=f9;break;case A9:t=p9;break;case T9:t=m9;break;case R9:t=g9;break;case I9:t=y9;break;case j9:t=v9;break}if(t)return new Nt({algorithm:Km,parameters:lt.serialize(new Du({namedCurve:t}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case rE:return{name:Ln,hash:{name:"SHA-1"}};case nE:return{name:Ln,hash:{name:"SHA-256"}};case sE:return{name:Ln,hash:{name:"SHA-384"}};case iE:return{name:Ln,hash:{name:"SHA-512"}};case Km:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(lt.parse(e.parameters,Du).namedCurve){case DA:return{name:Ln,namedCurve:"P-256"};case dv.SECP256K1:return{name:Ln,namedCurve:"K-256"};case LA:return{name:Ln,namedCurve:"P-384"};case $A:return{name:Ln,namedCurve:"P-521"};case i9:return{name:Ln,namedCurve:x9};case a9:return{name:Ln,namedCurve:b9};case o9:return{name:Ln,namedCurve:w9};case l9:return{name:Ln,namedCurve:k9};case c9:return{name:Ln,namedCurve:S9};case u9:return{name:Ln,namedCurve:_9};case d9:return{name:Ln,namedCurve:E9};case h9:return{name:Ln,namedCurve:N9};case f9:return{name:Ln,namedCurve:C9};case p9:return{name:Ln,namedCurve:A9};case m9:return{name:Ln,namedCurve:T9};case g9:return{name:Ln,namedCurve:R9};case y9:return{name:Ln,namedCurve:I9};case v9:return{name:Ln,namedCurve:j9}}}}return null}};Qm.SECP256K1="1.3.132.0.10";Qm=dv=P([s2()],Qm);xi.registerSingleton(l1,Qm);const DL=Symbol("name"),LL=Symbol("value");class Kr{constructor(t,r={},n=""){this[DL]=t,this[LL]=n;for(const s in r)this[s]=r[s]}}Kr.NAME=DL;Kr.VALUE=LL;class ane{static toTextObject(t){const r=new Kr("Algorithm Identifier",{},kc.toString(t.algorithm));if(t.parameters)switch(t.algorithm){case Km:{const n=new Qm().toWebAlgorithm(t);n&&"namedCurve"in n?r["Named Curve"]=n.namedCurve:r.Parameters=t.parameters;break}default:r.Parameters=t.parameters}return r}}class kc{static toString(t){return this.items[t]||t}}kc.items={[Ux]:"sha1",[SL]:"sha224",[zx]:"sha256",[Hx]:"sha384",[Vx]:"sha512",[uh]:"rsaEncryption",[$x]:"sha1WithRSAEncryption",[$re]:"sha224WithRSAEncryption",[Sk]:"sha256WithRSAEncryption",[Fx]:"sha384WithRSAEncryption",[Bx]:"sha512WithRSAEncryption",[Km]:"ecPublicKey",[rE]:"ecdsaWithSHA1",[bL]:"ecdsaWithSHA224",[nE]:"ecdsaWithSHA256",[sE]:"ecdsaWithSHA384",[iE]:"ecdsaWithSHA512",[kre]:"TLS WWW server authentication",[Sre]:"TLS WWW client authentication",[_re]:"Code Signing",[Ere]:"E-mail Protection",[Nre]:"Time Stamping",[Cre]:"OCSP Signing",[bk]:"Signed Data"};class Lu{static serialize(t){return this.serializeObj(t).join(`
`)}static pad(t=0){return"".padStart(2*t," ")}static serializeObj(t,r=0){const n=[];let s=this.pad(r++),i="";const a=t[Kr.VALUE];a&&(i=` ${a}`),n.push(`${s}${t[Kr.NAME]}:${i}`),s=this.pad(r);for(const o in t){if(typeof o=="symbol")continue;const c=t[o],u=o?`${o}: `:"";if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")n.push(`${s}${u}${c}`);else if(c instanceof Date)n.push(`${s}${u}${c.toUTCString()}`);else if(Array.isArray(c))for(const d of c)d[Kr.NAME]=o,n.push(...this.serializeObj(d,r));else if(c instanceof Kr)c[Kr.NAME]=o,n.push(...this.serializeObj(c,r));else if(vt.isBufferSource(c))o?(n.push(`${s}${u}`),n.push(...this.serializeBufferSource(c,r+1))):n.push(...this.serializeBufferSource(c,r));else if("toTextObject"in c){const d=c.toTextObject();d[Kr.NAME]=o,n.push(...this.serializeObj(d,r))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return n}static serializeBufferSource(t,r=0){const n=this.pad(r),s=vt.toUint8Array(t),i=[];for(let a=0;a<s.length;){const o=[];for(let c=0;c<16&&a<s.length;c++){c===8&&o.push("");const u=s[a++].toString(16).padStart(2,"0");o.push(u)}i.push(`${n}${o.join(" ")}`)}return i}static serializeAlgorithm(t){return this.algorithmSerializer.toTextObject(t)}}Lu.oidSerializer=kc;Lu.algorithmSerializer=ane;class Zu{constructor(...t){if(t.length===1){const r=t[0];this.rawData=lt.serialize(r),this.onInit(r)}else{const r=lt.parse(t[0],t[1]);this.rawData=vt.toArrayBuffer(t[0]),this.onInit(r)}}equal(t){return t instanceof Zu?gx(t.rawData,this.rawData):!1}toString(t="text"){switch(t){case"asn":return lt.toString(this.rawData);case"text":return Lu.serialize(this.toTextObject());case"hex":return Pt.ToHex(this.rawData);case"base64":return Pt.ToBase64(this.rawData);case"base64url":return Pt.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const t=this.toTextObjectEmpty();return t[""]=this.rawData,t}toTextObjectEmpty(t){return new Kr(this.getTextName(),{},t)}}Zu.NAME="ASN";class Ya extends Zu{constructor(...t){let r;vt.isBufferSource(t[0])?r=vt.toArrayBuffer(t[0]):r=lt.serialize(new _o({extnID:t[0],critical:t[1],extnValue:new Yr(vt.toArrayBuffer(t[2]))})),super(r,_o)}onInit(t){this.type=t.extnID,this.critical=t.critical,this.value=t.extnValue.buffer}toTextObject(){const t=this.toTextObjectWithoutValue();return t[""]=this.value,t}toTextObjectWithoutValue(){const t=this.toTextObjectEmpty(this.critical?"critical":void 0);return t[Kr.NAME]===Ya.NAME&&(t[Kr.NAME]=kc.toString(this.type)),t}}var $L;class ou{static isCryptoKeyPair(t){return t&&t.privateKey&&t.publicKey}static isCryptoKey(t){return t&&t.usages&&t.type&&t.algorithm&&t.extractable!==void 0}constructor(){this.items=new Map,this[$L]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(ou.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(ou.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(t){return this.items.delete(t)}forEach(t,r){return this.items.forEach(t,r)}has(t){return this.items.has(t)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(t=ou.DEFAULT){const r=this.items.get(t.toLowerCase());if(!r)throw new Error(`Cannot get Crypto by name '${t}'`);return r}set(t,r){if(typeof t=="string"){if(!r)throw new TypeError("Argument 'value' is required");this.items.set(t.toLowerCase(),r)}else this.items.set(ou.DEFAULT,t);return this}}$L=Symbol.toStringTag;ou.DEFAULT="default";const $s=new ou,one=/^[0-2](?:\.[1-9][0-9]*)+$/;function lne(e){return new RegExp(one).test(e)}class FL{constructor(t={}){this.items={};for(const r in t)this.register(r,t[r])}get(t){return this.items[t]||null}findId(t){return lne(t)?t:this.get(t)}register(t,r){this.items[t]=r,this.items[r]=t}}const Wi=new FL;Wi.register("CN","2.5.4.3");Wi.register("L","2.5.4.7");Wi.register("ST","2.5.4.8");Wi.register("O","2.5.4.10");Wi.register("OU","2.5.4.11");Wi.register("C","2.5.4.6");Wi.register("DC","0.9.2342.19200300.100.1.25");Wi.register("E","1.2.840.113549.1.9.1");Wi.register("G","2.5.4.42");Wi.register("I","2.5.4.43");Wi.register("SN","2.5.4.4");Wi.register("T","2.5.4.12");function cne(e,t){return`\\${Pt.ToHex(Pt.FromUtf8String(t)).toUpperCase()}`}function une(e){return e.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,cne)}class Eu{static isASCII(t){for(let r=0;r<t.length;r++)if(t.charCodeAt(r)>255)return!1;return!0}static isPrintableString(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(t)}constructor(t,r={}){this.extraNames=new FL,this.asn=new ms;for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const s=r[n];this.extraNames.register(n,s)}typeof t=="string"?this.asn=this.fromString(t):t instanceof ms?this.asn=t:vt.isBufferSource(t)?this.asn=lt.parse(t,ms):this.asn=this.fromJSON(t)}getField(t){const r=this.extraNames.findId(t)||Wi.findId(t),n=[];for(const s of this.asn)for(const i of s)i.type===r&&n.push(i.value.toString());return n}getName(t){return this.extraNames.get(t)||Wi.get(t)}toString(){return this.asn.map(t=>t.map(r=>{const n=this.getName(r.type)||r.type,s=r.value.anyValue?`#${Pt.ToHex(r.value.anyValue)}`:une(r.value.toString());return`${n}=${s}`}).join("+")).join(", ")}toJSON(){var t;const r=[];for(const n of this.asn){const s={};for(const i of n){const a=this.getName(i.type)||i.type;(t=s[a])!==null&&t!==void 0||(s[a]=[]),s[a].push(i.value.anyValue?`#${Pt.ToHex(i.value.anyValue)}`:i.value.toString())}r.push(s)}return r}fromString(t){const r=new ms,n=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let s=null,i=",";for(;s=n.exec(`${t},`);){let[,a,o]=s;const c=o[o.length-1];(c===","||c==="+")&&(o=o.slice(0,o.length-1),s[3]=c);const u=s[3];a=this.getTypeOid(a);const d=this.createAttribute(a,o);i==="+"?r[r.length-1].push(d):r.push(new bp([d])),i=u}return r}fromJSON(t){const r=new ms;for(const n of t){const s=new bp;for(const i in n){const a=this.getTypeOid(i),o=n[i];for(const c of o){const u=this.createAttribute(a,c);s.push(u)}}r.push(s)}return r}getTypeOid(t){if(/[\d.]+/.test(t)||(t=this.getName(t)||""),!t)throw new Error(`Cannot get OID for name type '${t}'`);return t}createAttribute(t,r){const n=new Lw({type:t});if(typeof r=="object")for(const s in r)switch(s){case"ia5String":n.value.ia5String=r[s];break;case"utf8String":n.value.utf8String=r[s];break;case"universalString":n.value.universalString=r[s];break;case"bmpString":n.value.bmpString=r[s];break;case"printableString":n.value.printableString=r[s];break}else if(r[0]==="#")n.value.anyValue=Pt.FromHex(r.slice(1));else{const s=this.processStringValue(r);t===this.getName("E")||t===this.getName("DC")?n.value.ia5String=s:Eu.isPrintableString(s)?n.value.printableString=s:n.value.utf8String=s}return n}processStringValue(t){const r=/"(.*?[^\\])?"/.exec(t);return r&&(t=r[1]),t.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return lt.serialize(this.asn)}async getThumbprint(...t){var r;let n,s="SHA-1";return t.length>=1&&!(!((r=t[0])===null||r===void 0)&&r.subtle)?(s=t[0]||s,n=t[1]||$s.get()):n=t[0]||$s.get(),await n.subtle.digest(s,this.toArrayBuffer())}}const BL="Cannot initialize GeneralName from ASN.1 data.",M9=`${BL} Unsupported string format in use.`,dne=`${BL} Value doesn't match to GUID regular expression.`,P9=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,O9="1.3.6.1.4.1.311.25.1",D9="1.3.6.1.4.1.311.20.2.3",H4="dns",V4="dn",q4="email",W4="ip",G4="url",K4="guid",Y4="upn",ny="id";class lu extends Zu{constructor(...t){let r;if(t.length===2)switch(t[0]){case V4:{const n=new Eu(t[1]).toArrayBuffer(),s=lt.parse(n,ms);r=new Er({directoryName:s});break}case H4:r=new Er({dNSName:t[1]});break;case q4:r=new Er({rfc822Name:t[1]});break;case K4:{const n=new RegExp(P9,"i").exec(t[1]);if(!n)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const s=n.slice(1).map((i,a)=>a<3?Pt.ToHex(new Uint8Array(Pt.FromHex(i)).reverse()):i).join("");r=new Er({otherName:new Vm({typeId:O9,value:lt.serialize(new Yr(Pt.FromHex(s)))})});break}case W4:r=new Er({iPAddress:t[1]});break;case ny:r=new Er({registeredID:t[1]});break;case Y4:{r=new Er({otherName:new Vm({typeId:D9,value:lt.serialize(sL.toASN(t[1]))})});break}case G4:r=new Er({uniformResourceIdentifier:t[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else vt.isBufferSource(t[0])?r=lt.parse(t[0],Er):r=t[0];super(r)}onInit(t){if(t.dNSName!=null)this.type=H4,this.value=t.dNSName;else if(t.rfc822Name!=null)this.type=q4,this.value=t.rfc822Name;else if(t.iPAddress!=null)this.type=W4,this.value=t.iPAddress;else if(t.uniformResourceIdentifier!=null)this.type=G4,this.value=t.uniformResourceIdentifier;else if(t.registeredID!=null)this.type=ny,this.value=t.registeredID;else if(t.directoryName!=null)this.type=V4,this.value=new Eu(t.directoryName).toString();else if(t.otherName!=null)if(t.otherName.typeId===O9){this.type=K4;const r=lt.parse(t.otherName.value,Yr),n=new RegExp(P9,"i").exec(Pt.ToHex(r));if(!n)throw new Error(dne);this.value=n.slice(1).map((s,i)=>i<3?Pt.ToHex(new Uint8Array(Pt.FromHex(s)).reverse()):s).join("-")}else if(t.otherName.typeId===D9)this.type=Y4,this.value=lt.parse(t.otherName.value,Vs).toString();else throw new Error(M9);else throw new Error(M9)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let t;switch(this.type){case V4:case H4:case K4:case W4:case ny:case Y4:case G4:t=this.type.toUpperCase();break;case q4:t="Email";break;default:throw new Error("Unsupported GeneralName type")}let r=this.value;return this.type===ny&&(r=kc.toString(r)),new Kr(t,void 0,r)}}class Xm extends Zu{constructor(t){let r;if(t instanceof vi)r=t;else if(Array.isArray(t)){const n=[];for(const s of t)if(s instanceof Er)n.push(s);else{const i=lt.parse(new lu(s.type,s.value).rawData,Er);n.push(i)}r=new vi(n)}else if(vt.isBufferSource(t))r=lt.parse(t,vi);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(r)}onInit(t){const r=[];for(const n of t){let s=null;try{s=new lu(n)}catch{continue}r.push(s)}this.items=r}toJSON(){return this.items.map(t=>t.toJSON())}toTextObject(){const t=super.toTextObjectEmpty();for(const r of this.items){const n=r.toTextObject();let s=t[n[Kr.NAME]];Array.isArray(s)||(s=[],t[n[Kr.NAME]]=s),s.push(n)}return t}}Xm.NAME="GeneralNames";const dm="-{5}",Jm="\\n",hne=`[^${Jm}]+`,fne=`${dm}BEGIN (${hne}(?=${dm}))${dm}`,pne=`${dm}END \\1${dm}`,Rp="\\n",mne=`[^:${Jm}]+`,gne=`(?:[^${Jm}]+${Rp}(?: +[^${Jm}]+${Rp})*)`,yne="[a-zA-Z0-9=+/]+",vne=`(?:${yne}${Rp})+`,L9=`${fne}${Rp}(?:((?:${mne}: ${gne})+))?${Rp}?(${vne})${pne}`;class Fi{static isPem(t){return typeof t=="string"&&new RegExp(L9,"g").test(t)}static decodeWithHeaders(t){t=t.replace(/\r/g,"");const r=new RegExp(L9,"g"),n=[];let s=null;for(;s=r.exec(t);){const i=s[3].replace(new RegExp(`[${Jm}]+`,"g"),""),a={type:s[1],headers:[],rawData:Pt.FromBase64(i)},o=s[2];if(o){const c=o.split(new RegExp(Rp,"g"));let u=null;for(const d of c){const[h,f]=d.split(/:(.*)/);if(f===void 0){if(!u)throw new Error("Cannot parse PEM string. Incorrect header value");u.value+=h.trim()}else u&&a.headers.push(u),u={key:h,value:f.trim()}}u&&a.headers.push(u)}n.push(a)}return n}static decode(t){return this.decodeWithHeaders(t).map(r=>r.rawData)}static decodeFirst(t){const r=this.decode(t);if(!r.length)throw new RangeError("PEM string doesn't contain any objects");return r[0]}static encode(t,r){if(Array.isArray(t)){const n=new Array;return r?t.forEach(s=>{if(!vt.isBufferSource(s))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");n.push(this.encodeStruct({type:r,rawData:vt.toArrayBuffer(s)}))}):t.forEach(s=>{if(!("type"in s))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");n.push(this.encodeStruct(s))}),n.join(`
`)}else{if(!r)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:r,rawData:vt.toArrayBuffer(t)})}}static encodeStruct(t){var r;const n=t.type.toLocaleUpperCase(),s=[];if(s.push(`-----BEGIN ${n}-----`),!((r=t.headers)===null||r===void 0)&&r.length){for(const u of t.headers)s.push(`${u.key}: ${u.value}`);s.push("")}const i=Pt.ToBase64(t.rawData);let a,o=0;const c=Array();for(;o<i.length&&(i.length-o<64?a=i.substring(o):(a=i.substring(o,o+64),o+=64),a.length!==0)&&(c.push(a),!(a.length<64)););return s.push(...c),s.push(`-----END ${n}-----`),s.join(`
`)}}Fi.CertificateTag="CERTIFICATE";Fi.CrlTag="CRL";Fi.CertificateRequestTag="CERTIFICATE REQUEST";Fi.PublicKeyTag="PUBLIC KEY";Fi.PrivateKeyTag="PRIVATE KEY";class Eo extends Zu{static isAsnEncoded(t){return vt.isBufferSource(t)||typeof t=="string"}static toArrayBuffer(t){if(typeof t=="string"){if(Fi.isPem(t))return Fi.decode(t)[0];if(Pt.isHex(t))return Pt.FromHex(t);if(Pt.isBase64(t))return Pt.FromBase64(t);if(Pt.isBase64Url(t))return Pt.FromBase64Url(t);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{const r=Pt.ToBinary(t);return Fi.isPem(r)?Fi.decode(r)[0]:Pt.isHex(r)?Pt.FromHex(r):Pt.isBase64(r)?Pt.FromBase64(r):Pt.isBase64Url(r)?Pt.FromBase64Url(r):vt.toArrayBuffer(t)}}constructor(...t){Eo.isAsnEncoded(t[0])?super(Eo.toArrayBuffer(t[0]),t[1]):super(t[0])}toString(t="pem"){switch(t){case"pem":return Fi.encode(this.rawData,this.tag);default:return super.toString(t)}}}class al extends Eo{static async create(t,r=$s.get()){if(t instanceof al)return t;if(ou.isCryptoKey(t)){if(t.type!=="public")throw new TypeError("Public key is required");const n=await r.subtle.exportKey("spki",t);return new al(n)}else{if(t.publicKey)return t.publicKey;if(vt.isBufferSource(t))return new al(t);throw new TypeError("Unsupported PublicKeyType")}}constructor(t){Eo.isAsnEncoded(t)?super(t,Qo):super(t),this.tag=Fi.PublicKeyTag}async export(...t){let r,n=["verify"],s={hash:"SHA-256",...this.algorithm};t.length>1?(s=t[0]||s,n=t[1]||n,r=t[2]||$s.get()):r=t[0]||$s.get();let i=this.rawData;const a=lt.parse(this.rawData,Qo);return a.algorithm.algorithm===um&&(i=xne(a,i)),r.subtle.importKey("spki",i,s,!0,n)}onInit(t){const r=xi.resolve(Tp),n=this.algorithm=r.toWebAlgorithm(t.algorithm);switch(t.algorithm.algorithm){case uh:{const s=lt.parse(t.subjectPublicKey,aE),i=vt.toUint8Array(s.modulus);n.publicExponent=vt.toUint8Array(s.publicExponent),n.modulusLength=(i[0]?i:i.slice(1)).byteLength<<3;break}}}async getThumbprint(...t){var r;let n,s="SHA-1";return t.length>=1&&!(!((r=t[0])===null||r===void 0)&&r.subtle)?(s=t[0]||s,n=t[1]||$s.get()):n=t[0]||$s.get(),await n.subtle.digest(s,this.rawData)}async getKeyIdentifier(...t){let r,n="SHA-1";t.length===1?typeof t[0]=="string"?(n=t[0],r=$s.get()):r=t[0]:t.length===2?(n=t[0],r=t[1]):r=$s.get();const s=lt.parse(this.rawData,Qo);return await r.subtle.digest(n,s.subjectPublicKey)}toTextObject(){const t=this.toTextObjectEmpty(),r=lt.parse(this.rawData,Qo);switch(t.Algorithm=Lu.serializeAlgorithm(r.algorithm),r.algorithm.algorithm){case Km:t["EC Point"]=r.subjectPublicKey;break;case uh:default:t["Raw Data"]=r.subjectPublicKey}return t}}function xne(e,t){return e.algorithm=new Nt({algorithm:uh,parameters:null}),t=lt.serialize(e),t}class eg extends Ya{static async create(t,r=!1,n=$s.get()){if("name"in t&&"serialNumber"in t)return new eg(t,r);const s=await(await al.create(t,n)).getKeyIdentifier(n);return new eg(Pt.ToHex(s),r)}constructor(...t){if(vt.isBufferSource(t[0]))super(t[0]);else if(typeof t[0]=="string"){const r=new Cd({keyIdentifier:new F_(Pt.FromHex(t[0]))});super(bx,t[1],lt.serialize(r))}else{const r=t[0],n=r.name instanceof Xm?lt.parse(r.name.rawData,vi):r.name,s=new Cd({authorityCertIssuer:n,authorityCertSerialNumber:Pt.FromHex(r.serialNumber)});super(bx,t[1],lt.serialize(s))}}onInit(t){super.onInit(t);const r=lt.parse(t.extnValue,Cd);r.keyIdentifier&&(this.keyId=Pt.ToHex(r.keyIdentifier)),(r.authorityCertIssuer||r.authorityCertSerialNumber)&&(this.certId={name:r.authorityCertIssuer||[],serialNumber:r.authorityCertSerialNumber?Pt.ToHex(r.authorityCertSerialNumber):""})}toTextObject(){const t=this.toTextObjectWithoutValue(),r=lt.parse(this.value,Cd);return r.authorityCertIssuer&&(t["Authority Issuer"]=new Xm(r.authorityCertIssuer).toTextObject()),r.authorityCertSerialNumber&&(t["Authority Serial Number"]=r.authorityCertSerialNumber),r.keyIdentifier&&(t[""]=r.keyIdentifier),t}}eg.NAME="Authority Key Identifier";class UL extends Ya{constructor(...t){if(vt.isBufferSource(t[0])){super(t[0]);const r=lt.parse(this.value,wx);this.ca=r.cA,this.pathLength=r.pathLenConstraint}else{const r=new wx({cA:t[0],pathLenConstraint:t[1]});super(oL,t[2],lt.serialize(r)),this.ca=t[0],this.pathLength=t[1]}}toTextObject(){const t=this.toTextObjectWithoutValue();return this.ca&&(t.CA=this.ca),this.pathLength!==void 0&&(t["Path Length"]=this.pathLength),t}}UL.NAME="Basic Constraints";var $9;(function(e){e.serverAuth="1.3.6.1.5.5.7.3.1",e.clientAuth="1.3.6.1.5.5.7.3.2",e.codeSigning="1.3.6.1.5.5.7.3.3",e.emailProtection="1.3.6.1.5.5.7.3.4",e.timeStamping="1.3.6.1.5.5.7.3.8",e.ocspSigning="1.3.6.1.5.5.7.3.9"})($9||($9={}));class zL extends Ya{constructor(...t){if(vt.isBufferSource(t[0])){super(t[0]);const r=lt.parse(this.value,Ex);this.usages=r.map(n=>n)}else{const r=new Ex(t[0]);super(uL,t[1],lt.serialize(r)),this.usages=t[0]}}toTextObject(){const t=this.toTextObjectWithoutValue();return t[""]=this.usages.map(r=>kc.toString(r)).join(", "),t}}zL.NAME="Extended Key Usages";var F9;(function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"})(F9||(F9={}));class HL extends Ya{constructor(...t){if(vt.isBufferSource(t[0])){super(t[0]);const r=lt.parse(this.value,z4);this.usages=r.toNumber()}else{const r=new z4(t[0]);super(dL,t[1],lt.serialize(r)),this.usages=t[0]}}toTextObject(){const t=this.toTextObjectWithoutValue(),r=lt.parse(this.value,z4);return t[""]=r.toJSON().join(", "),t}}HL.NAME="Key Usages";class c2 extends Ya{static async create(t,r=!1,n=$s.get()){const s=await(await al.create(t,n)).getKeyIdentifier(n);return new c2(Pt.ToHex(s),r)}constructor(...t){if(vt.isBufferSource(t[0])){super(t[0]);const r=lt.parse(this.value,_u);this.keyId=Pt.ToHex(r)}else{const r=typeof t[0]=="string"?Pt.FromHex(t[0]):t[0],n=new _u(r);super(q_,t[1],lt.serialize(n)),this.keyId=Pt.ToHex(r)}}toTextObject(){const t=this.toTextObjectWithoutValue(),r=lt.parse(this.value,_u);return t[""]=r,t}}c2.NAME="Subject Key Identifier";class VL extends Ya{constructor(...t){vt.isBufferSource(t[0])?super(t[0]):super(V_,t[1],new Xm(t[0]||[]).rawData)}onInit(t){super.onInit(t);const r=lt.parse(t.extnValue,tk);this.names=new Xm(r)}toTextObject(){const t=this.toTextObjectWithoutValue(),r=this.names.toTextObject();for(const n in r)t[n]=r[n];return t}}VL.NAME="Subject Alternative Name";class Za{static register(t,r){this.items.set(t,r)}static create(t){const r=new Ya(t),n=this.items.get(r.type);return n?new n(t):r}}Za.items=new Map;class qL extends Ya{constructor(...t){var r;if(vt.isBufferSource(t[0])){super(t[0]);const n=lt.parse(this.value,Sx);this.policies=n.map(s=>s.policyIdentifier)}else{const n=t[0],s=(r=t[1])!==null&&r!==void 0?r:!1,i=new Sx(n.map(a=>new Fw({policyIdentifier:a})));super(lL,s,lt.serialize(i)),this.policies=n}}toTextObject(){const t=this.toTextObjectWithoutValue();return t.Policy=this.policies.map(r=>new Kr("",{},kc.toString(r))),t}}qL.NAME="Certificate Policies";Za.register(lL,qL);class WL extends Ya{constructor(...t){var r;if(vt.isBufferSource(t[0]))super(t[0]);else if(Array.isArray(t[0])&&typeof t[0][0]=="string"){const n=t[0].map(i=>new Zp({distributionPoint:new ih({fullName:[new Er({uniformResourceIdentifier:i})]})})),s=new Ff(n);super(q6,t[1],lt.serialize(s))}else{const n=new Ff(t[0]);super(q6,t[1],lt.serialize(n))}(r=this.distributionPoints)!==null&&r!==void 0||(this.distributionPoints=[])}onInit(t){super.onInit(t);const r=lt.parse(t.extnValue,Ff);this.distributionPoints=r}toTextObject(){const t=this.toTextObjectWithoutValue();return t["Distribution Point"]=this.distributionPoints.map(r=>{var n;const s={};return r.distributionPoint&&(s[""]=(n=r.distributionPoint.fullName)===null||n===void 0?void 0:n.map(i=>new lu(i).toString()).join(", ")),r.reasons&&(s.Reasons=r.reasons.toString()),r.cRLIssuer&&(s["CRL Issuer"]=r.cRLIssuer.map(i=>i.toString()).join(", ")),s}),t}}WL.NAME="CRL Distribution Points";class GL extends Ya{constructor(...t){var r,n,s,i;if(vt.isBufferSource(t[0]))super(t[0]);else if(t[0]instanceof kf){const a=new kf(t[0]);super(B6,t[1],lt.serialize(a))}else{const a=t[0],o=new kf;iy(o,a,wA,"ocsp"),iy(o,a,kA,"caIssuers"),iy(o,a,SA,"timeStamping"),iy(o,a,_A,"caRepository"),super(B6,t[1],lt.serialize(o))}(r=this.ocsp)!==null&&r!==void 0||(this.ocsp=[]),(n=this.caIssuers)!==null&&n!==void 0||(this.caIssuers=[]),(s=this.timeStamping)!==null&&s!==void 0||(this.timeStamping=[]),(i=this.caRepository)!==null&&i!==void 0||(this.caRepository=[])}onInit(t){super.onInit(t),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],lt.parse(t.extnValue,kf).forEach(r=>{switch(r.accessMethod){case wA:this.ocsp.push(new lu(r.accessLocation));break;case kA:this.caIssuers.push(new lu(r.accessLocation));break;case SA:this.timeStamping.push(new lu(r.accessLocation));break;case _A:this.caRepository.push(new lu(r.accessLocation));break}})}toTextObject(){const t=this.toTextObjectWithoutValue();return this.ocsp.length&&sy(t,"OCSP",this.ocsp),this.caIssuers.length&&sy(t,"CA Issuers",this.caIssuers),this.timeStamping.length&&sy(t,"Time Stamping",this.timeStamping),this.caRepository.length&&sy(t,"CA Repository",this.caRepository),t}}GL.NAME="Authority Info Access";function sy(e,t,r){if(r.length===1)e[t]=r[0].toTextObject();else{const n=new Kr("");r.forEach((s,i)=>{const a=s.toTextObject(),o=`${a[Kr.NAME]} ${i+1}`;let c=n[o];Array.isArray(c)||(c=[],n[o]=c),c.push(a)}),e[t]=n}}function iy(e,t,r,n){const s=t[n];s&&(Array.isArray(s)?s:[s]).forEach(i=>{typeof i=="string"&&(i=new lu("url",i)),e.push(new Qg({accessMethod:r,accessLocation:lt.parse(i.rawData,Er)}))})}class t0 extends Zu{constructor(...t){let r;if(vt.isBufferSource(t[0]))r=vt.toArrayBuffer(t[0]);else{const n=t[0],s=Array.isArray(t[1])?t[1].map(i=>vt.toArrayBuffer(i)):[];r=lt.serialize(new uc({type:n,values:s}))}super(r,uc)}onInit(t){this.type=t.type,this.values=t.values}toTextObject(){const t=this.toTextObjectWithoutValue();return t.Value=this.values.map(r=>new Kr("",{"":r})),t}toTextObjectWithoutValue(){const t=this.toTextObjectEmpty();return t[Kr.NAME]===t0.NAME&&(t[Kr.NAME]=kc.toString(this.type)),t}}t0.NAME="Attribute";class KL extends t0{constructor(...t){var r;if(vt.isBufferSource(t[0]))super(t[0]);else{const n=new Kx({printableString:t[0]});super(OL,[lt.serialize(n)])}(r=this.password)!==null&&r!==void 0||(this.password="")}onInit(t){if(super.onInit(t),this.values[0]){const r=lt.parse(this.values[0],Kx);this.password=r.toString()}}toTextObject(){const t=this.toTextObjectWithoutValue();return t[Kr.VALUE]=this.password,t}}KL.NAME="Challenge Password";class uE extends t0{constructor(...t){var r;if(vt.isBufferSource(t[0]))super(t[0]);else{const n=t[0],s=new ah;for(const i of n)s.push(lt.parse(i.rawData,_o));super(cE,[lt.serialize(s)])}(r=this.items)!==null&&r!==void 0||(this.items=[])}onInit(t){if(super.onInit(t),this.values[0]){const r=lt.parse(this.values[0],ah);this.items=r.map(n=>Za.create(lt.serialize(n)))}}toTextObject(){const t=this.toTextObjectWithoutValue(),r=this.items.map(n=>n.toTextObject());for(const n of r)t[n[Kr.NAME]]=n;return t}}uE.NAME="Extensions";class u2{static register(t,r){this.items.set(t,r)}static create(t){const r=new t0(t),n=this.items.get(r.type);return n?new n(t):r}}u2.items=new Map;const d2="crypto.signatureFormatter";class bne{toAsnSignature(t,r){return vt.toArrayBuffer(r)}toWebSignature(t,r){return vt.toArrayBuffer(r)}}var hv;let Wk=hv=class{static createPssParams(e,t){const r=hv.getHashAlgorithm(e);return r?new hh({hashAlgorithm:r,maskGenAlgorithm:new Nt({algorithm:e2,parameters:lt.serialize(r)}),saltLength:t}):null}static getHashAlgorithm(e){const t=xi.resolve(Tp);return typeof e=="string"?t.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?t.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let t;if(typeof e.hash=="string")t=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")t=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(t.toLowerCase()){case"sha-1":return new Nt({algorithm:$x,parameters:null});case"sha-256":return new Nt({algorithm:Sk,parameters:null});case"sha-384":return new Nt({algorithm:Fx,parameters:null});case"sha-512":return new Nt({algorithm:Bx,parameters:null})}}else return new Nt({algorithm:uh,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");const t=hv.createPssParams(e.hash,e.saltLength);if(!t)throw new Error("Cannot create PSS parameters");return new Nt({algorithm:um,parameters:lt.serialize(t)})}else return new Nt({algorithm:um,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case uh:return{name:"RSASSA-PKCS1-v1_5"};case $x:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case Sk:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case Fx:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case Bx:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case um:if(e.parameters){const t=lt.parse(e.parameters,hh);return{name:"RSA-PSS",hash:xi.resolve(Tp).toWebAlgorithm(t.hashAlgorithm),saltLength:t.saltLength}}else return{name:"RSA-PSS"}}return null}};Wk=hv=P([s2()],Wk);xi.registerSingleton(l1,Wk);let Gk=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new Nt({algorithm:Ux});case"sha-256":return new Nt({algorithm:zx});case"sha-384":return new Nt({algorithm:Hx});case"sha-512":return new Nt({algorithm:Vx})}return null}toWebAlgorithm(e){switch(e.algorithm){case Ux:return{name:"SHA-1"};case zx:return{name:"SHA-256"};case Hx:return{name:"SHA-384"};case Vx:return{name:"SHA-512"}}return null}};Gk=P([s2()],Gk);xi.registerSingleton(l1,Gk);class Pa{addPadding(t,r){const n=vt.toUint8Array(r),s=new Uint8Array(t);return s.set(n,t-n.length),s}removePadding(t,r=!1){let n=vt.toUint8Array(t);for(let s=0;s<n.length;s++)if(n[s]){n=n.slice(s);break}if(r&&n[0]>127){const s=new Uint8Array(n.length+1);return s.set(n,1),s.buffer}return n.buffer}toAsnSignature(t,r){if(t.name==="ECDSA"){const n=t.namedCurve,s=Pa.namedCurveSize.get(n)||Pa.defaultNamedCurveSize,i=new Lx,a=vt.toUint8Array(r);return i.r=this.removePadding(a.slice(0,s),!0),i.s=this.removePadding(a.slice(s,s+s),!0),lt.serialize(i)}return null}toWebSignature(t,r){if(t.name==="ECDSA"){const n=lt.parse(r,Lx),s=t.namedCurve,i=Pa.namedCurveSize.get(s)||Pa.defaultNamedCurveSize,a=this.addPadding(i,this.removePadding(n.r)),o=this.addPadding(i,this.removePadding(n.s));return Mte(a,o)}return null}}Pa.namedCurveSize=new Map;Pa.defaultNamedCurveSize=32;const Z4="1.3.101.110",B9="1.3.101.111",Q4="1.3.101.112",U9="1.3.101.113";let Kk=class{toAsnAlgorithm(e){let t=null;switch(e.name.toLowerCase()){case"ed25519":t=Q4;break;case"x25519":t=Z4;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":t=Q4;break;case"ed448":t=U9;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":t=Z4;break;case"x448":t=B9;break}}return t?new Nt({algorithm:t}):null}toWebAlgorithm(e){switch(e.algorithm){case Q4:return{name:"Ed25519"};case U9:return{name:"EdDSA",namedCurve:"Ed448"};case Z4:return{name:"X25519"};case B9:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};Kk=P([s2()],Kk);xi.registerSingleton(l1,Kk);class wne extends Eo{constructor(t){Eo.isAsnEncoded(t)?super(t,Zm):super(t),this.tag=Fi.CertificateRequestTag}onInit(t){this.tbs=lt.serialize(t.certificationRequestInfo),this.publicKey=new al(t.certificationRequestInfo.subjectPKInfo);const r=xi.resolve(Tp);this.signatureAlgorithm=r.toWebAlgorithm(t.signatureAlgorithm),this.signature=t.signature,this.attributes=t.certificationRequestInfo.attributes.map(s=>u2.create(lt.serialize(s)));const n=this.getAttribute(cE);this.extensions=[],n instanceof uE&&(this.extensions=n.items),this.subjectName=new Eu(t.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(t){for(const r of this.attributes)if(r.type===t)return r;return null}getAttributes(t){return this.attributes.filter(r=>r.type===t)}getExtension(t){for(const r of this.extensions)if(r.type===t)return r;return null}getExtensions(t){return this.extensions.filter(r=>r.type===t)}async verify(t=$s.get()){const r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],t),s=xi.resolveAll(d2).reverse();let i=null;for(const a of s)if(i=a.toWebSignature(r,this.signature),i)break;if(!i)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await t.subtle.verify(this.signatureAlgorithm,n,i,this.tbs)}toTextObject(){const t=this.toTextObjectEmpty(),r=lt.parse(this.rawData,Zm),n=r.certificationRequestInfo,s=new Kr("",{Version:`${wp[n.version]} (${n.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const i=new Kr("");for(const a of this.attributes){const o=a.toTextObject();i[o[Kr.NAME]]=o}s.Attributes=i}return t.Data=s,t.Signature=new Kr("",{Algorithm:Lu.serializeAlgorithm(r.signatureAlgorithm),"":r.signature}),t}}wne.NAME="PKCS#10 Certificate Request";class fh extends Eo{constructor(t){Eo.isAsnEncoded(t)?super(t,oh):super(t),this.tag=Fi.CertificateTag}onInit(t){const r=t.tbsCertificate;this.tbs=lt.serialize(r),this.serialNumber=Pt.ToHex(r.serialNumber),this.subjectName=new Eu(r.subject),this.subject=new Eu(r.subject).toString(),this.issuerName=new Eu(r.issuer),this.issuer=this.issuerName.toString();const n=xi.resolve(Tp);this.signatureAlgorithm=n.toWebAlgorithm(t.signatureAlgorithm),this.signature=t.signatureValue;const s=r.validity.notBefore.utcTime||r.validity.notBefore.generalTime;if(!s)throw new Error("Cannot get 'notBefore' value");this.notBefore=s;const i=r.validity.notAfter.utcTime||r.validity.notAfter.generalTime;if(!i)throw new Error("Cannot get 'notAfter' value");this.notAfter=i,this.extensions=[],r.extensions&&(this.extensions=r.extensions.map(a=>Za.create(lt.serialize(a)))),this.publicKey=new al(r.subjectPublicKeyInfo)}getExtension(t){for(const r of this.extensions)if(typeof t=="string"){if(r.type===t)return r}else if(r instanceof t)return r;return null}getExtensions(t){return this.extensions.filter(r=>typeof t=="string"?r.type===t:r instanceof t)}async verify(t={},r=$s.get()){let n,s;const i=t.publicKey;try{if(!i)n={...this.publicKey.algorithm,...this.signatureAlgorithm},s=await this.publicKey.export(n,["verify"],r);else if("publicKey"in i)n={...i.publicKey.algorithm,...this.signatureAlgorithm},s=await i.publicKey.export(n,["verify"],r);else if(i instanceof al)n={...i.algorithm,...this.signatureAlgorithm},s=await i.export(n,["verify"],r);else if(vt.isBufferSource(i)){const u=new al(i);n={...u.algorithm,...this.signatureAlgorithm},s=await u.export(n,["verify"],r)}else n={...i.algorithm,...this.signatureAlgorithm},s=i}catch{return!1}const a=xi.resolveAll(d2).reverse();let o=null;for(const u of a)if(o=u.toWebSignature(n,this.signature),o)break;if(!o)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const c=await r.subtle.verify(this.signatureAlgorithm,s,o,this.tbs);if(t.signatureOnly)return c;{const u=(t.date||new Date).getTime();return c&&this.notBefore.getTime()<u&&u<this.notAfter.getTime()}}async getThumbprint(...t){let r,n="SHA-1";return t[0]&&(t[0].subtle?r=t[0]:(n=t[0]||n,r=t[1])),r??(r=$s.get()),await r.subtle.digest(n,this.rawData)}async isSelfSigned(t=$s.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},t)}toTextObject(){const t=this.toTextObjectEmpty(),r=lt.parse(this.rawData,oh),n=r.tbsCertificate,s=new Kr("",{Version:`${wp[n.version]} (${n.version})`,"Serial Number":n.serialNumber,"Signature Algorithm":Lu.serializeAlgorithm(n.signature),Issuer:this.issuer,Validity:new Kr("",{"Not Before":n.validity.notBefore.getTime(),"Not After":n.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(n.issuerUniqueID&&(s["Issuer Unique ID"]=n.issuerUniqueID),n.subjectUniqueID&&(s["Subject Unique ID"]=n.subjectUniqueID),this.extensions.length){const i=new Kr("");for(const a of this.extensions){const o=a.toTextObject();i[o[Kr.NAME]]=o}s.Extensions=i}return t.Data=s,t.Signature=new Kr("",{Algorithm:Lu.serializeAlgorithm(r.signatureAlgorithm),"":r.signatureValue}),t}}fh.NAME="Certificate";class kne extends Array{constructor(t){if(super(),Eo.isAsnEncoded(t))this.import(t);else if(t instanceof fh)this.push(t);else if(Array.isArray(t))for(const r of t)this.push(r)}export(t){const r=new Xl;r.version=1,r.encapContentInfo.eContentType=Are,r.encapContentInfo.eContent=new Ep({single:new Yr}),r.certificates=new Wm(this.map(i=>new lh({certificate:lt.parse(i.rawData,oh)})));const n=new Ql({contentType:bk,content:lt.serialize(r)}),s=lt.serialize(n);return t==="raw"?s:this.toString(t)}import(t){const r=Eo.toArrayBuffer(t),n=lt.parse(r,Ql);if(n.contentType!==bk)throw new TypeError("Cannot parse CMS package. Incoming data is not a SignedData object.");const s=lt.parse(n.content,Xl);this.clear();for(const i of s.certificates||[])i.certificate&&this.push(new fh(i.certificate))}clear(){for(;this.pop(););}toString(t="pem"){const r=this.export("raw");switch(t){case"pem":return Fi.encode(r,"CMS");case"pem-chain":return this.map(n=>n.toString("pem")).join(`
`);case"asn":return lt.toString(r);case"hex":return Pt.ToHex(r);case"base64":return Pt.ToBase64(r);case"base64url":return Pt.ToBase64Url(r);case"text":return Lu.serialize(this.toTextObject());default:throw TypeError("Argument 'format' is unsupported value")}}toTextObject(){const t=lt.parse(this.export("raw"),Ql),r=lt.parse(t.content,Xl);return new Kr("X509Certificates",{"Content Type":kc.toString(t.contentType),Content:new Kr("",{Version:`${cl[r.version]} (${r.version})`,Certificates:new Kr("",{Certificate:this.map(n=>n.toTextObject())})})})}}class Sne{constructor(t={}){this.certificates=[],t.certificates&&(this.certificates=t.certificates)}async build(t,r=$s.get()){const n=new kne(t);let s=t;for(;s=await this.findIssuer(s,r);){const i=await s.getThumbprint(r);for(const a of n){const o=await a.getThumbprint(r);if(gx(i,o))throw new Error("Cannot build a certificate chain. Circular dependency.")}n.push(s)}return n}async findIssuer(t,r=$s.get()){if(!await t.isSelfSigned(r)){const n=t.getExtension(bx);for(const s of this.certificates)if(s.subject===t.issuer){if(n){if(n.keyId){const i=s.getExtension(q_);if(i&&i.keyId!==n.keyId)continue}else if(n.certId){const i=s.getExtension(V_);if(i&&!(n.certId.serialNumber===s.serialNumber&&gx(lt.serialize(n.certId.name),lt.serialize(i))))continue}}try{const i={...s.publicKey.algorithm,...t.signatureAlgorithm},a=await s.publicKey.export(i,["verify"],r);if(!await t.verify({publicKey:a,signatureOnly:!0},r))continue}catch{continue}return s}}return null}}var z9;(function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"})(z9||(z9={}));Za.register(oL,UL);Za.register(uL,zL);Za.register(dL,HL);Za.register(q_,c2);Za.register(bx,eg);Za.register(V_,VL);Za.register(q6,WL);Za.register(B6,GL);u2.register(OL,KL);u2.register(cE,uE);xi.registerSingleton(d2,bne);xi.registerSingleton(d2,Pa);Pa.namedCurveSize.set("P-256",32);Pa.namedCurveSize.set("K-256",32);Pa.namedCurveSize.set("P-384",48);Pa.namedCurveSize.set("P-521",66);const Ut={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},In={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,CBOR:24,URI:32,BASE64URL:33,BASE64:34,SET:258,JSON:262,REGEXP:21066,SELF_DESCRIBED:55799,INVALID_16:65535,INVALID_32:4294967295,INVALID_64:0xffffffffffffffffn},dn={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},cu={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};var w0;let ma=(w0=class{},Ir(w0,"BREAK",Symbol.for("github.com/hildjj/cbor2/break")),Ir(w0,"ENCODED",Symbol.for("github.com/hildjj/cbor2/cbor-encoded")),Ir(w0,"LENGTH",Symbol.for("github.com/hildjj/cbor2/length")),w0);const Zx={MIN:-(2n**63n),MAX:2n**64n-1n};var Fh,El;let Dr=(Fh=class{constructor(e,t=void 0){Ir(this,"tag"),Ir(this,"contents"),this.tag=e,this.contents=t}get noChildren(){var e;return!!((e=Be(Fh,El).get(this.tag))!=null&&e.noChildren)}static registerDecoder(e,t,r){const n=Be(this,El).get(e);return Be(this,El).set(e,t),n&&("comment"in t||(t.comment=n.comment),"noChildren"in t||(t.noChildren=n.noChildren)),r&&!t.comment&&(t.comment=()=>`(${r})`),n}static clearDecoder(e){const t=Be(this,El).get(e);return Be(this,El).delete(e),t}*[Symbol.iterator](){yield this.contents}push(e){return this.contents=e,1}decode(e){const t=Be(Fh,El).get(this.tag);return t?t(this,e):this}comment(e,t){const r=Be(Fh,El).get(this.tag);if(r!=null&&r.comment)return r.comment(this,e,t)}toCBOR(){return[this.tag,this.contents]}[Symbol.for("nodejs.util.inspect.custom")](e,t,r){return`${this.tag}(${r(this.contents,t)})`}},El=new WeakMap,pi(Fh,El,new Map),Fh);function Qx(e){if(e!=null&&typeof e=="object")return e[ma.ENCODED]}function _ne(e){if(e!=null&&typeof e=="object")return e[ma.LENGTH]}function tg(e,t){Object.defineProperty(e,ma.ENCODED,{configurable:!0,enumerable:!1,value:t})}function D0(e,t){const r=Object(e);return tg(r,t),r}function YL(e){let t=Math.ceil(e.length/2);const r=new Uint8Array(t);t--;for(let n=e.length,s=n-2;n>=0;n=s,s-=2,t--)r[t]=parseInt(e.substring(s,n),16);return r}function yo(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}function Ene(e){const t=e.reduce((s,i)=>s+i.length,0),r=new Uint8Array(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return r}function dE(e){const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0))}const Nne={"-":"+",_:"/"};function Cne(e){const t=e.replace(/[_-]/g,r=>Nne[r]);return dE(t.padEnd(Math.ceil(t.length/4)*4,"="))}function Ane(){const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])}function H9(e){var t;let r="";for(const n of e){const s=(t=n.codePointAt(0))==null?void 0:t.toString(16).padStart(4,"0");r&&(r+=", "),r+=`U+${s}`}return r}function ZL(e,t){const[r,n,s]=e,[i,a,o]=t,c=Math.min(s.length,o.length);for(let u=0;u<c;u++){const d=s[u]-o[u];if(d!==0)return d}return 0}var gd,Qs,ea,Kn,Ml,rn,yd,Xx,Yk,Lo,$o;const QL=class XL{constructor(t={}){if(pi(this,rn),pi(this,gd),pi(this,Qs,[]),pi(this,ea,null),pi(this,Kn,0),pi(this,Ml,0),Qn(this,gd,{...XL.defaultOptions,...t}),Be(this,gd).chunkSize<8)throw new RangeError(`Expected size >= 8, got ${Be(this,gd).chunkSize}`);Cr(this,rn,yd).call(this)}get length(){return Be(this,Ml)}read(){Cr(this,rn,Xx).call(this);const t=new Uint8Array(Be(this,Ml));let r=0;for(const n of Be(this,Qs))t.set(n,r),r+=n.length;return Cr(this,rn,yd).call(this),t}write(t){const r=t.length;r>Cr(this,rn,Yk).call(this)?(Cr(this,rn,Xx).call(this),r>Be(this,gd).chunkSize?(Be(this,Qs).push(t),Cr(this,rn,yd).call(this)):(Cr(this,rn,yd).call(this),Be(this,Qs)[Be(this,Qs).length-1].set(t),Qn(this,Kn,r))):(Be(this,Qs)[Be(this,Qs).length-1].set(t,Be(this,Kn)),Qn(this,Kn,Be(this,Kn)+r)),Qn(this,Ml,Be(this,Ml)+r)}writeUint8(t){Cr(this,rn,Lo).call(this,1),Be(this,ea).setUint8(Be(this,Kn),t),Cr(this,rn,$o).call(this,1)}writeUint16(t,r=!1){Cr(this,rn,Lo).call(this,2),Be(this,ea).setUint16(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,2)}writeUint32(t,r=!1){Cr(this,rn,Lo).call(this,4),Be(this,ea).setUint32(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,4)}writeBigUint64(t,r=!1){Cr(this,rn,Lo).call(this,8),Be(this,ea).setBigUint64(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,8)}writeInt16(t,r=!1){Cr(this,rn,Lo).call(this,2),Be(this,ea).setInt16(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,2)}writeInt32(t,r=!1){Cr(this,rn,Lo).call(this,4),Be(this,ea).setInt32(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,4)}writeBigInt64(t,r=!1){Cr(this,rn,Lo).call(this,8),Be(this,ea).setBigInt64(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,8)}writeFloat32(t,r=!1){Cr(this,rn,Lo).call(this,4),Be(this,ea).setFloat32(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,4)}writeFloat64(t,r=!1){Cr(this,rn,Lo).call(this,8),Be(this,ea).setFloat64(Be(this,Kn),t,r),Cr(this,rn,$o).call(this,8)}clear(){Qn(this,Ml,0),Qn(this,Qs,[]),Cr(this,rn,yd).call(this)}};gd=new WeakMap,Qs=new WeakMap,ea=new WeakMap,Kn=new WeakMap,Ml=new WeakMap,rn=new WeakSet,yd=function(){const e=new Uint8Array(Be(this,gd).chunkSize);Be(this,Qs).push(e),Qn(this,Kn,0),Qn(this,ea,new DataView(e.buffer,e.byteOffset,e.byteLength))},Xx=function(){if(Be(this,Kn)===0){Be(this,Qs).pop();return}const e=Be(this,Qs).length-1;Be(this,Qs)[e]=Be(this,Qs)[e].subarray(0,Be(this,Kn)),Qn(this,Kn,0),Qn(this,ea,null)},Yk=function(){const e=Be(this,Qs).length-1;return Be(this,Qs)[e].length-Be(this,Kn)},Lo=function(e){Cr(this,rn,Yk).call(this)<e&&(Cr(this,rn,Xx).call(this),Cr(this,rn,yd).call(this))},$o=function(e){Qn(this,Kn,Be(this,Kn)+e),Qn(this,Ml,Be(this,Ml)+e)},Ir(QL,"defaultOptions",{chunkSize:4096});let JL=QL;function e$(e,t=0,r=!1){const n=e[t]&128?-1:1,s=(e[t]&124)>>2,i=(e[t]&3)<<8|e[t+1];if(s===0){if(r&&i!==0)throw new Error(`Unwanted subnormal: ${n*5960464477539063e-23*i}`);return n*5960464477539063e-23*i}else if(s===31)return i?NaN:n*(1/0);return n*2**(s-25)*(1024+i)}function Tne(e){const t=new DataView(new ArrayBuffer(4));t.setFloat32(0,e,!1);const r=t.getUint32(0,!1);if(r&8191)return null;let n=r>>16&32768;const s=r>>23&255,i=r&8388607;if(!(s===0&&i===0))if(s>=113&&s<=142)n+=(s-112<<10)+(i>>13);else if(s>=103&&s<113){if(i&(1<<126-s)-1)return null;n+=i+8388608>>126-s}else if(s===255)n|=31744,n|=i>>13;else return null;return n}function Rne(e){if(e!==0){const t=new ArrayBuffer(8),r=new DataView(t);r.setFloat64(0,e,!1);const n=r.getBigUint64(0,!1);if((n&0x7ff0000000000000n)===0n)return n&0x8000000000000000n?-0:0}return e}function Ine(e){switch(e.length){case 2:e$(e,0,!0);break;case 4:{const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.getUint32(0,!1);if(!(r&2139095040)&&r&8388607)throw new Error(`Unwanted subnormal: ${t.getFloat32(0,!1)}`);break}case 8:{const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.getBigUint64(0,!1);if((r&0x7ff0000000000000n)===0n&&r&0x000fffffffffffn)throw new Error(`Unwanted subnormal: ${t.getFloat64(0,!1)}`);break}default:throw new TypeError(`Bad input to isSubnormal: ${e}`)}}const V9=Ut.SIMPLE_FLOAT<<5|dn.TWO,jne=Ut.SIMPLE_FLOAT<<5|dn.FOUR,Mne=Ut.SIMPLE_FLOAT<<5|dn.EIGHT,Pne=Ut.SIMPLE_FLOAT<<5|cu.TRUE,One=Ut.SIMPLE_FLOAT<<5|cu.FALSE,Dne=Ut.SIMPLE_FLOAT<<5|cu.UNDEFINED,Lne=Ut.SIMPLE_FLOAT<<5|cu.NULL,$ne=new TextEncoder,Fne={...JL.defaultOptions,avoidInts:!1,cde:!1,collapseBigInts:!0,dcbor:!1,float64:!1,flushToZero:!1,forceEndian:null,ignoreOriginalEncoding:!1,largeNegativeAsBigInt:!1,reduceUnsafeNumbers:!1,rejectBigInts:!1,rejectCustomSimples:!1,rejectDuplicateKeys:!1,rejectFloats:!1,rejectUndefined:!1,simplifyNegativeZero:!1,sortKeys:null,stringNormalization:null},t$={cde:!0,ignoreOriginalEncoding:!0,sortKeys:ZL},Bne={...t$,dcbor:!0,largeNegativeAsBigInt:!0,reduceUnsafeNumbers:!0,rejectCustomSimples:!0,rejectDuplicateKeys:!0,rejectUndefined:!0,simplifyNegativeZero:!0,stringNormalization:"NFC"};function r$(e){const t=e<0;return typeof e=="bigint"?[t?-e-1n:e,t]:[t?-e-1:e,t]}function X4(e,t,r){if(r.rejectFloats)throw new Error(`Attempt to encode an unwanted floating point number: ${e}`);if(isNaN(e))t.writeUint8(V9),t.writeUint16(32256);else if(!r.float64&&Math.fround(e)===e){const n=Tne(e);n===null?(t.writeUint8(jne),t.writeFloat32(e)):(t.writeUint8(V9),t.writeUint16(n))}else t.writeUint8(Mne),t.writeFloat64(e)}function No(e,t,r){const[n,s]=r$(e);if(s&&r)throw new TypeError(`Negative size: ${e}`);r??(r=s?Ut.NEG_INT:Ut.POS_INT),r<<=5,n<24?t.writeUint8(r|n):n<=255?(t.writeUint8(r|dn.ONE),t.writeUint8(n)):n<=65535?(t.writeUint8(r|dn.TWO),t.writeUint16(n)):n<=4294967295?(t.writeUint8(r|dn.FOUR),t.writeUint32(n)):(t.writeUint8(r|dn.EIGHT),t.writeBigUint64(BigInt(n)))}function Jx(e,t,r){typeof e=="number"?No(e,t,Ut.TAG):typeof e=="object"&&!r.ignoreOriginalEncoding&&ma.ENCODED in e?t.write(e[ma.ENCODED]):e<=Number.MAX_SAFE_INTEGER?No(Number(e),t,Ut.TAG):(t.writeUint8(Ut.TAG<<5|dn.EIGHT),t.writeBigUint64(BigInt(e)))}function n$(e,t,r){const[n,s]=r$(e);if(r.collapseBigInts&&(!r.largeNegativeAsBigInt||e>=-0x8000000000000000n)){if(n<=0xffffffffn){No(Number(e),t);return}if(n<=0xffffffffffffffffn){const u=(s?Ut.NEG_INT:Ut.POS_INT)<<5;t.writeUint8(u|dn.EIGHT),t.writeBigUint64(n);return}}if(r.rejectBigInts)throw new Error(`Attempt to encode unwanted bigint: ${e}`);const i=s?In.NEG_BIGINT:In.POS_BIGINT,a=n.toString(16),o=a.length%2?"0":"";Jx(i,t,r);const c=YL(o+a);No(c.length,t,Ut.BYTE_STRING),t.write(c)}function Une(e,t,r){r.flushToZero&&(e=Rne(e)),Object.is(e,-0)?r.simplifyNegativeZero?r.avoidInts?X4(0,t,r):No(0,t):X4(e,t,r):!r.avoidInts&&Number.isSafeInteger(e)?No(e,t):r.reduceUnsafeNumbers&&Math.floor(e)===e&&e>=Zx.MIN&&e<=Zx.MAX?n$(BigInt(e),t,r):X4(e,t,r)}function zne(e,t,r){const n=r.stringNormalization?e.normalize(r.stringNormalization):e,s=$ne.encode(n);No(s.length,t,Ut.UTF8_STRING),t.write(s)}function Hne(e,t,r){const n=e;hE(n,n.length,Ut.ARRAY,t,r);for(const s of n)Ad(s,t,r)}function Vne(e,t){const r=e;No(r.length,t,Ut.BYTE_STRING),t.write(r)}const Zk=new Map([[Array,Hne],[Uint8Array,Vne]]);function Yn(e,t){const r=Zk.get(e);return Zk.set(e,t),r}function hE(e,t,r,n,s){const i=_ne(e);i&&!s.ignoreOriginalEncoding?n.write(i):No(t,n,r)}function qne(e,t,r){if(e===null){t.writeUint8(Lne);return}if(!r.ignoreOriginalEncoding&&ma.ENCODED in e){t.write(e[ma.ENCODED]);return}const n=Zk.get(e.constructor);if(n){const i=n(e,t,r);i&&((typeof i[0]=="bigint"||isFinite(Number(i[0])))&&Jx(i[0],t,r),Ad(i[1],t,r));return}if(typeof e.toCBOR=="function"){const i=e.toCBOR(t,r);i&&((typeof i[0]=="bigint"||isFinite(Number(i[0])))&&Jx(i[0],t,r),Ad(i[1],t,r));return}if(typeof e.toJSON=="function"){Ad(e.toJSON(),t,r);return}const s=Object.entries(e).map(i=>[i[0],i[1],h2(i[0],r)]);r.sortKeys&&s.sort(r.sortKeys),hE(e,s.length,Ut.MAP,t,r);for(const[i,a,o]of s)t.write(o),Ad(a,t,r)}function Ad(e,t,r){switch(typeof e){case"number":Une(e,t,r);break;case"bigint":n$(e,t,r);break;case"string":zne(e,t,r);break;case"boolean":t.writeUint8(e?Pne:One);break;case"undefined":if(r.rejectUndefined)throw new Error("Attempt to encode unwanted undefined.");t.writeUint8(Dne);break;case"object":qne(e,t,r);break;case"symbol":throw new TypeError(`Unknown symbol: ${e.toString()}`);default:throw new TypeError(`Unknown type: ${typeof e}, ${String(e)}`)}}function h2(e,t={}){const r={...Fne};t.dcbor?Object.assign(r,Bne):t.cde&&Object.assign(r,t$),Object.assign(r,t);const n=new JL(r);return Ad(e,n,r),n.read()}var s$=(e=>(e[e.NEVER=-1]="NEVER",e[e.PREFERRED=0]="PREFERRED",e[e.ALWAYS=1]="ALWAYS",e))(s$||{});const i$=class Jh{constructor(t){Ir(this,"value"),this.value=t}static create(t){return Jh.KnownSimple.has(t)?Jh.KnownSimple.get(t):new Jh(t)}toCBOR(t,r){if(r.rejectCustomSimples)throw new Error(`Cannot encode non-standard Simple value: ${this.value}`);No(this.value,t,Ut.SIMPLE_FLOAT)}toString(){return`simple(${this.value})`}decode(){return Jh.KnownSimple.has(this.value)?Jh.KnownSimple.get(this.value):this}[Symbol.for("nodejs.util.inspect.custom")](t,r,n){return`simple(${n(this.value,r)})`}};Ir(i$,"KnownSimple",new Map([[cu.FALSE,!1],[cu.TRUE,!0],[cu.NULL,null],[cu.UNDEFINED,void 0]]));let fE=i$;const Wne=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});var _a,Uo,Es,lo,Ii,fd,J4,k0;const a$=class o${constructor(t,r){if(pi(this,Ii),pi(this,_a),pi(this,Uo),pi(this,Es,0),pi(this,lo),Qn(this,lo,{...o$.defaultOptions,...r}),typeof t=="string")switch(Be(this,lo).encoding){case"hex":Qn(this,_a,YL(t));break;case"base64":Qn(this,_a,dE(t));break;default:throw new TypeError(`Encoding not implemented: "${Be(this,lo).encoding}"`)}else Qn(this,_a,t);Qn(this,Uo,new DataView(Be(this,_a).buffer,Be(this,_a).byteOffset,Be(this,_a).byteLength))}toHere(t){return Be(this,_a).subarray(t,Be(this,Es))}*[Symbol.iterator](){if(yield*Cr(this,Ii,fd).call(this,0),Be(this,Es)!==Be(this,_a).length)throw new Error("Extra data in input")}};_a=new WeakMap,Uo=new WeakMap,Es=new WeakMap,lo=new WeakMap,Ii=new WeakSet,fd=function*(e){if(e++>Be(this,lo).maxDepth)throw new Error(`Maximum depth ${Be(this,lo).maxDepth} exceeded`);const t=Be(this,Es),r=Be(this,Uo).getUint8(hte(this,Es)._++),n=r>>5,s=r&31;let i=s,a=!1,o=0;switch(s){case dn.ONE:if(o=1,i=Be(this,Uo).getUint8(Be(this,Es)),n===Ut.SIMPLE_FLOAT){if(i<32)throw new Error(`Invalid simple encoding in extra byte: ${i}`);a=!0}else if(Be(this,lo).requirePreferred&&i<24)throw new Error(`Unexpectedly long integer encoding (1) for ${i}`);break;case dn.TWO:if(o=2,n===Ut.SIMPLE_FLOAT)i=e$(Be(this,_a),Be(this,Es));else if(i=Be(this,Uo).getUint16(Be(this,Es),!1),Be(this,lo).requirePreferred&&i<=255)throw new Error(`Unexpectedly long integer encoding (2) for ${i}`);break;case dn.FOUR:if(o=4,n===Ut.SIMPLE_FLOAT)i=Be(this,Uo).getFloat32(Be(this,Es),!1);else if(i=Be(this,Uo).getUint32(Be(this,Es),!1),Be(this,lo).requirePreferred&&i<=65535)throw new Error(`Unexpectedly long integer encoding (4) for ${i}`);break;case dn.EIGHT:{if(o=8,n===Ut.SIMPLE_FLOAT)i=Be(this,Uo).getFloat64(Be(this,Es),!1);else if(i=Be(this,Uo).getBigUint64(Be(this,Es),!1),i<=Number.MAX_SAFE_INTEGER&&(i=Number(i)),Be(this,lo).requirePreferred&&i<=4294967295)throw new Error(`Unexpectedly long integer encoding (8) for ${i}`);break}case 28:case 29:case 30:throw new Error(`Additional info not implemented: ${s}`);case dn.INDEFINITE:switch(n){case Ut.POS_INT:case Ut.NEG_INT:case Ut.TAG:throw new Error(`Invalid indefinite encoding for MT ${n}`);case Ut.SIMPLE_FLOAT:yield[n,s,ma.BREAK,t,0];return}i=1/0;break;default:a=!0}switch(Qn(this,Es,Be(this,Es)+o),n){case Ut.POS_INT:yield[n,s,i,t,o];break;case Ut.NEG_INT:yield[n,s,typeof i=="bigint"?-1n-i:-1-Number(i),t,o];break;case Ut.BYTE_STRING:i===1/0?yield*Cr(this,Ii,k0).call(this,n,e,t):yield[n,s,Cr(this,Ii,J4).call(this,i),t,i];break;case Ut.UTF8_STRING:i===1/0?yield*Cr(this,Ii,k0).call(this,n,e,t):yield[n,s,Wne.decode(Cr(this,Ii,J4).call(this,i)),t,i];break;case Ut.ARRAY:if(i===1/0)yield*Cr(this,Ii,k0).call(this,n,e,t,!1);else{const c=Number(i);yield[n,s,c,t,o];for(let u=0;u<c;u++)yield*Cr(this,Ii,fd).call(this,e+1)}break;case Ut.MAP:if(i===1/0)yield*Cr(this,Ii,k0).call(this,n,e,t,!1);else{const c=Number(i);yield[n,s,c,t,o];for(let u=0;u<c;u++)yield*Cr(this,Ii,fd).call(this,e),yield*Cr(this,Ii,fd).call(this,e)}break;case Ut.TAG:yield[n,s,i,t,o],yield*Cr(this,Ii,fd).call(this,e);break;case Ut.SIMPLE_FLOAT:{const c=i;a&&(i=fE.create(Number(i))),yield[n,s,i,t,c];break}}},J4=function(e){const t=Be(this,_a).subarray(Be(this,Es),Qn(this,Es,Be(this,Es)+e));if(t.length!==e)throw new Error(`Unexpected end of stream reading ${e} bytes, got ${t.length}`);return t},k0=function*(e,t,r,n=!0){for(yield[e,dn.INDEFINITE,1/0,r,1/0];;){const s=Cr(this,Ii,fd).call(this,t),i=s.next(),[a,o,c]=i.value;if(c===ma.BREAK){yield i.value,s.next();return}if(n){if(a!==e)throw new Error(`Unmatched major type.  Expected ${e}, got ${a}.`);if(o===dn.INDEFINITE)throw new Error("New stream started in typed stream")}yield i.value,yield*s}},Ir(a$,"defaultOptions",{maxDepth:1024,encoding:"hex",requirePreferred:!1});let pE=a$;const Gne=new Map([[dn.ZERO,1],[dn.ONE,2],[dn.TWO,3],[dn.FOUR,5],[dn.EIGHT,9]]),Kne=new Uint8Array(0);var nd,Ti,Nl,e5,q9;let Gc=(nd=class{constructor(e,t,r,n){if(pi(this,e5),Ir(this,"parent"),Ir(this,"mt"),Ir(this,"ai"),Ir(this,"left"),Ir(this,"offset"),Ir(this,"count",0),Ir(this,"children",[]),Ir(this,"depth",0),pi(this,Ti),pi(this,Nl,null),[this.mt,this.ai,,this.offset]=e,this.left=t,this.parent=r,Qn(this,Ti,n),r&&(this.depth=r.depth+1),this.mt===Ut.MAP&&(Be(this,Ti).sortKeys||Be(this,Ti).rejectDuplicateKeys)&&Qn(this,Nl,[]),Be(this,Ti).rejectStreaming&&this.ai===dn.INDEFINITE)throw new Error("Streaming not supported")}get isStreaming(){return this.left===1/0}get done(){return this.left===0}static create(e,t,r,n){const[s,i,a,o]=e;switch(s){case Ut.POS_INT:case Ut.NEG_INT:{if(r.rejectInts)throw new Error(`Unexpected integer: ${a}`);if(r.rejectLargeNegatives&&a<-0x8000000000000000n)throw new Error(`Invalid 65bit negative number: ${a}`);let c=a;return r.convertUnsafeIntsToFloat&&c>=Zx.MIN&&c<=Zx.MAX&&(c=Number(a)),r.boxed?D0(c,n.toHere(o)):c}case Ut.SIMPLE_FLOAT:if(i>dn.ONE){if(r.rejectFloats)throw new Error(`Decoding unwanted floating point number: ${a}`);if(r.rejectNegativeZero&&Object.is(a,-0))throw new Error("Decoding negative zero");if(r.rejectLongLoundNaN&&isNaN(a)){const c=n.toHere(o);if(c.length!==3||c[1]!==126||c[2]!==0)throw new Error(`Invalid NaN encoding: "${yo(c)}"`)}if(r.rejectSubnormals&&Ine(n.toHere(o+1)),r.rejectLongFloats){const c=h2(a,{chunkSize:9,reduceUnsafeNumbers:r.rejectUnsafeFloatInts});if(c[0]>>5!==s)throw new Error(`Should have been encoded as int, not float: ${a}`);if(c.length<Gne.get(i))throw new Error(`Number should have been encoded shorter: ${a}`)}if(typeof a=="number"&&r.boxed)return D0(a,n.toHere(o))}else{if(r.rejectSimple&&a instanceof fE)throw new Error(`Invalid simple value: ${a}`);if(r.rejectUndefined&&a===void 0)throw new Error("Unexpected undefined")}return a;case Ut.BYTE_STRING:case Ut.UTF8_STRING:if(a===1/0)return new r.ParentType(e,1/0,t,r);if(r.rejectStringsNotNormalizedAs&&typeof a=="string"){const c=a.normalize(r.rejectStringsNotNormalizedAs);if(a!==c)throw new Error(`String not normalized as "${r.rejectStringsNotNormalizedAs}", got [${H9(a)}] instead of [${H9(c)}]`)}return r.boxed?D0(a,n.toHere(o)):a;case Ut.ARRAY:return new r.ParentType(e,a,t,r);case Ut.MAP:return new r.ParentType(e,a*2,t,r);case Ut.TAG:{const c=new r.ParentType(e,1,t,r);return c.children=new Dr(a),c}}throw new TypeError(`Invalid major type: ${s}`)}push(e,t,r){if(this.children.push(e),Be(this,Nl)){const n=Qx(e)||t.toHere(r);Be(this,Nl).push(n)}return--this.left}replaceLast(e,t,r){let n,s=-1/0;if(this.children instanceof Dr?(s=0,n=this.children.contents,this.children.contents=e):(s=this.children.length-1,n=this.children[s],this.children[s]=e),Be(this,Nl)){const i=Qx(e)||r.toHere(t.offset);Be(this,Nl)[s]=i}return n}convert(e){let t;switch(this.mt){case Ut.ARRAY:t=this.children;break;case Ut.MAP:{const r=Cr(this,e5,q9).call(this);if(Be(this,Ti).sortKeys){let n;for(const s of r){if(n&&Be(this,Ti).sortKeys(n,s)>=0)throw new Error(`Duplicate or out of order key: "0x${s[2]}"`);n=s}}else if(Be(this,Ti).rejectDuplicateKeys){const n=new Set;for(const[s,i,a]of r){const o=yo(a);if(n.has(o))throw new Error(`Duplicate key: "0x${o}"`);n.add(o)}}t=!Be(this,Ti).boxed&&!Be(this,Ti).preferMap&&r.every(([n])=>typeof n=="string")?Object.fromEntries(r):new Map(r);break}case Ut.BYTE_STRING:return Ene(this.children);case Ut.UTF8_STRING:{const r=this.children.join("");t=Be(this,Ti).boxed?D0(r,e.toHere(this.offset)):r;break}case Ut.TAG:t=this.children.decode(Be(this,Ti));break;default:throw new TypeError(`Invalid mt on convert: ${this.mt}`)}return Be(this,Ti).saveOriginal&&t&&typeof t=="object"&&tg(t,e.toHere(this.offset)),t}},Ti=new WeakMap,Nl=new WeakMap,e5=new WeakSet,q9=function(){const e=this.children,t=e.length;if(t%2)throw new Error("Missing map value");const r=new Array(t/2);if(Be(this,Nl))for(let n=0;n<t;n+=2)r[n>>1]=[e[n],e[n+1],Be(this,Nl)[n]];else for(let n=0;n<t;n+=2)r[n>>1]=[e[n],e[n+1],Kne];return r},Ir(nd,"defaultDecodeOptions",{...pE.defaultOptions,ParentType:nd,boxed:!1,cde:!1,dcbor:!1,diagnosticSizes:s$.PREFERRED,convertUnsafeIntsToFloat:!1,pretty:!1,preferMap:!1,rejectLargeNegatives:!1,rejectBigInts:!1,rejectDuplicateKeys:!1,rejectFloats:!1,rejectInts:!1,rejectLongLoundNaN:!1,rejectLongFloats:!1,rejectNegativeZero:!1,rejectSimple:!1,rejectStreaming:!1,rejectStringsNotNormalizedAs:null,rejectSubnormals:!1,rejectUndefined:!1,rejectUnsafeFloatInts:!1,saveOriginal:!1,sortKeys:null}),Ir(nd,"cdeDecodeOptions",{cde:!0,rejectStreaming:!0,requirePreferred:!0,sortKeys:ZL}),Ir(nd,"dcborDecodeOptions",{...nd.cdeDecodeOptions,dcbor:!0,convertUnsafeIntsToFloat:!0,rejectDuplicateKeys:!0,rejectLargeNegatives:!0,rejectLongLoundNaN:!0,rejectLongFloats:!0,rejectNegativeZero:!0,rejectSimple:!0,rejectUndefined:!0,rejectUnsafeFloatInts:!0,rejectStringsNotNormalizedAs:"NFC"}),nd);var W9,G9;class Qk extends(G9=Gc,W9=ma.ENCODED,G9){constructor(t,r,n,s){super(t,r,n,s),Ir(this,"depth",0),Ir(this,"leaf",!1),Ir(this,"value"),Ir(this,"length"),Ir(this,W9),this.parent?this.depth=this.parent.depth+1:this.depth=s.initialDepth,[,,this.value,,this.length]=t}numBytes(){switch(this.ai){case dn.ONE:return 1;case dn.TWO:return 2;case dn.FOUR:return 4;case dn.EIGHT:return 8}return 0}}function l$(e){return e instanceof Qk}function ay(e,t){return e===1/0?"Indefinite":t?`${e} ${t}${e!==1&&e!==1n?"s":""}`:String(e)}function t5(e){return"".padStart(e," ")}function c$(e,t,r){let n="";n+=t5(e.depth*2);const s=Qx(e);n+=yo(s.subarray(0,1));const i=e.numBytes();i&&(n+=" ",n+=yo(s.subarray(1,i+1))),n=n.padEnd(t.minCol+1," "),n+="-- ",r!==void 0&&(n+=t5(e.depth*2),r!==""&&(n+=`[${r}] `));let a=!1;const[o]=e.children;switch(e.mt){case Ut.POS_INT:n+=`Unsigned: ${o}`,typeof o=="bigint"&&(n+="n");break;case Ut.NEG_INT:n+=`Negative: ${o}`,typeof o=="bigint"&&(n+="n");break;case Ut.BYTE_STRING:n+=`Bytes (Length: ${ay(e.length)})`;break;case Ut.UTF8_STRING:n+=`UTF8 (Length: ${ay(e.length)})`,e.length!==1/0&&(n+=`: ${JSON.stringify(o)}`);break;case Ut.ARRAY:n+=`Array (Length: ${ay(e.value,"item")})`;break;case Ut.MAP:n+=`Map (Length: ${ay(e.value,"pair")})`;break;case Ut.TAG:{n+=`Tag #${e.value}`;const c=e.children,[u]=c.contents.children,d=new Dr(c.tag,u);tg(d,s);const h=d.comment(t,e.depth);h&&(n+=": ",n+=h),a||(a=d.noChildren);break}case Ut.SIMPLE_FLOAT:o===ma.BREAK?n+="BREAK":e.ai>dn.ONE?Object.is(o,-0)?n+="Float: -0":n+=`Float: ${o}`:(n+="Simple: ",o instanceof fE?n+=o.value:n+=o);break}if(!a)if(e.leaf){if(n+=`
`,s.length>i+1){const c=t5((e.depth+1)*2);for(let u=i+1;u<s.length;u+=8)n+=c,n+=yo(s.subarray(u,u+8)),n+=`
`}}else{n+=`
`;let c=0;for(const u of e.children){if(l$(u)){let d=String(c);e.mt===Ut.MAP?d=c%2?`val ${(c-1)/2}`:`key ${c/2}`:e.mt===Ut.TAG&&(d=""),n+=c$(u,t,d)}c++}}return n}const Yne={...Gc.defaultDecodeOptions,initialDepth:0,noPrefixHex:!1,minCol:0};function Zne(e,t){const r={...Yne,...t,ParentType:Qk,saveOriginal:!0},n=new pE(e,r);let s,i;for(const o of n){if(i=Gc.create(o,s,r,n),o[2]===ma.BREAK)if(s!=null&&s.isStreaming)s.left=1;else throw new Error("Unexpected BREAK");if(!l$(i)){const d=new Qk(o,0,s,r);d.leaf=!0,d.children.push(i),tg(d,n.toHere(o[3])),i=d}let c=(i.depth+1)*2;const u=i.numBytes();for(u&&(c+=1,c+=u*2),r.minCol=Math.max(r.minCol,c),s&&s.push(i,n,o[3]),s=i;s!=null&&s.done;)i=s,i.leaf||tg(i,n.toHere(i.offset)),{parent:s}=s}t&&(t.minCol=r.minCol);let a=r.noPrefixHex?"":`0x${yo(n.toHere(0))}
`;return a+=c$(i,r),a}const K9=!Ane();function u$(e){if(typeof e=="object"&&e){if(e.constructor!==Number)throw new Error(`Expected number: ${e}`)}else if(typeof e!="number")throw new Error(`Expected number: ${e}`)}function Kc(e){if(typeof e=="object"&&e){if(e.constructor!==String)throw new Error(`Expected string: ${e}`)}else if(typeof e!="string")throw new Error(`Expected string: ${e}`)}function ph(e){if(!(e instanceof Uint8Array))throw new Error(`Expected Uint8Array: ${e}`)}function d$(e){if(!Array.isArray(e))throw new Error(`Expected Array: ${e}`)}Yn(Map,(e,t,r)=>{const n=[...e.entries()].map(s=>[s[0],s[1],h2(s[0],r)]);if(r.rejectDuplicateKeys){const s=new Set;for(const[i,a,o]of n){const c=yo(o);if(s.has(c))throw new Error(`Duplicate map key: 0x${c}`);s.add(c)}}r.sortKeys&&n.sort(r.sortKeys),hE(e,e.size,Ut.MAP,t,r);for(const[s,i,a]of n)t.write(a),Ad(i,t,r)});function Y9(e){return Kc(e.contents),new Date(e.contents)}Y9.comment=e=>(Kc(e.contents),`(String Date) ${new Date(e.contents).toISOString()}`),Dr.registerDecoder(In.DATE_STRING,Y9);function Z9(e){return u$(e.contents),new Date(e.contents*1e3)}Z9.comment=e=>(u$(e.contents),`(Epoch Date) ${new Date(e.contents*1e3).toISOString()}`),Dr.registerDecoder(In.DATE_EPOCH,Z9),Yn(Date,e=>[In.DATE_EPOCH,e.valueOf()/1e3]);function eb(e,t,r){if(ph(t.contents),r.rejectBigInts)throw new Error(`Decoding unwanted big integer: ${t}(h'${yo(t.contents)}')`);if(r.requirePreferred&&t.contents[0]===0)throw new Error(`Decoding overly-large bigint: ${t.tag}(h'${yo(t.contents)})`);let n=t.contents.reduce((s,i)=>s<<8n|BigInt(i),0n);if(e&&(n=-1n-n),r.requirePreferred&&n>=Number.MIN_SAFE_INTEGER&&n<=Number.MAX_SAFE_INTEGER)throw new Error(`Decoding bigint that could have been int: ${n}n`);return r.boxed?D0(n,t.contents):n}const Q9=eb.bind(null,!1),X9=eb.bind(null,!0);Q9.comment=(e,t)=>`(Positive BigInt) ${eb(!1,e,t)}n`,X9.comment=(e,t)=>`(Negative BigInt) ${eb(!0,e,t)}n`,Dr.registerDecoder(In.POS_BIGINT,Q9),Dr.registerDecoder(In.NEG_BIGINT,X9);function r5(e,t){return ph(e.contents),e}r5.comment=(e,t,r)=>{ph(e.contents);const n={...t,initialDepth:r+2,noPrefixHex:!0},s=Qx(e);let i=2**((s[0]&31)-24)+1;const a=s[i]&31;let o=yo(s.subarray(i,++i));a>=24&&(o+=" ",o+=yo(s.subarray(i,i+2**(a-24)))),n.minCol=Math.max(n.minCol,(r+1)*2+o.length);const c=Zne(e.contents,n);let u=`Embedded CBOR
`;return u+=`${"".padStart((r+1)*2," ")}${o}`.padEnd(n.minCol+1," "),u+=`-- Bytes (Length: ${e.contents.length})
`,u+=c,u},r5.noChildren=!0,Dr.registerDecoder(In.CBOR,r5),Dr.registerDecoder(In.URI,e=>(Kc(e.contents),new URL(e.contents)),"URI"),Yn(URL,e=>[In.URI,e.toString()]),Dr.registerDecoder(In.BASE64URL,e=>(Kc(e.contents),Cne(e.contents)),"Base64url-encoded"),Dr.registerDecoder(In.BASE64,e=>(Kc(e.contents),dE(e.contents)),"Base64-encoded"),Dr.registerDecoder(35,e=>(Kc(e.contents),new RegExp(e.contents)),"RegExp"),Dr.registerDecoder(21065,e=>{Kc(e.contents);let t=e.contents.replace(new RegExp("(?<!\\\\)(?<!\\[(?:[^\\]]|\\\\\\])*)\\.","g"),`[^
\r]`);return t=`^(?:${t})$`,new RegExp(t,"u")},"I-RegExp"),Dr.registerDecoder(In.REGEXP,e=>{if(d$(e.contents),e.contents.length<1||e.contents.length>2)throw new Error(`Invalid RegExp Array: ${e.contents}`);return new RegExp(e.contents[0],e.contents[1])},"RegExp"),Yn(RegExp,e=>[In.REGEXP,[e.source,e.flags]]),Dr.registerDecoder(64,e=>(ph(e.contents),e.contents),"uint8 Typed Array");function Ys(e,t,r){ph(e.contents);let n=e.contents.length;if(n%t.BYTES_PER_ELEMENT!==0)throw new Error(`Number of bytes must be divisible by ${t.BYTES_PER_ELEMENT}, got: ${n}`);n/=t.BYTES_PER_ELEMENT;const s=new t(n),i=new DataView(e.contents.buffer,e.contents.byteOffset,e.contents.byteLength),a=i[`get${t.name.replace(/Array/,"")}`].bind(i);for(let o=0;o<n;o++)s[o]=a(o*t.BYTES_PER_ELEMENT,r);return s}function Rc(e,t,r,n,s){const i=s.forceEndian??K9;if(Jx(i?t:r,e,s),No(n.byteLength,e,Ut.BYTE_STRING),K9===i)e.write(new Uint8Array(n.buffer,n.byteOffset,n.byteLength));else{const a=`write${n.constructor.name.replace(/Array/,"")}`,o=e[a].bind(e);for(const c of n)o(c,i)}}Dr.registerDecoder(65,e=>Ys(e,Uint16Array,!1),"uint16, big endian, Typed Array"),Dr.registerDecoder(66,e=>Ys(e,Uint32Array,!1),"uint32, big endian, Typed Array"),Dr.registerDecoder(67,e=>Ys(e,BigUint64Array,!1),"uint64, big endian, Typed Array"),Dr.registerDecoder(68,e=>(ph(e.contents),new Uint8ClampedArray(e.contents)),"uint8 Typed Array, clamped arithmetic"),Yn(Uint8ClampedArray,e=>[68,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)]),Dr.registerDecoder(69,e=>Ys(e,Uint16Array,!0),"uint16, little endian, Typed Array"),Yn(Uint16Array,(e,t,r)=>Rc(t,69,65,e,r)),Dr.registerDecoder(70,e=>Ys(e,Uint32Array,!0),"uint32, little endian, Typed Array"),Yn(Uint32Array,(e,t,r)=>Rc(t,70,66,e,r)),Dr.registerDecoder(71,e=>Ys(e,BigUint64Array,!0),"uint64, little endian, Typed Array"),Yn(BigUint64Array,(e,t,r)=>Rc(t,71,67,e,r)),Dr.registerDecoder(72,e=>(ph(e.contents),new Int8Array(e.contents)),"sint8 Typed Array"),Yn(Int8Array,e=>[72,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)]),Dr.registerDecoder(73,e=>Ys(e,Int16Array,!1),"sint16, big endian, Typed Array"),Dr.registerDecoder(74,e=>Ys(e,Int32Array,!1),"sint32, big endian, Typed Array"),Dr.registerDecoder(75,e=>Ys(e,BigInt64Array,!1),"sint64, big endian, Typed Array"),Dr.registerDecoder(77,e=>Ys(e,Int16Array,!0),"sint16, little endian, Typed Array"),Yn(Int16Array,(e,t,r)=>Rc(t,77,73,e,r)),Dr.registerDecoder(78,e=>Ys(e,Int32Array,!0),"sint32, little endian, Typed Array"),Yn(Int32Array,(e,t,r)=>Rc(t,78,74,e,r)),Dr.registerDecoder(79,e=>Ys(e,BigInt64Array,!0),"sint64, little endian, Typed Array"),Yn(BigInt64Array,(e,t,r)=>Rc(t,79,75,e,r)),Dr.registerDecoder(81,e=>Ys(e,Float32Array,!1),"IEEE 754 binary32, big endian, Typed Array"),Dr.registerDecoder(82,e=>Ys(e,Float64Array,!1),"IEEE 754 binary64, big endian, Typed Array"),Dr.registerDecoder(85,e=>Ys(e,Float32Array,!0),"IEEE 754 binary32, little endian, Typed Array"),Yn(Float32Array,(e,t,r)=>Rc(t,85,81,e,r)),Dr.registerDecoder(86,e=>Ys(e,Float64Array,!0),"IEEE 754 binary64, big endian, Typed Array"),Yn(Float64Array,(e,t,r)=>Rc(t,86,82,e,r)),Dr.registerDecoder(In.SET,e=>(d$(e.contents),new Set(e.contents)),"Set"),Yn(Set,e=>[In.SET,[...e]]),Dr.registerDecoder(In.JSON,e=>(Kc(e.contents),JSON.parse(e.contents)),"JSON-encoded"),Dr.registerDecoder(In.SELF_DESCRIBED,e=>e.contents,"Self-Described"),Dr.registerDecoder(In.INVALID_16,()=>{throw new Error(`Tag always invalid: ${In.INVALID_16}`)},"Invalid"),Dr.registerDecoder(In.INVALID_32,()=>{throw new Error(`Tag always invalid: ${In.INVALID_32}`)},"Invalid"),Dr.registerDecoder(In.INVALID_64,()=>{throw new Error(`Tag always invalid: ${In.INVALID_64}`)},"Invalid");function n5(e){throw new Error(`Encoding ${e.constructor.name} intentionally unimplmented.  It is not concrete enough to interoperate.  Convert to Uint8Array first.`)}Yn(ArrayBuffer,n5),Yn(DataView,n5),typeof SharedArrayBuffer<"u"&&Yn(SharedArrayBuffer,n5);function oy(e){return[NaN,e.valueOf()]}Yn(Boolean,oy),Yn(Number,oy),Yn(String,oy),Yn(BigInt,oy);function tb(e,t={}){const r={...Gc.defaultDecodeOptions};if(t.dcbor?Object.assign(r,Gc.dcborDecodeOptions):t.cde&&Object.assign(r,Gc.cdeDecodeOptions),Object.assign(r,t),Object.hasOwn(r,"rejectLongNumbers"))throw new TypeError("rejectLongNumbers has changed to requirePreferred");r.boxed&&(r.saveOriginal=!0);const n=new pE(e,r);let s,i;for(const a of n){if(i=Gc.create(a,s,r,n),a[2]===ma.BREAK)if(s!=null&&s.isStreaming)s.left=0;else throw new Error("Unexpected BREAK");else s&&s.push(i,n,a[3]);for(i instanceof Gc&&(s=i);s!=null&&s.done;){i=s.convert(n);const o=s.parent;o==null||o.replaceLast(i,s,n),s=o}}return i}new TextEncoder;var Qr;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Qr||(Qr={}));var Xk;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Xk||(Xk={}));const Et=Qr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yc=e=>{switch(typeof e){case"undefined":return Et.undefined;case"string":return Et.string;case"number":return isNaN(e)?Et.nan:Et.number;case"boolean":return Et.boolean;case"function":return Et.function;case"bigint":return Et.bigint;case"symbol":return Et.symbol;case"object":return Array.isArray(e)?Et.array:e===null?Et.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Et.promise:typeof Map<"u"&&e instanceof Map?Et.map:typeof Set<"u"&&e instanceof Set?Et.set:typeof Date<"u"&&e instanceof Date?Et.date:Et.object;default:return Et.unknown}},et=Qr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Qne=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ha extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ha))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ha.create=e=>new ha(e);const Ip=(e,t)=>{let r;switch(e.code){case et.invalid_type:e.received===Et.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case et.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Qr.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:r=`Unrecognized key(s) in object: ${Qr.joinValues(e.keys,", ")}`;break;case et.invalid_union:r="Invalid input";break;case et.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Qr.joinValues(e.options)}`;break;case et.invalid_enum_value:r=`Invalid enum value. Expected ${Qr.joinValues(e.options)}, received '${e.received}'`;break;case et.invalid_arguments:r="Invalid function arguments";break;case et.invalid_return_type:r="Invalid function return type";break;case et.invalid_date:r="Invalid date";break;case et.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Qr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case et.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case et.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case et.custom:r="Invalid input";break;case et.invalid_intersection_types:r="Intersection results could not be merged";break;case et.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case et.not_finite:r="Number must be finite";break;default:r=t.defaultError,Qr.assertNever(e)}return{message:r}};let h$=Ip;function Xne(e){h$=e}function rb(){return h$}const nb=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}},Jne=[];function wt(e,t){const r=rb(),n=nb({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ip?void 0:Ip].filter(s=>!!s)});e.common.issues.push(n)}class ni{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return yr;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return ni.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return yr;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const yr=Object.freeze({status:"aborted"}),sb=e=>({status:"dirty",value:e}),bi=e=>({status:"valid",value:e}),Jk=e=>e.status==="aborted",eS=e=>e.status==="dirty",rg=e=>e.status==="valid",ng=e=>typeof Promise<"u"&&e instanceof Promise;function ib(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function f$(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Kt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Kt||(Kt={}));var L0,$0;class dl{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J9=(e,t)=>{if(rg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ha(e.common.issues);return this._error=r,this._error}}};function Tr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>{var o,c;const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??n)!==null&&o!==void 0?o:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Or{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Yc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ni,ctx:{common:t.parent.common,data:t.data,parsedType:Yc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ng(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yc(t)},i=this._parseSync({data:t,path:s.path,parent:s});return J9(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yc(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(ng(s)?s:Promise.resolve(s));return J9(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),o=()=>i.addIssue({code:et.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Co({schema:this,typeName:ur.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ol.create(this,this._def)}nullable(){return Uu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vo.create(this,this._def)}promise(){return Mp.create(this,this._def)}or(t){return og.create([this,t],this._def)}and(t){return lg.create(this,t,this._def)}transform(t){return new Co({...Tr(this._def),schema:this,typeName:ur.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new fg({...Tr(this._def),innerType:this,defaultValue:r,typeName:ur.ZodDefault})}brand(){return new mE({typeName:ur.ZodBranded,type:this,...Tr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new pg({...Tr(this._def),innerType:this,catchValue:r,typeName:ur.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return c1.create(this,t)}readonly(){return mg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ese=/^c[^\s-]{8,}$/i,tse=/^[0-9a-z]+$/,rse=/^[0-9A-HJKMNP-TV-Z]{26}$/,nse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sse=/^[a-z0-9_-]{21}$/i,ise=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ase=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ose="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let s5;const lse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cse=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,use=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,p$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dse=new RegExp(`^${p$}$`);function m$(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hse(e){return new RegExp(`^${m$(e)}$`)}function g$(e){let t=`${p$}T${m$(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function fse(e,t){return!!((t==="v4"||!t)&&lse.test(e)||(t==="v6"||!t)&&cse.test(e))}class po extends Or{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Et.string){const s=this._getOrReturnCtx(t);return wt(s,{code:et.invalid_type,expected:Et.string,received:s.parsedType}),yr}const r=new ni;let n;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(n=this._getOrReturnCtx(t,n),wt(n,{code:et.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(n=this._getOrReturnCtx(t,n),wt(n,{code:et.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(n=this._getOrReturnCtx(t,n),i?wt(n,{code:et.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&wt(n,{code:et.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")ase.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"email",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")s5||(s5=new RegExp(ose,"u")),s5.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"emoji",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")nse.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"uuid",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")sse.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"nanoid",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ese.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"cuid",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")tse.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"cuid2",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")rse.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"ulid",code:et.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),wt(n,{validation:"url",code:et.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"regex",code:et.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(t,n),wt(n,{code:et.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(n=this._getOrReturnCtx(t,n),wt(n,{code:et.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(n=this._getOrReturnCtx(t,n),wt(n,{code:et.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?g$(s).test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{code:et.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?dse.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{code:et.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?hse(s).test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{code:et.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?ise.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"duration",code:et.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?fse(t.data,s.version)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"ip",code:et.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?use.test(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{validation:"base64",code:et.invalid_string,message:s.message}),r.dirty()):Qr.assertNever(s);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:et.invalid_string,...Kt.errToObj(n)})}_addCheck(t){return new po({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Kt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Kt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Kt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Kt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Kt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Kt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Kt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Kt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Kt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Kt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Kt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Kt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Kt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Kt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Kt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Kt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Kt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Kt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Kt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Kt.errToObj(r)})}nonempty(t){return this.min(1,Kt.errToObj(t))}trim(){return new po({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new po({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new po({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}po.create=e=>{var t;return new po({checks:[],typeName:ur.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Tr(e)})};function pse(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class $u extends Or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Et.number){const s=this._getOrReturnCtx(t);return wt(s,{code:et.invalid_type,expected:Et.number,received:s.parsedType}),yr}let r;const n=new ni;for(const s of this._def.checks)s.kind==="int"?Qr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),wt(r,{code:et.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:et.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:et.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?pse(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),wt(r,{code:et.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),wt(r,{code:et.not_finite,message:s.message}),n.dirty()):Qr.assertNever(s);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Kt.toString(r))}setLimit(t,r,n,s){return new $u({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Kt.toString(s)}]})}_addCheck(t){return new $u({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Kt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Kt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Kt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Kt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Kt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Qr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}$u.create=e=>new $u({checks:[],typeName:ur.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Tr(e)});class Fu extends Or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Et.bigint){const s=this._getOrReturnCtx(t);return wt(s,{code:et.invalid_type,expected:Et.bigint,received:s.parsedType}),yr}let r;const n=new ni;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:et.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:et.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),wt(r,{code:et.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):Qr.assertNever(s);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Kt.toString(r))}setLimit(t,r,n,s){return new Fu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Kt.toString(s)}]})}_addCheck(t){return new Fu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Kt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fu.create=e=>{var t;return new Fu({checks:[],typeName:ur.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Tr(e)})};class sg extends Or{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Et.boolean){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.boolean,received:r.parsedType}),yr}return bi(t.data)}}sg.create=e=>new sg({typeName:ur.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Tr(e)});class mh extends Or{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Et.date){const s=this._getOrReturnCtx(t);return wt(s,{code:et.invalid_type,expected:Et.date,received:s.parsedType}),yr}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return wt(s,{code:et.invalid_date}),yr}const r=new ni;let n;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(n=this._getOrReturnCtx(t,n),wt(n,{code:et.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(n=this._getOrReturnCtx(t,n),wt(n,{code:et.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Qr.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new mh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Kt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Kt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}mh.create=e=>new mh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ur.ZodDate,...Tr(e)});class ab extends Or{_parse(t){if(this._getType(t)!==Et.symbol){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.symbol,received:r.parsedType}),yr}return bi(t.data)}}ab.create=e=>new ab({typeName:ur.ZodSymbol,...Tr(e)});class ig extends Or{_parse(t){if(this._getType(t)!==Et.undefined){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.undefined,received:r.parsedType}),yr}return bi(t.data)}}ig.create=e=>new ig({typeName:ur.ZodUndefined,...Tr(e)});class ag extends Or{_parse(t){if(this._getType(t)!==Et.null){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.null,received:r.parsedType}),yr}return bi(t.data)}}ag.create=e=>new ag({typeName:ur.ZodNull,...Tr(e)});class jp extends Or{constructor(){super(...arguments),this._any=!0}_parse(t){return bi(t.data)}}jp.create=e=>new jp({typeName:ur.ZodAny,...Tr(e)});class Vd extends Or{constructor(){super(...arguments),this._unknown=!0}_parse(t){return bi(t.data)}}Vd.create=e=>new Vd({typeName:ur.ZodUnknown,...Tr(e)});class hc extends Or{_parse(t){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.never,received:r.parsedType}),yr}}hc.create=e=>new hc({typeName:ur.ZodNever,...Tr(e)});class ob extends Or{_parse(t){if(this._getType(t)!==Et.undefined){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.void,received:r.parsedType}),yr}return bi(t.data)}}ob.create=e=>new ob({typeName:ur.ZodVoid,...Tr(e)});class vo extends Or{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Et.array)return wt(r,{code:et.invalid_type,expected:Et.array,received:r.parsedType}),yr;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(wt(r,{code:a?et.too_big:et.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(wt(r,{code:et.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(wt(r,{code:et.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new dl(r,a,r.path,o)))).then(a=>ni.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new dl(r,a,r.path,o)));return ni.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new vo({...this._def,minLength:{value:t,message:Kt.toString(r)}})}max(t,r){return new vo({...this._def,maxLength:{value:t,message:Kt.toString(r)}})}length(t,r){return new vo({...this._def,exactLength:{value:t,message:Kt.toString(r)}})}nonempty(t){return this.min(1,t)}}vo.create=(e,t)=>new vo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ur.ZodArray,...Tr(t)});function ef(e){if(e instanceof Bn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ol.create(ef(n))}return new Bn({...e._def,shape:()=>t})}else return e instanceof vo?new vo({...e._def,type:ef(e.element)}):e instanceof ol?ol.create(ef(e.unwrap())):e instanceof Uu?Uu.create(ef(e.unwrap())):e instanceof hl?hl.create(e.items.map(t=>ef(t))):e}class Bn extends Or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Qr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Et.object){const c=this._getOrReturnCtx(t);return wt(c,{code:et.invalid_type,expected:Et.object,received:c.parsedType}),yr}const{status:r,ctx:n}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof hc&&this._def.unknownKeys==="strip"))for(const c in n.data)i.includes(c)||a.push(c);const o=[];for(const c of i){const u=s[c],d=n.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new dl(n,d,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof hc){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(c==="strict")a.length>0&&(wt(n,{code:et.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=n.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new dl(n,d,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>ni.mergeObjectSync(r,c)):ni.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(t){return Kt.errToObj,new Bn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Kt.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Bn({...this._def,unknownKeys:"strip"})}passthrough(){return new Bn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Bn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Bn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ur.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Bn({...this._def,catchall:t})}pick(t){const r={};return Qr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Bn({...this._def,shape:()=>r})}omit(t){const r={};return Qr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Bn({...this._def,shape:()=>r})}deepPartial(){return ef(this)}partial(t){const r={};return Qr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Bn({...this._def,shape:()=>r})}required(t){const r={};return Qr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ol;)s=s._def.innerType;r[n]=s}}),new Bn({...this._def,shape:()=>r})}keyof(){return y$(Qr.objectKeys(this.shape))}}Bn.create=(e,t)=>new Bn({shape:()=>e,unknownKeys:"strip",catchall:hc.create(),typeName:ur.ZodObject,...Tr(t)});Bn.strictCreate=(e,t)=>new Bn({shape:()=>e,unknownKeys:"strict",catchall:hc.create(),typeName:ur.ZodObject,...Tr(t)});Bn.lazycreate=(e,t)=>new Bn({shape:e,unknownKeys:"strip",catchall:hc.create(),typeName:ur.ZodObject,...Tr(t)});class og extends Or{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new ha(o.ctx.common.issues));return wt(r,{code:et.invalid_union,unionErrors:a}),yr}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new ha(c));return wt(r,{code:et.invalid_union,unionErrors:o}),yr}}get options(){return this._def.options}}og.create=(e,t)=>new og({options:e,typeName:ur.ZodUnion,...Tr(t)});const Fc=e=>e instanceof ug?Fc(e.schema):e instanceof Co?Fc(e.innerType()):e instanceof dg?[e.value]:e instanceof Bu?e.options:e instanceof hg?Qr.objectValues(e.enum):e instanceof fg?Fc(e._def.innerType):e instanceof ig?[void 0]:e instanceof ag?[null]:e instanceof ol?[void 0,...Fc(e.unwrap())]:e instanceof Uu?[null,...Fc(e.unwrap())]:e instanceof mE||e instanceof mg?Fc(e.unwrap()):e instanceof pg?Fc(e._def.innerType):[];class f2 extends Or{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Et.object)return wt(r,{code:et.invalid_type,expected:Et.object,received:r.parsedType}),yr;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(wt(r,{code:et.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),yr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const a=Fc(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,i)}}return new f2({typeName:ur.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Tr(n)})}}function tS(e,t){const r=Yc(e),n=Yc(t);if(e===t)return{valid:!0,data:e};if(r===Et.object&&n===Et.object){const s=Qr.objectKeys(t),i=Qr.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(const o of i){const c=tS(e[o],t[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===Et.array&&n===Et.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],o=t[i],c=tS(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Et.date&&n===Et.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class lg extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(Jk(i)||Jk(a))return yr;const o=tS(i.value,a.value);return o.valid?((eS(i)||eS(a))&&r.dirty(),{status:r.value,value:o.data}):(wt(n,{code:et.invalid_intersection_types}),yr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}lg.create=(e,t,r)=>new lg({left:e,right:t,typeName:ur.ZodIntersection,...Tr(r)});class hl extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.array)return wt(n,{code:et.invalid_type,expected:Et.array,received:n.parsedType}),yr;if(n.data.length<this._def.items.length)return wt(n,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yr;!this._def.rest&&n.data.length>this._def.items.length&&(wt(n,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((i,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new dl(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>ni.mergeArray(r,i)):ni.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new hl({...this._def,rest:t})}}hl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hl({items:e,typeName:ur.ZodTuple,rest:null,...Tr(t)})};class cg extends Or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.object)return wt(n,{code:et.invalid_type,expected:Et.object,received:n.parsedType}),yr;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new dl(n,o,n.path,o)),value:a._parse(new dl(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ni.mergeObjectAsync(r,s):ni.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Or?new cg({keyType:t,valueType:r,typeName:ur.ZodRecord,...Tr(n)}):new cg({keyType:po.create(),valueType:t,typeName:ur.ZodRecord,...Tr(r)})}}class lb extends Or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.map)return wt(n,{code:et.invalid_type,expected:Et.map,received:n.parsedType}),yr;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],u)=>({key:s._parse(new dl(n,o,n.path,[u,"key"])),value:i._parse(new dl(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return yr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return yr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}lb.create=(e,t,r)=>new lb({valueType:t,keyType:e,typeName:ur.ZodMap,...Tr(r)});class gh extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.set)return wt(n,{code:et.invalid_type,expected:Et.set,received:n.parsedType}),yr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(wt(n,{code:et.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(wt(n,{code:et.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return yr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new dl(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(t,r){return new gh({...this._def,minSize:{value:t,message:Kt.toString(r)}})}max(t,r){return new gh({...this._def,maxSize:{value:t,message:Kt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}gh.create=(e,t)=>new gh({valueType:e,minSize:null,maxSize:null,typeName:ur.ZodSet,...Tr(t)});class Bf extends Or{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Et.function)return wt(r,{code:et.invalid_type,expected:Et.function,received:r.parsedType}),yr;function n(o,c){return nb({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rb(),Ip].filter(u=>!!u),issueData:{code:et.invalid_arguments,argumentsError:c}})}function s(o,c){return nb({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rb(),Ip].filter(u=>!!u),issueData:{code:et.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Mp){const o=this;return bi(async function(...c){const u=new ha([]),d=await o._def.args.parseAsync(c,i).catch(f=>{throw u.addIssue(n(c,f)),u}),h=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(h,i).catch(f=>{throw u.addIssue(s(h,f)),u})})}else{const o=this;return bi(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new ha([n(c,u.error)]);const d=Reflect.apply(a,this,u.data),h=o._def.returns.safeParse(d,i);if(!h.success)throw new ha([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Bf({...this._def,args:hl.create(t).rest(Vd.create())})}returns(t){return new Bf({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Bf({args:t||hl.create([]).rest(Vd.create()),returns:r||Vd.create(),typeName:ur.ZodFunction,...Tr(n)})}}class ug extends Or{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ug.create=(e,t)=>new ug({getter:e,typeName:ur.ZodLazy,...Tr(t)});class dg extends Or{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return wt(r,{received:r.data,code:et.invalid_literal,expected:this._def.value}),yr}return{status:"valid",value:t.data}}get value(){return this._def.value}}dg.create=(e,t)=>new dg({value:e,typeName:ur.ZodLiteral,...Tr(t)});function y$(e,t){return new Bu({values:e,typeName:ur.ZodEnum,...Tr(t)})}class Bu extends Or{constructor(){super(...arguments),L0.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return wt(r,{expected:Qr.joinValues(n),received:r.parsedType,code:et.invalid_type}),yr}if(ib(this,L0)||f$(this,L0,new Set(this._def.values)),!ib(this,L0).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return wt(r,{received:r.data,code:et.invalid_enum_value,options:n}),yr}return bi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Bu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Bu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}L0=new WeakMap;Bu.create=y$;class hg extends Or{constructor(){super(...arguments),$0.set(this,void 0)}_parse(t){const r=Qr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Et.string&&n.parsedType!==Et.number){const s=Qr.objectValues(r);return wt(n,{expected:Qr.joinValues(s),received:n.parsedType,code:et.invalid_type}),yr}if(ib(this,$0)||f$(this,$0,new Set(Qr.getValidEnumValues(this._def.values))),!ib(this,$0).has(t.data)){const s=Qr.objectValues(r);return wt(n,{received:n.data,code:et.invalid_enum_value,options:s}),yr}return bi(t.data)}get enum(){return this._def.values}}$0=new WeakMap;hg.create=(e,t)=>new hg({values:e,typeName:ur.ZodNativeEnum,...Tr(t)});class Mp extends Or{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Et.promise&&r.common.async===!1)return wt(r,{code:et.invalid_type,expected:Et.promise,received:r.parsedType}),yr;const n=r.parsedType===Et.promise?r.data:Promise.resolve(r.data);return bi(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mp.create=(e,t)=>new Mp({type:e,typeName:ur.ZodPromise,...Tr(t)});class Co extends Or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ur.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{wt(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return yr;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?yr:c.status==="dirty"||r.value==="dirty"?sb(c.value):c});{if(r.value==="aborted")return yr;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?yr:o.status==="dirty"||r.value==="dirty"?sb(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?yr:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?yr:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rg(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>rg(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);Qr.assertNever(s)}}Co.create=(e,t,r)=>new Co({schema:e,typeName:ur.ZodEffects,effect:t,...Tr(r)});Co.createWithPreprocess=(e,t,r)=>new Co({schema:t,effect:{type:"preprocess",transform:e},typeName:ur.ZodEffects,...Tr(r)});class ol extends Or{_parse(t){return this._getType(t)===Et.undefined?bi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ol.create=(e,t)=>new ol({innerType:e,typeName:ur.ZodOptional,...Tr(t)});class Uu extends Or{_parse(t){return this._getType(t)===Et.null?bi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Uu.create=(e,t)=>new Uu({innerType:e,typeName:ur.ZodNullable,...Tr(t)});class fg extends Or{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Et.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fg.create=(e,t)=>new fg({innerType:e,typeName:ur.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Tr(t)});class pg extends Or{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ng(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ha(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ha(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}pg.create=(e,t)=>new pg({innerType:e,typeName:ur.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Tr(t)});class cb extends Or{_parse(t){if(this._getType(t)!==Et.nan){const r=this._getOrReturnCtx(t);return wt(r,{code:et.invalid_type,expected:Et.nan,received:r.parsedType}),yr}return{status:"valid",value:t.data}}}cb.create=e=>new cb({typeName:ur.ZodNaN,...Tr(e)});const mse=Symbol("zod_brand");class mE extends Or{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class c1 extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?yr:s.status==="dirty"?(r.dirty(),sb(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?yr:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new c1({in:t,out:r,typeName:ur.ZodPipeline})}}class mg extends Or{_parse(t){const r=this._def.innerType._parse(t),n=s=>(rg(s)&&(s.value=Object.freeze(s.value)),s);return ng(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}mg.create=(e,t)=>new mg({innerType:e,typeName:ur.ZodReadonly,...Tr(t)});function v$(e,t={},r){return e?jp.create().superRefine((n,s)=>{var i,a;if(!e(n)){const o=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(a=(i=o.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,u=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...u,fatal:c})}}):jp.create()}const gse={object:Bn.lazycreate};var ur;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ur||(ur={}));const yse=(e,t={message:`Input not instance of ${e.name}`})=>v$(r=>r instanceof e,t),x$=po.create,b$=$u.create,vse=cb.create,xse=Fu.create,w$=sg.create,bse=mh.create,wse=ab.create,kse=ig.create,Sse=ag.create,_se=jp.create,Ese=Vd.create,Nse=hc.create,Cse=ob.create,Ase=vo.create,Tse=Bn.create,Rse=Bn.strictCreate,Ise=og.create,jse=f2.create,Mse=lg.create,Pse=hl.create,Ose=cg.create,Dse=lb.create,Lse=gh.create,$se=Bf.create,Fse=ug.create,Bse=dg.create,Use=Bu.create,zse=hg.create,Hse=Mp.create,eT=Co.create,Vse=ol.create,qse=Uu.create,Wse=Co.createWithPreprocess,Gse=c1.create,Kse=()=>x$().optional(),Yse=()=>b$().optional(),Zse=()=>w$().optional(),Qse={string:e=>po.create({...e,coerce:!0}),number:e=>$u.create({...e,coerce:!0}),boolean:e=>sg.create({...e,coerce:!0}),bigint:e=>Fu.create({...e,coerce:!0}),date:e=>mh.create({...e,coerce:!0})},Xse=yr;var Fn=Object.freeze({__proto__:null,defaultErrorMap:Ip,setErrorMap:Xne,getErrorMap:rb,makeIssue:nb,EMPTY_PATH:Jne,addIssueToContext:wt,ParseStatus:ni,INVALID:yr,DIRTY:sb,OK:bi,isAborted:Jk,isDirty:eS,isValid:rg,isAsync:ng,get util(){return Qr},get objectUtil(){return Xk},ZodParsedType:Et,getParsedType:Yc,ZodType:Or,datetimeRegex:g$,ZodString:po,ZodNumber:$u,ZodBigInt:Fu,ZodBoolean:sg,ZodDate:mh,ZodSymbol:ab,ZodUndefined:ig,ZodNull:ag,ZodAny:jp,ZodUnknown:Vd,ZodNever:hc,ZodVoid:ob,ZodArray:vo,ZodObject:Bn,ZodUnion:og,ZodDiscriminatedUnion:f2,ZodIntersection:lg,ZodTuple:hl,ZodRecord:cg,ZodMap:lb,ZodSet:gh,ZodFunction:Bf,ZodLazy:ug,ZodLiteral:dg,ZodEnum:Bu,ZodNativeEnum:hg,ZodPromise:Mp,ZodEffects:Co,ZodTransformer:Co,ZodOptional:ol,ZodNullable:Uu,ZodDefault:fg,ZodCatch:pg,ZodNaN:cb,BRAND:mse,ZodBranded:mE,ZodPipeline:c1,ZodReadonly:mg,custom:v$,Schema:Or,ZodSchema:Or,late:gse,get ZodFirstPartyTypeKind(){return ur},coerce:Qse,any:_se,array:Ase,bigint:xse,boolean:w$,date:bse,discriminatedUnion:jse,effect:eT,enum:Use,function:$se,instanceof:yse,intersection:Mse,lazy:Fse,literal:Bse,map:Dse,nan:vse,nativeEnum:zse,never:Nse,null:Sse,nullable:qse,number:b$,object:Tse,oboolean:Zse,onumber:Yse,optional:Vse,ostring:Kse,pipeline:Gse,preprocess:Wse,promise:Hse,record:Ose,set:Lse,strictObject:Rse,string:x$,symbol:wse,transformer:eT,tuple:Pse,undefined:kse,union:Ise,unknown:Ese,void:Cse,NEVER:Xse,ZodIssueCode:et,quotelessJson:Qne,ZodError:ha});const ub=new Uint8Array([48,130,2,17,48,130,1,150,160,3,2,1,2,2,17,0,249,49,117,104,27,144,175,225,29,70,204,180,228,231,248,86,48,10,6,8,42,134,72,206,61,4,3,3,48,73,49,11,48,9,6,3,85,4,6,19,2,85,83,49,15,48,13,6,3,85,4,10,12,6,65,109,97,122,111,110,49,12,48,10,6,3,85,4,11,12,3,65,87,83,49,27,48,25,6,3,85,4,3,12,18,97,119,115,46,110,105,116,114,111,45,101,110,99,108,97,118,101,115,48,30,23,13,49,57,49,48,50,56,49,51,50,56,48,53,90,23,13,52,57,49,48,50,56,49,52,50,56,48,53,90,48,73,49,11,48,9,6,3,85,4,6,19,2,85,83,49,15,48,13,6,3,85,4,10,12,6,65,109,97,122,111,110,49,12,48,10,6,3,85,4,11,12,3,65,87,83,49,27,48,25,6,3,85,4,3,12,18,97,119,115,46,110,105,116,114,111,45,101,110,99,108,97,118,101,115,48,118,48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,34,3,98,0,4,252,2,84,235,166,8,193,243,104,112,226,154,218,144,190,70,56,50,146,115,110,137,75,255,246,114,217,137,68,75,80,81,229,52,164,177,246,219,227,192,188,88,26,50,183,177,118,7,14,222,18,214,154,63,234,33,27,102,231,82,207,125,209,221,9,95,111,19,112,244,23,8,67,217,220,16,1,33,228,207,99,1,40,9,102,68,135,201,121,98,132,48,77,197,63,244,163,66,48,64,48,15,6,3,85,29,19,1,1,255,4,5,48,3,1,1,255,48,29,6,3,85,29,14,4,22,4,20,144,37,181,13,217,5,71,231,150,195,150,250,114,157,207,153,169,223,75,150,48,14,6,3,85,29,15,1,1,255,4,4,3,2,1,134,48,10,6,8,42,134,72,206,61,4,3,3,3,105,0,48,102,2,49,0,163,127,47,145,161,201,189,94,231,184,98,124,22,152,210,85,3,142,31,3,67,249,91,99,169,98,140,61,57,128,149,69,161,30,188,191,46,59,85,216,174,238,113,180,195,214,173,243,2,49,0,162,243,155,22,5,178,112,40,165,221,75,160,105,181,1,110,101,180,251,222,143,224,6,29,106,83,25,127,156,218,245,217,67,188,97,252,43,235,3,203,111,238,141,35,2,243,223,246]);if(!ub||ub.length===0)throw new Error("AWS root certificate is empty or not loaded correctly");const Jse=Fn.object({module_id:Fn.string().min(1),digest:Fn.literal("SHA384"),timestamp:Fn.number().min(1677721600),pcrs:Fn.map(Fn.number(),Fn.instanceof(Uint8Array)),certificate:Fn.instanceof(Uint8Array),cabundle:Fn.array(Fn.instanceof(Uint8Array)),public_key:Fn.nullable(Fn.instanceof(Uint8Array)),user_data:Fn.nullable(Fn.instanceof(Uint8Array)),nonce:Fn.nullable(Fn.instanceof(Uint8Array))}),eie=Fn.object({protected:Fn.instanceof(Uint8Array),payload:Fn.instanceof(Uint8Array),signature:Fn.instanceof(Uint8Array)});async function tie(e){try{if(!e)throw new Error("Attestation document is empty.");const t=zm(e),r=tb(t),n=r[0],s=r[2],i=r[3];return eie.parse({protected:n,payload:s,signature:i})}catch(t){throw console.error("Error parsing document data:",t),new Error("Failed to parse document data.")}}async function rie(e){try{const t=tb(e);return Jse.parse(t)}catch(t){throw console.error("Error parsing document payload:",t),new Error("Failed to parse document payload.")}}function nie(e,t){const r=["Signature1",e,new Uint8Array(0),t];return h2(r)}async function sie(e,t){try{console.log("SIGNATURE:"),console.log(oa(e.signature));const r=nie(e.protected,e.payload),n=await crypto.subtle.digest("SHA-384",r);return console.log("SIGNATURE STRUCTURE DIGEST:"),console.log(oa(new Uint8Array(n))),await crypto.subtle.verify({name:"ECDSA",hash:"SHA-384"},t,e.signature,r)}catch(r){throw console.error("Error verifying signature:",r),r instanceof Error?new Error(`Signature verification failed: ${r.message}`):new Error(`Signature verification failed: ${r}`)}}async function gg(e,t,r){try{const n=await tie(e),s=await rie(n.payload);if(!s.nonce)throw new Error("Attestation document does not have a nonce.");const i=new TextDecoder("utf-8").decode(s.nonce);if(r!==i)throw console.log("Nonce mismatch"),console.log("Provided nonce:",r),console.log("Attestation document nonce:",i),new Error("Attestation document's nonce does not match the provided nonce.");const a=[],o=oa(s.cabundle[0]);if(o!==oa(t))throw console.error("Root cert doesn't match first cert"),console.log("First cert base64:",o),console.log("Trusted root cert base64:",oa(t)),new Error("Root cert does not match first cert in attestation document.");for(let m=0;m<s.cabundle.length;m++){const g=new fh(s.cabundle[m]);a.push(g)}const c=new fh(s.certificate),u=await new Sne({certificates:a}).build(c);console.log("Chain items:",u);const d=new Date().getTime();for(let m=0;m<u.length;m++){const g=u[m];if(console.log("CERT: ",m),console.log(g.subject),console.log("Not before:",g.notBefore),console.log("Not after:",g.notAfter),console.log(g.toString("pem")),g.notBefore.getTime()>d||g.notAfter.getTime()<d)throw new Error("Certificate is expired.");console.log(`Certificate ${m} is not expired.`)}if(u.length!==s.cabundle.length+1)throw new Error("Certificate chain length does not match length of cabundle.");const h=c.publicKey;console.log("PUBLIC KEY:"),console.log(oa(new Uint8Array(h.rawData)));const f=await h.export(),p=await sie(n,f);if(console.log("Signature verified:",p),!p)throw new Error("Signature verification failed.");return s}catch(n){throw console.error("Error verifying attestation document:",n),n}}const iie=Fn.object({public_key:Fn.nullable(Fn.instanceof(Uint8Array))});async function aie(e){const t=zm(e),r=tb(t)[2],n=tb(r);return await iie.parse(n)}async function oie(e,t){try{const r=await Jie(e,t),n=t||Wie();return n&&(n==="http://127.0.0.1:3000"||n==="http://localhost:3000"||n==="http://0.0.0.0:3000")?(console.log("DEV MODE: Using fake attestation document"),await aie(r)):await gg(r,ub,e)}catch(r){throw r instanceof Error?(console.error("Error verifying attestation document:",r),new Error(`Couldn't process attestation document: ${r.message}`)):(console.error("Error verifying attestation document:",r),new Error("Couldn't process attestation document."))}}function lie(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var k$={exports:{}};const cie={},uie=Object.freeze(Object.defineProperty({__proto__:null,default:cie},Symbol.toStringTag,{value:"Module"})),die=Ate(uie);(function(e){(function(t){var r=function(I){var U,B=new Float64Array(16);if(I)for(U=0;U<I.length;U++)B[U]=I[U];return B},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=r(),o=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(I,U,B,S){I[U]=B>>24&255,I[U+1]=B>>16&255,I[U+2]=B>>8&255,I[U+3]=B&255,I[U+4]=S>>24&255,I[U+5]=S>>16&255,I[U+6]=S>>8&255,I[U+7]=S&255}function g(I,U,B,S,K){var he,ve=0;for(he=0;he<K;he++)ve|=I[U+he]^B[S+he];return(1&ve-1>>>8)-1}function w(I,U,B,S){return g(I,U,B,S,16)}function y(I,U,B,S){return g(I,U,B,S,32)}function v(I,U,B,S){for(var K=S[0]&255|(S[1]&255)<<8|(S[2]&255)<<16|(S[3]&255)<<24,he=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,ve=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,Pe=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,Ke=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,Ot=S[4]&255|(S[5]&255)<<8|(S[6]&255)<<16|(S[7]&255)<<24,gt=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,Wr=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,ut=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,nr=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,mr=S[8]&255|(S[9]&255)<<8|(S[10]&255)<<16|(S[11]&255)<<24,br=B[16]&255|(B[17]&255)<<8|(B[18]&255)<<16|(B[19]&255)<<24,gr=B[20]&255|(B[21]&255)<<8|(B[22]&255)<<16|(B[23]&255)<<24,lr=B[24]&255|(B[25]&255)<<8|(B[26]&255)<<16|(B[27]&255)<<24,dr=B[28]&255|(B[29]&255)<<8|(B[30]&255)<<16|(B[31]&255)<<24,hr=S[12]&255|(S[13]&255)<<8|(S[14]&255)<<16|(S[15]&255)<<24,At=K,Vt=he,xt=ve,Rt=Pe,It=Ke,mt=Ot,Ce=gt,Te=Wr,Fe=ut,Oe=nr,De=mr,qe=br,Qt=gr,wr=lr,ye=dr,Se=hr,ee,Ye=0;Ye<20;Ye+=2)ee=At+Qt|0,It^=ee<<7|ee>>>25,ee=It+At|0,Fe^=ee<<9|ee>>>23,ee=Fe+It|0,Qt^=ee<<13|ee>>>19,ee=Qt+Fe|0,At^=ee<<18|ee>>>14,ee=mt+Vt|0,Oe^=ee<<7|ee>>>25,ee=Oe+mt|0,wr^=ee<<9|ee>>>23,ee=wr+Oe|0,Vt^=ee<<13|ee>>>19,ee=Vt+wr|0,mt^=ee<<18|ee>>>14,ee=De+Ce|0,ye^=ee<<7|ee>>>25,ee=ye+De|0,xt^=ee<<9|ee>>>23,ee=xt+ye|0,Ce^=ee<<13|ee>>>19,ee=Ce+xt|0,De^=ee<<18|ee>>>14,ee=Se+qe|0,Rt^=ee<<7|ee>>>25,ee=Rt+Se|0,Te^=ee<<9|ee>>>23,ee=Te+Rt|0,qe^=ee<<13|ee>>>19,ee=qe+Te|0,Se^=ee<<18|ee>>>14,ee=At+Rt|0,Vt^=ee<<7|ee>>>25,ee=Vt+At|0,xt^=ee<<9|ee>>>23,ee=xt+Vt|0,Rt^=ee<<13|ee>>>19,ee=Rt+xt|0,At^=ee<<18|ee>>>14,ee=mt+It|0,Ce^=ee<<7|ee>>>25,ee=Ce+mt|0,Te^=ee<<9|ee>>>23,ee=Te+Ce|0,It^=ee<<13|ee>>>19,ee=It+Te|0,mt^=ee<<18|ee>>>14,ee=De+Oe|0,qe^=ee<<7|ee>>>25,ee=qe+De|0,Fe^=ee<<9|ee>>>23,ee=Fe+qe|0,Oe^=ee<<13|ee>>>19,ee=Oe+Fe|0,De^=ee<<18|ee>>>14,ee=Se+ye|0,Qt^=ee<<7|ee>>>25,ee=Qt+Se|0,wr^=ee<<9|ee>>>23,ee=wr+Qt|0,ye^=ee<<13|ee>>>19,ee=ye+wr|0,Se^=ee<<18|ee>>>14;At=At+K|0,Vt=Vt+he|0,xt=xt+ve|0,Rt=Rt+Pe|0,It=It+Ke|0,mt=mt+Ot|0,Ce=Ce+gt|0,Te=Te+Wr|0,Fe=Fe+ut|0,Oe=Oe+nr|0,De=De+mr|0,qe=qe+br|0,Qt=Qt+gr|0,wr=wr+lr|0,ye=ye+dr|0,Se=Se+hr|0,I[0]=At>>>0&255,I[1]=At>>>8&255,I[2]=At>>>16&255,I[3]=At>>>24&255,I[4]=Vt>>>0&255,I[5]=Vt>>>8&255,I[6]=Vt>>>16&255,I[7]=Vt>>>24&255,I[8]=xt>>>0&255,I[9]=xt>>>8&255,I[10]=xt>>>16&255,I[11]=xt>>>24&255,I[12]=Rt>>>0&255,I[13]=Rt>>>8&255,I[14]=Rt>>>16&255,I[15]=Rt>>>24&255,I[16]=It>>>0&255,I[17]=It>>>8&255,I[18]=It>>>16&255,I[19]=It>>>24&255,I[20]=mt>>>0&255,I[21]=mt>>>8&255,I[22]=mt>>>16&255,I[23]=mt>>>24&255,I[24]=Ce>>>0&255,I[25]=Ce>>>8&255,I[26]=Ce>>>16&255,I[27]=Ce>>>24&255,I[28]=Te>>>0&255,I[29]=Te>>>8&255,I[30]=Te>>>16&255,I[31]=Te>>>24&255,I[32]=Fe>>>0&255,I[33]=Fe>>>8&255,I[34]=Fe>>>16&255,I[35]=Fe>>>24&255,I[36]=Oe>>>0&255,I[37]=Oe>>>8&255,I[38]=Oe>>>16&255,I[39]=Oe>>>24&255,I[40]=De>>>0&255,I[41]=De>>>8&255,I[42]=De>>>16&255,I[43]=De>>>24&255,I[44]=qe>>>0&255,I[45]=qe>>>8&255,I[46]=qe>>>16&255,I[47]=qe>>>24&255,I[48]=Qt>>>0&255,I[49]=Qt>>>8&255,I[50]=Qt>>>16&255,I[51]=Qt>>>24&255,I[52]=wr>>>0&255,I[53]=wr>>>8&255,I[54]=wr>>>16&255,I[55]=wr>>>24&255,I[56]=ye>>>0&255,I[57]=ye>>>8&255,I[58]=ye>>>16&255,I[59]=ye>>>24&255,I[60]=Se>>>0&255,I[61]=Se>>>8&255,I[62]=Se>>>16&255,I[63]=Se>>>24&255}function b(I,U,B,S){for(var K=S[0]&255|(S[1]&255)<<8|(S[2]&255)<<16|(S[3]&255)<<24,he=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,ve=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,Pe=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,Ke=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,Ot=S[4]&255|(S[5]&255)<<8|(S[6]&255)<<16|(S[7]&255)<<24,gt=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,Wr=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,ut=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,nr=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,mr=S[8]&255|(S[9]&255)<<8|(S[10]&255)<<16|(S[11]&255)<<24,br=B[16]&255|(B[17]&255)<<8|(B[18]&255)<<16|(B[19]&255)<<24,gr=B[20]&255|(B[21]&255)<<8|(B[22]&255)<<16|(B[23]&255)<<24,lr=B[24]&255|(B[25]&255)<<8|(B[26]&255)<<16|(B[27]&255)<<24,dr=B[28]&255|(B[29]&255)<<8|(B[30]&255)<<16|(B[31]&255)<<24,hr=S[12]&255|(S[13]&255)<<8|(S[14]&255)<<16|(S[15]&255)<<24,At=K,Vt=he,xt=ve,Rt=Pe,It=Ke,mt=Ot,Ce=gt,Te=Wr,Fe=ut,Oe=nr,De=mr,qe=br,Qt=gr,wr=lr,ye=dr,Se=hr,ee,Ye=0;Ye<20;Ye+=2)ee=At+Qt|0,It^=ee<<7|ee>>>25,ee=It+At|0,Fe^=ee<<9|ee>>>23,ee=Fe+It|0,Qt^=ee<<13|ee>>>19,ee=Qt+Fe|0,At^=ee<<18|ee>>>14,ee=mt+Vt|0,Oe^=ee<<7|ee>>>25,ee=Oe+mt|0,wr^=ee<<9|ee>>>23,ee=wr+Oe|0,Vt^=ee<<13|ee>>>19,ee=Vt+wr|0,mt^=ee<<18|ee>>>14,ee=De+Ce|0,ye^=ee<<7|ee>>>25,ee=ye+De|0,xt^=ee<<9|ee>>>23,ee=xt+ye|0,Ce^=ee<<13|ee>>>19,ee=Ce+xt|0,De^=ee<<18|ee>>>14,ee=Se+qe|0,Rt^=ee<<7|ee>>>25,ee=Rt+Se|0,Te^=ee<<9|ee>>>23,ee=Te+Rt|0,qe^=ee<<13|ee>>>19,ee=qe+Te|0,Se^=ee<<18|ee>>>14,ee=At+Rt|0,Vt^=ee<<7|ee>>>25,ee=Vt+At|0,xt^=ee<<9|ee>>>23,ee=xt+Vt|0,Rt^=ee<<13|ee>>>19,ee=Rt+xt|0,At^=ee<<18|ee>>>14,ee=mt+It|0,Ce^=ee<<7|ee>>>25,ee=Ce+mt|0,Te^=ee<<9|ee>>>23,ee=Te+Ce|0,It^=ee<<13|ee>>>19,ee=It+Te|0,mt^=ee<<18|ee>>>14,ee=De+Oe|0,qe^=ee<<7|ee>>>25,ee=qe+De|0,Fe^=ee<<9|ee>>>23,ee=Fe+qe|0,Oe^=ee<<13|ee>>>19,ee=Oe+Fe|0,De^=ee<<18|ee>>>14,ee=Se+ye|0,Qt^=ee<<7|ee>>>25,ee=Qt+Se|0,wr^=ee<<9|ee>>>23,ee=wr+Qt|0,ye^=ee<<13|ee>>>19,ee=ye+wr|0,Se^=ee<<18|ee>>>14;I[0]=At>>>0&255,I[1]=At>>>8&255,I[2]=At>>>16&255,I[3]=At>>>24&255,I[4]=mt>>>0&255,I[5]=mt>>>8&255,I[6]=mt>>>16&255,I[7]=mt>>>24&255,I[8]=De>>>0&255,I[9]=De>>>8&255,I[10]=De>>>16&255,I[11]=De>>>24&255,I[12]=Se>>>0&255,I[13]=Se>>>8&255,I[14]=Se>>>16&255,I[15]=Se>>>24&255,I[16]=Ce>>>0&255,I[17]=Ce>>>8&255,I[18]=Ce>>>16&255,I[19]=Ce>>>24&255,I[20]=Te>>>0&255,I[21]=Te>>>8&255,I[22]=Te>>>16&255,I[23]=Te>>>24&255,I[24]=Fe>>>0&255,I[25]=Fe>>>8&255,I[26]=Fe>>>16&255,I[27]=Fe>>>24&255,I[28]=Oe>>>0&255,I[29]=Oe>>>8&255,I[30]=Oe>>>16&255,I[31]=Oe>>>24&255}function k(I,U,B,S){v(I,U,B,S)}function C(I,U,B,S){b(I,U,B,S)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function R(I,U,B,S,K,he,ve){var Pe=new Uint8Array(16),Ke=new Uint8Array(64),Ot,gt;for(gt=0;gt<16;gt++)Pe[gt]=0;for(gt=0;gt<8;gt++)Pe[gt]=he[gt];for(;K>=64;){for(k(Ke,Pe,ve,A),gt=0;gt<64;gt++)I[U+gt]=B[S+gt]^Ke[gt];for(Ot=1,gt=8;gt<16;gt++)Ot=Ot+(Pe[gt]&255)|0,Pe[gt]=Ot&255,Ot>>>=8;K-=64,U+=64,S+=64}if(K>0)for(k(Ke,Pe,ve,A),gt=0;gt<K;gt++)I[U+gt]=B[S+gt]^Ke[gt];return 0}function O(I,U,B,S,K){var he=new Uint8Array(16),ve=new Uint8Array(64),Pe,Ke;for(Ke=0;Ke<16;Ke++)he[Ke]=0;for(Ke=0;Ke<8;Ke++)he[Ke]=S[Ke];for(;B>=64;){for(k(ve,he,K,A),Ke=0;Ke<64;Ke++)I[U+Ke]=ve[Ke];for(Pe=1,Ke=8;Ke<16;Ke++)Pe=Pe+(he[Ke]&255)|0,he[Ke]=Pe&255,Pe>>>=8;B-=64,U+=64}if(B>0)for(k(ve,he,K,A),Ke=0;Ke<B;Ke++)I[U+Ke]=ve[Ke];return 0}function F(I,U,B,S,K){var he=new Uint8Array(32);C(he,S,K,A);for(var ve=new Uint8Array(8),Pe=0;Pe<8;Pe++)ve[Pe]=S[Pe+16];return O(I,U,B,ve,he)}function j(I,U,B,S,K,he,ve){var Pe=new Uint8Array(32);C(Pe,he,ve,A);for(var Ke=new Uint8Array(8),Ot=0;Ot<8;Ot++)Ke[Ot]=he[Ot+16];return R(I,U,B,S,K,Ke,Pe)}var D=function(I){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var U,B,S,K,he,ve,Pe,Ke;U=I[0]&255|(I[1]&255)<<8,this.r[0]=U&8191,B=I[2]&255|(I[3]&255)<<8,this.r[1]=(U>>>13|B<<3)&8191,S=I[4]&255|(I[5]&255)<<8,this.r[2]=(B>>>10|S<<6)&7939,K=I[6]&255|(I[7]&255)<<8,this.r[3]=(S>>>7|K<<9)&8191,he=I[8]&255|(I[9]&255)<<8,this.r[4]=(K>>>4|he<<12)&255,this.r[5]=he>>>1&8190,ve=I[10]&255|(I[11]&255)<<8,this.r[6]=(he>>>14|ve<<2)&8191,Pe=I[12]&255|(I[13]&255)<<8,this.r[7]=(ve>>>11|Pe<<5)&8065,Ke=I[14]&255|(I[15]&255)<<8,this.r[8]=(Pe>>>8|Ke<<8)&8191,this.r[9]=Ke>>>5&127,this.pad[0]=I[16]&255|(I[17]&255)<<8,this.pad[1]=I[18]&255|(I[19]&255)<<8,this.pad[2]=I[20]&255|(I[21]&255)<<8,this.pad[3]=I[22]&255|(I[23]&255)<<8,this.pad[4]=I[24]&255|(I[25]&255)<<8,this.pad[5]=I[26]&255|(I[27]&255)<<8,this.pad[6]=I[28]&255|(I[29]&255)<<8,this.pad[7]=I[30]&255|(I[31]&255)<<8};D.prototype.blocks=function(I,U,B){for(var S=this.fin?0:2048,K,he,ve,Pe,Ke,Ot,gt,Wr,ut,nr,mr,br,gr,lr,dr,hr,At,Vt,xt,Rt=this.h[0],It=this.h[1],mt=this.h[2],Ce=this.h[3],Te=this.h[4],Fe=this.h[5],Oe=this.h[6],De=this.h[7],qe=this.h[8],Qt=this.h[9],wr=this.r[0],ye=this.r[1],Se=this.r[2],ee=this.r[3],Ye=this.r[4],dt=this.r[5],ht=this.r[6],Lt=this.r[7],Zt=this.r[8],$t=this.r[9];B>=16;)K=I[U+0]&255|(I[U+1]&255)<<8,Rt+=K&8191,he=I[U+2]&255|(I[U+3]&255)<<8,It+=(K>>>13|he<<3)&8191,ve=I[U+4]&255|(I[U+5]&255)<<8,mt+=(he>>>10|ve<<6)&8191,Pe=I[U+6]&255|(I[U+7]&255)<<8,Ce+=(ve>>>7|Pe<<9)&8191,Ke=I[U+8]&255|(I[U+9]&255)<<8,Te+=(Pe>>>4|Ke<<12)&8191,Fe+=Ke>>>1&8191,Ot=I[U+10]&255|(I[U+11]&255)<<8,Oe+=(Ke>>>14|Ot<<2)&8191,gt=I[U+12]&255|(I[U+13]&255)<<8,De+=(Ot>>>11|gt<<5)&8191,Wr=I[U+14]&255|(I[U+15]&255)<<8,qe+=(gt>>>8|Wr<<8)&8191,Qt+=Wr>>>5|S,ut=0,nr=ut,nr+=Rt*wr,nr+=It*(5*$t),nr+=mt*(5*Zt),nr+=Ce*(5*Lt),nr+=Te*(5*ht),ut=nr>>>13,nr&=8191,nr+=Fe*(5*dt),nr+=Oe*(5*Ye),nr+=De*(5*ee),nr+=qe*(5*Se),nr+=Qt*(5*ye),ut+=nr>>>13,nr&=8191,mr=ut,mr+=Rt*ye,mr+=It*wr,mr+=mt*(5*$t),mr+=Ce*(5*Zt),mr+=Te*(5*Lt),ut=mr>>>13,mr&=8191,mr+=Fe*(5*ht),mr+=Oe*(5*dt),mr+=De*(5*Ye),mr+=qe*(5*ee),mr+=Qt*(5*Se),ut+=mr>>>13,mr&=8191,br=ut,br+=Rt*Se,br+=It*ye,br+=mt*wr,br+=Ce*(5*$t),br+=Te*(5*Zt),ut=br>>>13,br&=8191,br+=Fe*(5*Lt),br+=Oe*(5*ht),br+=De*(5*dt),br+=qe*(5*Ye),br+=Qt*(5*ee),ut+=br>>>13,br&=8191,gr=ut,gr+=Rt*ee,gr+=It*Se,gr+=mt*ye,gr+=Ce*wr,gr+=Te*(5*$t),ut=gr>>>13,gr&=8191,gr+=Fe*(5*Zt),gr+=Oe*(5*Lt),gr+=De*(5*ht),gr+=qe*(5*dt),gr+=Qt*(5*Ye),ut+=gr>>>13,gr&=8191,lr=ut,lr+=Rt*Ye,lr+=It*ee,lr+=mt*Se,lr+=Ce*ye,lr+=Te*wr,ut=lr>>>13,lr&=8191,lr+=Fe*(5*$t),lr+=Oe*(5*Zt),lr+=De*(5*Lt),lr+=qe*(5*ht),lr+=Qt*(5*dt),ut+=lr>>>13,lr&=8191,dr=ut,dr+=Rt*dt,dr+=It*Ye,dr+=mt*ee,dr+=Ce*Se,dr+=Te*ye,ut=dr>>>13,dr&=8191,dr+=Fe*wr,dr+=Oe*(5*$t),dr+=De*(5*Zt),dr+=qe*(5*Lt),dr+=Qt*(5*ht),ut+=dr>>>13,dr&=8191,hr=ut,hr+=Rt*ht,hr+=It*dt,hr+=mt*Ye,hr+=Ce*ee,hr+=Te*Se,ut=hr>>>13,hr&=8191,hr+=Fe*ye,hr+=Oe*wr,hr+=De*(5*$t),hr+=qe*(5*Zt),hr+=Qt*(5*Lt),ut+=hr>>>13,hr&=8191,At=ut,At+=Rt*Lt,At+=It*ht,At+=mt*dt,At+=Ce*Ye,At+=Te*ee,ut=At>>>13,At&=8191,At+=Fe*Se,At+=Oe*ye,At+=De*wr,At+=qe*(5*$t),At+=Qt*(5*Zt),ut+=At>>>13,At&=8191,Vt=ut,Vt+=Rt*Zt,Vt+=It*Lt,Vt+=mt*ht,Vt+=Ce*dt,Vt+=Te*Ye,ut=Vt>>>13,Vt&=8191,Vt+=Fe*ee,Vt+=Oe*Se,Vt+=De*ye,Vt+=qe*wr,Vt+=Qt*(5*$t),ut+=Vt>>>13,Vt&=8191,xt=ut,xt+=Rt*$t,xt+=It*Zt,xt+=mt*Lt,xt+=Ce*ht,xt+=Te*dt,ut=xt>>>13,xt&=8191,xt+=Fe*Ye,xt+=Oe*ee,xt+=De*Se,xt+=qe*ye,xt+=Qt*wr,ut+=xt>>>13,xt&=8191,ut=(ut<<2)+ut|0,ut=ut+nr|0,nr=ut&8191,ut=ut>>>13,mr+=ut,Rt=nr,It=mr,mt=br,Ce=gr,Te=lr,Fe=dr,Oe=hr,De=At,qe=Vt,Qt=xt,U+=16,B-=16;this.h[0]=Rt,this.h[1]=It,this.h[2]=mt,this.h[3]=Ce,this.h[4]=Te,this.h[5]=Fe,this.h[6]=Oe,this.h[7]=De,this.h[8]=qe,this.h[9]=Qt},D.prototype.finish=function(I,U){var B=new Uint16Array(10),S,K,he,ve;if(this.leftover){for(ve=this.leftover,this.buffer[ve++]=1;ve<16;ve++)this.buffer[ve]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(S=this.h[1]>>>13,this.h[1]&=8191,ve=2;ve<10;ve++)this.h[ve]+=S,S=this.h[ve]>>>13,this.h[ve]&=8191;for(this.h[0]+=S*5,S=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=S,S=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=S,B[0]=this.h[0]+5,S=B[0]>>>13,B[0]&=8191,ve=1;ve<10;ve++)B[ve]=this.h[ve]+S,S=B[ve]>>>13,B[ve]&=8191;for(B[9]-=8192,K=(S^1)-1,ve=0;ve<10;ve++)B[ve]&=K;for(K=~K,ve=0;ve<10;ve++)this.h[ve]=this.h[ve]&K|B[ve];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,he=this.h[0]+this.pad[0],this.h[0]=he&65535,ve=1;ve<8;ve++)he=(this.h[ve]+this.pad[ve]|0)+(he>>>16)|0,this.h[ve]=he&65535;I[U+0]=this.h[0]>>>0&255,I[U+1]=this.h[0]>>>8&255,I[U+2]=this.h[1]>>>0&255,I[U+3]=this.h[1]>>>8&255,I[U+4]=this.h[2]>>>0&255,I[U+5]=this.h[2]>>>8&255,I[U+6]=this.h[3]>>>0&255,I[U+7]=this.h[3]>>>8&255,I[U+8]=this.h[4]>>>0&255,I[U+9]=this.h[4]>>>8&255,I[U+10]=this.h[5]>>>0&255,I[U+11]=this.h[5]>>>8&255,I[U+12]=this.h[6]>>>0&255,I[U+13]=this.h[6]>>>8&255,I[U+14]=this.h[7]>>>0&255,I[U+15]=this.h[7]>>>8&255},D.prototype.update=function(I,U,B){var S,K;if(this.leftover){for(K=16-this.leftover,K>B&&(K=B),S=0;S<K;S++)this.buffer[this.leftover+S]=I[U+S];if(B-=K,U+=K,this.leftover+=K,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(B>=16&&(K=B-B%16,this.blocks(I,U,K),U+=K,B-=K),B){for(S=0;S<B;S++)this.buffer[this.leftover+S]=I[U+S];this.leftover+=B}};function z(I,U,B,S,K,he){var ve=new D(he);return ve.update(B,S,K),ve.finish(I,U),0}function Y(I,U,B,S,K,he){var ve=new Uint8Array(16);return z(ve,0,B,S,K,he),w(I,U,ve,0)}function Q(I,U,B,S,K){var he;if(B<32)return-1;for(j(I,0,U,0,B,S,K),z(I,16,I,32,B-32,I),he=0;he<16;he++)I[he]=0;return 0}function te(I,U,B,S,K){var he,ve=new Uint8Array(32);if(B<32||(F(ve,0,32,S,K),Y(U,16,U,32,B-32,ve)!==0))return-1;for(j(I,0,U,0,B,S,K),he=0;he<32;he++)I[he]=0;return 0}function Z(I,U){var B;for(B=0;B<16;B++)I[B]=U[B]|0}function J(I){var U,B,S=1;for(U=0;U<16;U++)B=I[U]+S+65535,S=Math.floor(B/65536),I[U]=B-S*65536;I[0]+=S-1+37*(S-1)}function V(I,U,B){for(var S,K=~(B-1),he=0;he<16;he++)S=K&(I[he]^U[he]),I[he]^=S,U[he]^=S}function re(I,U){var B,S,K,he=r(),ve=r();for(B=0;B<16;B++)ve[B]=U[B];for(J(ve),J(ve),J(ve),S=0;S<2;S++){for(he[0]=ve[0]-65517,B=1;B<15;B++)he[B]=ve[B]-65535-(he[B-1]>>16&1),he[B-1]&=65535;he[15]=ve[15]-32767-(he[14]>>16&1),K=he[15]>>16&1,he[14]&=65535,V(ve,he,1-K)}for(B=0;B<16;B++)I[2*B]=ve[B]&255,I[2*B+1]=ve[B]>>8}function E(I,U){var B=new Uint8Array(32),S=new Uint8Array(32);return re(B,I),re(S,U),y(B,0,S,0)}function N(I){var U=new Uint8Array(32);return re(U,I),U[0]&1}function L(I,U){var B;for(B=0;B<16;B++)I[B]=U[2*B]+(U[2*B+1]<<8);I[15]&=32767}function M(I,U,B){for(var S=0;S<16;S++)I[S]=U[S]+B[S]}function G(I,U,B){for(var S=0;S<16;S++)I[S]=U[S]-B[S]}function W(I,U,B){var S,K,he=0,ve=0,Pe=0,Ke=0,Ot=0,gt=0,Wr=0,ut=0,nr=0,mr=0,br=0,gr=0,lr=0,dr=0,hr=0,At=0,Vt=0,xt=0,Rt=0,It=0,mt=0,Ce=0,Te=0,Fe=0,Oe=0,De=0,qe=0,Qt=0,wr=0,ye=0,Se=0,ee=B[0],Ye=B[1],dt=B[2],ht=B[3],Lt=B[4],Zt=B[5],$t=B[6],cr=B[7],st=B[8],Bt=B[9],Ft=B[10],Sr=B[11],vn=B[12],xn=B[13],zr=B[14],on=B[15];S=U[0],he+=S*ee,ve+=S*Ye,Pe+=S*dt,Ke+=S*ht,Ot+=S*Lt,gt+=S*Zt,Wr+=S*$t,ut+=S*cr,nr+=S*st,mr+=S*Bt,br+=S*Ft,gr+=S*Sr,lr+=S*vn,dr+=S*xn,hr+=S*zr,At+=S*on,S=U[1],ve+=S*ee,Pe+=S*Ye,Ke+=S*dt,Ot+=S*ht,gt+=S*Lt,Wr+=S*Zt,ut+=S*$t,nr+=S*cr,mr+=S*st,br+=S*Bt,gr+=S*Ft,lr+=S*Sr,dr+=S*vn,hr+=S*xn,At+=S*zr,Vt+=S*on,S=U[2],Pe+=S*ee,Ke+=S*Ye,Ot+=S*dt,gt+=S*ht,Wr+=S*Lt,ut+=S*Zt,nr+=S*$t,mr+=S*cr,br+=S*st,gr+=S*Bt,lr+=S*Ft,dr+=S*Sr,hr+=S*vn,At+=S*xn,Vt+=S*zr,xt+=S*on,S=U[3],Ke+=S*ee,Ot+=S*Ye,gt+=S*dt,Wr+=S*ht,ut+=S*Lt,nr+=S*Zt,mr+=S*$t,br+=S*cr,gr+=S*st,lr+=S*Bt,dr+=S*Ft,hr+=S*Sr,At+=S*vn,Vt+=S*xn,xt+=S*zr,Rt+=S*on,S=U[4],Ot+=S*ee,gt+=S*Ye,Wr+=S*dt,ut+=S*ht,nr+=S*Lt,mr+=S*Zt,br+=S*$t,gr+=S*cr,lr+=S*st,dr+=S*Bt,hr+=S*Ft,At+=S*Sr,Vt+=S*vn,xt+=S*xn,Rt+=S*zr,It+=S*on,S=U[5],gt+=S*ee,Wr+=S*Ye,ut+=S*dt,nr+=S*ht,mr+=S*Lt,br+=S*Zt,gr+=S*$t,lr+=S*cr,dr+=S*st,hr+=S*Bt,At+=S*Ft,Vt+=S*Sr,xt+=S*vn,Rt+=S*xn,It+=S*zr,mt+=S*on,S=U[6],Wr+=S*ee,ut+=S*Ye,nr+=S*dt,mr+=S*ht,br+=S*Lt,gr+=S*Zt,lr+=S*$t,dr+=S*cr,hr+=S*st,At+=S*Bt,Vt+=S*Ft,xt+=S*Sr,Rt+=S*vn,It+=S*xn,mt+=S*zr,Ce+=S*on,S=U[7],ut+=S*ee,nr+=S*Ye,mr+=S*dt,br+=S*ht,gr+=S*Lt,lr+=S*Zt,dr+=S*$t,hr+=S*cr,At+=S*st,Vt+=S*Bt,xt+=S*Ft,Rt+=S*Sr,It+=S*vn,mt+=S*xn,Ce+=S*zr,Te+=S*on,S=U[8],nr+=S*ee,mr+=S*Ye,br+=S*dt,gr+=S*ht,lr+=S*Lt,dr+=S*Zt,hr+=S*$t,At+=S*cr,Vt+=S*st,xt+=S*Bt,Rt+=S*Ft,It+=S*Sr,mt+=S*vn,Ce+=S*xn,Te+=S*zr,Fe+=S*on,S=U[9],mr+=S*ee,br+=S*Ye,gr+=S*dt,lr+=S*ht,dr+=S*Lt,hr+=S*Zt,At+=S*$t,Vt+=S*cr,xt+=S*st,Rt+=S*Bt,It+=S*Ft,mt+=S*Sr,Ce+=S*vn,Te+=S*xn,Fe+=S*zr,Oe+=S*on,S=U[10],br+=S*ee,gr+=S*Ye,lr+=S*dt,dr+=S*ht,hr+=S*Lt,At+=S*Zt,Vt+=S*$t,xt+=S*cr,Rt+=S*st,It+=S*Bt,mt+=S*Ft,Ce+=S*Sr,Te+=S*vn,Fe+=S*xn,Oe+=S*zr,De+=S*on,S=U[11],gr+=S*ee,lr+=S*Ye,dr+=S*dt,hr+=S*ht,At+=S*Lt,Vt+=S*Zt,xt+=S*$t,Rt+=S*cr,It+=S*st,mt+=S*Bt,Ce+=S*Ft,Te+=S*Sr,Fe+=S*vn,Oe+=S*xn,De+=S*zr,qe+=S*on,S=U[12],lr+=S*ee,dr+=S*Ye,hr+=S*dt,At+=S*ht,Vt+=S*Lt,xt+=S*Zt,Rt+=S*$t,It+=S*cr,mt+=S*st,Ce+=S*Bt,Te+=S*Ft,Fe+=S*Sr,Oe+=S*vn,De+=S*xn,qe+=S*zr,Qt+=S*on,S=U[13],dr+=S*ee,hr+=S*Ye,At+=S*dt,Vt+=S*ht,xt+=S*Lt,Rt+=S*Zt,It+=S*$t,mt+=S*cr,Ce+=S*st,Te+=S*Bt,Fe+=S*Ft,Oe+=S*Sr,De+=S*vn,qe+=S*xn,Qt+=S*zr,wr+=S*on,S=U[14],hr+=S*ee,At+=S*Ye,Vt+=S*dt,xt+=S*ht,Rt+=S*Lt,It+=S*Zt,mt+=S*$t,Ce+=S*cr,Te+=S*st,Fe+=S*Bt,Oe+=S*Ft,De+=S*Sr,qe+=S*vn,Qt+=S*xn,wr+=S*zr,ye+=S*on,S=U[15],At+=S*ee,Vt+=S*Ye,xt+=S*dt,Rt+=S*ht,It+=S*Lt,mt+=S*Zt,Ce+=S*$t,Te+=S*cr,Fe+=S*st,Oe+=S*Bt,De+=S*Ft,qe+=S*Sr,Qt+=S*vn,wr+=S*xn,ye+=S*zr,Se+=S*on,he+=38*Vt,ve+=38*xt,Pe+=38*Rt,Ke+=38*It,Ot+=38*mt,gt+=38*Ce,Wr+=38*Te,ut+=38*Fe,nr+=38*Oe,mr+=38*De,br+=38*qe,gr+=38*Qt,lr+=38*wr,dr+=38*ye,hr+=38*Se,K=1,S=he+K+65535,K=Math.floor(S/65536),he=S-K*65536,S=ve+K+65535,K=Math.floor(S/65536),ve=S-K*65536,S=Pe+K+65535,K=Math.floor(S/65536),Pe=S-K*65536,S=Ke+K+65535,K=Math.floor(S/65536),Ke=S-K*65536,S=Ot+K+65535,K=Math.floor(S/65536),Ot=S-K*65536,S=gt+K+65535,K=Math.floor(S/65536),gt=S-K*65536,S=Wr+K+65535,K=Math.floor(S/65536),Wr=S-K*65536,S=ut+K+65535,K=Math.floor(S/65536),ut=S-K*65536,S=nr+K+65535,K=Math.floor(S/65536),nr=S-K*65536,S=mr+K+65535,K=Math.floor(S/65536),mr=S-K*65536,S=br+K+65535,K=Math.floor(S/65536),br=S-K*65536,S=gr+K+65535,K=Math.floor(S/65536),gr=S-K*65536,S=lr+K+65535,K=Math.floor(S/65536),lr=S-K*65536,S=dr+K+65535,K=Math.floor(S/65536),dr=S-K*65536,S=hr+K+65535,K=Math.floor(S/65536),hr=S-K*65536,S=At+K+65535,K=Math.floor(S/65536),At=S-K*65536,he+=K-1+37*(K-1),K=1,S=he+K+65535,K=Math.floor(S/65536),he=S-K*65536,S=ve+K+65535,K=Math.floor(S/65536),ve=S-K*65536,S=Pe+K+65535,K=Math.floor(S/65536),Pe=S-K*65536,S=Ke+K+65535,K=Math.floor(S/65536),Ke=S-K*65536,S=Ot+K+65535,K=Math.floor(S/65536),Ot=S-K*65536,S=gt+K+65535,K=Math.floor(S/65536),gt=S-K*65536,S=Wr+K+65535,K=Math.floor(S/65536),Wr=S-K*65536,S=ut+K+65535,K=Math.floor(S/65536),ut=S-K*65536,S=nr+K+65535,K=Math.floor(S/65536),nr=S-K*65536,S=mr+K+65535,K=Math.floor(S/65536),mr=S-K*65536,S=br+K+65535,K=Math.floor(S/65536),br=S-K*65536,S=gr+K+65535,K=Math.floor(S/65536),gr=S-K*65536,S=lr+K+65535,K=Math.floor(S/65536),lr=S-K*65536,S=dr+K+65535,K=Math.floor(S/65536),dr=S-K*65536,S=hr+K+65535,K=Math.floor(S/65536),hr=S-K*65536,S=At+K+65535,K=Math.floor(S/65536),At=S-K*65536,he+=K-1+37*(K-1),I[0]=he,I[1]=ve,I[2]=Pe,I[3]=Ke,I[4]=Ot,I[5]=gt,I[6]=Wr,I[7]=ut,I[8]=nr,I[9]=mr,I[10]=br,I[11]=gr,I[12]=lr,I[13]=dr,I[14]=hr,I[15]=At}function se(I,U){W(I,U,U)}function X(I,U){var B=r(),S;for(S=0;S<16;S++)B[S]=U[S];for(S=253;S>=0;S--)se(B,B),S!==2&&S!==4&&W(B,B,U);for(S=0;S<16;S++)I[S]=B[S]}function me(I,U){var B=r(),S;for(S=0;S<16;S++)B[S]=U[S];for(S=250;S>=0;S--)se(B,B),S!==1&&W(B,B,U);for(S=0;S<16;S++)I[S]=B[S]}function be(I,U,B){var S=new Uint8Array(32),K=new Float64Array(80),he,ve,Pe=r(),Ke=r(),Ot=r(),gt=r(),Wr=r(),ut=r();for(ve=0;ve<31;ve++)S[ve]=U[ve];for(S[31]=U[31]&127|64,S[0]&=248,L(K,B),ve=0;ve<16;ve++)Ke[ve]=K[ve],gt[ve]=Pe[ve]=Ot[ve]=0;for(Pe[0]=gt[0]=1,ve=254;ve>=0;--ve)he=S[ve>>>3]>>>(ve&7)&1,V(Pe,Ke,he),V(Ot,gt,he),M(Wr,Pe,Ot),G(Pe,Pe,Ot),M(Ot,Ke,gt),G(Ke,Ke,gt),se(gt,Wr),se(ut,Pe),W(Pe,Ot,Pe),W(Ot,Ke,Wr),M(Wr,Pe,Ot),G(Pe,Pe,Ot),se(Ke,Pe),G(Ot,gt,ut),W(Pe,Ot,c),M(Pe,Pe,gt),W(Ot,Ot,Pe),W(Pe,gt,ut),W(gt,Ke,K),se(Ke,Wr),V(Pe,Ke,he),V(Ot,gt,he);for(ve=0;ve<16;ve++)K[ve+16]=Pe[ve],K[ve+32]=Ot[ve],K[ve+48]=Ke[ve],K[ve+64]=gt[ve];var nr=K.subarray(32),mr=K.subarray(16);return X(nr,nr),W(mr,mr,nr),re(I,mr),0}function ge(I,U){return be(I,U,i)}function Ee(I,U){return n(U,32),ge(I,U)}function Re(I,U,B){var S=new Uint8Array(32);return be(S,B,U),C(I,s,S,A)}var je=Q,Ie=te;function Ve(I,U,B,S,K,he){var ve=new Uint8Array(32);return Re(ve,K,he),je(I,U,B,S,ve)}function He(I,U,B,S,K,he){var ve=new Uint8Array(32);return Re(ve,K,he),Ie(I,U,B,S,ve)}var we=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ne(I,U,B,S){for(var K=new Int32Array(16),he=new Int32Array(16),ve,Pe,Ke,Ot,gt,Wr,ut,nr,mr,br,gr,lr,dr,hr,At,Vt,xt,Rt,It,mt,Ce,Te,Fe,Oe,De,qe,Qt=I[0],wr=I[1],ye=I[2],Se=I[3],ee=I[4],Ye=I[5],dt=I[6],ht=I[7],Lt=U[0],Zt=U[1],$t=U[2],cr=U[3],st=U[4],Bt=U[5],Ft=U[6],Sr=U[7],vn=0;S>=128;){for(It=0;It<16;It++)mt=8*It+vn,K[It]=B[mt+0]<<24|B[mt+1]<<16|B[mt+2]<<8|B[mt+3],he[It]=B[mt+4]<<24|B[mt+5]<<16|B[mt+6]<<8|B[mt+7];for(It=0;It<80;It++)if(ve=Qt,Pe=wr,Ke=ye,Ot=Se,gt=ee,Wr=Ye,ut=dt,nr=ht,mr=Lt,br=Zt,gr=$t,lr=cr,dr=st,hr=Bt,At=Ft,Vt=Sr,Ce=ht,Te=Sr,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=(ee>>>14|st<<18)^(ee>>>18|st<<14)^(st>>>9|ee<<23),Te=(st>>>14|ee<<18)^(st>>>18|ee<<14)^(ee>>>9|st<<23),Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Ce=ee&Ye^~ee&dt,Te=st&Bt^~st&Ft,Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Ce=we[It*2],Te=we[It*2+1],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Ce=K[It%16],Te=he[It%16],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,xt=De&65535|qe<<16,Rt=Fe&65535|Oe<<16,Ce=xt,Te=Rt,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=(Qt>>>28|Lt<<4)^(Lt>>>2|Qt<<30)^(Lt>>>7|Qt<<25),Te=(Lt>>>28|Qt<<4)^(Qt>>>2|Lt<<30)^(Qt>>>7|Lt<<25),Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Ce=Qt&wr^Qt&ye^wr&ye,Te=Lt&Zt^Lt&$t^Zt&$t,Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,nr=De&65535|qe<<16,Vt=Fe&65535|Oe<<16,Ce=Ot,Te=lr,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=xt,Te=Rt,Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,Ot=De&65535|qe<<16,lr=Fe&65535|Oe<<16,wr=ve,ye=Pe,Se=Ke,ee=Ot,Ye=gt,dt=Wr,ht=ut,Qt=nr,Zt=mr,$t=br,cr=gr,st=lr,Bt=dr,Ft=hr,Sr=At,Lt=Vt,It%16===15)for(mt=0;mt<16;mt++)Ce=K[mt],Te=he[mt],Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=K[(mt+9)%16],Te=he[(mt+9)%16],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,xt=K[(mt+1)%16],Rt=he[(mt+1)%16],Ce=(xt>>>1|Rt<<31)^(xt>>>8|Rt<<24)^xt>>>7,Te=(Rt>>>1|xt<<31)^(Rt>>>8|xt<<24)^(Rt>>>7|xt<<25),Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,xt=K[(mt+14)%16],Rt=he[(mt+14)%16],Ce=(xt>>>19|Rt<<13)^(Rt>>>29|xt<<3)^xt>>>6,Te=(Rt>>>19|xt<<13)^(xt>>>29|Rt<<3)^(Rt>>>6|xt<<26),Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,K[mt]=De&65535|qe<<16,he[mt]=Fe&65535|Oe<<16;Ce=Qt,Te=Lt,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[0],Te=U[0],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[0]=Qt=De&65535|qe<<16,U[0]=Lt=Fe&65535|Oe<<16,Ce=wr,Te=Zt,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[1],Te=U[1],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[1]=wr=De&65535|qe<<16,U[1]=Zt=Fe&65535|Oe<<16,Ce=ye,Te=$t,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[2],Te=U[2],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[2]=ye=De&65535|qe<<16,U[2]=$t=Fe&65535|Oe<<16,Ce=Se,Te=cr,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[3],Te=U[3],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[3]=Se=De&65535|qe<<16,U[3]=cr=Fe&65535|Oe<<16,Ce=ee,Te=st,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[4],Te=U[4],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[4]=ee=De&65535|qe<<16,U[4]=st=Fe&65535|Oe<<16,Ce=Ye,Te=Bt,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[5],Te=U[5],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[5]=Ye=De&65535|qe<<16,U[5]=Bt=Fe&65535|Oe<<16,Ce=dt,Te=Ft,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[6],Te=U[6],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[6]=dt=De&65535|qe<<16,U[6]=Ft=Fe&65535|Oe<<16,Ce=ht,Te=Sr,Fe=Te&65535,Oe=Te>>>16,De=Ce&65535,qe=Ce>>>16,Ce=I[7],Te=U[7],Fe+=Te&65535,Oe+=Te>>>16,De+=Ce&65535,qe+=Ce>>>16,Oe+=Fe>>>16,De+=Oe>>>16,qe+=De>>>16,I[7]=ht=De&65535|qe<<16,U[7]=Sr=Fe&65535|Oe<<16,vn+=128,S-=128}return S}function Je(I,U,B){var S=new Int32Array(8),K=new Int32Array(8),he=new Uint8Array(256),ve,Pe=B;for(S[0]=1779033703,S[1]=3144134277,S[2]=1013904242,S[3]=2773480762,S[4]=1359893119,S[5]=2600822924,S[6]=528734635,S[7]=1541459225,K[0]=4089235720,K[1]=2227873595,K[2]=4271175723,K[3]=1595750129,K[4]=2917565137,K[5]=725511199,K[6]=4215389547,K[7]=327033209,Ne(S,K,U,B),B%=128,ve=0;ve<B;ve++)he[ve]=U[Pe-B+ve];for(he[B]=128,B=256-128*(B<112?1:0),he[B-9]=0,m(he,B-8,Pe/536870912|0,Pe<<3),Ne(S,K,he,B),ve=0;ve<8;ve++)m(I,8*ve,S[ve],K[ve]);return 0}function oe(I,U){var B=r(),S=r(),K=r(),he=r(),ve=r(),Pe=r(),Ke=r(),Ot=r(),gt=r();G(B,I[1],I[0]),G(gt,U[1],U[0]),W(B,B,gt),M(S,I[0],I[1]),M(gt,U[0],U[1]),W(S,S,gt),W(K,I[3],U[3]),W(K,K,d),W(he,I[2],U[2]),M(he,he,he),G(ve,S,B),G(Pe,he,K),M(Ke,he,K),M(Ot,S,B),W(I[0],ve,Pe),W(I[1],Ot,Ke),W(I[2],Ke,Pe),W(I[3],ve,Ot)}function xe(I,U,B){var S;for(S=0;S<4;S++)V(I[S],U[S],B)}function rt(I,U){var B=r(),S=r(),K=r();X(K,U[2]),W(B,U[0],K),W(S,U[1],K),re(I,S),I[31]^=N(B)<<7}function nt(I,U,B){var S,K;for(Z(I[0],a),Z(I[1],o),Z(I[2],o),Z(I[3],a),K=255;K>=0;--K)S=B[K/8|0]>>(K&7)&1,xe(I,U,S),oe(U,I),oe(I,I),xe(I,U,S)}function tr(I,U){var B=[r(),r(),r(),r()];Z(B[0],h),Z(B[1],f),Z(B[2],o),W(B[3],h,f),nt(I,B,U)}function Yt(I,U,B){var S=new Uint8Array(64),K=[r(),r(),r(),r()],he;for(B||n(U,32),Je(S,U,32),S[0]&=248,S[31]&=127,S[31]|=64,tr(K,S),rt(I,K),he=0;he<32;he++)U[he+32]=I[he];return 0}var ae=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function fe(I,U){var B,S,K,he;for(S=63;S>=32;--S){for(B=0,K=S-32,he=S-12;K<he;++K)U[K]+=B-16*U[S]*ae[K-(S-32)],B=Math.floor((U[K]+128)/256),U[K]-=B*256;U[K]+=B,U[S]=0}for(B=0,K=0;K<32;K++)U[K]+=B-(U[31]>>4)*ae[K],B=U[K]>>8,U[K]&=255;for(K=0;K<32;K++)U[K]-=B*ae[K];for(S=0;S<32;S++)U[S+1]+=U[S]>>8,I[S]=U[S]&255}function Le(I){var U=new Float64Array(64),B;for(B=0;B<64;B++)U[B]=I[B];for(B=0;B<64;B++)I[B]=0;fe(I,U)}function Ge(I,U,B,S){var K=new Uint8Array(64),he=new Uint8Array(64),ve=new Uint8Array(64),Pe,Ke,Ot=new Float64Array(64),gt=[r(),r(),r(),r()];Je(K,S,32),K[0]&=248,K[31]&=127,K[31]|=64;var Wr=B+64;for(Pe=0;Pe<B;Pe++)I[64+Pe]=U[Pe];for(Pe=0;Pe<32;Pe++)I[32+Pe]=K[32+Pe];for(Je(ve,I.subarray(32),B+32),Le(ve),tr(gt,ve),rt(I,gt),Pe=32;Pe<64;Pe++)I[Pe]=S[Pe];for(Je(he,I,B+64),Le(he),Pe=0;Pe<64;Pe++)Ot[Pe]=0;for(Pe=0;Pe<32;Pe++)Ot[Pe]=ve[Pe];for(Pe=0;Pe<32;Pe++)for(Ke=0;Ke<32;Ke++)Ot[Pe+Ke]+=he[Pe]*K[Ke];return fe(I.subarray(32),Ot),Wr}function kt(I,U){var B=r(),S=r(),K=r(),he=r(),ve=r(),Pe=r(),Ke=r();return Z(I[2],o),L(I[1],U),se(K,I[1]),W(he,K,u),G(K,K,I[2]),M(he,I[2],he),se(ve,he),se(Pe,ve),W(Ke,Pe,ve),W(B,Ke,K),W(B,B,he),me(B,B),W(B,B,K),W(B,B,he),W(B,B,he),W(I[0],B,he),se(S,I[0]),W(S,S,he),E(S,K)&&W(I[0],I[0],p),se(S,I[0]),W(S,S,he),E(S,K)?-1:(N(I[0])===U[31]>>7&&G(I[0],a,I[0]),W(I[3],I[0],I[1]),0)}function ce(I,U,B,S){var K,he=new Uint8Array(32),ve=new Uint8Array(64),Pe=[r(),r(),r(),r()],Ke=[r(),r(),r(),r()];if(B<64||kt(Ke,S))return-1;for(K=0;K<B;K++)I[K]=U[K];for(K=0;K<32;K++)I[K+32]=S[K];if(Je(ve,I,B),Le(ve),nt(Pe,Ke,ve),tr(Ke,U.subarray(32)),oe(Pe,Ke),rt(he,Pe),B-=64,y(U,0,he,0)){for(K=0;K<B;K++)I[K]=0;return-1}for(K=0;K<B;K++)I[K]=U[K+64];return B}var pe=32,Ae=24,$e=32,pt=16,Xt=32,vr=32,Wt=32,at=32,ct=32,yt=Ae,_t=$e,xr=pt,kr=64,Mr=32,_r=64,Ci=32,wa=64;t.lowlevel={crypto_core_hsalsa20:C,crypto_stream_xor:j,crypto_stream:F,crypto_stream_salsa20_xor:R,crypto_stream_salsa20:O,crypto_onetimeauth:z,crypto_onetimeauth_verify:Y,crypto_verify_16:w,crypto_verify_32:y,crypto_secretbox:Q,crypto_secretbox_open:te,crypto_scalarmult:be,crypto_scalarmult_base:ge,crypto_box_beforenm:Re,crypto_box_afternm:je,crypto_box:Ve,crypto_box_open:He,crypto_box_keypair:Ee,crypto_hash:Je,crypto_sign:Ge,crypto_sign_keypair:Yt,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:pe,crypto_secretbox_NONCEBYTES:Ae,crypto_secretbox_ZEROBYTES:$e,crypto_secretbox_BOXZEROBYTES:pt,crypto_scalarmult_BYTES:Xt,crypto_scalarmult_SCALARBYTES:vr,crypto_box_PUBLICKEYBYTES:Wt,crypto_box_SECRETKEYBYTES:at,crypto_box_BEFORENMBYTES:ct,crypto_box_NONCEBYTES:yt,crypto_box_ZEROBYTES:_t,crypto_box_BOXZEROBYTES:xr,crypto_sign_BYTES:kr,crypto_sign_PUBLICKEYBYTES:Mr,crypto_sign_SECRETKEYBYTES:_r,crypto_sign_SEEDBYTES:Ci,crypto_hash_BYTES:wa,gf:r,D:u,L:ae,pack25519:re,unpack25519:L,M:W,A:M,S:se,Z:G,pow2523:me,add:oe,set25519:Z,modL:fe,scalarmult:nt,scalarbase:tr};function jo(I,U){if(I.length!==pe)throw new Error("bad key size");if(U.length!==Ae)throw new Error("bad nonce size")}function ii(I,U){if(I.length!==Wt)throw new Error("bad public key size");if(U.length!==at)throw new Error("bad secret key size")}function Zr(){for(var I=0;I<arguments.length;I++)if(!(arguments[I]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function qn(I){for(var U=0;U<I.length;U++)I[U]=0}t.randomBytes=function(I){var U=new Uint8Array(I);return n(U,I),U},t.secretbox=function(I,U,B){Zr(I,U,B),jo(B,U);for(var S=new Uint8Array($e+I.length),K=new Uint8Array(S.length),he=0;he<I.length;he++)S[he+$e]=I[he];return Q(K,S,S.length,U,B),K.subarray(pt)},t.secretbox.open=function(I,U,B){Zr(I,U,B),jo(B,U);for(var S=new Uint8Array(pt+I.length),K=new Uint8Array(S.length),he=0;he<I.length;he++)S[he+pt]=I[he];return S.length<32||te(K,S,S.length,U,B)!==0?null:K.subarray($e)},t.secretbox.keyLength=pe,t.secretbox.nonceLength=Ae,t.secretbox.overheadLength=pt,t.scalarMult=function(I,U){if(Zr(I,U),I.length!==vr)throw new Error("bad n size");if(U.length!==Xt)throw new Error("bad p size");var B=new Uint8Array(Xt);return be(B,I,U),B},t.scalarMult.base=function(I){if(Zr(I),I.length!==vr)throw new Error("bad n size");var U=new Uint8Array(Xt);return ge(U,I),U},t.scalarMult.scalarLength=vr,t.scalarMult.groupElementLength=Xt,t.box=function(I,U,B,S){var K=t.box.before(B,S);return t.secretbox(I,U,K)},t.box.before=function(I,U){Zr(I,U),ii(I,U);var B=new Uint8Array(ct);return Re(B,I,U),B},t.box.after=t.secretbox,t.box.open=function(I,U,B,S){var K=t.box.before(B,S);return t.secretbox.open(I,U,K)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var I=new Uint8Array(Wt),U=new Uint8Array(at);return Ee(I,U),{publicKey:I,secretKey:U}},t.box.keyPair.fromSecretKey=function(I){if(Zr(I),I.length!==at)throw new Error("bad secret key size");var U=new Uint8Array(Wt);return ge(U,I),{publicKey:U,secretKey:new Uint8Array(I)}},t.box.publicKeyLength=Wt,t.box.secretKeyLength=at,t.box.sharedKeyLength=ct,t.box.nonceLength=yt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(I,U){if(Zr(I,U),U.length!==_r)throw new Error("bad secret key size");var B=new Uint8Array(kr+I.length);return Ge(B,I,I.length,U),B},t.sign.open=function(I,U){if(Zr(I,U),U.length!==Mr)throw new Error("bad public key size");var B=new Uint8Array(I.length),S=ce(B,I,I.length,U);if(S<0)return null;for(var K=new Uint8Array(S),he=0;he<K.length;he++)K[he]=B[he];return K},t.sign.detached=function(I,U){for(var B=t.sign(I,U),S=new Uint8Array(kr),K=0;K<S.length;K++)S[K]=B[K];return S},t.sign.detached.verify=function(I,U,B){if(Zr(I,U,B),U.length!==kr)throw new Error("bad signature size");if(B.length!==Mr)throw new Error("bad public key size");var S=new Uint8Array(kr+I.length),K=new Uint8Array(kr+I.length),he;for(he=0;he<kr;he++)S[he]=U[he];for(he=0;he<I.length;he++)S[he+kr]=I[he];return ce(K,S,S.length,B)>=0},t.sign.keyPair=function(){var I=new Uint8Array(Mr),U=new Uint8Array(_r);return Yt(I,U),{publicKey:I,secretKey:U}},t.sign.keyPair.fromSecretKey=function(I){if(Zr(I),I.length!==_r)throw new Error("bad secret key size");for(var U=new Uint8Array(Mr),B=0;B<U.length;B++)U[B]=I[32+B];return{publicKey:U,secretKey:new Uint8Array(I)}},t.sign.keyPair.fromSeed=function(I){if(Zr(I),I.length!==Ci)throw new Error("bad seed size");for(var U=new Uint8Array(Mr),B=new Uint8Array(_r),S=0;S<32;S++)B[S]=I[S];return Yt(U,B,!0),{publicKey:U,secretKey:B}},t.sign.publicKeyLength=Mr,t.sign.secretKeyLength=_r,t.sign.seedLength=Ci,t.sign.signatureLength=kr,t.hash=function(I){Zr(I);var U=new Uint8Array(wa);return Je(U,I,I.length),U},t.hash.hashLength=wa,t.verify=function(I,U){return Zr(I,U),I.length===0||U.length===0||I.length!==U.length?!1:g(I,0,U,0,I.length)===0},t.setPRNG=function(I){n=I},function(){var I=typeof self<"u"?self.crypto||self.msCrypto:null;if(I&&I.getRandomValues){var U=65536;t.setPRNG(function(B,S){var K,he=new Uint8Array(S);for(K=0;K<S;K+=U)I.getRandomValues(he.subarray(K,K+Math.min(S-K,U)));for(K=0;K<S;K++)B[K]=he[K];qn(he)})}else typeof lie<"u"&&(I=die,I&&I.randomBytes&&t.setPRNG(function(B,S){var K,he=I.randomBytes(S);for(K=0;K<S;K++)B[K]=he[K];qn(he)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(k$);var hie=k$.exports;const S$=Cte(hie);function fie(){return S$.box.keyPair()}async function Pp(e,t){const r=sessionStorage.getItem("sessionKey"),n=sessionStorage.getItem("sessionId");console.groupCollapsed("Attestation");try{if(r&&n&&!e){const a=zm(r);return console.log("Using existing attestation from session storage."),{sessionKey:a,sessionId:n}}const s=window.crypto.randomUUID();console.log("Generated attestation nonce:",s);const i=await oie(s,t);if(i&&i.public_key){console.log("Attestation document verification succeeded");const a=fie();console.log("Generated client key pair");const o=new Uint8Array(i.public_key),{encrypted_session_key:c,session_id:u}=await eae(oa(a.publicKey),s,t);console.log("Key exchange completed.");const d=S$.scalarMult(a.secretKey,o),h=zm(c),f=12,p=h.slice(0,f),m=h.slice(f),g=new S_(d).open(p,m);if(g)return console.log("Session key decrypted successfully"),window.sessionStorage.setItem("sessionKey",oa(g)),window.sessionStorage.setItem("sessionId",u),{sessionKey:g,sessionId:u};throw new Error("Failed to decrypt session key")}else throw new Error("Invalid attestation document")}catch(s){throw console.error("Error verifying attestation:",s),s}finally{console.groupEnd()}}let cn="";async function pie(){const e=window.localStorage.getItem("refresh_token");if(!e)throw new Error("No refresh token available");const t={refresh_token:e};try{const r=await cs(`${cn}/platform/refresh`,"POST",t,void 0,"Failed to refresh platform token");return window.localStorage.setItem("access_token",r.access_token),window.localStorage.setItem("refresh_token",r.refresh_token),r}catch(r){throw console.error("Error refreshing platform token:",r),r}}async function mie(e){return zt(`${cn}/platform/orgs`,"POST",{name:e})}async function gie(){return zt(`${cn}/platform/orgs`,"GET",void 0)}async function yie(e){return zt(`${cn}/platform/orgs/${e}`,"DELETE",void 0)}async function vie(e,t,r){return zt(`${cn}/platform/orgs/${e}/projects`,"POST",{name:t,description:r})}async function xie(e){return zt(`${cn}/platform/orgs/${e}/projects`,"GET",void 0)}async function bie(e,t){return zt(`${cn}/platform/orgs/${e}/projects/${t}`,"GET",void 0)}async function wie(e,t,r){return zt(`${cn}/platform/orgs/${e}/projects/${t}`,"PATCH",r)}async function kie(e,t){return zt(`${cn}/platform/orgs/${e}/projects/${t}`,"DELETE",void 0)}function Sie(e){const t=/^[A-Za-z0-9+/]*[=]{0,2}$/,r=e.length%4===0,n=t.test(e);return r&&n}async function _ie(e,t,r,n){if(!Sie(n))throw new Error("Secret must be base64 encoded. Use @stablelib/base64's encode function to encode your data.");return zt(`${cn}/platform/orgs/${e}/projects/${t}/secrets`,"POST",{key_name:r,secret:n})}async function Eie(e,t){return zt(`${cn}/platform/orgs/${e}/projects/${t}/secrets`,"GET",void 0)}async function Nie(e,t,r){return zt(`${cn}/platform/orgs/${e}/projects/${t}/secrets/${r}`,"DELETE",void 0)}async function Cie(e,t){return zt(`${cn}/platform/orgs/${e}/projects/${t}/settings/email`,"GET",void 0)}async function Aie(e,t,r){return zt(`${cn}/platform/orgs/${e}/projects/${t}/settings/email`,"PUT",r)}async function Tie(e,t){return zt(`${cn}/platform/orgs/${e}/projects/${t}/settings/oauth`,"GET",void 0)}async function Rie(e,t,r){return zt(`${cn}/platform/orgs/${e}/projects/${t}/settings/oauth`,"PUT",r)}async function Iie(e,t,r){if(!t||t.trim()==="")throw new Error("Email is required");return zt(`${cn}/platform/orgs/${e}/invites`,"POST",{email:t,role:r})}async function jie(e){return zt(`${cn}/platform/orgs/${e}/invites`,"GET",void 0)}async function Mie(e,t){return zt(`${cn}/platform/orgs/${e}/invites/${t}`,"GET",void 0)}async function Pie(e,t){return zt(`${cn}/platform/orgs/${e}/invites/${t}`,"DELETE",void 0)}async function Oie(e){return zt(`${cn}/platform/orgs/${e}/memberships`,"GET",void 0)}async function Die(e,t,r){return zt(`${cn}/platform/orgs/${e}/memberships/${t}`,"PATCH",{role:r})}async function Lie(e,t){return zt(`${cn}/platform/orgs/${e}/memberships/${t}`,"DELETE",void 0)}async function $ie(e){return zt(`${cn}/platform/accept_invite/${e}`,"POST",void 0)}async function Fie(e){return cs(`${cn}/platform/verify-email/${e}`,"GET",void 0,void 0,"Failed to verify email")}async function tT(){return zt(`${cn}/platform/request_verification`,"POST",void 0,"Failed to request new verification code")}async function Bie(e,t){const r={email:e,hashed_secret:t};return cs(`${cn}/platform/password-reset/request`,"POST",r,void 0,"Failed to request platform password reset")}async function Uie(e,t,r,n){const s={email:e,alphanumeric_code:t,plaintext_secret:r,new_password:n};return cs(`${cn}/platform/password-reset/confirm`,"POST",s,void 0,"Failed to confirm platform password reset")}async function zie(e,t){const r={current_password:e,new_password:t};return zt(`${cn}/platform/change-password`,"POST",r,"Failed to change platform password")}class Hie{constructor(){Ir(this,"_appApiUrl",""),Ir(this,"_platformApiUrl","")}configure(t,r){this._appApiUrl=t,this._platformApiUrl=r}get platformApiUrl(){return this._platformApiUrl}get appApiUrl(){return this._appApiUrl}isPlatformPath(t){return t.includes("/platform/")}resolveEndpoint(t){const r=this.isPlatformPath(t);return{baseUrl:r?this._platformApiUrl:this._appApiUrl,context:r?"platform":"app"}}buildUrl(t){if(t.startsWith("http"))return t;const r=this.resolveEndpoint(t),n=r.baseUrl.endsWith("/")?r.baseUrl.slice(0,-1):r.baseUrl,s=t.startsWith("/")?t:`/${t}`;return`${n}${s}`}getRefreshFunction(t){return this.isPlatformPath(t)?"platformRefreshToken":"refreshToken"}}const db=new Hie,Vie=Object.freeze(Object.defineProperty({__proto__:null,apiConfig:db},Symbol.toStringTag,{value:"Module"}));async function zt(e,t,r,n){const s=async(i=!1)=>{try{if(i){console.log("Refreshing access token");const c=db.getRefreshFunction(e);console.log(`Using ${c}`),c==="platformRefreshToken"?await pie():await p2()}const a=window.localStorage.getItem("access_token");if(!a)throw new Error("No access token available");const o=await gE(e,t,r,a,n);if(o.status===401&&!i)return console.log(`Received 401 for URL ${e}, attempting to refresh token`),s(!0);if(o.error)throw new Error(o.error);if(!o.data)throw new Error("No data received from the server");return o.data}catch(a){throw console.error(a),a}};return s()}async function _$(e,t,r,n,s){if(!s)return zt(e,t,r,n);const i=await gE(e,t,r,s,n);if(i.error)throw new Error(i.error);if(!i.data)throw new Error(n||`Request to ${e} failed`);return i.data}async function gE(e,t,r,n,s){const i=db.resolveEndpoint(e).context==="platform"?db.platformApiUrl:void 0;let{sessionKey:a,sessionId:o}=await Pp(!1,i);const c=async(d,h=!1)=>{if(h||!a||!o){const y=await Pp(!0,i);a=y.sessionKey,o=y.sessionId}if(!a||!o)throw new Error("Failed to make encrypted API call, no attestation available.");const f=r?JSON.stringify(r):void 0,p=f?sD(a,f):void 0,m={"Content-Type":"application/json","x-session-id":o};d&&(m.Authorization=`Bearer ${d}`);const g=await fetch(e,{method:t,headers:m,body:p?JSON.stringify({encrypted:p}):void 0}),w={status:g.status};if(g.ok)try{const y=await g.json(),v=R6(a,y.encrypted);w.data=JSON.parse(v)}catch(y){console.error("Error decrypting or parsing response:",y),w.status=500,w.error="Failed to decrypt or parse the response"}else try{const y=await g.json();w.error=y.message||s||`HTTP error! Status: ${g.status}`}catch{w.error=s||`HTTP error! Status: ${g.status}`}return w},u=async(d,h=!1)=>{var f;try{const p=await c(d,h);return(p.status===400||(f=p.error)!=null&&f.includes("Encryption error"))&&!h?(console.log("Encryption error or Bad Request, attempting to renew attestation"),u(d,!0)):p}catch(p){return{status:500,error:p instanceof Error?p.message:"Unknown error occurred"}}};return u(n)}async function cs(e,t,r,n,s){const i=await gE(e,t,r,n,s);if(i.error)throw new Error(i.error);if(!i.data)throw new Error("No data received from the server");return i.data}let Gt="";function qie(e){Gt=e}function Wie(){return Gt}async function Gie(e,t,r){return cs(`${Gt}/login`,"POST",{email:e,password:t,client_id:r})}async function Kie(e,t,r){return cs(`${Gt}/login`,"POST",{id:e,password:t,client_id:r})}async function Yie(e,t,r,n,s){return cs(`${Gt}/register`,"POST",{email:e,password:t,inviteCode:r.toLowerCase(),client_id:n,name:s})}async function Zie(e,t,r){return cs(`${Gt}/register`,"POST",{password:e,inviteCode:t.toLowerCase(),client_id:r})}async function p2(){const e=window.localStorage.getItem("refresh_token");if(!e)throw new Error("No refresh token available");const t={refresh_token:e};try{const r=await cs(`${Gt}/refresh`,"POST",t,void 0,"Failed to refresh token");return window.localStorage.setItem("access_token",r.access_token),window.localStorage.setItem("refresh_token",r.refresh_token),r}catch(r){throw console.error("Error refreshing token:",r),r}}async function Qie(){return zt(`${Gt}/protected/user`,"GET",void 0,"Failed to fetch user")}async function E$(e,t){return zt(`${Gt}/protected/kv/${e}`,"PUT",t,"Failed to put key-value pair")}async function N$(e){return zt(`${Gt}/protected/kv/${e}`,"DELETE",void 0,"Failed to delete key-value pair")}async function C$(){return zt(`${Gt}/protected/kv`,"DELETE",void 0,"Failed to delete all key-value pairs")}async function A$(e){try{return await zt(`${Gt}/protected/kv/${e}`,"GET",void 0,"Failed to get key-value pair")}catch(t){console.error(`Error fetching key "${e}":`,t);return}}async function T$(){return zt(`${Gt}/protected/kv`,"GET",void 0,"Failed to list key-value pairs")}async function Xie(e){const t={refresh_token:e};return cs(`${Gt}/logout`,"POST",t)}async function R$(e){return cs(`${Gt}/verify-email/${e}`,"GET",void 0,void 0,"Failed to verify email")}async function hb(){return zt(`${Gt}/protected/request_verification`,"POST",void 0,"Failed to request new verification code")}async function Jie(e,t){const r=await fetch(`${t||Gt}/attestation/${e}`);if(!r.ok)throw new Error(`Request failed with status ${r.status}`);return(await r.json()).attestation_document}async function eae(e,t,r){const n=await fetch(`${r||Gt}/key_exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_public_key:e,nonce:t})});if(!n.ok)throw new Error("Key exchange failed");return n.json()}async function tae(e,t,r){const n={email:e,hashed_secret:t,client_id:r};return cs(`${Gt}/password-reset/request`,"POST",n,void 0,"Failed to request password reset")}async function rae(e,t,r,n,s){const i={email:e,alphanumeric_code:t,plaintext_secret:r,new_password:n,client_id:s};return cs(`${Gt}/password-reset/confirm`,"POST",i,void 0,"Failed to confirm password reset")}async function I$(e,t){const r={current_password:e,new_password:t};return zt(`${Gt}/protected/change_password`,"POST",r,"Failed to change password")}async function nae(e,t){try{return await cs(`${Gt}/auth/github`,"POST",t?{invite_code:t,client_id:e}:{client_id:e},void 0,"Failed to initiate GitHub auth")}catch(r){throw r instanceof Error&&r.message.includes("Invalid invite code")?new Error("Invalid invite code. Please check and try again."):r}}async function sae(e,t,r){const n={code:e,state:t,invite_code:r};try{return await cs(`${Gt}/auth/github/callback`,"POST",n,void 0,"GitHub callback failed")}catch(s){throw console.error("Detailed GitHub callback error:",s),s instanceof Error?s.message.includes("User exists")||s.message.includes("Email already registered")?new Error("An account with this email already exists. Please sign in using your existing account."):s.message.includes("Invalid invite code")?new Error("Invalid invite code. Please try signing up with a valid invite code."):s.message.includes("User not found")?new Error("User not found. Please sign up first before attempting to log in with GitHub."):new Error("Failed to authenticate with GitHub. Please try again."):s}}async function iae(e,t){try{return await cs(`${Gt}/auth/google`,"POST",t?{invite_code:t,client_id:e}:{client_id:e},void 0,"Failed to initiate Google auth")}catch(r){throw r instanceof Error&&r.message.includes("Invalid invite code")?new Error("Invalid invite code. Please check and try again."):r}}async function aae(e,t,r){const n={code:e,state:t,invite_code:r};try{return await cs(`${Gt}/auth/google/callback`,"POST",n,void 0,"Google callback failed")}catch(s){throw console.error("Detailed Google callback error:",s),s instanceof Error?s.message.includes("User exists")||s.message.includes("Email already registered")?new Error("An account with this email already exists. Please sign in using your existing account."):s.message.includes("Invalid invite code")?new Error("Invalid invite code. Please try signing up with a valid invite code."):s.message.includes("User not found")?new Error("User not found. Please sign up first before attempting to log in with Google."):new Error("Failed to authenticate with Google. Please try again."):s}}async function oae(e,t){try{return await cs(`${Gt}/auth/apple`,"POST",t?{invite_code:t,client_id:e}:{client_id:e},void 0,"Failed to initiate Apple auth")}catch(r){throw r instanceof Error&&r.message.includes("Invalid invite code")?new Error("Invalid invite code. Please check and try again."):r}}async function lae(e,t,r){const n={code:e,state:t,invite_code:r};try{return await cs(`${Gt}/auth/apple/callback`,"POST",n,void 0,"Apple callback failed")}catch(s){throw console.error("Detailed Apple callback error:",s),s instanceof Error?s.message.includes("User exists")||s.message.includes("Email already registered")?new Error("An account with this email already exists. Please sign in using your existing account."):s.message.includes("Invalid invite code")?new Error("Invalid invite code. Please try signing up with a valid invite code."):s.message.includes("User not found")?new Error("User not found. Please sign up first before attempting to log in with Apple."):new Error("Failed to authenticate with Apple. Please try again."):s}}async function cae(e,t,r){const n={...e,client_id:t,...r?{invite_code:r}:{}};try{return await cs(`${Gt}/auth/apple/native`,"POST",n,void 0,"Apple Sign-In failed")}catch(s){throw console.error("Detailed Apple Sign-In error:",s),s instanceof Error?s.message.includes("User exists")||s.message.includes("Email already registered")?new Error("An account with this email already exists. Please sign in using your existing account."):s.message.includes("Invalid invite code")?new Error("Invalid invite code. Please try signing up with a valid invite code."):s.message.includes("User not found")?new Error("User not found. Please sign up first before attempting to log in with Apple."):s.message.includes("No email found")?new Error("Unable to retrieve email from Apple. Please try another sign-in method."):new Error("Failed to authenticate with Apple. Please try again."):s}}async function j$(e){let t=`${Gt}/protected/private_key`;const r=[];return e!=null&&e.seed_phrase_derivation_path&&r.push(`seed_phrase_derivation_path=${encodeURIComponent(e.seed_phrase_derivation_path)}`),e!=null&&e.private_key_derivation_path&&r.push(`private_key_derivation_path=${encodeURIComponent(e.private_key_derivation_path)}`),r.length>0&&(t+=`?${r.join("&")}`),zt(t,"GET",void 0,"Failed to fetch private key")}async function M$(e){let t=`${Gt}/protected/private_key_bytes`;const r=[];return e!=null&&e.seed_phrase_derivation_path&&r.push(`seed_phrase_derivation_path=${encodeURIComponent(e.seed_phrase_derivation_path)}`),e!=null&&e.private_key_derivation_path&&r.push(`private_key_derivation_path=${encodeURIComponent(e.private_key_derivation_path)}`),r.length>0&&(t+=`?${r.join("&")}`),zt(t,"GET",void 0,"Failed to fetch private key bytes")}async function P$(e,t,r){const n={message_base64:oa(e),algorithm:t,...r&&Object.keys(r).length>0&&{key_options:r}};return zt(`${Gt}/protected/sign_message`,"POST",n,"Failed to sign message")}async function O$(e,t){let r=`${Gt}/protected/public_key?algorithm=${e}`;return t!=null&&t.seed_phrase_derivation_path&&(r+=`&seed_phrase_derivation_path=${encodeURIComponent(t.seed_phrase_derivation_path)}`),t!=null&&t.private_key_derivation_path&&(r+=`&private_key_derivation_path=${encodeURIComponent(t.private_key_derivation_path)}`),zt(r,"GET",void 0,"Failed to fetch public key")}async function uae(e,t,r){const n={email:e,password:t,...r!==void 0&&{name:r}};return zt(`${Gt}/protected/convert_guest`,"POST",n,"Failed to convert guest account")}async function dae(e){return zt(`${Gt}/protected/third_party_token`,"POST",e?{audience:e}:{},"Failed to generate third party token")}async function D$(e,t){const r={data:e,...t&&Object.keys(t).length>0&&{key_options:t}};return zt(`${Gt}/protected/encrypt`,"POST",r,"Failed to encrypt data")}async function L$(e,t){const r={encrypted_data:e,...t&&Object.keys(t).length>0&&{key_options:t}};return zt(`${Gt}/protected/decrypt`,"POST",r,"Failed to decrypt data")}async function hae(e){const t={hashed_secret:e};return zt(`${Gt}/protected/delete-account/request`,"POST",t,"Failed to request account deletion")}async function fae(e,t){const r={confirmation_code:e,plaintext_secret:t};return zt(`${Gt}/protected/delete-account/confirm`,"POST",r,"Failed to confirm account deletion")}async function $$(e){try{const t=await _$(`${Gt}/v1/models`,"GET",void 0,"Failed to fetch models",e);if(!t||typeof t!="object")throw new Error("Invalid response from models endpoint");if(t.object!=="list"||!Array.isArray(t.data))throw new Error("Models response missing expected 'object' or 'data' fields");return t.data}catch(t){throw console.error("Error fetching models:",t),t}}const rT=10*1024*1024;function pae(e){return new Promise(t=>setTimeout(t,e))}async function F$(e){return zt(`${Gt}/protected/api-keys`,"POST",{name:e},"Failed to create API key")}async function B$(){const e=await zt(`${Gt}/protected/api-keys`,"GET",void 0,"Failed to list API keys");return e.keys.sort((t,r)=>new Date(r.created_at).getTime()-new Date(t.created_at).getTime()),e}async function U$(e){const t=encodeURIComponent(e);return zt(`${Gt}/protected/api-keys/${t}`,"DELETE",void 0,"Failed to delete API key")}async function yE(e){if(e.size>rT)throw new Error(`File size exceeds maximum limit of ${rT/1024/1024}MB`);const t=await e.arrayBuffer(),r=new Uint8Array(t),n=oa(r),s={filename:e instanceof File?e.name:"document",content_base64:n};return zt(`${Gt}/v1/documents/upload`,"POST",s,"Failed to upload document")}async function vE(e){const t={task_id:e};return zt(`${Gt}/v1/documents/status`,"POST",t,"Failed to check document status")}async function z$(e,t){const{pollInterval:r=2e3,maxAttempts:n=150,onProgress:s}=t||{},i=await yE(e);let a=0;for(;a<n;){const o=await vE(i.task_id);switch(s&&s(o.status,o.progress),o.status){case"success":if(!o.document)throw new Error("Document processing succeeded but no document returned");return o.document;case"failure":throw new Error(o.error||"Document processing failed");case"pending":case"started":await pae(r),a++;break;default:throw new Error(`Unknown document status: ${o.status}`)}}throw new Error("Document processing timed out")}async function H$(e,t,r,n,s,i){const a=await e.arrayBuffer(),o=new Uint8Array(a),c=oa(o),u=e instanceof File?e.name:"audio",d=e.type||"audio/mpeg",h={file:c,filename:u,content_type:d,model:t||"whisper-large-v3",...r&&{language:r},...n&&{prompt:n},...s!==void 0&&{temperature:s}};return _$(`${Gt}/v1/audio/transcriptions`,"POST",h,"Failed to transcribe audio",i)}async function V$(e){let t=`${Gt}/v1/responses`;const r=[];return(e==null?void 0:e.limit)!==void 0&&r.push(`limit=${e.limit}`),e!=null&&e.after&&r.push(`after=${encodeURIComponent(e.after)}`),e!=null&&e.before&&r.push(`before=${encodeURIComponent(e.before)}`),e!=null&&e.order&&r.push(`order=${encodeURIComponent(e.order)}`),r.length>0&&(t+=`?${r.join("&")}`),zt(t,"GET",void 0,"Failed to list responses")}async function q$(e){return zt(`${Gt}/v1/responses/${encodeURIComponent(e)}`,"GET",void 0,"Failed to retrieve response")}async function W$(e){return zt(`${Gt}/v1/responses/${encodeURIComponent(e)}/cancel`,"POST",void 0,"Failed to cancel response")}async function G$(){return zt(`${Gt}/v1/conversations`,"DELETE",void 0,"Failed to delete conversations")}async function K$(e){let t=`${Gt}/v1/conversations`;const r=[];return(e==null?void 0:e.limit)!==void 0&&r.push(`limit=${e.limit}`),e!=null&&e.after&&r.push(`after=${encodeURIComponent(e.after)}`),e!=null&&e.before&&r.push(`before=${encodeURIComponent(e.before)}`),r.length>0&&(t+=`?${r.join("&")}`),zt(t,"GET",void 0,"Failed to list conversations")}async function Y$(e){return zt(`${Gt}/v1/responses`,"POST",e,"Failed to create response")}async function Z$(e){return zt(`${Gt}/v1/responses/${encodeURIComponent(e)}`,"DELETE",void 0,"Failed to delete response")}async function Q$(e){return zt(`${Gt}/v1/instructions`,"POST",e,"Failed to create instruction")}async function X$(e){let t=`${Gt}/v1/instructions`;const r=[];return(e==null?void 0:e.limit)!==void 0&&r.push(`limit=${e.limit}`),e!=null&&e.after&&r.push(`after=${encodeURIComponent(e.after)}`),e!=null&&e.before&&r.push(`before=${encodeURIComponent(e.before)}`),e!=null&&e.order&&r.push(`order=${encodeURIComponent(e.order)}`),r.length>0&&(t+=`?${r.join("&")}`),zt(t,"GET",void 0,"Failed to list instructions")}async function J$(e){return zt(`${Gt}/v1/instructions/${encodeURIComponent(e)}`,"GET",void 0,"Failed to retrieve instruction")}async function eF(e,t){return zt(`${Gt}/v1/instructions/${encodeURIComponent(e)}`,"POST",t,"Failed to update instruction")}async function tF(e){return zt(`${Gt}/v1/instructions/${encodeURIComponent(e)}`,"DELETE",void 0,"Failed to delete instruction")}async function rF(e){return zt(`${Gt}/v1/instructions/${encodeURIComponent(e)}/set-default`,"POST",void 0,"Failed to set default instruction")}function mae(e){return async(t,r)=>{var n,s;const i=()=>{if(e!=null&&e.apiKey)return`Bearer ${e.apiKey}`;const a=window.localStorage.getItem("access_token");if(!a)throw new Error("No access token or API key available");return`Bearer ${a}`};try{const a=new Headers(r==null?void 0:r.headers);a.set("Authorization",i());const{sessionKey:o,sessionId:c}=await Pp();if(!o||!c)throw new Error("No session key or ID available");a.set("x-session-id",c);const u={...r,headers:a};if(r!=null&&r.body){const f=sD(o,r.body);u.body=JSON.stringify({encrypted:f}),a.set("Content-Type","application/json")}let d=await fetch(t,u);if(d.status===401&&!(e!=null&&e.apiKey)&&(console.warn("Unauthorized, refreshing access token"),await p2(),a.set("Authorization",i()),u.headers=a,d=await fetch(t,u)),!d.ok){const f=await d.text();throw console.error("Request failed with response status:",d.status," and message:",f),new Error(`Request failed with status ${d.status}: ${f}`)}if((n=d.headers.get("content-type"))!=null&&n.includes("text/event-stream")){const f=(s=d.body)==null?void 0:s.getReader(),p=new TextDecoder;let m="";const g=new ReadableStream({async start(w){for(;;){const{done:y,value:v}=await f.read();if(y)break;const b=p.decode(v);m+=b;let k;for(;k=gae(m);){m=m.slice(k.length);const C=k.split(`
`);for(const A of C)if(A.trim().startsWith("event: "))w.enqueue(A+`
`);else if(A.trim().startsWith("data: ")){const R=A.slice(6).trim();if(R==="[DONE]")w.enqueue(`data: [DONE]

`);else try{const O=R6(o,R);w.enqueue(`data: ${O}
`)}catch(O){console.error("Decryption error:",O,"Data:",R),console.log("Skipping corrupted chunk")}}else A===""&&w.enqueue(`
`)}}w.close()}});return new Response(g,{headers:d.headers,status:d.status,statusText:d.statusText})}const h=await d.text();try{const f=JSON.parse(h);if(f.encrypted){const p=R6(o,f.encrypted);try{const m=JSON.parse(p);if(m.content_base64&&m.content_type){console.log("TTS response detected with content_type:",m.content_type);let g;try{const y=atob(m.content_base64);g=new Uint8Array(y.length);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v)}catch(y){throw console.error("Failed to decode base64 audio data:",y),new Error("Invalid base64 audio data in TTS response")}console.log("Decoded audio bytes length:",g.length);const w=new Headers(d.headers);return w.set("content-type",m.content_type),w.delete("content-encoding"),w.delete("content-length"),w.delete("transfer-encoding"),new Response(g,{headers:w,status:d.status,statusText:d.statusText})}}catch{}return new Response(p,{headers:d.headers,status:d.status,statusText:d.statusText})}}catch{console.log("Response is not encrypted JSON, returning as-is")}return new Response(h,{headers:d.headers,status:d.status,statusText:d.statusText})}catch(a){throw console.error("Error during fetch process:",a),a}}}function gae(e){const t=e.indexOf(`

`);return t===-1?null:e.slice(0,t+2)}const yae=["eeddbb58f57c38894d6d5af5e575fbe791c5bf3bbcfb5df8da8cfcf0c2e1da1913108e6a762112444740b88c163d7f4b","74ed417f88cb0ca76c4a3d10f278bd010f1d3f95eafb254d4732511bb50e404507a4049b779c5230137e4091a5582271","9043fcab93b972d3c14ad2dc8fa78ca7ad374fc937c02435681772a003f7a72876bc4d578089b5c4cf3fe9b480f1aabb","52c3595b151d93d8b159c257301bfd5aa6f49210de0c55a6cd6df5ebeee44e4206cab950500f5d188f7fa14e6d900b75","91cb67311e910cce68cd5b7d0de77aa40610d87c6681439b44c46c3ff786ae643956ab2c812478a1da8745b259f07a45","859065ac81b81d3735130ba08b8af72a7256b603fefb74faabae25ed28cca6edcaa7c10ea32b5948d675c18a9b0f2b1d","acd82a7d3943e23e95a9dc3ce0b0107ea358d6287f9e3afa245622f7c7e3e0a66142a928b6efcc02f594a95366d3a99d"],vae=["62c0407056217a4c10764ed9045694c29fa93255d3cc04c2f989cdd9a1f8050c8b169714c71f1118ebce2fcc9951d1a9","cb95519905443f9f66f05f63c548b61ad1561a27fd5717b69285861aaea3c3063fe12a2571773b67fea3c6c11b4d8ec6","deb5895831b5e4286f5a2dcf5e9c27383821446f8df2b465f141d10743599be20ba3bb381ce063bf7139cc89f7f61d4c","70ba26c6af1ec3b57ce80e1adcc0ee96d70224d4c7a078f427895cdf68e1c30f09b5ac4c456588d872f3f21ff77c036b","669404ea71435b8f498b48db7816a5c2ab1d258b1a77685b11d84d15a73189504d79c4dee13a658de9f4a0cbfc39cfe8","a791bf92c25ffdfd372660e460a0e238c6778c090672df6509ae4bc065cf8668b6baac6b6a11d554af53ee0ff0172ad5","c4285443b87b9b12a6cea3bef1064ec060f652b235a297095975af8f134e5ed65f92d70d4616fdec80af9dff48bb9f35"],xae="MHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEHiUY9kFWK1GqBGzczohhwEwElXzgWLDZa9R6wBx3JOBocgSt9+UIzZlJbPDjYeGBfDUXh7Z62BG2vVsh2NgclLB5S7A2ucBBtb1wd8vSQHP8jpdPhZX1slauPgbnROIP",bae={prod:"https://raw.githubusercontent.com/OpenSecretCloud/opensecret/master/pcrProdHistory.json",dev:"https://raw.githubusercontent.com/OpenSecretCloud/opensecret/master/pcrDevHistory.json"};async function wae(){try{const e=new Uint8Array(atob(xae).split("").map(t=>t.charCodeAt(0)));return await crypto.subtle.importKey("spki",e,{name:"ECDSA",namedCurve:"P-384"},!1,["verify"])}catch(e){throw console.error("Error importing verification key:",e),new Error("Failed to import PCR verification key")}}async function kae(e,t){try{const r=(t==null?void 0:t[e])||bae[e],n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch PCR history: ${n.status}`);return await n.json()}catch(r){throw console.error("Error fetching PCR history:",r),new Error("Failed to fetch PCR history")}}async function Sae(e,t,r){try{const n=new TextEncoder().encode(e),s=new Uint8Array(atob(t).split("").map(i=>i.charCodeAt(0)));return await crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-384"}},r,s,n)}catch(n){return console.error("Signature verification error:",n),!1}}async function nT(e,t,r){try{const n=await wae(),s=await kae(t,r);for(const i of s)if(i.PCR0===e&&await Sae(i.PCR0,i.signature,n))return{isMatch:!0,text:"PCR0 matches remotely attested value",verifiedAt:new Date(i.timestamp*1e3).toLocaleString()};return null}catch(n){return console.error("PCR remote validation error:",n),null}}async function _ae(e,t){const r=[...(t==null?void 0:t.pcr0Values)||[],...yae],n=[...(t==null?void 0:t.pcr0DevValues)||[],...vae];if(r.includes(e))return{isMatch:!0,text:"PCR0 matches a known good value"};if(n.includes(e))return{isMatch:!0,text:"PCR0 matches development enclave"};if((t==null?void 0:t.remoteAttestation)!==!1)try{const s=await nT(e,"prod",t==null?void 0:t.remoteAttestationUrls);if(s)return s;const i=await nT(e,"dev",t==null?void 0:t.remoteAttestationUrls);if(i)return i}catch(s){console.error("Error during remote PCR validation:",s)}return{isMatch:!1,text:"PCR0 does not match a known good value"}}const fb=ub,xE="641a0321a3e244efe456463195d606317ed7cdcc3c1756e09893f3c68f79bb5b";function nF(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function Eae(e){const t=await crypto.subtle.digest("SHA-256",e);return nF(new Uint8Array(t))}async function pb(e,t,r){console.log("Raw timestamp:",e.timestamp),console.log("Date object:",new Date(e.timestamp));const n=Array.from(e.pcrs.entries()).map(([d,h])=>({id:d,value:nF(h)})).filter(d=>!d.value.match(/^0+$/)),s=n.find(d=>d.id===0);let i=null;s&&(i=await _ae(s.value,r));const a=[...t,e.certificate].map(d=>{const h=new fh(d);return{subject:h.subject,notBefore:h.notBefore.toLocaleString(),notAfter:h.notAfter.toLocaleString(),pem:h.toString("pem"),isRoot:h.subject==="C=US, O=Amazon, OU=AWS, CN=aws.nitro-enclaves"}}),o=new TextDecoder,c=new fh(t[0]),u=await Eae(c.rawData);return{moduleId:e.module_id,publicKey:e.public_key?oa(e.public_key):null,timestamp:new Date(e.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}),digest:e.digest,pcrs:n,certificates:a,userData:e.user_data?o.decode(e.user_data):null,nonce:e.nonce?o.decode(e.nonce):null,cert0hash:u,validatedPcr0Hash:i}}const sF=x.createContext({auth:{loading:!0,user:void 0},clientId:"",apiKey:void 0,setApiKey:()=>{},signIn:async()=>{},signUp:async()=>{},signInGuest:async()=>{},signUpGuest:async()=>({id:"",email:void 0,access_token:"",refresh_token:""}),convertGuestToUserAccount:async()=>{},signOut:async()=>{},get:A$,put:E$,list:T$,del:N$,delAll:C$,verifyEmail:R$,requestNewVerificationCode:hb,requestNewVerificationEmail:hb,refetchUser:async()=>{},changePassword:I$,refreshAccessToken:p2,requestPasswordReset:async()=>{},confirmPasswordReset:async()=>{},requestAccountDeletion:async()=>{},confirmAccountDeletion:async()=>{},initiateGitHubAuth:async()=>({auth_url:"",csrf_token:""}),handleGitHubCallback:async()=>{},initiateGoogleAuth:async()=>({auth_url:"",csrf_token:""}),handleGoogleCallback:async()=>{},initiateAppleAuth:async()=>({auth_url:"",state:""}),handleAppleCallback:async()=>{},handleAppleNativeSignIn:async()=>{},getPrivateKey:j$,getPrivateKeyBytes:M$,getPublicKey:O$,signMessage:P$,aiCustomFetch:async()=>new Response,apiUrl:"",pcrConfig:{},getAttestation:Pp,authenticate:gg,parseAttestationForView:pb,awsRootCertDer:fb,expectedRootCertHash:xE,getAttestationDocument:async()=>{throw new Error("getAttestationDocument called outside of OpenSecretProvider")},generateThirdPartyToken:async()=>({token:""}),encryptData:D$,decryptData:L$,fetchModels:$$,uploadDocument:yE,checkDocumentStatus:vE,uploadDocumentWithPolling:z$,createApiKey:F$,listApiKeys:B$,deleteApiKey:U$,transcribeAudio:H$,fetchResponsesList:V$,fetchResponse:q$,cancelResponse:W$,deleteResponse:Z$,createResponse:Y$,listConversations:K$,deleteConversations:G$,createInstruction:Q$,listInstructions:X$,getInstruction:J$,updateInstruction:eF,deleteInstruction:tF,setDefaultInstruction:rF});function Nae({children:e,apiUrl:t,clientId:r,pcrConfig:n={}}){const[s,i]=x.useState({loading:!0,user:void 0}),[a,o]=x.useState(),[c,u]=x.useState(),d=b=>{if(b===void 0){o(void 0);return}const k=b.trim();if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(k)){console.warn("setApiKey: provided key does not look like a UUID; clearing apiKey"),o(void 0);return}o(k)};x.useEffect(()=>{if(!t||t.trim()==="")throw new Error("OpenSecretProvider requires a non-empty apiUrl. Please provide a valid API endpoint URL.");if(!r||r.trim()==="")throw new Error("OpenSecretProvider requires a non-empty clientId. Please provide a valid project UUID.");qie(t),Promise.resolve().then(()=>Vie).then(({apiConfig:b})=>{const k=b.platformApiUrl||"";b.configure(t,k)})},[t,r]),x.useEffect(()=>{u(t?()=>mae(a?{apiKey:a}:void 0):void 0)},[t,a]);async function h(){const b=window.localStorage.getItem("access_token"),k=window.localStorage.getItem("refresh_token");if(!b||!k){i({loading:!1,user:void 0});return}try{const C=await Qie();i({loading:!1,user:C})}catch(C){console.error("Failed to fetch user:",C),i({loading:!1,user:void 0})}}x.useEffect(()=>{h()},[]);async function f(b,k){console.log("Signing in");try{const{access_token:C,refresh_token:A}=await Gie(b,k,r);window.localStorage.setItem("access_token",C),window.localStorage.setItem("refresh_token",A),d(void 0),await h()}catch(C){throw console.error(C),C}}async function p(b,k,C,A){try{const{access_token:R,refresh_token:O}=await Yie(b,k,C,r,A||null);window.localStorage.setItem("access_token",R),window.localStorage.setItem("refresh_token",O),d(void 0),await h()}catch(R){throw console.error(R),R}}async function m(b,k){console.log("Signing in Guest");try{const{access_token:C,refresh_token:A}=await Kie(b,k,r);window.localStorage.setItem("access_token",C),window.localStorage.setItem("refresh_token",A),d(void 0),await h()}catch(C){throw console.error(C),C}}async function g(b,k){try{const{access_token:C,refresh_token:A,id:R}=await Zie(b,k,r);return window.localStorage.setItem("access_token",C),window.localStorage.setItem("refresh_token",A),d(void 0),await h(),{access_token:C,refresh_token:A,id:R}}catch(C){throw console.error(C),C}}async function w(b,k,C){try{await uae(b,k,C),await h()}catch(A){throw console.error(A),A}}async function y(){const b=window.localStorage.getItem("refresh_token");if(b)try{await Xie(b)}catch(k){console.error("Error during logout:",k)}localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),sessionStorage.removeItem("sessionKey"),sessionStorage.removeItem("sessionId"),d(void 0),i({loading:!1,user:void 0})}const v={auth:s,clientId:r,apiKey:a,setApiKey:d,signIn:f,signInGuest:m,signOut:y,signUp:p,signUpGuest:g,convertGuestToUserAccount:w,get:A$,put:E$,list:T$,del:N$,delAll:C$,refetchUser:h,verifyEmail:R$,requestNewVerificationCode:hb,requestNewVerificationEmail:hb,changePassword:I$,refreshAccessToken:p2,requestPasswordReset:(b,k)=>tae(b,k,r),confirmPasswordReset:(b,k,C,A)=>rae(b,k,C,A,r),requestAccountDeletion:hae,confirmAccountDeletion:fae,initiateGitHubAuth:async b=>{try{return await nae(r,b)}catch(k){throw console.error("Failed to initiate GitHub auth:",k),k}},handleGitHubCallback:async(b,k,C)=>{try{const{access_token:A,refresh_token:R}=await sae(b,k,C);window.localStorage.setItem("access_token",A),window.localStorage.setItem("refresh_token",R),d(void 0),await h()}catch(A){throw console.error("GitHub callback error:",A),A}},initiateGoogleAuth:async b=>{try{return await iae(r,b)}catch(k){throw console.error("Failed to initiate Google auth:",k),k}},handleGoogleCallback:async(b,k,C)=>{try{const{access_token:A,refresh_token:R}=await aae(b,k,C);window.localStorage.setItem("access_token",A),window.localStorage.setItem("refresh_token",R),d(void 0),await h()}catch(A){throw console.error("Google callback error:",A),A}},initiateAppleAuth:async b=>{try{return await oae(r,b)}catch(k){throw console.error("Failed to initiate Apple auth:",k),k}},handleAppleCallback:async(b,k,C)=>{try{const{access_token:A,refresh_token:R}=await lae(b,k,C);window.localStorage.setItem("access_token",A),window.localStorage.setItem("refresh_token",R),d(void 0),await h()}catch(A){throw console.error("Apple callback error:",A),A}},handleAppleNativeSignIn:async(b,k)=>{try{const{access_token:C,refresh_token:A}=await cae(b,r,k);window.localStorage.setItem("access_token",C),window.localStorage.setItem("refresh_token",A),d(void 0),await h()}catch(C){throw console.error("Apple native sign-in error:",C),C}},getPrivateKey:j$,getPrivateKeyBytes:M$,getPublicKey:O$,signMessage:P$,aiCustomFetch:c||(async()=>new Response),apiUrl:t,pcrConfig:n,getAttestation:Pp,authenticate:gg,parseAttestationForView:pb,awsRootCertDer:fb,expectedRootCertHash:xE,getAttestationDocument:async()=>{const b=window.crypto.randomUUID(),k=await fetch(`${t}/attestation/${b}`);if(!k.ok)throw new Error("Failed to fetch attestation document");const C=await k.json(),A=await gg(C.attestation_document,fb,b);return pb(A,A.cabundle,n)},generateThirdPartyToken:dae,encryptData:D$,decryptData:L$,fetchModels:$$,uploadDocument:yE,checkDocumentStatus:vE,uploadDocumentWithPolling:z$,createApiKey:F$,listApiKeys:B$,deleteApiKey:U$,transcribeAudio:H$,fetchResponsesList:V$,fetchResponse:q$,cancelResponse:W$,deleteResponse:Z$,createResponse:Y$,listConversations:K$,deleteConversations:G$,createInstruction:Q$,listInstructions:X$,getInstruction:J$,updateInstruction:eF,deleteInstruction:tF,setDefaultInstruction:rF};return l.jsx(sF.Provider,{value:v,children:e})}x.createContext({auth:{loading:!0,developer:void 0},signIn:async()=>{throw new Error("signIn called outside of OpenSecretDeveloper provider")},signUp:async()=>{throw new Error("signUp called outside of OpenSecretDeveloper provider")},signOut:async()=>{throw new Error("signOut called outside of OpenSecretDeveloper provider")},refetchDeveloper:async()=>{throw new Error("refetchDeveloper called outside of OpenSecretDeveloper provider")},verifyEmail:Fie,requestNewVerificationCode:tT,requestNewVerificationEmail:tT,requestPasswordReset:Bie,confirmPasswordReset:Uie,changePassword:zie,pcrConfig:{},getAttestation:Pp,authenticate:gg,parseAttestationForView:pb,awsRootCertDer:fb,expectedRootCertHash:xE,getAttestationDocument:async()=>{throw new Error("getAttestationDocument called outside of OpenSecretDeveloper provider")},createOrganization:mie,listOrganizations:gie,deleteOrganization:yie,createProject:vie,listProjects:xie,getProject:bie,updateProject:wie,deleteProject:kie,createProjectSecret:_ie,listProjectSecrets:Eie,deleteProjectSecret:Nie,getEmailSettings:Cie,updateEmailSettings:Aie,getOAuthSettings:Tie,updateOAuthSettings:Rie,inviteDeveloper:Iie,listOrganizationMembers:Oie,listOrganizationInvites:jie,getOrganizationInvite:Mie,deleteOrganizationInvite:Pie,updateMemberRole:Die,removeMember:Lie,acceptInvite:$ie,apiUrl:""});function qr(){return x.useContext(sF)}function iF(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}async function aF(e){const t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}function Cae({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Aae({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,o=as(r),c=x.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[i,e,s,o]);return[a,c]}function Aae({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),i=as(t);return x.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var i5="focusScope.autoFocusOnMount",a5="focusScope.autoFocusOnUnmount",sT={bubbles:!1,cancelable:!0},Tae="FocusScope",m2=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,c]=x.useState(null),u=as(s),d=as(i),h=x.useRef(null),f=Xr(t,g=>c(g)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(b){if(p.paused||!o)return;const k=b.target;o.contains(k)?h.current=k:Bc(h.current,{select:!0})},w=function(b){if(p.paused||!o)return;const k=b.relatedTarget;k!==null&&(o.contains(k)||Bc(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Bc(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,o,p.paused]),x.useEffect(()=>{if(o){aT.add(p);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(i5,sT);o.addEventListener(i5,u),o.dispatchEvent(y),y.defaultPrevented||(Rae(Oae(oF(o)),{select:!0}),document.activeElement===g&&Bc(o))}return()=>{o.removeEventListener(i5,u),setTimeout(()=>{const y=new CustomEvent(a5,sT);o.addEventListener(a5,d),o.dispatchEvent(y),y.defaultPrevented||Bc(g??document.body,{select:!0}),o.removeEventListener(a5,d),aT.remove(p)},0)}}},[o,u,d,p]);const m=x.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,k]=Iae(v);b&&k?!g.shiftKey&&y===k?(g.preventDefault(),r&&Bc(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Bc(k,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(Ur.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});m2.displayName=Tae;function Rae(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bc(n,{select:t}),document.activeElement!==r)return}function Iae(e){const t=oF(e),r=iT(t,e),n=iT(t.reverse(),e);return[r,n]}function oF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iT(e,t){for(const r of e)if(!jae(r,{upTo:t}))return r}function jae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mae(e){return e instanceof HTMLInputElement&&"select"in e}function Bc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mae(e)&&t&&e.select()}}var aT=Pae();function Pae(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=oT(e,t),e.unshift(t)},remove(t){var r;e=oT(e,t),(r=e[0])==null||r.resume()}}}function oT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Oae(e){return e.filter(t=>t.tagName!=="A")}function Dae(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var g2=e=>{const{present:t,children:r}=e,n=Lae(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Xr(n.ref,$ae(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};g2.displayName="Presence";function Lae(e){const[t,r]=x.useState(),n=x.useRef({}),s=x.useRef(e),i=x.useRef("none"),a=e?"mounted":"unmounted",[o,c]=Dae(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=ly(n.current);i.current=o==="mounted"?u:"none"},[o]),os(()=>{const u=n.current,d=s.current;if(d!==e){const f=i.current,p=ly(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),os(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=ly(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=p=>{p.target===t&&(i.current=ly(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function ly(e){return(e==null?void 0:e.animationName)||"none"}function $ae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var o5=0;function bE(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lT()),document.body.insertAdjacentElement("beforeend",e[1]??lT()),o5++,()=>{o5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),o5--}},[])}function lT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zo=function(){return Zo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zo.apply(this,arguments)};function lF(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Fae(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var fv="right-scroll-bar-position",pv="width-before-scroll-bar",Bae="with-scroll-bars-hidden",Uae="--removed-body-scroll-bar-size";function l5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zae(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Hae=typeof window<"u"?x.useLayoutEffect:x.useEffect,cT=new WeakMap;function Vae(e,t){var r=zae(null,function(n){return e.forEach(function(s){return l5(s,n)})});return Hae(function(){var n=cT.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(o){i.has(o)||l5(o,null)}),i.forEach(function(o){s.has(o)||l5(o,a)})}cT.set(r,e)},[e]),r}function qae(e){return e}function Wae(e,t){t===void 0&&(t=qae);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function Gae(e){e===void 0&&(e={});var t=Wae(null);return t.options=Zo({async:!0,ssr:!1},e),t}var cF=function(e){var t=e.sideCar,r=lF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Zo({},r))};cF.isSideCarExport=!0;function Kae(e,t){return e.useMedium(t),cF}var uF=Gae(),c5=function(){},y2=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:c5,onWheelCapture:c5,onTouchMoveCapture:c5}),s=n[0],i=n[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=lF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,C=Vae([r,t]),A=Zo(Zo({},b),s);return x.createElement(x.Fragment,null,d&&x.createElement(k,{sideCar:uF,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:v}),a?x.cloneElement(x.Children.only(o),Zo(Zo({},A),{ref:C})):x.createElement(y,Zo({},A,{className:c,ref:C}),o))});y2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y2.classNames={fullWidth:pv,zeroRight:fv};var Yae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Yae();return t&&e.setAttribute("nonce",t),e}function Qae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jae=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zae())&&(Qae(t,r),Xae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eoe=function(){var e=Jae();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dF=function(){var e=eoe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},toe={left:0,top:0,right:0,gap:0},u5=function(e){return parseInt(e||"",10)||0},roe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[u5(r),u5(n),u5(s)]},noe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return toe;var t=roe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},soe=dF(),Uf="data-scroll-locked",ioe=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Bae,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Uf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(pv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(fv," .").concat(fv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Uf,`] {
    `).concat(Uae,": ").concat(o,`px;
  }
`)},uT=function(){var e=parseInt(document.body.getAttribute(Uf)||"0",10);return isFinite(e)?e:0},aoe=function(){x.useEffect(function(){return document.body.setAttribute(Uf,(uT()+1).toString()),function(){var e=uT()-1;e<=0?document.body.removeAttribute(Uf):document.body.setAttribute(Uf,e.toString())}},[])},ooe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;aoe();var i=x.useMemo(function(){return noe(s)},[s]);return x.createElement(soe,{styles:ioe(i,!t,s,r?"":"!important")})},rS=!1;if(typeof window<"u")try{var cy=Object.defineProperty({},"passive",{get:function(){return rS=!0,!0}});window.addEventListener("test",cy,cy),window.removeEventListener("test",cy,cy)}catch{rS=!1}var Bh=rS?{passive:!1}:!1,loe=function(e){return e.tagName==="TEXTAREA"},hF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!loe(e)&&r[t]==="visible")},coe=function(e){return hF(e,"overflowY")},uoe=function(e){return hF(e,"overflowX")},dT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=fF(e,n);if(s){var i=pF(e,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},doe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},hoe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fF=function(e,t){return e==="v"?coe(t):uoe(t)},pF=function(e,t){return e==="v"?doe(t):hoe(t)},foe=function(e,t){return e==="h"&&t==="rtl"?-1:1},poe=function(e,t,r,n,s){var i=foe(e,window.getComputedStyle(t).direction),a=i*n,o=r.target,c=t.contains(o),u=!1,d=a>0,h=0,f=0;do{var p=pF(e,o),m=p[0],g=p[1],w=p[2],y=g-w-i*m;(m||y)&&fF(e,o)&&(h+=y,f+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},uy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hT=function(e){return[e.deltaX,e.deltaY]},fT=function(e){return e&&"current"in e?e.current:e},moe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},goe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yoe=0,Uh=[];function voe(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(yoe++)[0],i=x.useState(dF)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Fae([e.lockRef.current],(e.shards||[]).map(fT),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=x.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=uy(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],k="deltaY"in g?g.deltaY:v[1]-y[1],C,A=g.target,R=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in g&&R==="h"&&A.type==="range")return!1;var O=dT(R,A);if(!O)return!0;if(O?C=R:(C=R==="v"?"h":"v",O=dT(R,A)),!O)return!1;if(!n.current&&"changedTouches"in g&&(b||k)&&(n.current=C),!C)return!0;var F=n.current||C;return poe(F,w,g,F==="h"?b:k)},[]),c=x.useCallback(function(g){var w=g;if(!(!Uh.length||Uh[Uh.length-1]!==i)){var y="deltaY"in w?hT(w):uy(w),v=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&moe(C.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(a.current.shards||[]).map(fT).filter(Boolean).filter(function(C){return C.contains(w.target)}),k=b.length>0?o(w,b[0]):!a.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),u=x.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:xoe(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),d=x.useCallback(function(g){r.current=uy(g),n.current=void 0},[]),h=x.useCallback(function(g){u(g.type,hT(g),g.target,o(g,e.lockRef.current))},[]),f=x.useCallback(function(g){u(g.type,uy(g),g.target,o(g,e.lockRef.current))},[]);x.useEffect(function(){return Uh.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Bh),document.addEventListener("touchmove",c,Bh),document.addEventListener("touchstart",d,Bh),function(){Uh=Uh.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Bh),document.removeEventListener("touchmove",c,Bh),document.removeEventListener("touchstart",d,Bh)}},[]);var p=e.removeScrollBar,m=e.inert;return x.createElement(x.Fragment,null,m?x.createElement(i,{styles:goe(s)}):null,p?x.createElement(ooe,{gapMode:e.gapMode}):null)}function xoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const boe=Kae(uF,voe);var v2=x.forwardRef(function(e,t){return x.createElement(y2,Zo({},e,{ref:t,sideCar:boe}))});v2.classNames=y2.classNames;var woe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zh=new WeakMap,dy=new WeakMap,hy={},d5=0,mF=function(e){return e&&(e.host||mF(e.parentNode))},koe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=mF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Soe=function(e,t,r,n){var s=koe(t,Array.isArray(e)?e:[e]);hy[r]||(hy[r]=new WeakMap);var i=hy[r],a=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),m=p!==null&&p!=="false",g=(zh.get(f)||0)+1,w=(i.get(f)||0)+1;zh.set(f,g),i.set(f,w),a.push(f),g===1&&m&&dy.set(f,!0),w===1&&f.setAttribute(r,"true"),m||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),o.clear(),d5++,function(){a.forEach(function(h){var f=zh.get(h)-1,p=i.get(h)-1;zh.set(h,f),i.set(h,p),f||(dy.has(h)||h.removeAttribute(n),dy.delete(h)),p||h.removeAttribute(r)}),d5--,d5||(zh=new WeakMap,zh=new WeakMap,dy=new WeakMap,hy={})}},wE=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=woe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Soe(n,s,r,"aria-hidden")):function(){return null}},kE="Dialog",[gF,yF]=pl(kE),[_oe,Io]=gF(kE),vF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=x.useRef(null),c=x.useRef(null),[u=!1,d]=Cae({prop:n,defaultProp:s,onChange:i});return l.jsx(_oe,{scope:t,triggerRef:o,contentRef:c,contentId:Gl(),titleId:Gl(),descriptionId:Gl(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};vF.displayName=kE;var xF="DialogTrigger",bF=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Io(xF,r),i=Xr(t,s.triggerRef);return l.jsx(Ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":EE(s.open),...n,ref:i,onClick:Dt(e.onClick,s.onOpenToggle)})});bF.displayName=xF;var SE="DialogPortal",[Eoe,wF]=gF(SE,{forceMount:void 0}),kF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Io(SE,t);return l.jsx(Eoe,{scope:t,forceMount:r,children:x.Children.map(n,a=>l.jsx(g2,{present:r||i.open,children:l.jsx(fw,{asChild:!0,container:s,children:a})}))})};kF.displayName=SE;var mb="DialogOverlay",SF=x.forwardRef((e,t)=>{const r=wF(mb,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Io(mb,e.__scopeDialog);return i.modal?l.jsx(g2,{present:n||i.open,children:l.jsx(Noe,{...s,ref:t})}):null});SF.displayName=mb;var Noe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Io(mb,r);return l.jsx(v2,{as:Iu,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Ur.div,{"data-state":EE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),yh="DialogContent",_F=x.forwardRef((e,t)=>{const r=wF(yh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Io(yh,e.__scopeDialog);return l.jsx(g2,{present:n||i.open,children:i.modal?l.jsx(Coe,{...s,ref:t}):l.jsx(Aoe,{...s,ref:t})})});_F.displayName=yh;var Coe=x.forwardRef((e,t)=>{const r=Io(yh,e.__scopeDialog),n=x.useRef(null),s=Xr(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return wE(i)},[]),l.jsx(EF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dt(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Dt(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:Dt(e.onFocusOutside,i=>i.preventDefault())})}),Aoe=x.forwardRef((e,t)=>{const r=Io(yh,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return l.jsx(EF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),EF=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=Io(yh,r),c=x.useRef(null),u=Xr(t,c);return bE(),l.jsxs(l.Fragment,{children:[l.jsx(m2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(qg,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":EE(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Roe,{titleId:o.titleId}),l.jsx(joe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),_E="DialogTitle",NF=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Io(_E,r);return l.jsx(Ur.h2,{id:s.titleId,...n,ref:t})});NF.displayName=_E;var CF="DialogDescription",AF=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Io(CF,r);return l.jsx(Ur.p,{id:s.descriptionId,...n,ref:t})});AF.displayName=CF;var TF="DialogClose",RF=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Io(TF,r);return l.jsx(Ur.button,{type:"button",...n,ref:t,onClick:Dt(e.onClick,()=>s.onOpenChange(!1))})});RF.displayName=TF;function EE(e){return e?"open":"closed"}var IF="DialogTitleWarning",[Toe,jF]=bZ(IF,{contentName:yh,titleName:_E,docsSlug:"dialog"}),Roe=({titleId:e})=>{const t=jF(IF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ioe="DialogDescriptionWarning",joe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jF(Ioe).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},MF=vF,PF=bF,OF=kF,NE=SF,CE=_F,AE=NF,TE=AF,RE=RF;/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DF=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Poe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},c)=>x.createElement("svg",{ref:c,...Poe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DF("lucide",s),...o},[...a.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(Ooe,{ref:i,iconNode:t,className:DF(`lucide-${Moe(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=ft("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ft("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ft("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ft("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=ft("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=ft("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=ft("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ft("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=ft("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=ft("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ft("CornerRightUp",[["polyline",{points:"10 9 15 4 20 9",key:"1lr6px"}],["path",{d:"M4 20h7a4 4 0 0 0 4-4V4",key:"1plgdj"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ft("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ft("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=ft("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ft("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=ft("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=ft("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ft("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=ft("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=ft("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ft("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=ft("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ft("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=ft("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ft("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=ft("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=ft("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=ft("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=ft("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ft("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ft("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ft("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=ft("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ft("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=ft("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ft("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ft("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=ft("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=ft("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=ft("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ns=MF,VF=PF,dle=OF,qF=x.forwardRef(({className:e,...t},r)=>l.jsx(NE,{ref:r,className:Ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qF.displayName=NE.displayName;const Xn=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(dle,{children:[l.jsx(qF,{}),l.jsxs(CE,{ref:n,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(RE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Jn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xn.displayName=CE.displayName;const pn=({className:e,...t})=>l.jsx("div",{className:Ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pn.displayName="DialogHeader";const Rs=({className:e,...t})=>l.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rs.displayName="DialogFooter";const mn=x.forwardRef(({className:e,...t},r)=>l.jsx(AE,{ref:r,className:Ht("text-lg font-semibold leading-none tracking-tight",e),...t}));mn.displayName=AE.displayName;const Pn=x.forwardRef(({className:e,...t},r)=>l.jsx(TE,{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Pn.displayName=TE.displayName;const vT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xT=kO,S2=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return xT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=vT(d)||vT(h);return s[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(m=>{let[g,w]=m;return Array.isArray(w)?w.includes({...i,...o}[g]):{...i,...o}[g]===w})?[...u,h,f]:u},[]);return xT(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},OE=S2("hover:backdrop-blur-xs inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors transition-opacity focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary backdrop-blur-xs text-primary-foreground hover:bg-primary/90 active:bg-primary/80",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-[hsl(var(--purple))]/20 hover:border-[hsl(var(--purple))]/80 bg-background/80 hover:bg-background/80 hover:text-foreground dark:text-foreground dark:hover:text-white dark:hover:bg-[hsl(var(--purple))]/20 dark:border-[hsl(var(--blue))]/20 dark:hover:border-[hsl(var(--blue))]/80 dark:focus:text-white dark:active:text-white transition-all duration-300",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-[hsl(var(--purple))]/20 dark:hover:text-white",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,onClick:s=()=>{},...i},a)=>{const o=n?Iu:"button",c=x.useCallback(s,[s]);return l.jsx(o,{className:Ht(OE({variant:t,size:r,className:e})),ref:a,onClick:c,...i})});Me.displayName="Button";function hle({open:e,onOpenChange:t,onConfirm:r,url:n}){const s=i=>{i.preventDefault(),r(),t(!1)};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Open External Link?"}),l.jsxs(Pn,{children:["You are about to open an external URL in your browser:",l.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md break-all text-sm font-mono",children:n})]})]}),l.jsxs(Rs,{children:[l.jsx(Me,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Me,{onClick:s,children:"Open"})]})]})})}const fle="modulepreload",ple=function(e){return"/"+e},bT={},qi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ple(c),c in bT)return;bT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":fle,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};let Js=null;const mle=(async()=>{try{if(await qi(()=>Promise.resolve().then(()=>xo),void 0).then(t=>t.isTauri()).catch(()=>!1))try{const{type:t}=await qi(async()=>{const{type:n}=await import("./index-dAUlD-zt.js");return{type:n}},[]),r=await t();Js={platform:r,isTauri:!0,isIOS:r==="ios",isAndroid:r==="android",isMobile:r==="ios"||r==="android",isDesktop:r==="macos"||r==="windows"||r==="linux",isMacOS:r==="macos",isWindows:r==="windows",isLinux:r==="linux",isWeb:!1,isTauriDesktop:r==="macos"||r==="windows"||r==="linux",isTauriMobile:r==="ios"||r==="android"},console.log("[Platform] Detected Tauri environment:",r)}catch(t){console.error("[Platform] Failed to get Tauri platform type:",t),Js={platform:"linux",isTauri:!0,isIOS:!1,isAndroid:!1,isMobile:!1,isDesktop:!0,isMacOS:!1,isWindows:!1,isLinux:!0,isWeb:!1,isTauriDesktop:!0,isTauriMobile:!1}}else Js={platform:"web",isTauri:!1,isIOS:!1,isAndroid:!1,isMobile:!1,isDesktop:!1,isMacOS:!1,isWindows:!1,isLinux:!1,isWeb:!0,isTauriDesktop:!1,isTauriMobile:!1},console.log("[Platform] Detected web environment")}catch(e){console.error("[Platform] Critical error during platform detection:",e),Js={platform:"web",isTauri:!1,isIOS:!1,isAndroid:!1,isMobile:!1,isDesktop:!1,isMacOS:!1,isWindows:!1,isLinux:!1,isWeb:!0,isTauriDesktop:!1,isTauriMobile:!1}}Object.freeze(Js)})();async function gle(){if(await mle,!Js)throw new Error("[Platform] Fatal: Platform detection failed completely")}function Ao(){if(!Js)throw new Error("[Platform] Platform not initialized");return Js.isTauri}function d1(){if(!Js)throw new Error("[Platform] Platform not initialized");return Js.isIOS}function yle(){if(!Js)throw new Error("[Platform] Platform not initialized");return Js.isAndroid}function Jl(){if(!Js)throw new Error("[Platform] Platform not initialized");return Js.isMobile}function WF(){if(!Js)throw new Error("[Platform] Platform not initialized");return Js.isTauriDesktop}let cS=null;function wT(e){cS=e}async function GF(e){try{if(Ao()){const{openUrl:t}=await qi(async()=>{const{openUrl:r}=await import("./index-CEum9vKB.js");return{openUrl:r}},[]);await t(e)}else if(!window.open(e,"_blank","noopener,noreferrer"))throw new Error("Failed to open URL - popup may be blocked")}catch(t){console.error("Failed to open URL:",e,t);try{window.open(e,"_blank","noopener,noreferrer")||console.error("Fallback window.open was also blocked")}catch(r){console.error("Fallback also failed:",r)}}}function vle(e){cS?cS(e):(console.warn("URL confirmation callback not set, opening directly"),GF(e))}function xle(){const[e,t]=x.useState(null);x.useEffect(()=>(wT(s=>{t(i=>i!==null?i:s)}),()=>wT(null)),[]);const r=()=>{e&&(GF(e),t(null))};return l.jsx(hle,{open:e!==null,onOpenChange:n=>!n&&t(null),onConfirm:r,url:e||""})}const Is=BJ()({component:ble,validateSearch:e=>({login:typeof e.login=="string"?e.login:void 0,next:typeof e.next=="string"?e.next:void 0,selected_plan:typeof e.selected_plan=="string"?e.selected_plan:void 0,success:typeof e.success=="boolean"?e.success:void 0,canceled:typeof e.canceled=="boolean"?e.canceled:void 0,provider:typeof e.provider=="string"?e.provider:void 0})});function ble(){const{auth:e}=qr();return e.loading?l.jsx(l.Fragment,{}):l.jsxs(l.Fragment,{children:[l.jsx(y_,{}),l.jsx(xle,{})]})}function la(){const e=qr(),t=ws(),r=See(),[n,s]=x.useState(!1),i=({to:a,children:o,onClick:c})=>{const u=r({to:a});return l.jsx(Sn,{to:a,onClick:c,className:Ht("transition-colors font-light tracking-tight text-lg",u?"text-[#E2E2E2]":"text-[#E2E2E2]/70 hover:text-[#E2E2E2]"),children:o})};return l.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 px-4 sm:px-6 lg:px-8",children:l.jsxs("nav",{className:"w-full max-w-7xl mx-auto my-4",children:[l.jsx("div",{className:"flex h-16 items-center px-6 relative overflow-visible rounded-xl border border-[#E2E2E2]/10 bg-[#111111]/80 backdrop-blur-md",children:l.jsxs("div",{className:"relative z-10 flex w-full items-center justify-between",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(Sn,{to:"/",className:"flex items-center gap-2",children:[l.jsx("img",{src:"/maple-icon-nobg.png",alt:"",className:"h-8 w-8"}),l.jsx("img",{src:"/maple-logo.svg",alt:"Maple",className:"w-24"})]})}),l.jsx("div",{className:"hidden sm:flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-6 sm:gap-10",children:[l.jsx(i,{to:"/pricing",children:"Pricing"}),l.jsx(i,{to:"/proof",children:"Proof"}),l.jsx(i,{to:"/teams",children:"Teams"}),l.jsx("a",{href:"https://blog.trymaple.ai/tag/guides/",target:"_blank",rel:"noopener noreferrer",className:"transition-colors font-light tracking-tight text-lg text-[#E2E2E2]/70 hover:text-[#E2E2E2]",children:"Guides"})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[e.auth.user?l.jsx(Me,{onClick:()=>t({to:"/"}),className:"bg-[#9469F8] text-[#111111] hover:bg-[#A57FF9] transition-colors",children:"Chat"}):l.jsx(Me,{onClick:()=>t({to:"/login"}),className:"bg-[#111111] border border-[#3FDBFF]/20 text-[#E2E2E2] hover:border-[#3FDBFF]/80 hover:bg-[#111111] transition-colors",children:"Log In"}),l.jsx("button",{className:"sm:hidden",onClick:()=>s(!n),children:n?l.jsx(Jn,{className:"h-6 w-6 text-[#E2E2E2]"}):l.jsx(Joe,{className:"h-6 w-6 text-[#E2E2E2]"})})]})]})}),n&&l.jsx("div",{className:"sm:hidden absolute left-4 right-4 sm:left-8 sm:right-8 mt-2 p-6 rounded-xl border border-[#E2E2E2]/10 bg-[#111111]/95 backdrop-blur-md",children:l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx(i,{to:"/pricing",onClick:()=>s(!1),children:"Pricing"}),l.jsx(i,{to:"/proof",onClick:()=>s(!1),children:"Proof"}),l.jsx(i,{to:"/teams",onClick:()=>s(!1),children:"Teams"}),l.jsx("a",{href:"https://blog.trymaple.ai/tag/guides/",target:"_blank",rel:"noopener noreferrer",className:"transition-colors font-light tracking-tight text-lg text-[#E2E2E2]/70 hover:text-[#E2E2E2]",onClick:()=>s(!1),children:"Guides"})]})})]})})}function wle(e){return l.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",...e,children:l.jsx("path",{fill:"currentColor",d:"M20.317 4.492c-1.53-.69-3.17-1.2-4.885-1.49a.075.075 0 0 0-.079.036c-.21.369-.444.85-.608 1.23a18.566 18.566 0 0 0-5.487 0 12.36 12.36 0 0 0-.617-1.23A.077.077 0 0 0 8.562 3c-1.714.29-3.354.8-4.885 1.491a.07.07 0 0 0-.032.027C.533 9.093-.32 13.555.099 17.961a.08.08 0 0 0 .031.055 20.03 20.03 0 0 0 5.993 2.98.078.078 0 0 0 .084-.026 13.83 13.83 0 0 0 1.226-1.963.074.074 0 0 0-.041-.104 13.175 13.175 0 0 1-1.872-.878.075.075 0 0 1-.008-.125c.126-.093.252-.19.372-.287a.075.075 0 0 1 .078-.01c3.927 1.764 8.18 1.764 12.061 0a.075.075 0 0 1 .079.009c.12.098.245.195.372.288a.075.075 0 0 1-.006.125c-.598.344-1.22.635-1.873.877a.075.075 0 0 0-.041.105c.36.687.772 1.341 1.225 1.962a.077.077 0 0 0 .084.028 19.963 19.963 0 0 0 6.002-2.981.076.076 0 0 0 .032-.054c.5-5.094-.838-9.52-3.549-13.442a.06.06 0 0 0-.031-.028zM8.02 15.278c-1.182 0-2.157-1.069-2.157-2.38 0-1.312.956-2.38 2.157-2.38 1.21 0 2.176 1.077 2.157 2.38 0 1.312-.956 2.38-2.157 2.38zm7.975 0c-1.183 0-2.157-1.069-2.157-2.38 0-1.312.955-2.38 2.157-2.38 1.21 0 2.176 1.077 2.157 2.38 0 1.312-.946 2.38-2.157 2.38z"})})}function DE(){const e=Ao();return l.jsx("div",{className:"w-full dark:bg-[hsl(var(--background))] bg-[hsl(var(--footer-bg))] py-16 border-t border-[hsl(var(--marketing-card-border))]",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("img",{src:"/maple-logo-dark.svg",alt:"Maple",className:"w-32 block dark:hidden"}),l.jsx("img",{src:"/maple-logo.svg",alt:"Maple",className:"w-32 hidden dark:block"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] font-light",children:"Private AI chat with end-to-end encryption. Your conversations stay yours."}),l.jsxs("div",{className:"flex gap-5 text-[hsl(var(--marketing-text-muted))]",children:[l.jsx("a",{href:"https://twitter.com/TryMapleAI",target:"_blank",rel:"noopener noreferrer",className:"dark:hover:text-[hsl(var(--blue))] hover:text-[hsl(var(--purple))] transition-colors","aria-label":"Twitter",children:l.jsx(cle,{className:"h-5 w-5"})}),l.jsx("a",{href:"https://github.com/OpenSecretCloud",target:"_blank",rel:"noopener noreferrer",className:"dark:hover:text-[hsl(var(--blue))] hover:text-[hsl(var(--purple))] transition-colors","aria-label":"GitHub",children:l.jsx(jE,{className:"h-5 w-5"})}),l.jsx("a",{href:"https://discord.gg/ch2gjZAMGy",target:"_blank",rel:"noopener noreferrer",className:"dark:hover:text-[hsl(var(--blue))] hover:text-[hsl(var(--purple))] transition-colors","aria-label":"Discord",children:l.jsx(wle,{className:"h-5 w-5"})}),l.jsx("a",{href:"mailto:team@opensecret.cloud",className:"dark:hover:text-[hsl(var(--blue))] hover:text-[hsl(var(--green))] transition-colors","aria-label":"Email",children:l.jsx(b2,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-foreground text-lg font-medium",children:"Product"}),l.jsx(Sn,{to:"/pricing",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"Pricing"}),l.jsx(Sn,{to:"/downloads",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"Downloads"}),l.jsx(Sn,{to:"/proof",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"Security Proof"}),l.jsx(Sn,{to:"/teams",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"Teams"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-foreground text-lg font-medium",children:"Resources"}),l.jsx("a",{href:"https://blog.trymaple.ai",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"Blog"}),l.jsx("a",{href:"https://opensecret.cloud",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"OpenSecret"}),l.jsx("a",{href:"https://discord.gg/ch2gjZAMGy",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"Community"}),l.jsx(Sn,{to:"/about",className:"text-[hsl(var(--marketing-text-muted))] hover:text-foreground transition-colors",children:"About"})]})]}),l.jsx("div",{className:"mt-12 pt-8 border-t border-[hsl(var(--marketing-card-border))] text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!e&&l.jsx("iframe",{src:"https://status.trymaple.ai/badge?theme=system",width:"250",height:"30",frameBorder:"0",scrolling:"no",style:{colorScheme:"normal",marginLeft:"58px"},title:"BetterStack Status"}),l.jsxs("p",{className:"text-[hsl(var(--marketing-text-muted))]/50 font-light",children:[" ",new Date().getFullYear()," Maple AI. All rights reserved. Powered by"," ",l.jsx("a",{href:"https://opensecret.cloud",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--purple))] hover:text-[hsl(var(--purple))]/80 transition-colors",children:"OpenSecret"})]})]})})]})})}function Oa({children:e,className:t}){return l.jsx("main",{className:Ht("flex flex-col items-center gap-8 px-4 sm:px-8 py-16 pt-28 overflow-y-aulo",t),children:l.jsxs("div",{className:"flex flex-col gap-8 w-full",children:[e,l.jsx("div",{children:l.jsx(DE,{})})]})})}function Nu({title:e,subtitle:t,className:r="pt-12"}){return l.jsxs("div",{className:`flex flex-col items-center gap-[calc(3rem-0.1em)] text-foreground ${r}`,children:[l.jsx("h2",{className:"text-[clamp(2.5rem,10vw,5rem)] font-light leading-none tracking-tight text-center text-balance bg-gradient-to-b from-foreground to-foreground/80 inline-block text-transparent bg-clip-text pb-[0.1em]",children:e}),l.jsx("h3",{className:"text-[clamp(1.5rem,5vw,2.5rem)] text-center leading-tight font-light tracking-tight text-balance",children:t})]})}function kle(){const[e,t]=x.useState("loading"),r=qr();return x.useEffect(()=>{async function n(){try{const s=await r.getAttestation();await new Promise(i=>setTimeout(i,800)),t(s?"verified":"failed")}catch(s){console.error("Verification failed:",s),t("failed")}}n()},[r]),l.jsxs(Sn,{to:"/proof",className:"flex items-center gap-1 text-sm font-medium hover:underline",children:[e==="loading"&&l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"h-3 w-3 animate-spin"}),l.jsx("span",{className:"text-muted-foreground",children:"Verifying..."})]}),e==="verified"&&l.jsxs(l.Fragment,{children:[l.jsx(fl,{className:"h-3 w-3 text-green-700 dark:text-green-500"}),l.jsx("span",{className:"text-green-700 dark:text-green-500",children:"Verified"})]}),e==="failed"&&l.jsxs(l.Fragment,{children:[l.jsx(x2,{className:"h-3 w-3 text-red-700 dark:text-red-500"}),l.jsx("span",{className:"text-red-700 dark:text-red-500",children:"Verification failed"})]})]})}const KF=1e4,YF=10,ZF=`Minimum purchase is ${KF.toLocaleString()} credits ($${YF})`;async function Sle(){try{const e=await fetch("https://billing.opensecret.cloud/v1/maple/discount",{headers:{"Content-Type":"application/json"}});return e.ok?e.json():(console.error("Discount fetch error:",e.status),{active:!1})}catch(e){return console.error("Error fetching discount:",e),{active:!1}}}async function _le(e){try{const t=await fetch("https://billing.opensecret.cloud/v1/maple/subscription/status",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw console.error("Billing status error response:",r),t.status===401?new Error("Unauthorized"):new Error(`Failed to fetch billing status: ${r}`)}return t.json()}catch(t){throw console.error("Error fetching billing status:",t),t}}async function Ele(e){try{const t=new URL("https://billing.opensecret.cloud/v1/maple/products");return e&&t.searchParams.append("version",e),(await fetch(t.toString(),{headers:{"Content-Type":"application/json"}})).json()}catch(t){throw console.error("Error fetching billing products:",t),t}}async function Nle(e){let t=window.location.origin;Jl()&&(console.log("[Billing] Mobile platform detected, using trymaple.ai as return URL"),t="https://trymaple.ai");const n=await fetch("https://billing.opensecret.cloud/v1/maple/subscription/portal",{method:"POST",body:JSON.stringify({return_url:t}),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!n.ok){const i=await n.text();throw console.error("Portal URL error response:",i),n.status===401?new Error("Unauthorized"):new Error(`Failed to fetch portal URL: ${i}`)}const{portal_url:s}=await n.json();return s}async function Cle(e,t,r,n,s,i){const a={email:t,product_id:r,success_url:n,cancel_url:s,...i!==void 0&&{quantity:i}},o=await fetch("https://billing.opensecret.cloud/v1/maple/subscription/checkout",{method:"POST",body:JSON.stringify(a),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!o.ok){const u=await o.text();throw console.error("Checkout error response:",u),o.status===401?new Error("Unauthorized"):new Error(`Failed to create checkout session: ${u}`)}const{checkout_url:c}=await o.json();if(console.log("Redirecting to checkout:",c),Jl()){console.log("[Billing] Mobile platform detected, using opener plugin to launch external browser");const{invoke:u}=await qi(async()=>{const{invoke:d}=await Promise.resolve().then(()=>xo);return{invoke:d}},void 0);await u("plugin:opener|open_url",{url:c}).then(()=>{console.log("[Billing] Successfully opened URL in external browser")}).catch(d=>{throw console.error("[Billing] Failed to open external browser:",d),new Error("Failed to open payment page in external browser. This is required for mobile payments.")}),await new Promise(d=>setTimeout(d,300));return}window.location.href=c}async function Ale(e,t,r,n,s){const i={email:t,product_id:r,success_url:n,...s!==void 0&&{quantity:s}},a=await fetch("https://billing.opensecret.cloud/v1/maple/subscription/zaprite",{method:"POST",body:JSON.stringify(i),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){const c=await a.text();throw console.error("Zaprite checkout error response:",c),a.status===401?new Error("Unauthorized"):new Error(`Failed to create Zaprite checkout session: ${c}`)}const{checkout_url:o}=await a.json();if(console.log("Redirecting to Zaprite checkout:",o),Jl()){console.log("[Billing] Mobile platform detected, using opener plugin to launch external browser");const{invoke:c}=await qi(async()=>{const{invoke:u}=await Promise.resolve().then(()=>xo);return{invoke:u}},void 0);await c("plugin:opener|open_url",{url:o}).then(()=>{console.log("[Billing] Successfully opened URL in external browser")}).catch(u=>{throw console.error("[Billing] Failed to open external browser:",u),new Error("Failed to open payment page in external browser. This is required for mobile payments.")}),await new Promise(u=>setTimeout(u,300));return}window.location.href=o}async function Tle(e){const t=await fetch("https://billing.opensecret.cloud/v1/maple/team/status",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw console.error("Team status error response:",r),t.status===401?new Error("Unauthorized"):new Error(`Failed to fetch team status: ${r}`)}return t.json()}async function Rle(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/team/create",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();throw console.error("Create team error response:",n),r.status===401?new Error("Unauthorized"):new Error(`Failed to create team: ${n}`)}return r.json()}async function Ile(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/team/invites",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();if(console.error("Invite members error response:",n),r.status===401)throw new Error("Unauthorized");if(r.status===400)try{const s=JSON.parse(n);throw new Error(s.message||n)}catch(s){throw console.error("Failed to parse error response:",s),new Error(n)}throw new Error(`Failed to invite members: ${n}`)}return r.json()}async function jle(e){const t=await fetch("https://billing.opensecret.cloud/v1/maple/team/members",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw console.error("Fetch team members error response:",r),t.status===401?new Error("Unauthorized"):new Error(`Failed to fetch team members: ${r}`)}return t.json()}async function Mle(e,t){const r=await fetch(`https://billing.opensecret.cloud/v1/maple/team/invites/${t}/check`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.text();throw console.error("Check invite error response:",n),r.status===401?new Error("Unauthorized"):new Error(`Failed to check invite: ${n}`)}return r.json()}async function Ple(e,t,r){const n=await fetch(`https://billing.opensecret.cloud/v1/maple/team/invites/${t}/accept`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const s=await n.text();if(console.error("Accept invite error response:",s),n.status===401)throw new Error("Unauthorized");try{const i=JSON.parse(s);throw new Error(i.error||i.message||s)}catch(i){throw console.error("Failed to parse error response:",i),new Error(s||"Failed to accept invitation")}}return n.json()}async function Ole(e,t){const r=await fetch(`https://billing.opensecret.cloud/v1/maple/team/members/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.text();throw console.error("Remove member error response:",n),r.status===401?new Error("Unauthorized"):r.status===403?new Error("Only team admins can remove members"):new Error(`Failed to remove member: ${n}`)}}async function Dle(e){const t=await fetch("https://billing.opensecret.cloud/v1/maple/team/leave",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw console.error("Leave team error response:",r),t.status===401?new Error("Unauthorized"):new Error(`Failed to leave team: ${r}`)}}async function Lle(e,t){const r=await fetch(`https://billing.opensecret.cloud/v1/maple/team/invites/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.text();throw console.error("Revoke invite error response:",n),r.status===401?new Error("Unauthorized"):r.status===403?new Error("Only team admins can revoke invites"):new Error(`Failed to revoke invite: ${n}`)}}async function $le(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/team/update",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t.trim()})});if(!r.ok){const n=await r.text();if(console.error("Update team name error response:",n),r.status===401)throw new Error("Unauthorized");if(r.status===400)try{const s=JSON.parse(n);throw new Error(s.message||n)}catch(s){throw console.error("Failed to parse error response:",s),n.includes("team admin")?new Error("You are not a team admin"):n.includes("between 1 and 100 characters")?new Error("Team name must be between 1 and 100 characters"):new Error(n)}throw new Error(`Failed to update team name: ${n}`)}return r.json()}async function Fle(e){const t=await fetch("https://billing.opensecret.cloud/v1/maple/api-credits/balance",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw console.error("Fetch credit balance error:",r),t.status===401?new Error("Unauthorized"):new Error(`Failed to fetch credit balance: ${r}`)}return t.json()}async function Ble(e){const t=await fetch("https://billing.opensecret.cloud/v1/maple/api-credits/settings",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw console.error("Fetch credit settings error:",r),t.status===401?new Error("Unauthorized"):new Error(`Failed to fetch credit settings: ${r}`)}return t.json()}async function Ule(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/api-credits/purchase",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();throw console.error("Purchase credits error:",n),r.status===401?new Error("Unauthorized"):r.status===400?new Error(ZF):new Error(`Failed to create checkout session: ${n}`)}return r.json()}async function zle(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/api-credits/purchase-zaprite",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();throw console.error("Purchase credits with Zaprite error:",n),r.status===401?new Error("Unauthorized"):r.status===400?new Error(ZF):new Error(`Failed to create Zaprite checkout: ${n}`)}return r.json()}async function Hle(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/api-credits/settings",{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();throw console.error("Update credit settings error:",n),r.status===401?new Error("Unauthorized"):new Error(`Failed to update credit settings: ${n}`)}return r.json()}async function Vle(e){const t=await fetch(`https://billing.opensecret.cloud/v1/maple/pass/check/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();if(console.error("Check pass code error:",r),t.status===404)return{valid:!1,message:"Invalid pass code"};throw new Error(`Failed to check pass code: ${r}`)}return t.json()}async function qle(e,t){const r=await fetch("https://billing.opensecret.cloud/v1/maple/pass/redeem",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();if(console.error("Redeem pass code error:",n),r.status===401)throw new Error("Unauthorized");if(r.status===404)throw new Error("Invalid pass code");if(r.status===400)try{const s=JSON.parse(n);throw new Error(s.message||s.error||n)}catch(s){throw console.error("Failed to parse error response:",s),new Error(n)}throw new Error(`Failed to redeem pass code: ${n}`)}return r.json()}const h5="maple_billing_token";class Wle{constructor(t){S7(this,"os");this.os=t}async getStoredToken(){return sessionStorage.getItem(h5)}async generateAndStoreToken(){const t=await this.os.generateThirdPartyToken("https://billing.opensecret.cloud");return sessionStorage.setItem(h5,t.token),t.token}async executeWithToken(t){const r=await this.getStoredToken();if(r)try{return await t(r)}catch(s){if(s instanceof Error&&(s.message.includes("unauthorized")||s.message.includes("Unauthorized")||s.message.includes("Invalid JWT token")||s.message.includes("401"))){this.clearToken();const i=await this.generateAndStoreToken();return await t(i)}throw s}const n=await this.generateAndStoreToken();return await t(n)}async getBillingStatus(){return this.executeWithToken(t=>_le(t))}async getPortalUrl(){return this.executeWithToken(t=>Nle(t))}async getProducts(t){return Ele(t)}async getDiscount(){return Sle()}async createCheckoutSession(t,r,n,s,i){return this.executeWithToken(a=>Cle(a,t,r,n,s,i))}async createZapriteCheckoutSession(t,r,n,s){return this.executeWithToken(i=>Ale(i,t,r,n,s))}clearToken(){sessionStorage.removeItem(h5)}async getTeamStatus(){return this.executeWithToken(t=>Tle(t))}async createTeam(t){return this.executeWithToken(r=>Rle(r,t))}async inviteTeamMembers(t){return this.executeWithToken(r=>Ile(r,t))}async getTeamMembers(){return this.executeWithToken(t=>jle(t))}async checkTeamInvite(t){return this.executeWithToken(r=>Mle(r,t))}async acceptTeamInvite(t,r){return this.executeWithToken(n=>Ple(n,t,r))}async removeTeamMember(t){return this.executeWithToken(r=>Ole(r,t))}async leaveTeam(){return this.executeWithToken(t=>Dle(t))}async revokeTeamInvite(t){return this.executeWithToken(r=>Lle(r,t))}async updateTeamName(t){return this.executeWithToken(r=>$le(r,t))}async getApiCreditBalance(){return this.executeWithToken(t=>Fle(t))}async getApiCreditSettings(){return this.executeWithToken(t=>Ble(t))}async purchaseApiCredits(t){return this.executeWithToken(r=>Ule(r,t))}async purchaseApiCreditsZaprite(t){return this.executeWithToken(r=>zle(r,t))}async updateApiCreditSettings(t){return this.executeWithToken(r=>Hle(r,t))}async checkPassCode(t){return Vle(t)}async redeemPassCode(t){return this.executeWithToken(r=>qle(r,t))}}let hm=null;function Gle(e){return hm||(hm=new Wle(e)),hm}function Lr(){if(!hm)throw new Error("Billing service not initialized. Call initBillingService first.");return hm}const Hc=[{name:"Free",price:"$0",description:"Try Maple with limited usage",features:[{text:"25 messages per week",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"End-to-end encryption",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Access to core AI features",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Search Chat History",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Rename Chats",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Image Upload",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"Document Upload (PDF, TXT, MD)",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"Voice Recording (Whisper)",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"7 Powerful Models (including DeepSeek R1)",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"API Access",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})}],ctaText:"Start Free"},{name:"Starter",price:"$5.99",description:"Get started with secure AI chat",features:[{text:"All features from Free",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Enough messages for casual use",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"AI Naming of Chats",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Gemma 3 27B",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Image Upload",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Document Upload (PDF, TXT, MD)",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"Voice Recording (Whisper)",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"5 More Powerful Models",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})},{text:"API Access",included:!1,icon:l.jsx(Jn,{className:"w-4 h-4 text-red-500"})}],ctaText:"Start Chatting"},{name:"Pro",price:"$20",description:"For power users who need more",features:[{text:"All features from Free",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Generous usage for power users",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Image Upload",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Document Upload (PDF, TXT, MD)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Voice Recording (Whisper Large v3)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"7 Powerful Models (including DeepSeek R1)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"API Access",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})}],ctaText:"Start Chatting",popular:!0},{name:"Max",price:"$100",description:"Maximum usage for power users",features:[{text:"All features from Pro",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"20x more usage than Pro",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Priority support",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Early Access to features and models",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Image Upload",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Document Upload (PDF, TXT, MD)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Voice Recording (Whisper Large v3)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"7 Powerful Models (including DeepSeek R1)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"API Access",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})}],ctaText:"Start Chatting"},{name:"Team",price:"$30",description:"For teams and businesses",features:[{text:"All features from Pro",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"2x more usage than Pro per team member",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Priority support",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Unified billing",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Pool chat credits among team",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Early Access to features and models",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Image Upload",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Document Upload (PDF, TXT, MD)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"Voice Recording (Whisper Large v3)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"7 Powerful Models (including DeepSeek R1)",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})},{text:"API Access",included:!0,icon:l.jsx(jt,{className:"w-4 h-4 text-green-500"})}],ctaText:"Start Chatting"}],Kle=[{feature:"Public Proof of Encryption (TEE)",maple:"Yes",lumo:"No",duckAI:"No",chatGPT:"No"},{feature:"Open-Source Code",maple:"Yes",lumo:"Partial",duckAI:"No",chatGPT:"No"},{feature:"Open Models",maple:"Yes",lumo:"Yes",duckAI:"Partial",chatGPT:"No"},{feature:"Never uses your data to train AI",maple:"Yes",lumo:"?",duckAI:"?",chatGPT:"No"},{feature:"Doesn't log your chats",maple:"Yes",lumo:"?",duckAI:"?",chatGPT:"No"},{feature:"Zero Data Retention",maple:"Yes",lumo:"?",duckAI:"?",chatGPT:"$"},{feature:"Document Upload",maple:"Yes",lumo:"Yes",duckAI:"No",chatGPT:"Yes"},{feature:"Image Analysis",maple:"Yes",lumo:"No",duckAI:"Yes",chatGPT:"Yes"},{feature:"Voice Mode",maple:"Yes",lumo:"No",duckAI:"No",chatGPT:"Yes"},{feature:"Integration With Coding IDE",maple:"Yes",lumo:"No",duckAI:"No",chatGPT:"Yes"},{feature:"Teams Plan",maple:"Yes",lumo:"No",duckAI:"No",chatGPT:"Yes"},{feature:"Developer API",maple:"Yes",lumo:"No",duckAI:"No",chatGPT:"Yes"}],Hh=({value:e})=>{switch(e){case"Yes":return l.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-green-300 dark:bg-green-900/30 rounded-full",children:l.jsx(jt,{className:"w-4 h-4 text-green-600 dark:text-green-400","aria-label":"Available"})});case"No":return l.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-red-300 dark:bg-red-900/30 rounded-full",children:l.jsx(Jn,{className:"w-4 h-4 text-red-600 dark:text-red-400","aria-label":"Not Available"})});case"?":return l.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-yellow-300 dark:bg-yellow-900/30 rounded-full",children:l.jsx(Uoe,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400","aria-label":"Unknown or Unclear"})});case"$":return l.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-300 dark:bg-blue-900/30 rounded-full",children:l.jsx(Goe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400","aria-label":"Paid Feature"})});case"Partial":return l.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-orange-300 dark:bg-orange-900/30 rounded-full",children:l.jsx(zoe,{className:"w-4 h-4 text-orange-600 dark:text-orange-400","aria-label":"Partially Available"})});default:return l.jsx("span",{className:"text-sm text-foreground/70",children:e})}};function Yle(){const e=[{key:"maple",name:"Maple",highlight:!0},{key:"lumo",name:"Lumo",highlight:!1},{key:"duckAI",name:"Duck AI",highlight:!1},{key:"chatGPT",name:"ChatGPT, Gemini, Claude, Grok",highlight:!1}];return l.jsx("section",{className:"w-full py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["How We ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"Compare"})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"See how Maple stacks up against other AI chat platforms when it comes to privacy, security, and developer features."})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsx("div",{className:"inline-block min-w-full",children:l.jsxs("div",{className:"bg-[hsl(var(--marketing-card))]/80 backdrop-blur-sm border border-[hsl(var(--marketing-card-border))] rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"grid border-b border-[hsl(var(--marketing-card-border))]",style:{gridTemplateColumns:"minmax(200px, 1.5fr) repeat(4, minmax(80px, 1fr))"},children:[l.jsx("div",{className:"p-3 font-medium text-foreground bg-[hsl(var(--marketing-card-highlight))]/30 text-sm"}),e.map(t=>l.jsx("div",{className:`p-3 text-center font-medium ${t.highlight?"bg-[hsl(var(--purple))]/5 text-[hsl(var(--purple))] border-l-2 border-r-2 border-[hsl(var(--purple))]/30":"text-foreground bg-[hsl(var(--marketing-card-highlight))]/30"}`,children:l.jsx("span",{className:"text-sm",children:t.name})},t.key))]}),Kle.map((t,r)=>l.jsxs("div",{className:`grid border-b border-[hsl(var(--marketing-card-border))] ${r%2===0?"bg-[hsl(var(--marketing-card-highlight))]/20":""}`,style:{gridTemplateColumns:"minmax(200px, 1.5fr) repeat(4, minmax(80px, 1fr))"},children:[l.jsx("div",{className:"p-3 font-medium text-foreground bg-[hsl(var(--marketing-card-highlight))]/30",children:l.jsx("span",{className:"text-sm",children:t.feature})}),e.map(n=>l.jsx("div",{className:`p-3 text-center font-medium ${n.highlight?"bg-[hsl(var(--purple))]/5 text-[hsl(var(--purple))] border-l-2 border-r-2 border-[hsl(var(--purple))]/30":"text-foreground bg-[hsl(var(--marketing-card-highlight))]/30"}`,children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Hh,{value:t[n.key]})})},n.key))]},r))]})})}),l.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-6 text-sm text-[hsl(var(--marketing-text-muted))]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hh,{value:"Yes"}),l.jsx("span",{children:"Available"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hh,{value:"No"}),l.jsx("span",{children:"Not Available"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hh,{value:"Partial"}),l.jsx("span",{children:"Partially Available"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hh,{value:"?"}),l.jsx("span",{children:"Claim Unverifiable"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hh,{value:"$"}),l.jsx("span",{children:"Expensive Paid Feature"})]})]})]})})}const Zle=S2("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ca({className:e,variant:t,...r}){return l.jsx("div",{className:Ht(Zle({variant:t}),e),...r})}const Qle=[{src:"/badge-openai-logo.png",alt:"OpenAI",labels:["OpenAI GPT-OSS"]},{src:"/badge-google-logo.png",alt:"Google",labels:["Google Gemma"]},{src:"/badge-deepseek-logo.png",alt:"DeepSeek",labels:["DeepSeek R1","DeepSeek V3.1 Terminus"]},{src:"/badge-qwen-logo.png",alt:"Qwen",labels:["Qwen3 Coder","Qwen3-VL"]},{src:"/badge-meta-logo.png",alt:"Meta",labels:["Meta Llama"]}];function fy({children:e,to:t,primary:r=!1}){return l.jsxs(Sn,{to:t,className:r?"cta-button-primary":"cta-button-secondary",children:[e,r&&l.jsx("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[hsl(var(--purple))]/0 via-[hsl(var(--primary-foreground))]/20 to-[hsl(var(--purple))]/0 opacity-50 animate-shimmer",style:{transform:"translateX(-100%)"}})})]})}function f5({icon:e,title:t,description:r,gradient:n="from-[hsl(var(--purple))]/10 to-[hsl(var(--blue))]/10"}){return l.jsxs("div",{className:`feature-card ${n}`,children:[l.jsx("div",{className:"p-3 rounded-full bg-[hsl(var(--marketing-card))]/50 border border-[hsl(var(--purple))]/30 w-fit",children:l.jsx(e,{className:"w-6 h-6 text-[hsl(var(--purple))]"})}),l.jsx("h3",{className:"text-2xl font-medium text-foreground",children:t}),l.jsx("p",{className:"text-lg font-light text-[hsl(var(--marketing-text-muted))]",children:r})]})}function p5({quote:e,author:t,role:r,avatar:n}){return l.jsxs("div",{className:"p-6 rounded-xl bg-[hsl(var(--marketing-card))]/80 border border-[hsl(var(--marketing-card-border))] flex flex-col gap-4",children:[l.jsxs("p",{className:"text-lg italic text-foreground/90 font-light",children:["",e,""]}),l.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[l.jsx("img",{src:n,alt:t,className:"w-12 h-12 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:t}),l.jsx("p",{className:"text-sm text-[hsl(var(--marketing-text-muted))]",children:r})]})]})]})}function QF({name:e,price:t,description:r,features:n,ctaText:s,popular:i=!1,productId:a="",isIOS:o=!1,discount:c}){const u=e.toLowerCase().includes("free"),d=c!=null&&c.active?c.percent_off:0,h=t.replace("$",""),f=!u&&d>0?`$${(Number(h)*((100-d)/100)).toFixed(0)}`:t,p=!u&&d>0;return l.jsxs("div",{className:`flex flex-col p-8 rounded-xl relative ${i?"border-2 border-[hsl(var(--purple))] bg-gradient-to-b from-[hsl(var(--marketing-card))] to-[hsl(var(--marketing-card))]/80 shadow-[0_0_30px_rgba(148,105,248,0.2)]":"border border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/50"}`,children:[i&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-[hsl(var(--purple))] text-[hsl(var(--marketing-card))] px-4 py-1 rounded-full text-sm font-medium text-center min-w-[110px] whitespace-normal",children:"Most Popular"}),p&&l.jsxs(ca,{className:"absolute -top-3 right-4 bg-gradient-to-r from-pink-500 to-orange-500 text-white",children:[d,"% OFF"]}),l.jsx("h3",{className:"text-xl font-medium text-foreground",children:e}),l.jsxs("div",{className:"mt-4 mb-2",children:[l.jsx("span",{className:"text-4xl font-bold text-foreground",children:f}),p&&l.jsx("span",{className:"text-xl line-through text-foreground/50 ml-2",children:t}),e==="Team"?l.jsx("span",{className:"text-[hsl(var(--marketing-text-muted))] ml-2",children:"/user /mo"}):t!=="Free"&&l.jsx("span",{className:"text-[hsl(var(--marketing-text-muted))] ml-2",children:"/mo"})]}),p&&(c==null?void 0:c.active)&&c.duration_months&&l.jsxs("p",{className:"text-xs text-foreground/50 -mt-1 mb-2",children:[d,"% off for first ",c.duration_months," month",c.duration_months>1?"s":""]}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-6",children:r}),l.jsx("div",{className:"flex flex-col gap-3 mb-8",children:n.map((m,g)=>l.jsxs("div",{className:"flex items-start gap-2",children:[m.text!==""&&(m.icon||(m.included?l.jsx(jt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}):null)),l.jsx("span",{className:`${m.included?"text-foreground/80":"text-foreground/50"}`,children:m.text})]},g))}),o&&!u?l.jsx("button",{disabled:!0,className:`mt-auto py-3 px-6 rounded-lg text-center font-medium transition-all duration-300 
            dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
            bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
            border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
            shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]
            opacity-50 cursor-not-allowed`,children:"Coming Soon"}):a?l.jsx("button",{onClick:()=>{window.location.href=`/signup?next=/pricing&selected_plan=${a}`},className:`mt-auto py-3 px-6 rounded-lg text-center font-medium transition-all duration-300 
              dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
              bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
              border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
              shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]`,children:s}):l.jsx(Sn,{to:"/signup",className:`mt-auto py-3 px-6 rounded-lg text-center font-medium transition-all duration-300 
              dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
              bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
              border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
              shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]`,children:s})]})}function Xle(){const e=d1(),{data:t}=ts({queryKey:["marketing-products"],queryFn:async()=>{try{return await Lr().getProducts()}catch(s){return console.error("Error fetching products:",s),[]}},retry:1}),{data:r}=ts({queryKey:["discount"],queryFn:async()=>await Lr().getDiscount(),staleTime:5*60*1e3}),n=s=>{if(!t||t.length===0)return"";const i=t.find(a=>a.name.toLowerCase()===s.toLowerCase()&&a.active);return i?i.id:""};return l.jsxs("div",{className:"flex flex-col items-center w-full",children:[l.jsxs("section",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-24",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("h1",{className:"text-6xl font-light tracking-tight mb-4",children:[l.jsx("span",{className:`dark:bg-gradient-to-r dark:from-foreground dark:to-[hsl(var(--blue))]
                             bg-gradient-to-r from-foreground from-5% via-[hsl(var(--purple))]/90 via-50% to-[hsl(var(--purple))]
                             text-transparent bg-clip-text`,children:"Private AI Chat"})," ",l.jsx("br",{})," ",l.jsx("span",{className:"text-foreground",children:"that's truly secure"})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] font-light max-w-xl",children:"End-to-end encryption means your conversations are confidential and protected at every step. Only you can access your data  not even we can read your chats."})]}),l.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row",children:[l.jsxs(fy,{to:"/signup",primary:!0,children:[l.jsx(fc,{className:"h-5 w-5"}),"Start Chatting"]}),l.jsx(fy,{to:"/login",children:"Log In"})]}),l.jsx("div",{className:"flex items-center gap-4 text-sm text-[hsl(var(--marketing-text-muted))] mt-2",children:l.jsxs("a",{href:"#testimonials",className:"flex items-center gap-4 hover:text-foreground/80 transition-colors duration-300",onClick:s=>{var i;s.preventDefault(),(i=document.getElementById("testimonials"))==null||i.scrollIntoView({behavior:"smooth"})},children:[l.jsxs("div",{className:"flex -space-x-2",children:[l.jsx("img",{src:"/ryan-g.jpg",alt:"User avatar",className:"w-8 h-8 rounded-full border border-[hsl(var(--marketing-card))]"}),l.jsx("img",{src:"/lauren-t.jpg",alt:"User avatar",className:"w-8 h-8 rounded-full border border-[hsl(var(--marketing-card))]"}),l.jsx("img",{src:"/javier-r.jpg",alt:"User avatar",className:"w-8 h-8 rounded-full border border-[hsl(var(--marketing-card))]"})]}),l.jsx("p",{className:"ml-10 md:ml-0",children:"Trusted by professionals who handle sensitive client information"})]})})]}),l.jsxs("div",{className:`relative dark:bg-gradient-to-br dark:from-[hsl(var(--purple))]/10 dark:to-[hsl(var(--blue))]/10 
               bg-gradient-to-br from-[hsl(var(--purple))]/5 to-[hsl(var(--purple))]/20 rounded-2xl p-1`,children:[l.jsxs("div",{className:"bg-[hsl(var(--marketing-card))]/80 backdrop-blur-sm rounded-xl overflow-hidden border border-[hsl(var(--marketing-card-border))]",children:[l.jsxs("div",{className:"bg-[hsl(var(--marketing-card))] p-3 border-b border-[hsl(var(--marketing-card-border))] flex items-center",children:[l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-foreground/20"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-foreground/20"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-foreground/20"})]}),l.jsx("div",{className:"mx-auto text-sm text-[hsl(var(--marketing-text-muted))]",children:"Encrypted Chat"})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-foreground/30 flex items-center justify-center text-background flex-shrink-0",children:"AI"}),l.jsx("div",{className:"bg-[hsl(var(--marketing-card-highlight))] p-3 rounded-xl rounded-tl-none text-foreground/90 text-sm max-w-xs",children:"How can I help you today? Your conversation is fully encrypted."})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("div",{className:"bg-[hsl(var(--purple))]/20 p-3 rounded-xl rounded-tr-none text-foreground text-sm max-w-xs",children:"I need to discuss some sensitive information. Is this really secure?"}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-foreground/10 flex items-center justify-center text-background flex-shrink-0",children:"U"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-foreground/30 flex items-center justify-center text-background flex-shrink-0",children:"AI"}),l.jsx("div",{className:"bg-[hsl(var(--marketing-card-highlight))] p-3 rounded-xl rounded-tl-none text-foreground/90 text-sm max-w-xs",children:"Yes, absolutely. Your messages are end-to-end encrypted. Even the server admins can't read your conversations. We use secure enclaves and open-source code to verify this."})]})]})]}),l.jsxs("div",{className:"absolute -bottom-3 -right-3 bg-[hsl(var(--purple))] text-[hsl(var(--marketing-card))] p-2 rounded-lg font-medium text-sm flex items-center gap-1.5",children:[l.jsx(vg,{className:"w-4 h-4"})," End-to-End Encrypted"]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 mt-8",children:[l.jsxs(Sn,{to:"/downloads",className:`inline-flex items-center gap-2 h-10 px-6 rounded-lg text-center font-medium transition-all duration-300
              bg-black text-white hover:bg-black/90 active:bg-black/80
              border border-[hsl(var(--marketing-text-muted))]`,children:[l.jsx(Qoe,{className:"h-5 w-5"}),l.jsx("span",{children:"Desktop"})]}),l.jsx("a",{href:"https://apps.apple.com/us/app/id6743764835",target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:l.jsx("img",{src:"/app-store-badge.svg",alt:"Download on the App Store",className:"h-10 w-auto"})}),!e&&l.jsx("a",{href:"https://play.google.com/store/apps/details?id=cloud.opensecret.maple",target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:l.jsx("img",{src:"/google-play-badge.png",alt:"Get it on Google Play",className:"h-10 w-auto"})})]})]}),l.jsx("section",{className:"w-full py-16 dark:bg-[hsl(var(--section-alt))] bg-[hsl(var(--section-alt))]",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Powerful AI models."," ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"No data sharing."})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"We use full-size open models from the biggest providers."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:Qle.map(s=>l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("img",{src:s.src,alt:s.alt,loading:"lazy",decoding:"async",className:"max-w-full h-24 object-contain mb-4"}),l.jsx("div",{className:"flex flex-col items-center",children:s.labels.map((i,a)=>l.jsx("span",{className:"text-lg font-medium text-foreground",children:i},a))})]},s.alt))}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:[l.jsx("br",{}),"None of your data is transmitted to these companies.",l.jsx("br",{}),"Get the best without the mess."]})})]})}),l.jsx("section",{className:"w-full py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Privacy at ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"Every Layer"})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"Your security is our primary concern. We've engineered Maple to ensure your data remains yours alone, protected by cutting-edge encryption."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsx(f5,{icon:bg,title:"Your Device",description:"All communications are encrypted locally on your device before being transmitted, ensuring your data is secured from the start.",gradient:"from-[hsl(var(--purple))]/5 to-[hsl(var(--purple))]/10"}),l.jsx(f5,{icon:vg,title:"Secure Server",description:"Our servers can't read your data. We use secure enclaves in confidential computing environments to verify our infrastructure integrity.",gradient:"dark:from-[hsl(var(--blue))]/10 dark:to-[hsl(var(--blue))]/5 from-[hsl(var(--purple))]/10 to-[hsl(var(--purple))]/20"}),l.jsx(f5,{icon:fc,title:"AI Processing",description:"Even during AI processing, your data remains encrypted. The entire pipeline through to the GPU is designed with privacy as the priority.",gradient:"dark:from-foreground/10 dark:to-foreground/5 from-[hsl(var(--purple))]/20 to-[hsl(var(--purple))]/5"})]})]})}),l.jsx("section",{className:"w-full py-20 dark:bg-[hsl(var(--section-alt))] bg-[hsl(var(--section-alt))]",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-4xl font-light mb-6",children:["We"," ",l.jsx("span",{className:"dark:text-[hsl(var(--blue))] text-[hsl(var(--purple))] font-medium",children:"Prove"})," ","Our Security"]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] mb-8",children:"Unlike other services that merely claim to be secure, we provide cryptographic proof. Our commitment to transparency means you don't have to trust us - you can verify it yourself."}),l.jsx("div",{className:"text-l text-[hsl(var(--marketing-text-muted))]",children:"Live Secure Enclave Verification"}),l.jsx("div",{className:"bg-[hsl(var(--marketing-card))]/80 border border-[hsl(var(--marketing-card-border))] rounded-xl p-6 mb-8",children:l.jsx(kle,{})}),l.jsxs(Sn,{to:"/proof",className:`dark:text-[hsl(var(--blue))] dark:hover:text-[hsl(var(--blue))]/80 
                           text-[hsl(var(--purple))] hover:text-[hsl(var(--purple))]/80 
                           flex items-center gap-2 font-medium`,children:["Learn more about our verification system ",l.jsx(LF,{className:"h-4 w-4"})]})]}),l.jsxs("div",{className:`relative dark:bg-gradient-to-br dark:from-[hsl(var(--purple))]/10 dark:to-[hsl(var(--blue))]/10 
                 bg-gradient-to-br from-[hsl(var(--purple))]/5 to-[hsl(var(--purple))]/20 rounded-2xl p-1`,children:[l.jsxs("div",{className:"bg-[hsl(var(--marketing-card))]/80 backdrop-blur-sm rounded-xl overflow-hidden border border-[hsl(var(--marketing-card-border))]",children:[l.jsx("div",{className:"bg-[hsl(var(--marketing-card))] p-3 border-b border-[hsl(var(--marketing-card-border))] flex items-center",children:l.jsx("div",{className:"mx-auto text-sm text-[hsl(var(--marketing-text-muted))]",children:"Secure Server"})}),l.jsxs("div",{className:"p-8 relative",children:[l.jsxs("div",{className:"w-full mx-auto relative flex flex-col md:flex-row items-center justify-between px-2",children:[l.jsxs("div",{className:"flex flex-col md:hidden items-center gap-8 w-full",children:[l.jsxs("div",{className:"w-24 h-48 relative",children:[l.jsx("div",{className:"absolute inset-0 bg-[hsl(var(--marketing-card-highlight))] border border-[hsl(var(--purple))]/30 rounded-2xl",children:l.jsxs("div",{className:"m-2 bg-[hsl(var(--purple))]/10 rounded-lg border border-[hsl(var(--purple))]/30 h-[calc(100%-16px)]",children:[l.jsx("div",{className:"h-2 w-8 bg-[hsl(var(--purple))]/20 rounded mx-auto mt-2"}),l.jsx("div",{className:"h-2 w-12 bg-[hsl(var(--purple))]/20 rounded mx-auto mt-2"})]})}),l.jsxs("div",{className:"absolute -top-2 -right-2 dark:bg-[hsl(var(--blue))]/20 dark:border-[hsl(var(--blue))]/30 bg-[hsl(var(--purple))]/20 border-[hsl(var(--purple))]/30 p-2 rounded-lg border",children:[l.jsx("div",{className:"w-4 h-3 border-2 dark:border-[hsl(var(--blue))] border-[hsl(var(--purple))] rounded-t-lg mx-auto"}),l.jsx("div",{className:"w-6 h-5 dark:bg-[hsl(var(--blue))]/30 dark:border-[hsl(var(--blue))] bg-[hsl(var(--purple))]/30 border-2 border-[hsl(var(--purple))] rounded-lg -mt-0.5"})]})]}),l.jsxs("div",{className:"h-16 w-px bg-[hsl(var(--purple))]/50 relative",children:[l.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 border-t-2 border-l-2 border-[hsl(var(--purple))] transform rotate-45"}),l.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 border-b-2 border-r-2 border-[hsl(var(--purple))] transform rotate-45"}),l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 whitespace-nowrap text-xs text-foreground/40 ml-1",children:"Encrypted Connection"})]}),l.jsxs("div",{className:"w-32 h-48 relative",children:[l.jsxs("div",{className:"absolute inset-0 bg-[hsl(var(--marketing-card-highlight))] border border-[hsl(var(--purple))]/30 rounded-lg",children:[l.jsx("div",{className:"h-8 border-b border-[hsl(var(--purple))]/30 flex items-center justify-between px-3",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})]})}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("div",{className:"h-7 bg-[hsl(var(--purple))]/20 rounded border border-[hsl(var(--purple))]/30 flex items-center px-2",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})}),l.jsx("div",{className:"h-7 bg-[hsl(var(--purple))]/20 rounded border border-[hsl(var(--purple))]/30 flex items-center px-2",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})}),l.jsx("div",{className:"h-7 bg-[hsl(var(--purple))]/20 rounded border border-[hsl(var(--purple))]/30 flex items-center px-2",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})})]})]}),l.jsxs("div",{className:"absolute -top-2 -right-2 dark:bg-[hsl(var(--blue))]/20 dark:border-[hsl(var(--blue))]/30 bg-[hsl(var(--purple))]/20 border-[hsl(var(--purple))]/30 p-2 rounded-lg border",children:[l.jsx("div",{className:"w-4 h-3 border-2 dark:border-[hsl(var(--blue))] border-[hsl(var(--purple))] rounded-t-lg mx-auto"}),l.jsx("div",{className:"w-6 h-5 dark:bg-[hsl(var(--blue))]/30 dark:border-[hsl(var(--blue))] bg-[hsl(var(--purple))]/30 border-2 border-[hsl(var(--purple))] rounded-lg -mt-0.5"})]})]})]}),l.jsxs("div",{className:"hidden md:flex items-center justify-between w-full",children:[l.jsxs("div",{className:"w-24 h-48 relative",children:[l.jsx("div",{className:"absolute inset-0 bg-[hsl(var(--marketing-card-highlight))] border border-[hsl(var(--purple))]/30 rounded-2xl",children:l.jsxs("div",{className:"m-2 bg-[hsl(var(--purple))]/10 rounded-lg border border-[hsl(var(--purple))]/30 h-[calc(100%-16px)]",children:[l.jsx("div",{className:"h-2 w-8 bg-[hsl(var(--purple))]/20 rounded mx-auto mt-2"}),l.jsx("div",{className:"h-2 w-12 bg-[hsl(var(--purple))]/20 rounded mx-auto mt-2"})]})}),l.jsxs("div",{className:"absolute -top-2 -right-2 dark:bg-[hsl(var(--blue))]/20 dark:border-[hsl(var(--blue))]/30 bg-[hsl(var(--purple))]/20 border-[hsl(var(--purple))]/30 p-2 rounded-lg border",children:[l.jsx("div",{className:"w-4 h-3 border-2 dark:border-[hsl(var(--blue))] border-[hsl(var(--purple))] rounded-t-lg mx-auto"}),l.jsx("div",{className:"w-6 h-5 dark:bg-[hsl(var(--blue))]/30 dark:border-[hsl(var(--blue))] bg-[hsl(var(--purple))]/30 border-2 border-[hsl(var(--purple))] rounded-lg -mt-0.5"})]})]}),l.jsx("div",{className:"flex-1 mx-2 flex items-center justify-center",children:l.jsxs("div",{className:"h-px w-4/5 bg-[hsl(var(--purple))]/50 relative",children:[l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 border-t-2 border-l-2 border-[hsl(var(--purple))] transform -rotate-45"}),l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-2 border-t-2 border-r-2 border-[hsl(var(--purple))] transform rotate-45"}),l.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 whitespace-nowrap text-xs text-foreground/40",children:"Encrypted Connection"})]})}),l.jsxs("div",{className:"w-32 h-48 relative",children:[l.jsxs("div",{className:"absolute inset-0 bg-[hsl(var(--marketing-card-highlight))] border border-[hsl(var(--purple))]/30 rounded-lg",children:[l.jsx("div",{className:"h-8 border-b border-[hsl(var(--purple))]/30 flex items-center justify-between px-3",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})]})}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("div",{className:"h-7 bg-[hsl(var(--purple))]/20 rounded border border-[hsl(var(--purple))]/30 flex items-center px-2",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})}),l.jsx("div",{className:"h-7 bg-[hsl(var(--purple))]/20 rounded border border-[hsl(var(--purple))]/30 flex items-center px-2",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})}),l.jsx("div",{className:"h-7 bg-[hsl(var(--purple))]/20 rounded border border-[hsl(var(--purple))]/30 flex items-center px-2",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--purple))]/40"})})]})]}),l.jsxs("div",{className:"absolute -top-2 -right-2 dark:bg-[hsl(var(--blue))]/20 dark:border-[hsl(var(--blue))]/30 bg-[hsl(var(--purple))]/20 border-[hsl(var(--purple))]/30 p-2 rounded-lg border",children:[l.jsx("div",{className:"w-4 h-3 border-2 dark:border-[hsl(var(--blue))] border-[hsl(var(--purple))] rounded-t-lg mx-auto"}),l.jsx("div",{className:"w-6 h-5 dark:bg-[hsl(var(--blue))]/30 dark:border-[hsl(var(--blue))] bg-[hsl(var(--purple))]/30 border-2 border-[hsl(var(--purple))] rounded-lg -mt-0.5"})]})]})]})]}),l.jsxs("div",{className:"mt-8 flex gap-4 justify-center overflow-hidden text-xs font-mono",children:[l.jsx("div",{className:"text-foreground/60",children:"0x7B4..."}),l.jsx("div",{className:"text-foreground/60",children:"ECDSA P-384"}),l.jsx("div",{className:"text-foreground/60",children:"SHA-384"})]})]})]}),l.jsxs("div",{className:"absolute -bottom-3 -right-3 bg-[hsl(var(--purple))] text-[hsl(var(--marketing-card))] p-2 rounded-lg font-medium text-sm flex items-center gap-1.5",children:[l.jsx(bg,{className:"w-4 h-4"})," Secure Enclave Verified"]})]})]})})}),l.jsx(Yle,{}),l.jsx("section",{id:"testimonials",className:"w-full py-20 dark:bg-[hsl(var(--section-alt))] bg-[hsl(var(--section-alt))]",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["What Our ",l.jsx("span",{className:"text-foreground font-medium",children:"Users Say"})]}),l.jsxs("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:["Hear from those who've made privacy a priority with Maple AI.",l.jsx("br",{}),"(Quotes are real, names are changed for privacy)"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsx(p5,{quote:"For me, knowing it's end-to-end encrypted reassures me that proprietary information, client information, or any IP won't be exposed.",author:"Ryan G.",role:"VP Data & Analytics",avatar:"/ryan-g.jpg"}),l.jsx(p5,{quote:"I've been using Maple AI to help my clients with their tax and financial needs. The encryption means that their sensitive financial data and situations stay private. It really gives me peace of mind.",author:"Lauren T.",role:"Certified Public Accountant",avatar:"/lauren-t.jpg"}),l.jsx(p5,{quote:"I am fascinated by the possibilities of AI in the legal field. Finding Maple and knowing confidential client information is encrypted has been a game changer for our team.",author:"Javier R.",role:"Attorney",avatar:"/javier-r.jpg"})]})]})}),l.jsx("section",{className:"w-full py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Simple, ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"Transparent"})," ","Pricing"]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"No hidden fees. Choose the plan that works for your needs."})]}),(r==null?void 0:r.active)&&l.jsxs("div",{className:"mb-8 bg-gradient-to-r from-pink-500/10 to-orange-500/10 border border-pink-500/30 rounded-lg p-4 flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-gradient-to-r from-pink-500 to-orange-500 p-2",children:l.jsx(ME,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-foreground",children:r.name}),l.jsx("p",{className:"text-sm text-[hsl(var(--marketing-text-muted))]",children:r.description})]}),l.jsxs(ca,{className:"bg-gradient-to-r from-pink-500 to-orange-500 text-white text-lg px-3 py-1",children:[r.percent_off,"% OFF"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Hc.filter(s=>s.name.toLowerCase()!=="starter").map(s=>l.jsx(QF,{name:s.name,price:s.price,description:s.description,features:s.features,ctaText:s.ctaText,popular:s.popular,productId:n(s.name),isIOS:e,discount:r},s.name))})]})}),l.jsx("section",{className:"w-full py-20 dark:bg-gradient-to-r dark:from-[hsl(var(--background))] dark:via-[hsl(var(--section-alt))] dark:to-[hsl(var(--background))] bg-gradient-to-r from-[hsl(var(--section-alt))] via-[hsl(var(--marketing-card))] to-[hsl(var(--section-alt))]",children:l.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"bg-gradient-to-br from-[hsl(var(--purple))]/20 to-foreground/20 p-1 rounded-2xl",children:l.jsxs("div",{className:"dark:bg-[hsl(var(--background))]/95 bg-[hsl(var(--marketing-card))]/95 rounded-2xl p-12 text-center",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Ready to Chat ",l.jsx("span",{className:"text-foreground font-medium",children:"Securely?"})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto mb-8",children:"Join privacy-conscious users who've made the switch to truly secure AI chat."}),l.jsxs("div",{className:"flex justify-center gap-4 flex-col sm:flex-row",children:[l.jsxs(fy,{to:"/signup",primary:!0,children:[l.jsx(ele,{className:"h-5 w-5"}),"Start Chatting Securely"]}),l.jsx(fy,{to:"/login",children:"Log In"})]})]})})})}),l.jsx(DE,{})]})}const Jle=ks("/teams")({component:ece});function Vh({icon:e,title:t,description:r}){return l.jsxs("div",{className:"feature-card from-[hsl(var(--purple))]/10 to-[hsl(var(--blue))]/10",children:[l.jsx("div",{className:"p-3 rounded-full bg-[hsl(var(--marketing-card))]/50 border border-[hsl(var(--purple))]/30 w-fit",children:l.jsx(e,{className:"w-6 h-6 text-[hsl(var(--purple))]"})}),l.jsx("h3",{className:"text-2xl font-medium text-foreground",children:t}),l.jsx("p",{className:"text-lg font-light text-[hsl(var(--marketing-text-muted))]",children:r})]})}function ece(){return l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("span",{children:["Secure AI for ",l.jsx("span",{className:"text-[hsl(var(--purple))]",children:"Teams"})]}),subtitle:l.jsxs("span",{children:["Protect your trade secrets while using AI. ",l.jsx("br",{}),"No data is shared with advertisers, competitors, or third parties. Period."]})}),l.jsxs("div",{className:"flex flex-col items-center gap-4 mt-8 mb-12",children:[l.jsxs(Sn,{to:"/signup",search:{selected_plan:"team"},className:"cta-button-primary flex items-center gap-2 px-8 py-4 text-xl font-light rounded-lg shadow-lg transition-all duration-300",children:["Get Started with Teams ",l.jsx(LF,{className:"w-5 h-5"})]}),l.jsx("a",{href:"mailto:team@opensecret.cloud",className:"cta-button-secondary flex items-center gap-2 px-8 py-4 text-xl font-light rounded-lg border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))] mt-2",children:"Request a Demo"})]}),l.jsx("section",{className:"w-full py-16 dark:bg-[hsl(var(--section-alt))] bg-[hsl(var(--section-alt))]",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Why Choose"," ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"Maple Teams?"})]}),l.jsxs("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:["Experience the productivity gains of AI without the data tracking.",l.jsx("br",{})," Maple Teams scales AI across your entire organization to meet your needs."]})]}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/maple-teams-startup-office.jpg",alt:"A company office with different departments of Accounting, Finance, Marketing, Engineering, and Sales",className:"max-w-xl w-full h-auto rounded-lg shadow-lg"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsx(Vh,{icon:lS,title:"Pooled Usage",description:"Share AI credits across your team and control access from a central dashboard. Add or remove users anytime."}),l.jsx(Vh,{icon:Xo,title:"Document & Image Upload",description:"Upload documents and images for AI analysissummarize PDFs, extract insights from text files, or analyze images securely as a team. Supports PDF, TXT, MD, JPG, PNG, and more."}),l.jsx(Vh,{icon:pT,title:"Sanitize Client Data",description:"Use Maple to redact or anonymize sensitive client information before sharing with other cloud tools or AI. Protect privacy and stay compliant."})]})]})}),l.jsx("section",{className:"w-full py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Powerful AI models."," ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"No data sharing."})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"We use open-source models from the biggest providers."})]}),(()=>{const e=[{src:"/badge-openai-logo.png",alt:"OpenAI",label:"OpenAI GPT-OSS"},{src:"/badge-google-logo.png",alt:"Google",label:"Google Gemma"},{src:"/badge-deepseek-logo.png",alt:"DeepSeek",label:"DeepSeek R1"},{src:"/badge-meta-logo.png",alt:"Meta",label:"Meta Llama"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(t=>l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("img",{src:t.src,alt:t.alt,loading:"lazy",decoding:"async",className:"w-72 h-24 object-contain mb-4"}),l.jsx("span",{className:"text-lg font-medium text-foreground",children:t.label})]},t.label))})})(),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:[l.jsx("br",{}),"None of your data is transmitted to these companies.",l.jsx("br",{}),"Get the best without the mess."]})})]})}),l.jsx("section",{className:"w-full py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h2",{className:"text-4xl font-light mb-4",children:["Security by ",l.jsx("span",{className:"text-[hsl(var(--purple))] font-medium",children:"Design"})]}),l.jsx("p",{className:"text-xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"You don't share company secrets with competitors, so why should your AI? Whether you're designing products in a highly competitive market or dealing with sensitive client information at a firm or non-profit, Teams protects it all."})]}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/audio-hardware-engineers.jpg",alt:"Two audio hardware engineers collaborating at work using secure Maple AI",className:"max-w-2xl w-full h-auto rounded-lg shadow-lg"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsx(Vh,{icon:bg,title:"End-to-End Encryption",description:"All conversations and files are encrypted on your device and only decrypted inside secure enclaves. No onenot even Maplecan access your plaintext data."}),l.jsx(Vh,{icon:vg,title:"Confidential Computing",description:"Maple runs inside hardware-secured enclaves (AWS Nitro, Nvidia TEE) with cryptographic proof. Your organizations data is protected at every step."}),l.jsx(Vh,{icon:fc,title:"Open Source Models",description:"Teams users get access to the best models Maple offers, including advanced open source LLMs. Your data is never sent to model creatorsit always stays within secure enclaves."})]})]})}),l.jsx("section",{className:"w-full py-16",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-light mb-4",children:"How Maple Teams Works"}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("ol",{className:"text-lg text-[hsl(var(--marketing-text-muted))] max-w-xl text-left list-decimal list-inside space-y-2",children:[l.jsx("li",{children:"Purchase seats for your team"}),l.jsx("li",{children:"Invite members by email"}),l.jsx("li",{children:"Use AI securely with your data, encrypted"})]})}),l.jsx("div",{className:"flex justify-center mt-4 mb-8",children:l.jsx("a",{href:"https://blog.trymaple.ai/manage-your-team-on-maple/",target:"_blank",rel:"noopener noreferrer",className:"text-[hsl(var(--purple))] underline text-lg font-medium hover:text-[hsl(var(--purple))]/80 transition-colors",children:"Learn More"})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center justify-center",children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pT,{className:"w-8 h-8 text-[hsl(var(--purple))]"}),l.jsx("span",{className:"text-xl font-medium",children:"For Businesses"})]}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))]",children:"Maple Teams is trusted by organizations in big tech, legal, higher education, healthcare, finance, consulting, and more. Draft contracts, analyze client data, and collaborate on sensitive projects with full privacy and compliance."}),l.jsx("div",{className:"flex justify-center mt-4",children:l.jsx("img",{src:"/legal-office.jpg",alt:"Legal professionals working in a modern law office with secure AI assistance",className:"max-w-md w-full h-auto rounded-lg shadow-md"})})]}),l.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(lS,{className:"w-8 h-8 text-[hsl(var(--purple))]"}),l.jsx("span",{className:"text-xl font-medium",children:"For Non-Profits"})]}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))]",children:"Non-profits and advocacy groups use Maple to securely manage sensitive information, collaborate on grant writing, and protect the privacy of those they serveno IT headaches, just secure, private AI for your mission."}),l.jsx("div",{className:"flex justify-center mt-4",children:l.jsx("img",{src:"/social-worker-office.jpg",alt:"Social workers collaborating in a non-profit office using secure AI tools",className:"max-w-md w-full h-auto rounded-lg shadow-md"})})]})]})]})}),l.jsx("section",{className:"w-full py-16 dark:bg-[hsl(var(--section-alt))] bg-[hsl(var(--section-alt))]",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-light mb-4",children:"Simple, Transparent Pricing"}),l.jsx("p",{className:"text-lg text-[hsl(var(--marketing-text-muted))] mb-8",children:"$30/month per seat. All features included. No hidden fees. Cancel anytime."}),l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsx(QF,{name:Hc.find(e=>e.name==="Team").name,price:Hc.find(e=>e.name==="Team").price,description:Hc.find(e=>e.name==="Team").description,features:Hc.find(e=>e.name==="Team").features,ctaText:Hc.find(e=>e.name==="Team").ctaText,popular:Hc.find(e=>e.name==="Team").popular})})}),l.jsxs("div",{className:"mt-6 text-[hsl(var(--marketing-text-muted))] text-sm",children:["Need a larger deployment or have compliance questions?"," ",l.jsx("a",{href:"mailto:team@opensecret.cloud",className:"underline hover:text-foreground",children:"Contact us"})," ","for enterprise options."]})]})})]})]})}const tn=x.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));tn.displayName="Input";var tce="Label",XF=x.forwardRef((e,t)=>l.jsx(Ur.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));XF.displayName=tce;var JF=XF;const rce=S2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fr=x.forwardRef(({className:e,...t},r)=>l.jsx(JF,{ref:r,className:Ht(rce(),e),...t}));Fr.displayName=JF.displayName;const nce=S2("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_n=x.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:Ht(nce({variant:t}),e),...r}));_n.displayName="Alert";const eB=x.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:Ht("mb-1 font-medium leading-none tracking-tight",e),...t}));eB.displayName="AlertTitle";const En=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ht("text-sm [&_p]:leading-relaxed",e),...t}));En.displayName="AlertDescription";function Fa({title:e,description:t}){return l.jsxs(_n,{variant:"destructive",className:"bg-background",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(eB,{children:e??"Error"}),l.jsx(En,{children:t??"Something went wrong. Please try again."})]})}function tB({className:e}){return l.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),l.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})}function kg(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 384 512",fill:"currentColor",...e,children:l.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})})}const hn=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ht("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));hn.displayName="Card";const ys=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ht("flex flex-col space-y-1.5 p-6",e),...t}));ys.displayName="CardHeader";const vs=x.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:Ht("text-2xl font-semibold leading-none tracking-tight",e),...t}));vs.displayName="CardTitle";const Cu=x.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Cu.displayName="CardDescription";const xs=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ht("p-6 pt-0",e),...t}));xs.displayName="CardContent";const LE=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ht("flex items-center p-6 pt-0",e),...t}));LE.displayName="CardFooter";function zf({children:e,title:t,description:r}){return l.jsxs("div",{className:"flex flex-col min-h-screen",children:[l.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 py-16",children:[l.jsxs(Sn,{to:"/",className:"h-[40px] flex items-center mb-8",children:[l.jsx("img",{src:"/maple-logo-dark.svg",alt:"Maple AI logo",className:"w-[10rem] block dark:hidden",width:160,height:40}),l.jsx("img",{src:"/maple-logo.svg",alt:"Maple AI logo",className:"w-[10rem] hidden dark:block",width:160,height:40})]}),l.jsxs(hn,{className:"bg-card/70 backdrop-blur-sm w-full max-w-md mb-8",children:[l.jsxs(ys,{className:"pb-4",children:[l.jsx(vs,{className:"text-xl",children:t}),r&&l.jsx(Cu,{children:r})]}),l.jsx(xs,{className:"grid gap-4 pt-0",children:e})]})]}),l.jsx("div",{className:"mt-auto",children:l.jsx(DE,{})})]})}function js(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function tf(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var sd,ka,qh,py,gv;const uS="__TAURI_TO_IPC_KEY__";function $E(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}class rB{constructor(t){sd.set(this,void 0),ka.set(this,0),qh.set(this,[]),py.set(this,void 0),tf(this,sd,t||(()=>{})),this.id=$E(r=>{const n=r.index;if("end"in r){n==js(this,ka,"f")?this.cleanupCallback():tf(this,py,n);return}const s=r.message;if(n==js(this,ka,"f")){for(js(this,sd,"f").call(this,s),tf(this,ka,js(this,ka,"f")+1);js(this,ka,"f")in js(this,qh,"f");){const i=js(this,qh,"f")[js(this,ka,"f")];js(this,sd,"f").call(this,i),delete js(this,qh,"f")[js(this,ka,"f")],tf(this,ka,js(this,ka,"f")+1)}js(this,ka,"f")===js(this,py,"f")&&this.cleanupCallback()}else js(this,qh,"f")[n]=s})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(t){tf(this,sd,t)}get onmessage(){return js(this,sd,"f")}[(sd=new WeakMap,ka=new WeakMap,qh=new WeakMap,py=new WeakMap,uS)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[uS]()}}class dS{constructor(t,r,n){this.plugin=t,this.event=r,this.channelId=n}async unregister(){return Mn(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}}async function sce(e,t,r){const n=new rB(r);try{return Mn(`plugin:${e}|register_listener`,{event:t,handler:n}).then(()=>new dS(e,t,n.id))}catch{return Mn(`plugin:${e}|registerListener`,{event:t,handler:n}).then(()=>new dS(e,t,n.id))}}async function ice(e){return Mn(`plugin:${e}|check_permissions`)}async function ace(e){return Mn(`plugin:${e}|request_permissions`)}async function Mn(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}function oce(e,t="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(e,t)}class lce{get rid(){return js(this,gv,"f")}constructor(t){gv.set(this,void 0),tf(this,gv,t)}async close(){return Mn("plugin:resources|close",{rid:this.rid})}}gv=new WeakMap;function cce(){return!!(globalThis||window).isTauri}const xo=Object.freeze(Object.defineProperty({__proto__:null,Channel:rB,PluginListener:dS,Resource:lce,SERIALIZE_TO_IPC_FN:uS,addPluginListener:sce,checkPermissions:ice,convertFileSrc:oce,invoke:Mn,isTauri:cce,requestPermissions:ace,transformCallback:$E},Symbol.toStringTag,{value:"Module"})),Ms=[];for(let e=0;e<256;++e)Ms.push((e+256).toString(16).slice(1));function uce(e,t=0){return(Ms[e[t+0]]+Ms[e[t+1]]+Ms[e[t+2]]+Ms[e[t+3]]+"-"+Ms[e[t+4]]+Ms[e[t+5]]+"-"+Ms[e[t+6]]+Ms[e[t+7]]+"-"+Ms[e[t+8]]+Ms[e[t+9]]+"-"+Ms[e[t+10]]+Ms[e[t+11]]+Ms[e[t+12]]+Ms[e[t+13]]+Ms[e[t+14]]+Ms[e[t+15]]).toLowerCase()}let m5;const dce=new Uint8Array(16);function hce(){if(!m5){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m5=crypto.getRandomValues.bind(crypto)}return m5(dce)}const fce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kT={randomUUID:fce};function Dp(e,t,r){var s;if(kT.randomUUID&&!e)return kT.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??hce();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,uce(n)}function pce(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function FE(e,...t){if(!pce(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ST(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mce(e,t){FE(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function g5(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Oo(e,t){return e<<32-t|e>>>t}const gce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function BE(e){FE(e);let t="";for(let r=0;r<e.length;r++)t+=gce[e[r]];return t}function yce(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function nB(e){return typeof e=="string"&&(e=yce(e)),FE(e),e}class vce{clone(){return this._cloneInto()}}function xce(e){const t=n=>e().update(nB(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function bce(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,o,n)}function wce(e,t,r){return e&t^~e&r}function kce(e,t,r){return e&t^e&r^t&r}class Sce extends vce{constructor(t,r,n,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=g5(this.buffer)}update(t){ST(this);const{view:r,buffer:n,blockLen:s}=this;t=nB(t);const i=t.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=g5(t);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ST(this),mce(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let h=a;h<s;h++)r[h]=0;bce(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=g5(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,d[h],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return t.length=s,t.pos=o,t.finished=i,t.destroyed=a,s%r&&t.buffer.set(n),t}}const _ce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ic=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jc=new Uint32Array(64);class Ece extends Sce{constructor(){super(64,32,8,!1),this.A=Ic[0]|0,this.B=Ic[1]|0,this.C=Ic[2]|0,this.D=Ic[3]|0,this.E=Ic[4]|0,this.F=Ic[5]|0,this.G=Ic[6]|0,this.H=Ic[7]|0}get(){const{A:t,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[t,r,n,s,i,a,o,c]}set(t,r,n,s,i,a,o,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(t,r){for(let h=0;h<16;h++,r+=4)jc[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const f=jc[h-15],p=jc[h-2],m=Oo(f,7)^Oo(f,18)^f>>>3,g=Oo(p,17)^Oo(p,19)^p>>>10;jc[h]=g+jc[h-7]+m+jc[h-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=Oo(o,6)^Oo(o,11)^Oo(o,25),p=d+f+wce(o,c,u)+_ce[h]+jc[h]|0,g=(Oo(n,2)^Oo(n,13)^Oo(n,22))+kce(n,s,i)|0;d=u,u=c,c=o,o=a+p|0,a=i,i=s,s=n,n=p+g|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,s,i,a,o,c,u,d)}roundClean(){jc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const UE=xce(()=>new Ece);function zE({onSuccess:e,onError:t,inviteCode:r="",redirectAfterLogin:n,selectedPlan:s,className:i,children:a}){const o=qr(),c=x.useRef(!1),u=x.useRef(!1),d=x.useRef(""),h=x.useRef(!1);x.useEffect(()=>{if(c.current||window.location.protocol==="tauri:")return;const m=document.createElement("script");return m.src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",m.async=!0,m.onload=()=>{},document.head.appendChild(m),c.current=!0,()=>{m.parentNode&&m.parentNode.removeChild(m)}},[]);const f=async()=>{if(!window.AppleID){console.error("[Apple Auth] AppleID JS SDK not loaded");return}if(!(h.current||u.current)){h.current=!0;try{try{const m=await o.initiateAppleAuth(r||"");d.current=Dp();const g=BE(UE(new TextEncoder().encode(d.current)));sessionStorage.setItem("apple_auth_nonce",d.current);const w=m.state||"";sessionStorage.setItem("apple_auth_state",w),s&&sessionStorage.setItem("selected_plan",s),window.AppleID.auth.init({clientId:"cloud.opensecret.maple.services",scope:"name email",redirectURI:window.location.origin+"/auth/apple/callback",state:w,nonce:g,usePopup:!0})}catch(m){console.error("[Apple Auth] Failed to initialize:",m),t&&m instanceof Error&&t(m)}document.addEventListener("AppleIDSignInOnSuccess",async m=>{var g,w,y,v,b,k;try{const C=m;let A,R;if(typeof C.detail=="object"&&((w=(g=C.detail.data)==null?void 0:g.authorization)!=null&&w.code))A=C.detail.data.authorization.code,R=C.detail.data.authorization.state;else if(typeof C.detail=="object"&&((y=C.detail.authorization)!=null&&y.code))A=C.detail.authorization.code,R=C.detail.authorization.state;else if(typeof C.detail=="object"&&C.detail.code)A=C.detail.code,R=C.detail.state;else if((v=C.authorization)!=null&&v.code)A=C.authorization.code,R=C.authorization.state;else if(typeof C.detail=="string")try{const O=JSON.parse(C.detail);A=O.code||((b=O.authorization)==null?void 0:b.code),R=O.state||((k=O.authorization)==null?void 0:k.state)}catch(O){console.error("[Apple Auth] Failed to parse string data:",O)}if(A&&R){sessionStorage.removeItem("apple_auth_state"),await o.handleAppleCallback(A,R,r||"");try{Lr().clearToken()}catch(F){console.warn("Failed to clear billing token:",F)}if(localStorage.getItem("redirect-to-native")==="true"){localStorage.removeItem("redirect-to-native");const F=localStorage.getItem("access_token")||"",j=localStorage.getItem("refresh_token");let D=`cloud.opensecret.maple://auth?access_token=${encodeURIComponent(F)}`;j&&(D+=`&refresh_token=${encodeURIComponent(j)}`),setTimeout(()=>{window.location.href=D},1e3);return}e&&e(),n&&n(s)}else throw new Error("Missing required authentication data")}catch(C){console.error("[Apple Auth] Error processing authentication:",C),t&&C instanceof Error&&t(C)}}),document.addEventListener("AppleIDSignInOnFailure",m=>{const w=m.detail.error;console.error("[Apple Auth] Sign In failed:",w),w!=="popup_closed_by_user"&&t&&t(new Error(w||"Apple authentication failed"))}),u.current=!0,h.current=!1}catch(m){console.error("[Apple Auth] Failed to initialize Apple Sign In:",m),h.current=!1,t&&m instanceof Error&&t(m)}}},p=async()=>{try{if(!window.AppleID)throw new Error("Apple Sign In SDK not loaded");u.current||(await f(),u.current=!0);const m=await window.AppleID.auth.signIn();if(m&&m.authorization&&m.authorization.code){const g=m.authorization.code,w=m.authorization.state;if(g&&w){sessionStorage.removeItem("apple_auth_state"),await o.handleAppleCallback(g,w,r||"");try{Lr().clearToken()}catch(v){console.warn("Failed to clear billing token:",v)}if(localStorage.getItem("redirect-to-native")==="true"){localStorage.removeItem("redirect-to-native");const v=localStorage.getItem("access_token")||"",b=localStorage.getItem("refresh_token");let k=`cloud.opensecret.maple://auth?access_token=${encodeURIComponent(v)}`;b&&(k+=`&refresh_token=${encodeURIComponent(b)}`),setTimeout(()=>{window.location.href=k},1e3);return}e&&e(),n&&n(s)}}}catch(m){if(console.error("[Apple Auth] Sign In failed:",m),m instanceof Error&&m.message==="popup_closed_by_user")return;t&&m instanceof Error&&t(m)}};return window.location.protocol==="tauri:"?null:a?l.jsx("div",{onClick:p,className:i,children:a}):l.jsxs(Me,{onClick:p,className:i||"w-full",children:[l.jsx(kg,{className:"mr-2 h-4 w-4"}),"Log in with Apple"]})}function _T(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sB(...e){return t=>{let r=!1;const n=e.map(s=>{const i=_T(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():_T(e[s],null)}}}}function iB(...e){return x.useCallback(sB(...e),e)}function Nce(e,t=[]){let r=[];function n(i,a){const o=x.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:f,children:p,...m}=h,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||o,w=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>x.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Cce(s,...t)]}function Cce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function ET(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Ace=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Tce=Gb[" useInsertionEffect ".trim().toString()]||Ace;function HE({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=Rce({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=x.useCallback(d=>{var h;if(o){const f=Ice(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else i(d)},[o,e,i,a]);return[c,u]}function Rce({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return Tce(()=>{i.current=t},[t]),x.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function Ice(e){return typeof e=="function"}function jce(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Mce=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Pce(e){const[t,r]=x.useState(void 0);return Mce(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function NT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oce(...e){return t=>{let r=!1;const n=e.map(s=>{const i=NT(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():NT(e[s],null)}}}}function Dce(...e){return x.useCallback(Oce(...e),e)}var CT=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Lce(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var VE=e=>{const{present:t,children:r}=e,n=$ce(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Dce(n.ref,Fce(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};VE.displayName="Presence";function $ce(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),a=e?"mounted":"unmounted",[o,c]=Lce(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=my(n.current);i.current=o==="mounted"?u:"none"},[o]),CT(()=>{const u=n.current,d=s.current;if(d!==e){const f=i.current,p=my(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),CT(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=my(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=p=>{p.target===t&&(i.current=my(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function my(e){return(e==null?void 0:e.animationName)||"none"}function Fce(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Bce(e){const t=Uce(e),r=x.forwardRef((n,s)=>{const{children:i,...a}=n,o=x.Children.toArray(i),c=o.find(Hce);if(c){const u=c.props.children,d=o.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Uce(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const a=qce(s),o=Vce(i,s.props);return s.type!==x.Fragment&&(o.ref=n?sB(n,a):a),x.cloneElement(s,o)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zce=Symbol("radix.slottable");function Hce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zce}function Vce(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function qce(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qE=Wce.reduce((e,t)=>{const r=Bce(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_2="Checkbox",[Gce,vke]=Nce(_2),[Kce,WE]=Gce(_2);function Yce(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,p]=HE({prop:r,defaultProp:s??!1,onChange:c,caller:_2}),[m,g]=x.useState(null),[w,y]=x.useState(null),v=x.useRef(!1),b=m?!!a||!!m.closest("form"):!0,k={checked:f,disabled:i,setChecked:p,control:m,setControl:g,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Au(s)?!1:s,isFormControl:b,bubbleInput:w,setBubbleInput:y};return l.jsx(Kce,{scope:t,...k,children:Zce(h)?h(k):n})}var aB="CheckboxTrigger",oB=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=WE(aB,e),g=iB(s,d),w=x.useRef(c);return x.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const v=()=>h(w.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,h]),l.jsx(qE.button,{type:"button",role:"checkbox","aria-checked":Au(c)?"mixed":c,"aria-required":u,"data-state":hB(c),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:g,onKeyDown:ET(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ET(r,y=>{h(v=>Au(v)?!0:!v),m&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});oB.displayName=aB;var GE=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(Yce,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(oB,{...h,ref:t,__scopeCheckbox:r}),f&&l.jsx(dB,{__scopeCheckbox:r})]})})});GE.displayName=_2;var lB="CheckboxIndicator",cB=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=WE(lB,r);return l.jsx(VE,{present:n||Au(i.checked)||i.checked===!0,children:l.jsx(qE.span,{"data-state":hB(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});cB.displayName=lB;var uB="CheckboxBubbleInput",dB=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=WE(uB,e),m=iB(r,p),g=jce(i),w=Pce(n);x.useEffect(()=>{const v=f;if(!v)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,A=!s.current;if(g!==i&&C){const R=new Event("click",{bubbles:A});v.indeterminate=Au(i),C.call(v,Au(i)?!1:i),v.dispatchEvent(R)}},[f,g,i,s]);const y=x.useRef(Au(i)?!1:i);return l.jsx(qE.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:o,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:m,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dB.displayName=uB;function Zce(e){return typeof e=="function"}function Au(e){return e==="indeterminate"}function hB(e){return Au(e)?"indeterminate":e?"checked":"unchecked"}const fm=x.forwardRef(({className:e,...t},r)=>l.jsx(GE,{ref:r,className:Ht("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(cB,{className:Ht("flex items-center justify-center text-current"),children:l.jsx(jt,{className:"h-4 w-4"})})}));fm.displayName=GE.displayName;function Qce({open:e,onOpenChange:t,onAccept:r}){const[n,s]=x.useState(!1),[i,a]=x.useState(!1),[o,c]=x.useState(!1),u=n&&i&&o,d=()=>{u&&(s(!1),a(!1),c(!1),r())};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"max-w-[calc(100vw-2rem)] sm:max-w-[550px] max-h-[calc(100vh-2rem)] overflow-y-auto [&>button]:hidden",children:[l.jsxs(pn,{children:[l.jsxs(mn,{className:"flex items-center gap-2 text-amber-600 dark:text-amber-500",children:[l.jsx(pc,{className:"w-5 h-5"}),"Anonymous Account - Important Warnings"]}),l.jsx(Pn,{className:"text-base",children:"Please read and acknowledge all warnings before creating an anonymous account."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"rounded-lg border border-amber-500/50 bg-amber-500/10 p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(fm,{id:"bitcoin-payment",checked:n,onCheckedChange:h=>s(h===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:l.jsxs(Fr,{htmlFor:"bitcoin-payment",className:"text-sm font-medium leading-relaxed cursor-pointer break-words",children:["I understand I"," ",l.jsx("strong",{children:"MUST pay for a full year in Bitcoin or redeem a subscription pass"}),". No credit card, no Stripe, no monthly payment options, and"," ",l.jsx("strong",{children:"no free trial"})," are available for anonymous accounts."]})})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(fm,{id:"no-support",checked:i,onCheckedChange:h=>a(h===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:l.jsxs(Fr,{htmlFor:"no-support",className:"text-sm font-medium leading-relaxed cursor-pointer break-words",children:["I understand there is ",l.jsx("strong",{children:"absolutely no support"})," available for anonymous accounts. If I have issues, I cannot contact support for help."]})})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(fm,{id:"backup-credentials",checked:o,onCheckedChange:h=>c(h===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:l.jsxs(Fr,{htmlFor:"backup-credentials",className:"text-sm font-medium leading-relaxed cursor-pointer break-words",children:["I understand I ",l.jsx("strong",{children:"MUST backup my Account ID"})," after signup. My Account ID will only be shown once, and if I lose it, I will permanently lose access to my account. We cannot recover it."]})})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsx("p",{children:l.jsx("strong",{children:"Why these restrictions?"})}),l.jsx("p",{children:"Anonymous accounts are designed for users who prioritize privacy and don't want to provide an email address. This comes with trade-offs in support and payment options."})]})]}),l.jsxs(Rs,{className:"gap-2 sm:gap-0",children:[l.jsx(Me,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Me,{onClick:d,disabled:!u,children:"I Understand and Accept"})]})]})})}function Xce({open:e,onOpenChange:t,uuid:r,onContinue:n}){const[s,i]=x.useState(!1),[a,o]=x.useState(!1),c=async()=>{try{await navigator.clipboard.writeText(r),o(!0),setTimeout(()=>o(!1),2e3)}catch(d){console.error("Failed to copy UUID:",d)}},u=()=>{s&&(i(!1),o(!1),n())};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"max-w-[calc(100vw-2rem)] sm:max-w-[500px] max-h-[calc(100vh-2rem)] overflow-y-auto [&>button]:hidden",onInteractOutside:d=>d.preventDefault(),onEscapeKeyDown:d=>d.preventDefault(),children:[l.jsxs(pn,{children:[l.jsxs(mn,{className:"flex items-center gap-2 text-amber-600 dark:text-amber-500",children:[l.jsx(pc,{className:"w-5 h-5"}),"Save Your Anonymous Account ID"]}),l.jsx(Pn,{className:"text-base font-medium",children:"This is your ONLY chance to see your Account ID. Save it now!"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx("div",{className:"rounded-lg border-2 border-red-500 bg-red-500/10 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(pc,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("p",{className:"font-semibold text-red-600 dark:text-red-500",children:"Critical: Save your Account ID immediately!"}),l.jsxs("p",{children:["Your Account ID will ",l.jsx("strong",{children:"never be shown again"})," after you close this dialog. If you lose it, you will ",l.jsx("strong",{children:"permanently lose access"})," to your account. We cannot recover it for you."]})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fr,{htmlFor:"uuid",className:"text-base font-medium",children:"Your Account ID"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tn,{id:"uuid",value:r,readOnly:!0,className:"font-mono text-xs sm:text-sm"}),l.jsx(Me,{type:"button",variant:"outline",size:"icon",onClick:c,className:"flex-shrink-0",children:a?l.jsx(fl,{className:"w-4 h-4 text-green-500"}):l.jsx(Th,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"You will need this Account ID along with your password to sign in."})]}),l.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-4 space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"How to save your Account ID:"}),l.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside text-muted-foreground",children:[l.jsx("li",{children:"Copy it to a password manager (recommended)"}),l.jsx("li",{children:"Write it down on paper and store it safely"}),l.jsx("li",{children:"Save it in a secure note or encrypted file"}),l.jsx("li",{children:"Take a screenshot and store it securely"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[l.jsx(fm,{id:"backed-up",checked:s,onCheckedChange:d=>i(d===!0)}),l.jsx(Fr,{htmlFor:"backed-up",className:"text-sm font-medium leading-relaxed cursor-pointer break-words",children:"I have securely saved my Account ID and understand I cannot recover my account without it"})]})]}),l.jsx(Rs,{children:l.jsx(Me,{onClick:u,disabled:!s,className:"w-full sm:w-auto",children:"Continue to Payment"})})]})})}const fB=ks("/signup")({component:Jce,validateSearch:e=>({next:typeof e.next=="string"?e.next:void 0,selected_plan:typeof e.selected_plan=="string"?e.selected_plan:void 0,code:typeof e.code=="string"?e.code:void 0})});function Jce(){const e=ws(),t=qr(),{next:r,selected_plan:n,code:s}=fB.useSearch(),[i,a]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState(!1),[g,w]=x.useState(null),y=d1(),v=Ao();x.useEffect(()=>{t.auth.user&&!p&&e(n?{to:"/pricing",search:{selected_plan:n}}:r==="/redeem"&&s?{to:"/redeem",search:{code:s}}:{to:r||"/"})},[t.auth.user,e,r,n,s,p]);const b=async j=>{j.preventDefault(),d(!0),c(null);const D=new FormData(j.currentTarget),z=D.get("email"),Y=D.get("password");try{await t.signUp(z,Y,"","ANON");try{Lr().clearToken()}catch(Q){console.warn("Failed to clear billing token:",Q)}setTimeout(()=>{e(n?{to:"/pricing",search:{selected_plan:n}}:r==="/redeem"&&s?{to:"/redeem",search:{code:s}}:{to:r||"/"}),window.scrollTo(0,0)},100)}catch(Q){console.error(Q),Q instanceof Error?c(`${Q.message}`):c("Something went wrong. Please try again.")}finally{d(!1)}},k=async()=>{try{if(console.log("[OAuth] Using",v?"Tauri":"web","flow"),v){let j="https://trymaple.ai/desktop-auth?provider=github";n&&(j+=`&selected_plan=${encodeURIComponent(n)}`),s&&(j+=`&code=${encodeURIComponent(s)}`),console.log("[OAuth] Opening URL in external browser:",j),Mn("plugin:opener|open_url",{url:j}).catch(D=>{console.error("[OAuth] Failed to open external browser:",D),c("Failed to open authentication page in browser")})}else{const{auth_url:j}=await t.initiateGitHubAuth("");n&&sessionStorage.setItem("selected_plan",n),s&&sessionStorage.setItem("redeem_code",s),window.location.href=j}}catch(j){console.error("Failed to initiate GitHub signup:",j),c("Failed to initiate GitHub signup. Please try again.")}},C=async()=>{try{if(console.log("[OAuth] Using",v?"Tauri":"web","flow"),v){let j="https://trymaple.ai/desktop-auth?provider=google";n&&(j+=`&selected_plan=${encodeURIComponent(n)}`),s&&(j+=`&code=${encodeURIComponent(s)}`),console.log("[OAuth] Opening URL in external browser:",j),Mn("plugin:opener|open_url",{url:j}).catch(D=>{console.error("[OAuth] Failed to open external browser:",D),c("Failed to open authentication page in browser")})}else{const{auth_url:j}=await t.initiateGoogleAuth("");n&&sessionStorage.setItem("selected_plan",n),s&&sessionStorage.setItem("redeem_code",s),window.location.href=j}}catch(j){console.error("Failed to initiate Google signup:",j),c("Failed to initiate Google signup. Please try again.")}},A=()=>{f(!1),a("guest")},R=async j=>{j.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),d(!0),c(null);const z=new FormData(j.currentTarget).get("password");try{const Y=await t.signUpGuest(z,"");w(Y.id);try{Lr().clearToken()}catch(Q){console.warn("Failed to clear billing token:",Q)}m(!0)}catch(Y){console.error(Y),Y instanceof Error?c(`${Y.message}`):c("Something went wrong. Please try again.")}finally{d(!1)}},O=()=>{m(!1),e({to:"/pricing"})},F=async()=>{var j,D;try{if(v&&y){console.log("[OAuth] Initiating native Sign in with Apple for iOS");try{const z=Dp(),Y=Dp(),Q=BE(UE(new TextEncoder().encode(Y))),te=await Mn("plugin:sign-in-with-apple|get_apple_id_credential",{payload:{scope:["email","fullName"],state:z,nonce:Q,options:{debug:!1}}});console.log("[OAuth] Apple Sign-In result:",te);const Z={user_identifier:te.user,identity_token:te.identityToken,email:te.email,given_name:(j=te.fullName)==null?void 0:j.givenName,family_name:(D=te.fullName)==null?void 0:D.familyName,nonce:Y};try{await t.handleAppleNativeSignIn(Z,"");try{Lr().clearToken()}catch(J){console.warn("Failed to clear billing token:",J)}e(n?{to:"/pricing",search:{selected_plan:n}}:r==="/redeem"&&s?{to:"/redeem",search:{code:s}}:{to:r||"/"})}catch(J){console.error("[OAuth] Backend processing failed:",J),c(J instanceof Error?J.message:"Failed to process Apple authentication")}}catch(z){console.error("[OAuth] Failed to authenticate with Apple:",z);const Y=z instanceof Error?`Apple Sign In error: ${z.message}`:"Failed to authenticate with Apple. Please try again.";c(Y)}}else if(v){let z="https://trymaple.ai/desktop-auth?provider=apple";n&&(z+=`&selected_plan=${encodeURIComponent(n)}`),s&&(z+=`&code=${encodeURIComponent(s)}`),console.log("[OAuth] Opening URL in external browser:",z),Mn("plugin:opener|open_url",{url:z}).catch(Y=>{console.error("[OAuth] Failed to open external browser:",Y),c("Failed to open authentication page in browser")})}else console.log("[OAuth] Using web flow for Apple Sign In (Web only)"),s&&sessionStorage.setItem("redeem_code",s)}catch(z){console.error("Failed to initiate Apple signup:",z),c("Failed to initiate Apple signup. Please try again.")}};return i?i==="guest"?l.jsxs(l.Fragment,{children:[l.jsx("form",{onSubmit:R,children:l.jsxs(zf,{title:"Sign Up as Anonymous",children:[o&&l.jsx(Fa,{title:"Error",description:o}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"password",children:"Create Password"}),l.jsx(tn,{id:"password",name:"password",type:"password",required:!0,minLength:8,autoComplete:"new-password",placeholder:"Create a strong password"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need this password along with your Account ID to sign in. Your Account ID will be shown in the next step."})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Anonymous Account"}),l.jsx(Me,{type:"button",variant:"outline",onClick:()=>a(null),className:"w-full",children:"Back"})]})}),g&&l.jsx(Xce,{open:p,onOpenChange:m,uuid:g,onContinue:O})]}):l.jsx("form",{onSubmit:b,children:l.jsxs(zf,{title:"Sign Up with Email",children:[o&&l.jsx(Fa,{title:"Error",description:o}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"email",children:"Email"}),l.jsx(tn,{id:"email",name:"email",type:"email",placeholder:"email@example.com",required:!0,autoComplete:"email"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"password",children:"Password"}),l.jsx(tn,{id:"password",name:"password",type:"password",required:!0,minLength:8,autoComplete:"new-password"})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Create Account"}),l.jsx(Me,{type:"button",variant:"outline",onClick:()=>a(null),className:"w-full",children:"Back"}),l.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",l.jsx(Sn,{to:"/login",search:r?{next:r,...s&&{code:s}}:s?{code:s}:void 0,className:"underline",children:"Log In"})]})]})}):l.jsxs(zf,{title:"Sign Up",description:"Choose your preferred sign-up method",children:[o&&l.jsx(Fa,{title:"Note",description:o}),l.jsxs(Me,{onClick:()=>a("email"),className:"w-full",children:[l.jsx(b2,{className:"mr-2 h-4 w-4"}),"Sign up with Email"]}),l.jsxs(Me,{onClick:k,className:"w-full",children:[l.jsx(jE,{className:"mr-2 h-4 w-4"}),"Sign up with GitHub"]}),l.jsxs(Me,{onClick:C,className:"w-full",children:[l.jsx(tB,{className:"mr-2 h-4 w-4"}),"Sign up with Google"]}),v?l.jsxs(Me,{onClick:F,className:"w-full",children:[l.jsx(kg,{className:"mr-2 h-4 w-4"}),"Sign up with Apple"]}):l.jsx(zE,{onError:j=>c(j.message),redirectAfterLogin:j=>{e(j?{to:"/pricing",search:{selected_plan:j}}:{to:r||"/"})},selectedPlan:n,inviteCode:""}),l.jsxs(Me,{onClick:()=>f(!0),className:"w-full",children:[l.jsx(FF,{className:"mr-2 h-4 w-4"}),"Sign up as Anonymous"]}),l.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",l.jsx(Sn,{to:"/login",search:r?{next:r,...s&&{code:s}}:s?{code:s}:void 0,className:"underline",children:"Log In"})]}),l.jsx(Qce,{open:h,onOpenChange:f,onAccept:A})]})}function kb(){var y;const e=qr(),[t,r]=x.useState(()=>{var b;return e.auth.user?!(((b=e.auth.user.user.login_method)==null?void 0:b.toLowerCase())==="guest")&&!e.auth.user.user.email_verified:!1}),[n,s]=x.useState(!1),[i,a]=x.useState(!1),[o,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(null);x.useEffect(()=>{var v;if(!e.auth.user)r(!1),c(""),f(null),a(!1);else{const k=!(((v=e.auth.user.user.login_method)==null?void 0:v.toLowerCase())==="guest")&&!e.auth.user.user.email_verified;r(k)}},[e.auth.user]);const p=v=>{var k,C,A;const b=((C=(k=e.auth.user)==null?void 0:k.user.login_method)==null?void 0:C.toLowerCase())==="guest";!v&&((A=e.auth.user)!=null&&A.user.email_verified||b)&&(r(!1),c(""),f(null),a(!1))},m=async()=>{try{s(!0),await e.requestNewVerificationEmail(),a(!0),setTimeout(()=>a(!1),3e4)}catch(v){console.error("Failed to resend verification email:",v)}finally{s(!1)}},g=async()=>{if(o.trim())try{f(null),d(!0),await e.verifyEmail(o),await e.refetchUser()}catch(v){v instanceof Error?f(v.message):f("Failed to verify email. Please check the code and try again.")}finally{d(!1)}},w=v=>{v.key==="Enter"&&(v.preventDefault(),g())};return l.jsx(ns,{open:t,onOpenChange:p,children:l.jsxs(Xn,{className:"max-w-[calc(100vw-2rem)] sm:max-w-[425px] [&>button]:hidden",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Verify Your Email"}),l.jsxs(Pn,{children:["Please check your email (",(y=e.auth.user)==null?void 0:y.user.email,") to verify your account. You'll need to verify your email to continue using Maple AI."]})]}),l.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"verification-code",children:"Verification Code"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tn,{id:"verification-code",value:o,onChange:v=>c(v.target.value),onKeyDown:w,placeholder:"Enter verification code"}),l.jsx(Me,{onClick:g,disabled:u||!o.trim(),children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify"})]}),h&&l.jsx(Fa,{title:"Verification Failed",description:h})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[i?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted p-3 rounded-md",children:[l.jsx(fl,{className:"h-4 w-4 text-green-500"}),"Verification email sent! Please check your inbox."]}):l.jsx(Me,{onClick:m,disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Resend Verification Email"}),l.jsxs(Me,{variant:"outline",onClick:()=>e.signOut(),className:"gap-2",children:[l.jsx(xg,{className:"w-4 h-4"}),"Log Out"]})]})]})]})})}const eue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function tue(e){return eue.test(e)}function AT(e){const t=e.replace(/[^0-9a-f]/gi,"").toLowerCase();return t.length<=8?t:t.length<=12?`${t.slice(0,8)}-${t.slice(8)}`:t.length<=16?`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12)}`:t.length<=20?`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16)}`:`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20,32)}`}function rue(){var te,Z,J;const e=ws(),t=qr(),r=Wa(),{code:n}=pB.useSearch(),[s,i]=x.useState(n||""),[a,o]=x.useState(0),[c,u]=x.useState(""),[d,h]=x.useState(!1),f=!!t.auth.user,p=((Z=(te=t.auth.user)==null?void 0:te.user.login_method)==null?void 0:Z.toLowerCase())==="guest",{data:m}=ts({queryKey:["billingStatus"],queryFn:async()=>await Lr().getBillingStatus(),enabled:f}),g=s.trim().toLowerCase(),w=tue(g),{data:y,isLoading:v,error:b}=ts({queryKey:["passCheck",g,a],queryFn:async()=>await Lr().checkPassCode(g),enabled:w&&g.length===36,retry:!1}),k=cte({mutationFn:async V=>await Lr().redeemPassCode({pass_code:V}),onSuccess:()=>{h(!0),u(""),r.invalidateQueries({queryKey:["billingStatus"]}),setTimeout(()=>{e({to:"/"})},3e3)},onError:V=>{u(V.message),h(!1)}});x.useEffect(()=>{n&&i(n)},[n]);const C=V=>{const re=V.target.value,E=AT(re);i(E),u(""),o(N=>N+1)},A=async()=>{try{const V=await navigator.clipboard.readText(),re=AT(V);i(re),u(""),o(E=>E+1)}catch(V){console.error("Failed to read clipboard:",V)}},R=()=>{var V;if(!f){e({to:"/signup",search:{next:"/redeem",code:g}});return}if(!p&&!((V=t.auth.user)!=null&&V.user.email_verified)){console.log("Email verification required before redemption");return}w&&(y!=null&&y.valid)&&(y==null?void 0:y.status)==="active"&&k.mutate(g)},F=(()=>{if(d)return{type:"success",message:"Pass code redeemed successfully! Redirecting to dashboard..."};if(c)return{type:"error",message:c};if(!w&&g.length>0)return{type:"error",message:"Invalid pass code format. Please enter a valid UUID."};if(b)return{type:"error",message:"Failed to check pass code. Please try again."};if(y&&!y.valid)return{type:"error",message:y.message||"Invalid pass code"};if(y!=null&&y.valid){const V=y.status;if(V==="pending")return{type:"warning",message:"This pass code is pending payment confirmation and cannot be redeemed yet."};if(V==="redeemed")return{type:"error",message:"This pass code has already been redeemed and cannot be used again."};if(V==="expired")return{type:"error",message:`This pass code expired on ${y.expires_at?new Date(y.expires_at).toLocaleDateString():"an unknown date"}. Contact support if you believe this is an error.`};if(V==="revoked")return{type:"error",message:"This pass code has been revoked and cannot be used."};if(V==="active")return{type:"success",message:`Valid pass code for ${y.plan_name} (${y.duration_months} months)`}}return null})(),j=w&&(y==null?void 0:y.valid)&&(y==null?void 0:y.status)==="active"&&!k.isPending&&!d,D=(m==null?void 0:m.is_subscribed)&&(m==null?void 0:m.payment_provider)!==null&&(m==null?void 0:m.subscription_status)==="active",z=(J=m==null?void 0:m.product_name)==null?void 0:J.toLowerCase(),Y=(z==null?void 0:z.includes("free"))||!(m!=null&&m.is_subscribed),Q=D&&!Y;return l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("h2",{className:"text-6xl font-light mb-0",children:["Redeem ",l.jsx("span",{className:"text-[hsl(var(--purple))]",children:"Subscription Pass"})]}),subtitle:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{children:"Enter your subscription pass code to activate your plan."}),l.jsx("p",{children:"Pass codes are one-time use and valid for 12 months after creation."})]})}),l.jsxs("div",{className:"pt-8 w-full max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[f&&Q&&!d&&l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/50 text-amber-800 dark:text-amber-100 rounded-lg p-6 flex items-start gap-3 mb-6",children:[l.jsx("div",{className:"rounded-full bg-amber-100 dark:bg-amber-800 p-1",children:l.jsx(pc,{className:"w-6 h-6 text-amber-600 dark:text-amber-200"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-semibold text-lg",children:["Active ",m==null?void 0:m.product_name," Subscription Detected"]}),l.jsxs("p",{className:"text-sm mt-2",children:["You're currently subscribed to the ",m==null?void 0:m.product_name," plan. Pass codes can only be redeemed on free accounts."]}),l.jsx("p",{className:"text-sm mt-2",children:"To redeem this pass code, you'll need to cancel your current subscription and wait for it to expire, or let it naturally expire at the end of your billing period."}),l.jsx("p",{className:"text-sm mt-2",children:"You can create a new free account to redeem this code."}),l.jsx(Me,{onClick:()=>e({to:"/pricing"}),variant:"outline",size:"sm",className:"mt-4",children:"Manage Subscription"})]})]}),l.jsx("div",{className:"flex flex-col border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-8 border rounded-lg",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"pass-code",className:"text-lg font-medium",children:"Pass Code"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tn,{id:"pass-code",type:"text",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",value:s,onChange:C,className:"font-mono text-sm",maxLength:36}),l.jsx(Me,{onClick:A,variant:"outline",className:"whitespace-nowrap",type:"button",children:"Paste"})]}),l.jsx("p",{className:"text-sm text-[hsl(var(--marketing-text-muted))]",children:"Enter the subscription pass code you received"})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 text-[hsl(var(--marketing-text-muted))]",children:[l.jsx(Ar,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Checking pass code..."})]}),F&&l.jsxs("div",{className:`rounded-lg p-4 flex items-start gap-3 ${F.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-900/50 text-green-800 dark:text-green-100":F.type==="error"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50 text-red-800 dark:text-red-100":F.type==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/50 text-amber-800 dark:text-amber-100":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900/50 text-blue-800 dark:text-blue-100"}`,children:[l.jsx("div",{className:`rounded-full p-1 ${F.type==="success"?"bg-green-100 dark:bg-green-800":F.type==="error"?"bg-red-100 dark:bg-red-800":F.type==="warning"?"bg-amber-100 dark:bg-amber-800":"bg-blue-100 dark:bg-blue-800"}`,children:F.type==="success"?l.jsx(jt,{className:`w-5 h-5 ${F.type==="success"?"text-green-600 dark:text-green-200":""}`}):F.type==="error"?l.jsx(Jn,{className:`w-5 h-5 ${F.type==="error"?"text-red-600 dark:text-red-200":""}`}):l.jsx(pc,{className:`w-5 h-5 ${F.type==="warning"?"text-amber-600 dark:text-amber-200":"text-blue-600 dark:text-blue-200"}`})}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{children:F.message})})]}),(y==null?void 0:y.valid)&&(y==null?void 0:y.status)==="active"&&l.jsxs("div",{className:"space-y-4 p-6 bg-gradient-to-b from-[hsl(var(--purple))]/5 to-transparent rounded-lg border border-[hsl(var(--purple))]/20",children:[l.jsx("h3",{className:"text-xl font-medium",children:"Plan Details"}),l.jsxs("div",{className:"space-y-2 text-[hsl(var(--marketing-text-muted))]",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Plan:"}),l.jsx("span",{className:"font-medium text-foreground",children:y.plan_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Duration:"}),l.jsxs("span",{className:"font-medium text-foreground",children:[y.duration_months," months"]})]}),y.expires_at&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Code Expires:"}),l.jsx("span",{className:"font-medium text-foreground",children:new Date(y.expires_at).toLocaleDateString()})]})]})]}),l.jsx(Me,{onClick:R,disabled:!j||Q||k.isPending,className:`w-full 
                  dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                  bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                  border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
                  px-8 py-4 rounded-lg text-xl font-light 
                  transition-all duration-300 shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] 
                  hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)] disabled:opacity-50 
                  disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:k.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"w-5 h-5 animate-spin"}),"Redeeming..."]}):f?"Redeem Pass Code":"Create Account to Redeem"}),!f&&l.jsxs("p",{className:"text-center text-sm text-[hsl(var(--marketing-text-muted))]",children:["Already have a free account,"," ",l.jsx("button",{onClick:()=>e({to:"/login",search:{next:"/redeem",code:g}}),className:"text-[hsl(var(--purple))] hover:underline",children:"log in"})]})]})}),l.jsxs("div",{className:"flex flex-col gap-4 border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-6 border rounded-lg mt-8",children:[l.jsx("h3",{className:"text-xl font-medium",children:"About Subscription Passes"}),l.jsxs("div",{className:"space-y-3 text-[hsl(var(--marketing-text-muted))]",children:[l.jsx("p",{children:"Subscription passes are prepaid codes that grant you access to Maple's premium features for a specified duration."}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Each pass code can only be used once"}),l.jsx("li",{children:"Passes must be redeemed within 12 months of creation"}),l.jsx("li",{children:"Only free accounts can redeem passes"}),l.jsx("li",{children:"Pass subscriptions expire automatically at the end of the duration"}),l.jsx("li",{children:"No automatic renewal or payment required"})]})]})]})]})]}),l.jsx(kb,{})]})}const pB=ks("/redeem")({component:rue,validateSearch:e=>({code:typeof e.code=="string"?e.code:void 0})});function gy({isMatch:e,text:t="It's a match!"}){return l.jsxs("p",{className:`text-sm my-2 ${e?"text-green-500":"text-red-500"}`,children:[e?"":""," ",t]})}const nue=ks("/proof")({component:iue});function sue({parsedDocument:e,os:t}){return l.jsxs("div",{className:"flex flex-col gap-4 text-foreground pt-8",children:[l.jsxs("div",{className:"flex flex-col gap-6 dark:border-white/10 border-[hsl(var(--marketing-card-border))] dark:bg-black/75 bg-[hsl(var(--marketing-card))]/80 dark:text-white p-8 border rounded-lg",children:[l.jsx("h3",{className:"text-2xl font-medium",children:"Server PCR0 Fingerprint"}),e.pcrs.map(r=>{var n,s;return r.id===0&&l.jsxs("div",{children:[l.jsx("p",{children:l.jsx("span",{className:"font-mono break-all",children:r.value})}),l.jsx(gy,{isMatch:((n=e.validatedPcr0Hash)==null?void 0:n.isMatch)??!1,text:((s=e.validatedPcr0Hash)==null?void 0:s.text)??""})]},r.id)}),l.jsxs("p",{className:"text-sm dark:text-white/70 text-foreground/70",children:["For technical details, check out the"," ",l.jsx("a",{href:"https://docs.aws.amazon.com/enclaves/latest/user/verify-root.html",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-foreground/80 dark:hover:text-white/80",children:"AWS Nitro Enclaves documentation"}),"."]})]}),l.jsxs("details",{className:"group rounded p-8 dark:bg-black/75 bg-[hsl(var(--marketing-card))]/80 border border-[hsl(var(--marketing-card-border))] dark:border-white/10",children:[l.jsxs("summary",{className:"font-medium cursor-pointer hover:text-foreground/80 dark:hover:text-white/80",children:[l.jsx("span",{className:"group-open:hidden",children:"Show"}),l.jsx("span",{className:"hidden group-open:inline",children:"Hide"})," Full Attestation Details"]}),l.jsx("div",{className:"mt-4 space-y-4",children:l.jsxs("div",{className:"text-sm dark:text-gray-400 text-foreground/70 space-y-2",children:[l.jsxs("p",{children:["Module ID: ",l.jsx("span",{className:"font-mono break-all",children:e.moduleId})]}),l.jsxs("p",{children:["Timestamp: ",e.timestamp]}),e.nonce&&l.jsxs("p",{children:["Nonce: ",l.jsx("span",{className:"font-mono break-all",children:e.nonce})]}),l.jsxs("p",{children:["Digest: ",e.digest]}),e.publicKey&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Public Key:"," ",l.jsx("span",{className:"font-mono break-all",children:e.publicKey})]}),l.jsx(gy,{isMatch:!0,text:"Document signature verified with this public key"})]}),l.jsx("div",{children:l.jsxs("details",{className:"group mt-2",children:[l.jsx("summary",{className:"text-sm cursor-pointer hover:text-foreground/80 dark:hover:text-white/80",children:"Additional PCR Values"}),l.jsx("div",{className:"mt-2 space-y-2",children:e.pcrs.map(r=>r.id!==0&&l.jsx("div",{children:l.jsxs("p",{children:["PCR",r.id,": ",l.jsx("span",{className:"font-mono break-all",children:r.value})]})},r.id))})]})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium mt-4 mb-2",children:"Certificate Chain:"}),e.certificates.map((r,n)=>l.jsxs("div",{className:"mb-4 p-3 dark:bg-black/50 bg-foreground/5 rounded",children:[r.isRoot?l.jsx("p",{className:"font-medium mb-1",children:"Root Certificate"}):l.jsxs("p",{className:"font-medium mb-1",children:["Certificate ",n+1]}),l.jsxs("p",{className:"text-sm",children:["Subject: ",r.subject]}),l.jsxs("p",{className:"text-sm",children:["Valid From: ",r.notBefore]}),l.jsxs("p",{className:"text-sm",children:["Valid Until: ",r.notAfter]}),r.isRoot?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Calculated SHA-256:"," ",l.jsx("span",{className:"font-mono break-all",children:e.cert0hash})]}),l.jsxs("p",{children:["Expected root cert hash:"," ",l.jsx("span",{className:"font-mono break-all",children:t.expectedRootCertHash})]}),l.jsx(gy,{isMatch:e.cert0hash===t.expectedRootCertHash,text:e.cert0hash===t.expectedRootCertHash?"Root certificate hash matches AWS root certificate":"Root certificate hash does not match!"})]}):l.jsx(gy,{isMatch:!0,text:"Signature verified with chain"}),l.jsxs("details",{className:"mt-2",children:[l.jsx("summary",{className:"text-sm cursor-pointer hover:text-foreground/80 dark:hover:text-white/80",children:"Show PEM Certificate"}),l.jsx("pre",{className:"mt-2 p-2 dark:bg-black/50 bg-foreground/5 rounded text-xs font-mono whitespace-pre-wrap break-all",children:r.pem})]})]},n))]})]})})]})]})}function iue(){const e=qr(),{data:t,isLoading:r,error:n}=ts({queryKey:["raw-attestation"],queryFn:async()=>await e.getAttestationDocument(),retry:!1});return console.log("Query state:",{isLoading:r,error:n,parsedDocument:t}),l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("h2",{className:"text-6xl font-light mb-0",children:[l.jsx("span",{className:"dark:text-[hsl(var(--blue))] text-[hsl(var(--purple))]",children:"Proof"})," ","of Security"]}),subtitle:l.jsx("p",{className:"text-2xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"Cryptographic proof that you're talking with a secure server."})}),r&&l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),n&&l.jsxs("div",{className:"text-red-700 dark:text-red-500 p-4 rounded bg-red-500/10",children:["Failed to validate attestation document:"," ",n instanceof Error?n.message:"Unknown error"]}),t&&l.jsx(sue,{parsedDocument:t,os:e})]})]})}const KE=x.createContext({model:"",availableModels:[],setModel:()=>{},setAvailableModels:()=>{},hasWhisperModel:!0,setHasWhisperModel:()=>{},thinkingEnabled:!1,setThinkingEnabled:()=>{},userPrompt:"",systemPrompt:null,userImages:[],sentViaVoice:!1,billingStatus:null,searchQuery:"",setSearchQuery:()=>{},isSearchVisible:!1,setIsSearchVisible:()=>{},setBillingStatus:()=>{},setUserPrompt:()=>{},setSystemPrompt:()=>{},setUserImages:()=>{},setSentViaVoice:()=>{},addChat:async()=>"",getChatById:async()=>{},persistChat:async()=>{},fetchOrCreateHistoryList:async()=>[],clearHistory:async()=>{},deleteChat:async()=>{},renameChat:async()=>{},draftMessages:new Map,setDraftMessage:()=>{},clearDraftMessage:()=>{}}),Hf="llama-3.3-70b",mB="gpt-oss-120b";function aue(){var e;try{const t=localStorage.getItem("selectedModel");if(t)return t;const r=localStorage.getItem("cachedBillingStatus");if(r){const s=((e=JSON.parse(r).product_name)==null?void 0:e.toLowerCase())||"";if(s.includes("pro")||s.includes("max")||s.includes("team"))return mB}}catch(t){console.error("Failed to load initial model:",t)}return Hf}const oue=({children:e})=>{const t={id:Hf,object:"model",created:Date.now(),owned_by:"meta",tasks:["generate"]},[r,n]=x.useState({userPrompt:"",systemPrompt:null,userImages:[],sentViaVoice:!1,model:aue(),availableModels:[t],hasWhisperModel:!0,thinkingEnabled:!1,billingStatus:null,searchQuery:"",isSearchVisible:!1,draftMessages:new Map}),{get:s,put:i,list:a,del:o,delAll:c}=qr();async function u(Y){const Q={model:R4(Y.model)||Hf,...Y};console.log("Persisting chat:",Q);try{await i(`chat_${Y.id}`,JSON.stringify(Q));const te=await b();if(te.some(Z=>Z.id===Y.id)){const Z=te.map(J=>J.id===Y.id?{id:Y.id,title:Q.title,updated_at:Date.now(),created_at:J.created_at}:J);await i("history_list",JSON.stringify(Z))}else{const Z=[{id:Y.id,title:Y.title,updated_at:Date.now(),created_at:Date.now()},...te];await i("history_list",JSON.stringify(Z))}}catch(te){console.error("Failed to persist chat:",te)}}function d(Y){n(Q=>({...Q,userPrompt:Y}))}function h(Y){n(Q=>({...Q,systemPrompt:Y}))}function f(Y){n(Q=>({...Q,userImages:Y}))}function p(Y){n(Q=>({...Q,sentViaVoice:Y}))}function m(Y){var V,re;n(E=>({...E,billingStatus:Y}));const Q=((V=Y.product_name)==null?void 0:V.toLowerCase())||"",te=Q.includes("pro")||Q.includes("max")||Q.includes("team")||Q.includes("starter"),Z=Q.includes("pro")||Q.includes("max")||Q.includes("team");let J=!1;try{const E=localStorage.getItem("cachedBillingStatus");E&&(J=(((re=JSON.parse(E).product_name)==null?void 0:re.toLowerCase())||"")!==Q)}catch(E){console.error("Failed to check cached billing:",E)}try{te?localStorage.setItem("cachedBillingStatus",JSON.stringify(Y)):localStorage.removeItem("cachedBillingStatus")}catch(E){console.error("Failed to cache billing status:",E)}try{(!localStorage.getItem("selectedModel")||J)&&(Z?F(mB):J&&F(Hf))}catch(E){console.error("Failed to update model based on billing status:",E)}}function g(Y){n(Q=>({...Q,searchQuery:Y}))}function w(Y){n(Q=>({...Q,isSearchVisible:Y}))}async function y(Y="New Chat"){const Q={id:window.crypto.randomUUID(),title:Y,messages:[],model:r.model};return await u(Q),Q.id}async function v(Y){try{const Q=await s(`chat_${Y}`);if(!Q)return;const te=JSON.parse(Q);return te.model&&(te.model=R4(te.model)),te}catch(Q){console.error("Error fetching chat:",Q);return}}async function b(){let Y="[]";try{const te=await s("history_list");te&&(Y=te)}catch(te){console.error("Error fetching history_list:",te)}let Q;try{if(Q=JSON.parse(Y),!Array.isArray(Q))throw new Error("Parsed history is not an array")}catch(te){console.error("Error parsing history_list:",te),console.log("Raw history_list content:",Y),Q=[]}if(Q.length===0)try{const Z=(await a()).filter(V=>V.key.startsWith("chat_")),J=await Promise.all(Z.map(async V=>{const re=JSON.parse(V.value);return{id:re.id,title:re.title,updated_at:V.updated_at,created_at:V.created_at}}));return J.sort((V,re)=>re.updated_at-V.updated_at),await i("history_list",JSON.stringify(J)),J}catch(te){return console.error("Error creating new history list:",te),[]}return Q}async function k(){try{await c()}catch(Y){console.error("Failed to clear history:",Y);const Q=await a();await o("history_list"),await Promise.all(Q.filter(te=>te.key.startsWith("chat_")).map(async te=>o(te.key)))}}async function C(Y){await o(`chat_${Y}`);const te=(await b()).filter(Z=>Z.id!==Y);await i("history_list",JSON.stringify(te))}async function A(Y,Q){try{const te=await v(Y);if(!te)throw console.error("Chat not found for renaming:",Y),new Error("Chat not found");te.title=Q,await u(te);return}catch(te){throw console.error("Error renaming chat:",te),new Error("Error renaming chat")}}function R(Y,Q){if(!(Y!=null&&Y.trim())){console.error("Invalid chatId provided to setDraftMessage");return}n(te=>({...te,draftMessages:new Map(te.draftMessages).set(Y,Q)}))}function O(Y){if(!(Y!=null&&Y.trim())){console.error("Invalid chatId provided to clearDraftMessage");return}n(Q=>{const te=new Map(Q.draftMessages);return te.has(Y)?(te.delete(Y),{...Q,draftMessages:te}):Q})}function F(Y){const Q=R4(Y);n(te=>{if(te.model===Q)return te;try{localStorage.setItem("selectedModel",Q)}catch(Z){console.error("Failed to save model to localStorage:",Z)}return{...te,model:Q}})}function j(Y){n(Q=>({...Q,availableModels:Y}))}function D(Y){n(Q=>({...Q,hasWhisperModel:Y}))}function z(Y){n(Q=>({...Q,thinkingEnabled:Y}))}return l.jsx(KE.Provider,{value:{model:r.model,availableModels:r.availableModels,setModel:F,setAvailableModels:j,hasWhisperModel:r.hasWhisperModel,setHasWhisperModel:D,thinkingEnabled:r.thinkingEnabled,setThinkingEnabled:z,userPrompt:r.userPrompt,systemPrompt:r.systemPrompt,userImages:r.userImages,sentViaVoice:r.sentViaVoice,billingStatus:r.billingStatus,searchQuery:r.searchQuery,setSearchQuery:g,isSearchVisible:r.isSearchVisible,setIsSearchVisible:w,setBillingStatus:m,setUserPrompt:d,setSystemPrompt:h,setUserImages:f,setSentViaVoice:p,addChat:y,getChatById:v,persistChat:u,fetchOrCreateHistoryList:b,clearHistory:k,deleteChat:C,renameChat:A,draftMessages:r.draftMessages,setDraftMessage:R,clearDraftMessage:O},children:e})},xa=()=>{const e=x.useContext(KE);if(e===void 0)throw new Error("useLocalState must be used within a LocalStateProvider");return e};function lue({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=cue({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,o=as(r),c=x.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[i,e,s,o]);return[a,c]}function cue({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),i=as(t);return x.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function uue(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function due(e){const[t,r]=x.useState(void 0);return os(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var YE="Switch",[hue,xke]=pl(YE),[fue,pue]=hue(YE),gB=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=x.useState(null),m=Xr(t,b=>p(b)),g=x.useRef(!1),w=f?d||!!f.closest("form"):!0,[y=!1,v]=lue({prop:s,defaultProp:i,onChange:u});return l.jsxs(fue,{scope:r,checked:y,disabled:o,children:[l.jsx(Ur.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":xB(y),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:m,onClick:Dt(e.onClick,b=>{v(k=>!k),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&l.jsx(mue,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});gB.displayName=YE;var yB="SwitchThumb",vB=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=pue(yB,r);return l.jsx(Ur.span,{"data-state":xB(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});vB.displayName=yB;var mue=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=x.useRef(null),a=uue(r),o=due(t);return x.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[a,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xB(e){return e?"checked":"unchecked"}var bB=gB,gue=vB;const wB=x.forwardRef(({className:e,...t},r)=>l.jsx(bB,{className:Ht("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-black disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-white dark:data-[state=unchecked]:bg-white/20 data-[state=unchecked]:bg-foreground/20",e),...t,ref:r,children:l.jsx(gue,{className:Ht("pointer-events-none block h-5 w-5 rounded-full bg-black shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wB.displayName=bB.displayName;function yue({open:e,onOpenChange:t,onConfirm:r}){const[n,s]=x.useState("2"),[i,a]=x.useState(null),o=d=>{d.preventDefault();const h=parseInt(n,10);if(isNaN(h)){a("Please enter a valid number");return}if(h<2){a("Minimum 2 seats required");return}if(h>100){a("Maximum 100 seats allowed");return}r(h),t(!1),s("2"),a(null)},c=d=>{s(d),a(null)},u=d=>{t(d),d||(s("2"),a(null))};return l.jsx(ns,{open:e,onOpenChange:u,children:l.jsxs(Xn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Select Team Seats"}),l.jsx(Pn,{children:"How many seats would you like to purchase? You can change this at any time."})]}),l.jsxs("form",{onSubmit:o,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"seats",children:"Number of Seats"}),l.jsx(tn,{id:"seats",type:"number",min:"2",max:"100",value:n,onChange:d=>c(d.target.value),className:"w-full",autoFocus:!0}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum 2 seats, maximum 100 seats"})]}),l.jsxs(_n,{children:[l.jsx(vb,{className:"h-4 w-4"}),l.jsx(En,{children:"Each seat is billed per user per month. You can adjust the number of seats anytime in your billing settings."})]}),i&&l.jsxs(_n,{variant:"destructive",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:i})]})]}),l.jsxs(Rs,{children:[l.jsx(Me,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(Me,{type:"submit",children:"Continue to Checkout"})]})]})]})})}const vue="maple",xue="2.0.9",bue="module",wue={dev:"vite",build:"tsc -b && vite build","build:fast":"vite build",lint:"eslint './src/**/*.{ts,tsx}'",preview:"vite preview",add:"bunx shadcn-ui@latest add",format:'prettier --write "src/**/*.{ts,tsx,js,jsx,json,css,md}"',"format:check":'prettier --check "src/**/*.{ts,tsx,js,jsx,json,css,md}"'},kue={"mdast-util-gfm-autolink-literal":"2.0.0"},Sue={"@opensecret/react":"1.5.2","@radix-ui/react-alert-dialog":"^1.1.1","@radix-ui/react-avatar":"^1.1.0","@radix-ui/react-checkbox":"^1.3.3","@radix-ui/react-dialog":"^1.1.1","@radix-ui/react-dropdown-menu":"^2.1.1","@radix-ui/react-label":"^2.1.0","@radix-ui/react-select":"^2.1.1","@radix-ui/react-separator":"^1.1.0","@radix-ui/react-slot":"^1.1.0","@radix-ui/react-switch":"^1.1.2","@radix-ui/react-tabs":"^1.1.13","@radix-ui/react-tooltip":"^1.1.2","@tanstack/react-query":"^5.56.2","@tanstack/react-router":"^1.50.1","@tauri-apps/api":"^2.9.0","@tauri-apps/plugin-deep-link":"^2.4.5","@tauri-apps/plugin-dialog":"^2.4.2","@tauri-apps/plugin-fs":"^2.4.4","@tauri-apps/plugin-opener":"^2.5.2","@tauri-apps/plugin-os":"^2.3.2","class-variance-authority":"^0.7.0",clsx:"^2.1.1","gpt-tokenizer":"^3.0.1",katex:"^0.16.25","lucide-react":"^0.436.0",openai:"5.20.0",react:"^18.3.1","react-dom":"^18.3.1","react-markdown":"^9.0.1",recordrtc:"^5.6.2","rehype-highlight":"^7.0.0","rehype-katex":"^7.0.1","rehype-sanitize":"^6.0.0","remark-breaks":"^4.0.0","remark-gfm":"^4.0.0","remark-math":"^6.0.0","tailwind-merge":"^2.6.0","tailwindcss-animate":"^1.0.7",uuid:"^11.1.0"},_ue={"@eslint/js":"^9.14.0","@noble/curves":"^1.6.0","@noble/hashes":"^1.5.0","@tanstack/router-devtools":"^1.50.1","@tanstack/router-plugin":"^1.49.3","@tauri-apps/cli":"^2.9.2","@types/bun":"latest","@types/node":"^22.3.0","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@types/recordrtc":"^5.6.14","@types/uuid":"^10.0.0","@vitejs/plugin-react":"^4.3.1",autoprefixer:"^10.4.20",eslint:"^9.8.0","eslint-plugin-react-hooks":"^5.1.0-rc.0","eslint-plugin-react-refresh":"^0.4.9",globals:"^15.9.0",postcss:"^8.4.41",prettier:"^3.3.3",tailwindcss:"^3.4.10",typescript:"^5.6.3","typescript-eslint":"^8.13.0",vite:"^5.4.0"},kB={name:vue,private:!0,version:xue,type:bue,scripts:wue,resolutions:kue,dependencies:Sue,devDependencies:_ue},Eue=[".jpg",".png",".webp"],Nue=[".pdf",".txt",".md"];function yy(){return l.jsxs("div",{className:"flex flex-col border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-4 sm:p-6 md:p-8 border rounded-lg relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite] bg-gradient-to-r from-transparent via-foreground/5 to-transparent"}),l.jsxs("div",{className:"grid grid-rows-[auto_1fr_auto_auto] h-full gap-4 sm:gap-6 md:gap-8",children:[l.jsx("div",{className:"h-6 sm:h-8 bg-foreground/10 rounded-md w-1/2"}),l.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[l.jsx("div",{className:"h-4 bg-foreground/10 rounded-md w-3/4"}),l.jsx("div",{className:"h-4 bg-foreground/10 rounded-md w-5/6"}),l.jsx("div",{className:"h-4 bg-foreground/10 rounded-md w-2/3"})]}),l.jsx("div",{className:"h-6 sm:h-8 bg-foreground/10 rounded-md w-1/3"}),l.jsx("div",{className:"h-12 sm:h-14 bg-foreground/10 rounded-lg w-full"})]})]})}function y5(){return l.jsxs("div",{className:"flex flex-col gap-8 border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-6 sm:p-8 border rounded-lg mt-8 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8",children:[l.jsx("h3",{className:"text-2xl font-medium",children:"FAQ"}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"What is the difference between the plans?"}),l.jsxs("div",{className:"mt-4 text-[hsl(var(--marketing-text-muted))] space-y-2",children:[l.jsx("p",{children:"The plans are sized to grow with your needs."}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"Free: 25 messages per week, resets Sunday 00:00 UTC. Max length on individual messages."}),l.jsx("li",{children:"Pro: Generous usage for power users with a high monthly cap"}),l.jsx("li",{children:"Max: 20x more usage than Pro for maximum power users"}),l.jsx("li",{children:"Team: Even more usage per team member with unified billing"}),l.jsx("li",{children:"Enterprise: Message us at team@opensecret.cloud"})]})]})]}),l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"How private is Maple?"}),l.jsx("p",{className:"mt-4 text-[hsl(var(--marketing-text-muted))]",children:"Encrypted end to end. Maple uses confidential computing to secure the code that access user data and LLM data. Your account has its own private key that encrypts your chats and the responses from the AI model. Every user has their own personal data vault that can't be read by anyone else, not even us."})]}),l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"How do you synchronize my chat history across devices?"}),l.jsx("p",{className:"mt-4 text-[hsl(var(--marketing-text-muted))]",children:"We use a secure synchronization protocol that ensures your encrypted chat history is synced across all your devices. This means that you can start a conversation on one device and pick it up where you left off on another device, without compromising your security or privacy."})]}),l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"Is this safe to use with my company's confidential information?"}),l.jsx("p",{className:"mt-4 text-[hsl(var(--marketing-text-muted))]",children:"The service is encrypted end-to-end, so your confidential information is private between you and the AI. Consult your company's security policy."})]}),l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"Can companies use my data to train their AI models?"}),l.jsx("p",{className:"mt-4 text-[hsl(var(--marketing-text-muted))]",children:"No. When you chat with AI in Maple, nobody knows what is being said back and forth. Thus data is not able to be used for training new AI models by any company."})]}),l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"Which file types are supported for document and image upload?"}),l.jsxs("div",{className:"mt-4 text-[hsl(var(--marketing-text-muted))] space-y-4",children:[l.jsx("p",{children:"We support a range of file types for both images and documents."}),l.jsxs("div",{children:[l.jsx("strong",{children:"Images:"}),l.jsx("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:Eue.map(e=>l.jsx("li",{children:l.jsx("code",{className:"bg-foreground/10 px-1 py-0.5 rounded text-sm",children:e})},e))})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Documents (Desktop/Mobile apps only):"}),l.jsx("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:Nue.map(e=>l.jsx("li",{children:l.jsx("code",{className:"bg-foreground/10 px-1 py-0.5 rounded text-sm",children:e})},e))})]}),l.jsx("p",{children:"There is a 1 file limit per chat prompt with a 10MB file size limit per file."})]})]}),l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-lg font-medium hover:text-foreground/80",children:"How did you build this?"}),l.jsxs("p",{className:"mt-4 text-[hsl(var(--marketing-text-muted))]",children:["Maple is made using"," ",l.jsx("a",{href:"https://opensecret.cloud",className:"text-foreground hover:text-foreground/80 underline",children:"OpenSecret"}),", an encrypted backend for developers. It handles private keys, encrypted data sync, private AI, and more automatically. We're building OpenSecret as a way to bring better privacy to users by turning on encryption by default. If you're a developer, go see how easy it is to build with."]})]})]})]})}function Cue(){var Z,J,V,re;const[e,t]=x.useState(""),[r,n]=x.useState(null),[s,i]=x.useState(!1),[a,o]=x.useState(!1),[c,u]=x.useState(null),d=ws(),h=qr(),{setBillingStatus:f}=xa(),p=!!h.auth.user,m=((J=(Z=h.auth.user)==null?void 0:Z.user.login_method)==null?void 0:J.toLowerCase())==="guest",{selected_plan:g}=hS.useSearch(),w=d1(),y=yle(),v=Jl(),{data:b,isLoading:k}=ts({queryKey:["billingStatus"],queryFn:async()=>{const N=await Lr().getBillingStatus();return f(N),N},enabled:p});x.useEffect(()=>{((b==null?void 0:b.payment_provider)==="zaprite"&&!v||m)&&i(!0)},[b==null?void 0:b.payment_provider,v,m]);const{data:C}=ts({queryKey:["portalUrl"],queryFn:async()=>{if(!p)return null;const E=Lr();try{return await E.getPortalUrl()}catch(N){return console.error("Error fetching portal URL:",N),null}},enabled:p}),{data:A}=ts({queryKey:["discount"],queryFn:async()=>await Lr().getDiscount(),staleTime:5*60*1e3}),{data:R,error:O,isLoading:F}=ts({queryKey:["products",w,y],queryFn:async()=>{try{const E=Lr();if(w||y){const N=`v${kB.version}`;return console.log("[Billing] Fetching products with version:",N),await E.getProducts(N)}return await E.getProducts()}catch(E){throw console.error("Error fetching products:",E),E}},retry:1}),{success:j,canceled:D}=hS.useSearch();x.useEffect(()=>{var E;j&&((E=b==null?void 0:b.product_name)!=null&&E.toLowerCase().includes("team"))&&d({to:"/",search:{team_setup:!0},replace:!0})},[j,b,d]);const z=E=>{var se;if(r===E.id)return l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"w-5 h-5 animate-spin"}),"Processing..."]});const N=E.name.toLowerCase(),L=N.includes("team"),M=N.includes("free");if(w&&!M&&E.is_available===!1)return"Not available in app";if(!p)return"Start Chatting";const G=(se=b==null?void 0:b.product_name)==null?void 0:se.toLowerCase(),W=G===N;if((b==null?void 0:b.payment_provider)==="zaprite")return"Contact Us";if((b==null?void 0:b.payment_provider)==="subscription_pass")return W?"Start Chatting":"Contact Us";if(L)return W?"Manage Plan":"Upgrade";if(N.includes("free"))return W?"Start Chatting":"Downgrade";if(W)return"Manage Plan";if(G&&R){const X=[...R].sort((ge,Ee)=>ge.default_price.unit_amount-Ee.default_price.unit_amount),me=X.findIndex(ge=>ge.name.toLowerCase()===G),be=X.findIndex(ge=>ge.name.toLowerCase()===N);if(me!==-1&&be!==-1&&be>me)return"Upgrade"}return"Downgrade"},Y=x.useCallback(async(E,N)=>{var L,M;if(!p){d({to:"/signup"});return}if(!m&&!((L=h.auth.user)!=null&&L.user.email_verified)){console.log("Email verification required before checkout");return}n(E);try{const G=Lr(),W=m?"":((M=h.auth.user)==null?void 0:M.user.email)||"";if(!W&&!m)throw new Error("User email not found");v?s?await G.createZapriteCheckoutSession(W,E,"https://trymaple.ai/payment-success?source=zaprite",N):await G.createCheckoutSession(W,E,"https://trymaple.ai/payment-success?source=stripe","https://trymaple.ai/payment-canceled?source=stripe",N):s?await G.createZapriteCheckoutSession(W,E,`${window.location.origin}/pricing?success=true`,N):await G.createCheckoutSession(W,E,`${window.location.origin}/pricing?success=true`,`${window.location.origin}/pricing?canceled=true`,N)}catch(G){console.error("Subscribe error:",G),t(G instanceof Error?G.message:"Failed to start checkout")}finally{n(null)}},[p,d,(V=h.auth.user)==null?void 0:V.user.email,(re=h.auth.user)==null?void 0:re.user.email_verified,m,s,v]),Q=x.useCallback(E=>{var me;const N=E.name.toLowerCase(),L=N.includes("free"),M=N.includes("team");if(w&&!L&&E.is_available===!1)return;if(!p){if(!N.includes("free")){d({to:"/signup",search:{next:"/pricing",selected_plan:E.id}});return}d({to:"/signup"});return}if((b==null?void 0:b.payment_provider)==="zaprite"){Ao()?qi(()=>Promise.resolve().then(()=>xo),void 0).then(be=>be.invoke("plugin:opener|open_url",{url:"mailto:support@opensecret.cloud"})).then(()=>{console.log("[Contact] Successfully opened mailto link with Tauri opener")}).catch(be=>{console.error("[Contact] Failed to open mailto link with Tauri opener:",be),window.location.href="mailto:support@opensecret.cloud"}):window.location.href="mailto:support@opensecret.cloud";return}const G=(me=b==null?void 0:b.product_name)==null?void 0:me.toLowerCase(),W=G==null?void 0:G.includes("free"),se=N.includes("free"),X=G===N;if((b==null?void 0:b.payment_provider)==="subscription_pass"){X?d({to:"/"}):Ao()?qi(()=>Promise.resolve().then(()=>xo),void 0).then(be=>be.invoke("plugin:opener|open_url",{url:"mailto:support@opensecret.cloud"})).then(()=>{console.log("[Contact] Successfully opened mailto link with Tauri opener")}).catch(be=>{console.error("[Contact] Failed to open mailto link with Tauri opener:",be),window.location.href="mailto:support@opensecret.cloud"}):window.location.href="mailto:support@opensecret.cloud";return}if(W&&se){d({to:"/"});return}if(W&&!se){if(M){u(E.id),o(!0);return}Y(E.id);return}if(C){v?(console.log("[Billing] Mobile platform detected, using opener plugin to launch external browser for portal"),qi(()=>Promise.resolve().then(()=>xo),void 0).then(be=>be.invoke("plugin:opener|open_url",{url:C})).then(()=>{console.log("[Billing] Successfully opened portal URL in external browser")}).catch(be=>{console.error("[Billing] Failed to open external browser:",be),alert("Failed to open browser. Please try again.")})):window.open(C,"_blank");return}if(M){u(E.id),o(!0);return}Y(E.id)},[p,b,d,C,Y,w,v]),te=x.useCallback(E=>{c&&(Y(c,E),u(null))},[c,Y]);if(x.useEffect(()=>{let E=!0;if(p&&g&&!k){if(r)return;const N=R==null?void 0:R.find(L=>L.id===g);N&&E&&Q(N)}return()=>{E=!1}},[p,g,k,R,r,Q,w]),F||p&&k)return l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("h2",{className:"text-6xl font-light mb-0",children:["Simple, ",l.jsx("span",{className:"text-[hsl(var(--purple))]",children:"Transparent"})," Pricing"]}),subtitle:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{children:"Start with our free tier and upgrade as you grow."}),l.jsx("p",{children:"All plans include end-to-end encrypted AI chat."})]})}),l.jsxs("div",{className:"pt-8 w-full max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-4 md:gap-4 lg:gap-6 px-4 sm:px-6 lg:px-8",children:[l.jsx(yy,{}),l.jsx(yy,{}),l.jsx(yy,{}),l.jsx(yy,{})]}),l.jsx(y5,{})]})]});if(O||e){const E=e||(O instanceof Error?O.message:"An unexpected error occurred");return l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:"Pricing",subtitle:"Choose the plan that's right for you."}),l.jsx("div",{className:"pt-8 w-full grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-4 lg:gap-6 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex flex-col border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-8 border rounded-lg col-span-full",children:l.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[l.jsx("div",{className:"rounded-full bg-red-500/10 p-3",children:l.jsx(pc,{className:"w-6 h-6 text-red-500"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xl font-medium",children:"Unable to Load Pricing"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))]",children:E})]}),l.jsx(Me,{onClick:()=>window.location.reload(),className:`mt-4 
                    dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                    bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                    border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
                    px-8 py-4 rounded-lg text-xl font-light transition-all duration-300 
                    shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]`,children:"Retry"})]})})}),l.jsx(y5,{})]})]})}return l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("h2",{className:"text-6xl font-light mb-0",children:["Simple, ",l.jsx("span",{className:"text-[hsl(var(--purple))]",children:"Transparent"})," Pricing"]}),subtitle:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{children:"Start with our free tier and upgrade as you grow."}),l.jsx("p",{children:"All plans include end-to-end encrypted AI chat."})]})}),j&&l.jsx("div",{className:"w-full max-w-7xl mx-auto mt-4 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-900/50 text-green-800 dark:text-green-100 rounded-lg p-4 flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-green-100 dark:bg-green-800 p-1",children:l.jsx(jt,{className:"w-5 h-5 text-green-600 dark:text-green-200"})}),l.jsx("p",{children:"Payment successful! Your subscription has been updated."})]})}),D&&l.jsx("div",{className:"w-full max-w-7xl mx-auto mt-4 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/50 text-amber-800 dark:text-amber-100 rounded-lg p-4 flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-amber-100 dark:bg-amber-800 p-1",children:l.jsx(pc,{className:"w-5 h-5 text-amber-600 dark:text-amber-200"})}),l.jsx("p",{children:"Payment canceled. Your subscription remains unchanged."})]})}),(A==null?void 0:A.active)&&l.jsx("div",{className:"w-full max-w-7xl mx-auto mt-4 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-pink-500/10 to-orange-500/10 border border-pink-500/30 rounded-lg p-4 flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-gradient-to-r from-pink-500 to-orange-500 p-2",children:l.jsx(ME,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-foreground",children:A.name}),l.jsx("p",{className:"text-sm text-[hsl(var(--marketing-text-muted))]",children:A.description})]}),l.jsxs(ca,{className:"bg-gradient-to-r from-pink-500 to-orange-500 text-white text-lg px-3 py-1",children:[A.percent_off,"% OFF"]})]})}),(()=>{const E=Hc.filter(L=>{var W;const M=L.name.toLowerCase()==="starter",G=((W=b==null?void 0:b.product_name)==null?void 0:W.toLowerCase())==="starter";return!(M&&!G)}),N=E.length===4?"lg:grid-cols-4":"lg:grid-cols-3";return l.jsx("div",{className:`pt-8 w-full max-w-7xl mx-auto grid grid-cols-1 ${N} gap-4 md:gap-4 lg:gap-6 px-4 sm:px-6 lg:px-8`,children:E.map(L=>{var rt;const M=R==null?void 0:R.find(nt=>nt.name.toLowerCase()===L.name.toLowerCase()&&nt.active);if(!M&&L.name!=="Free")return null;const G=p&&((rt=b==null?void 0:b.product_name)==null?void 0:rt.toLowerCase())===L.name.toLowerCase(),W=L.name.toLowerCase().includes("team"),se=L.name.toLowerCase().includes("free");let X=L.price.replace("$",""),me=X;M&&(X=(M.default_price.unit_amount/100).toFixed(0),me=X);const be=A!=null&&A.active?A.percent_off:0,ge=A!=null&&A.active?A.duration_months:void 0,Ee=10,je=(100-(be>0?be:Ee))/100,Ie=M?(Math.floor(M.default_price.unit_amount*12*je)/100).toFixed(2):(Number(X)*12*je).toFixed(2),Ve=(Number(Ie)/12).toFixed(2),He=(100-be)/100,we=(Number(X)*He).toFixed(0);let Ne=me;se||(s&&!W?Ne=Ve:be>0&&(Ne=we));const Je=be>0,oe=!se&&Je&&!(s&&W),xe=!se&&s&&!W&&!Je;return l.jsxs("div",{className:`flex flex-col ${L.popular&&!G?"border-2 border-[hsl(var(--purple))] bg-gradient-to-b from-[hsl(var(--marketing-card))] to-[hsl(var(--marketing-card))]/80 relative shadow-[0_0_30px_rgba(var(--purple-rgb),0.2)]":"border border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75"} text-foreground p-4 sm:p-6 md:p-8 rounded-lg relative group transition-all duration-300 hover:border-foreground/30 ${G?"ring-2 ring-foreground":""} ${s&&W?"opacity-50 cursor-not-allowed":""}`,children:[L.popular&&!G&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-[hsl(var(--purple))] text-[hsl(var(--marketing-card))] px-4 py-1 rounded-full text-sm font-medium text-center min-w-[110px] whitespace-normal",children:"Most Popular"}),G&&l.jsx(ca,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-foreground text-background font-medium",children:"Current Plan"}),oe&&l.jsxs(ca,{className:"absolute -top-3 right-4 bg-gradient-to-r from-pink-500 to-orange-500 text-white",children:[be,"% OFF"]}),xe&&l.jsxs(ca,{className:"absolute -top-3 right-4 bg-gradient-to-r from-pink-500 to-orange-500 text-white",children:[Ee,"% OFF"]}),l.jsxs("div",{className:"grid grid-rows-[auto_auto_1fr_auto_auto] h-full gap-4 sm:gap-6 md:gap-8",children:[l.jsxs("h3",{className:"text-xl sm:text-2xl font-medium flex items-center gap-2",children:[L.name,s&&!se&&!W?" (Yearly)":"",G&&l.jsx(jt,{className:"w-5 h-5 text-green-500"})]}),l.jsx("p",{className:"text-base sm:text-lg font-light text-[hsl(var(--marketing-text-muted))] break-words",children:W&&s?"Team plan is not available with Bitcoin payment.":L.description}),l.jsx("div",{className:"flex flex-col gap-2",children:L.features.map((nt,tr)=>l.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[nt.text!==""&&(nt.icon||(nt.included?l.jsx(jt,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}):null)),l.jsx("span",{className:`${nt.included?"text-foreground/80":"text-foreground/50"}`,children:nt.text})]},tr))}),l.jsx("div",{className:"flex flex-col",children:se?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("span",{className:"text-2xl sm:text-3xl font-bold",children:["$",me]}),l.jsx("span",{className:"text-base sm:text-lg font-light text-[hsl(var(--marketing-text-muted))]",children:"per month"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("span",{className:"text-2xl sm:text-3xl font-bold",children:["$",Ne]}),(xe||oe)&&l.jsxs("span",{className:"text-lg sm:text-xl line-through text-foreground/50",children:["$",X]}),l.jsxs("div",{className:"flex flex-col text-[hsl(var(--marketing-text-muted))]",children:[l.jsx("span",{className:"text-base sm:text-lg font-light",children:W?"per user":""}),l.jsx("span",{className:"text-base sm:text-lg font-light -mt-1",children:"per month"})]})]}),l.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-1",children:[xe&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm sm:text-base text-foreground/90 font-medium",children:["Billed yearly at $",Ie]}),l.jsxs("p",{className:"text-xs sm:text-sm text-foreground/50",children:["Save ",Ee,"% with annual billing"]})]}),oe&&s&&!W&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm sm:text-base text-foreground/90 font-medium",children:["Billed yearly at $",Ie]}),l.jsxs("p",{className:"text-xs sm:text-sm text-foreground/50",children:["Save ",be,"% with annual billing"]})]}),oe&&!s&&l.jsxs("p",{className:"text-xs sm:text-sm text-foreground/50",children:[be,"% off",ge?` for first ${ge} month${ge>1?"s":""}`:" applied"]})]})]})}),l.jsx("button",{onClick:()=>Q(M||{id:L.name.toLowerCase(),name:L.name,description:L.description,active:!0,default_price:{id:"",currency:"usd",unit_amount:0,recurring:{interval:"month",interval_count:1}}}),disabled:r===((M==null?void 0:M.id)||L.name.toLowerCase())||s&&W||w&&!se&&(M==null?void 0:M.is_available)===!1,className:`w-full 
                      dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                      bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                      border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
                      px-4 sm:px-8 py-3 sm:py-4 rounded-lg text-lg sm:text-xl font-light 
                      transition-all duration-300 shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] 
                      hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)] disabled:opacity-50 
                      disabled:cursor-not-allowed flex items-center justify-center gap-2 
                      group-hover:bg-[hsl(var(--purple))] group-hover:text-[hsl(var(--foreground))] dark:group-hover:text-[hsl(var(--foreground))] dark:group-hover:bg-[hsl(var(--purple))]/80`,children:s&&W?"Not Available":z(M||{id:L.name.toLowerCase(),name:L.name,description:L.description||""})})]})]},L.name)})})})(),l.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center gap-6 mt-8",children:[!w&&l.jsx("button",{onClick:()=>d({to:"/redeem"}),className:"text-base text-foreground/70 hover:text-foreground transition-colors underline underline-offset-4 decoration-foreground/30 hover:decoration-foreground",children:"Have a subscription pass code?"}),l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsxs("div",{className:"inline-flex items-center gap-4 px-6 py-2.5 rounded-full bg-[hsl(var(--marketing-card))]/50 backdrop-blur-sm border border-[hsl(var(--marketing-card-border))]",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[hsl(var(--bitcoin))] text-base font-light",children:[l.jsx($F,{className:"w-4.5 h-4.5"}),l.jsx("span",{children:"Pay with Bitcoin"})]}),l.jsx(wB,{id:"bitcoin-toggle",checked:s,onCheckedChange:i,disabled:m,className:"data-[state=checked]:bg-[hsl(var(--bitcoin))] data-[state=unchecked]:border-foreground/30 scale-100"})]}),m&&l.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-500 font-medium",children:"Anonymous accounts must pay with Bitcoin (yearly only)"})]})]}),l.jsx(y5,{})]}),l.jsx(yue,{open:a,onOpenChange:o,onConfirm:te}),l.jsx(kb,{})]})}const hS=ks("/pricing")({component:Cue,validateSearch:e=>({selected_plan:typeof e.selected_plan=="string"?e.selected_plan:void 0,success:e.success===!0||e.success==="true"?!0:e.success===!1||e.success==="false"?!1:void 0,canceled:e.canceled===!0||e.canceled==="true"?!0:e.canceled===!1||e.canceled==="false"?!1:void 0})}),Aue=ks("/payment-success")({component:Tue});function Tue(){var a;const t=!!qr().auth.user,{data:r,isLoading:n,isError:s}=ts({queryKey:["billingStatus","payment-success"],queryFn:async()=>await Lr().getBillingStatus(),enabled:t,retry:3,retryDelay:1e3});return t&&n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin"})}):s||!r?(console.error("Failed to fetch billing status after payment, redirecting to home"),l.jsx(av,{to:"/"})):((a=r==null?void 0:r.product_name)==null?void 0:a.toLowerCase().includes("team"))?l.jsx(av,{to:"/",search:{team_setup:!0}}):l.jsx(av,{to:"/pricing",search:{success:!0}})}const Rue=ks("/payment-canceled")({component:Iue});function Iue(){return l.jsx(av,{to:"/pricing",search:{canceled:!0}})}function SB({email:e,secret:t}){const[r,n]=x.useState(""),[s,i]=x.useState(""),[a,o]=x.useState(""),[c,u]=x.useState(!1),[d,h]=x.useState(null),[f,p]=x.useState(!1),[m,g]=x.useState(!1),w=ws(),y=qr();x.useEffect(()=>{if(f){g(!0);const b=setTimeout(()=>{w({to:"/login"})},3e3);return()=>clearTimeout(b)}},[f,w]);const v=async b=>{if(b.preventDefault(),u(!0),h(null),s!==a){h("Passwords do not match"),u(!1);return}try{await y.confirmPasswordReset(e,r,t,s),p(!0)}catch(k){console.error("Failed to reset password:",k),h("Failed to reset password. Please try again.")}finally{u(!1)}};return f?l.jsxs(hn,{className:"bg-card/70 backdrop-blur-sm mx-auto max-w-[45rem]",children:[l.jsxs(ys,{children:[l.jsx(vs,{className:"text-xl",children:"Password Reset Successful"}),l.jsx(Cu,{children:"You can now log in with your new password."})]}),l.jsx(xs,{className:"flex flex-col items-center",children:m?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"h-8 w-8 animate-spin mb-2"}),l.jsx("p",{children:"Redirecting to login page..."})]}):l.jsx("p",{children:"You will be redirected to the login page in a few seconds."})})]}):l.jsxs(hn,{className:"bg-card/70 backdrop-blur-sm mx-auto max-w-[45rem]",children:[l.jsxs(ys,{children:[l.jsx(vs,{className:"text-xl",children:"Confirm Password Reset"}),l.jsx(Cu,{children:"Enter the reset code and your new password."})]}),l.jsx(xs,{children:l.jsx("form",{onSubmit:v,children:l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"code",children:"Reset Code"}),l.jsx(tn,{id:"code",value:r,onChange:b=>n(b.target.value),required:!0,pattern:"[A-Z0-9]{8}",title:"8-character alphanumeric code"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"newPassword",children:"New Password"}),l.jsx(tn,{id:"newPassword",type:"password",value:s,onChange:b=>i(b.target.value),required:!0,minLength:8})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"confirmPassword",children:"Confirm New Password"}),l.jsx(tn,{id:"confirmPassword",type:"password",value:a,onChange:b=>o(b.target.value),required:!0,minLength:8})]}),d&&l.jsx(Fa,{title:"Error",description:d}),l.jsx(Me,{type:"submit",className:"w-full",disabled:c,children:c?"Resetting...":"Reset Password"})]})})})]})}function jue(){const[e,t]=x.useState(""),[r,n]=x.useState(!1),[s,i]=x.useState(null),[a,o]=x.useState(!1),[c,u]=x.useState(""),d=qr(),h=async f=>{f.preventDefault(),n(!0),i(null);try{const p=iF(),m=await aF(p);await d.requestPasswordReset(e,m),u(p),o(!0)}catch(p){i("Failed to request password reset. Please try again."),console.error(p)}finally{n(!1)}};return a?l.jsx(SB,{email:e,secret:c}):l.jsxs(hn,{className:"bg-card/70 backdrop-blur-sm mx-auto max-w-[45rem]",children:[l.jsxs(ys,{children:[l.jsx(vs,{className:"text-xl",children:"Reset Password"}),l.jsx(Cu,{children:"Enter your email address to request a password reset."})]}),l.jsx(xs,{children:l.jsx("form",{onSubmit:h,children:l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"email",children:"Email"}),l.jsx(tn,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0})]}),s&&l.jsx(Fa,{title:"Error",description:s}),l.jsx(Me,{type:"submit",className:"w-full",disabled:r,children:r?"Requesting...":"Request Password Reset"})]})})})]})}const Mue=ks("/password-reset")({component:Pue});function Pue(){return l.jsx("div",{className:"pt-8 mx-auto max-w-md",children:l.jsx(jue,{})})}const _B=ks("/login")({component:Oue,validateSearch:e=>({next:typeof e.next=="string"?e.next:void 0,selected_plan:typeof e.selected_plan=="string"?e.selected_plan:void 0,code:typeof e.code=="string"?e.code:void 0})});function Oue(){const e=ws(),t=qr(),{next:r,selected_plan:n,code:s}=_B.useSearch(),[i,a]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(!1),h=d1(),f=Ao();x.useEffect(()=>{t.auth.user&&e(n?{to:"/pricing",search:{selected_plan:n}}:r==="/redeem"&&s?{to:"/redeem",search:{code:s}}:{to:r||"/"})},[t.auth.user,e,r,n,s]);const p=async v=>{v.preventDefault(),d(!0),c(null);const b=new FormData(v.currentTarget),k=b.get("email"),C=b.get("password");try{await t.signIn(k,C);try{Lr().clearToken()}catch(A){console.warn("Failed to clear billing token:",A)}setTimeout(()=>{e(n?{to:"/pricing",search:{selected_plan:n}}:{to:r||"/"}),window.scrollTo(0,0)},100)}catch(A){console.error(A),A instanceof Error?c(`${A.message}`):c("Something went wrong. Please try again.")}finally{d(!1)}},m=async()=>{try{if(console.log("[OAuth] Using",f?"Tauri":"web","flow"),f){let v="https://trymaple.ai/desktop-auth?provider=github";n&&(v+=`&selected_plan=${encodeURIComponent(n)}`),s&&(v+=`&code=${encodeURIComponent(s)}`),console.log("[OAuth] Opening URL in external browser:",v),Mn("plugin:opener|open_url",{url:v}).catch(b=>{console.error("[OAuth] Failed to open external browser:",b),c("Failed to open authentication page in browser")})}else{const{auth_url:v}=await t.initiateGitHubAuth("");n&&sessionStorage.setItem("selected_plan",n),s&&sessionStorage.setItem("redeem_code",s),window.location.href=v}}catch(v){console.error("Failed to initiate GitHub login:",v),c("Failed to initiate GitHub login. Please try again.")}},g=async()=>{try{if(console.log("[OAuth] Using",f?"Tauri":"web","flow"),f){let v="https://trymaple.ai/desktop-auth?provider=google";n&&(v+=`&selected_plan=${encodeURIComponent(n)}`),s&&(v+=`&code=${encodeURIComponent(s)}`),console.log("[OAuth] Opening URL in external browser:",v),Mn("plugin:opener|open_url",{url:v}).catch(b=>{console.error("[OAuth] Failed to open external browser:",b),c("Failed to open authentication page in browser")})}else{const{auth_url:v}=await t.initiateGoogleAuth("");n&&sessionStorage.setItem("selected_plan",n),s&&sessionStorage.setItem("redeem_code",s),window.location.href=v}}catch(v){console.error("Failed to initiate Google login:",v),c("Failed to initiate Google login. Please try again.")}},w=async v=>{v.preventDefault(),d(!0),c(null);const b=new FormData(v.currentTarget),k=b.get("uuid"),C=b.get("password");try{await t.signInGuest(k,C);try{Lr().clearToken()}catch(A){console.warn("Failed to clear billing token:",A)}setTimeout(()=>{e(n?{to:"/pricing",search:{selected_plan:n}}:r==="/redeem"&&s?{to:"/redeem",search:{code:s}}:{to:r||"/"}),window.scrollTo(0,0)},100)}catch(A){console.error(A),A instanceof Error?c(`${A.message}`):c("Something went wrong. Please try again.")}finally{d(!1)}},y=async()=>{var v,b;try{if(f&&h){console.log("[OAuth] Initiating native Sign in with Apple for iOS");try{const k=Dp(),C=Dp(),A=BE(UE(new TextEncoder().encode(C))),R=await Mn("plugin:sign-in-with-apple|get_apple_id_credential",{payload:{scope:["email","fullName"],state:k,nonce:A,options:{debug:!1}}});console.log("[OAuth] Apple Sign-In result:",R);const O={user_identifier:R.user,identity_token:R.identityToken,email:R.email,given_name:(v=R.fullName)==null?void 0:v.givenName,family_name:(b=R.fullName)==null?void 0:b.familyName,nonce:C};try{await t.handleAppleNativeSignIn(O,"");try{Lr().clearToken()}catch(F){console.warn("Failed to clear billing token:",F)}e(n?{to:"/pricing",search:{selected_plan:n}}:r==="/redeem"&&s?{to:"/redeem",search:{code:s}}:{to:r||"/"})}catch(F){console.error("[OAuth] Backend processing failed:",F),c(F instanceof Error?F.message:"Failed to process Apple authentication")}}catch(k){console.error("[OAuth] Failed to authenticate with Apple:",k);const C=k instanceof Error?`Apple Sign In error: ${k.message}`:"Failed to authenticate with Apple. Please try again.";c(C)}}else if(f){let k="https://trymaple.ai/desktop-auth?provider=apple";n&&(k+=`&selected_plan=${encodeURIComponent(n)}`),s&&(k+=`&code=${encodeURIComponent(s)}`),console.log("[OAuth] Opening URL in external browser:",k),Mn("plugin:opener|open_url",{url:k}).catch(C=>{console.error("[OAuth] Failed to open external browser:",C),c("Failed to open authentication page in browser")})}else console.log("[OAuth] Using web flow for Apple Sign In (Web only)"),s&&sessionStorage.setItem("redeem_code",s)}catch(k){console.error("Failed to initiate Apple login:",k),c("Failed to initiate Apple login. Please try again.")}};return i?i==="guest"?l.jsx("form",{onSubmit:w,children:l.jsxs(zf,{title:"Log In as Anonymous",description:"Enter your Account ID and password.",children:[o&&l.jsx(Fa,{title:"Error",description:o}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"uuid",children:"Account ID"}),l.jsx(tn,{id:"uuid",name:"uuid",type:"text",placeholder:"Your Account ID",required:!0,autoComplete:"username",className:"font-mono"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"password",children:"Password"}),l.jsx(tn,{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password"})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Log In"}),l.jsx(Me,{type:"button",variant:"outline",onClick:()=>a(null),className:"w-full",children:"Back"}),l.jsxs("div",{className:"text-center text-sm",children:["Need an account?"," ",l.jsx(Sn,{to:"/signup",search:r?{next:r}:void 0,className:"underline",children:"Sign up"})]})]})}):l.jsx("form",{onSubmit:p,children:l.jsxs(zf,{title:"Log In with Email",description:"Enter your email and password to log in.",children:[o&&l.jsx(Fa,{title:"Error",description:o}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"email",children:"Email"}),l.jsx(tn,{id:"email",name:"email",type:"email",placeholder:"email@example.com",required:!0,autoComplete:"email"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"password",children:"Password"}),l.jsx(tn,{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password"})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):"Log In"}),l.jsx(Me,{type:"button",variant:"outline",onClick:()=>a(null),className:"w-full",children:"Back"}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("div",{className:"text-center text-sm",children:["Need an account?"," ",l.jsx(Sn,{to:"/signup",search:r?{next:r}:void 0,className:"underline",children:"Sign up"})]}),l.jsx("div",{className:"text-center text-sm",children:l.jsx(Sn,{to:"/password-reset",className:"hover:underline",children:"Forgot password?"})})]})]})}):l.jsxs(zf,{title:"Log In",description:"Choose your preferred login method",children:[o&&l.jsx(Fa,{title:"Note",description:o}),l.jsxs(Me,{onClick:()=>a("email"),className:"w-full",children:[l.jsx(b2,{className:"mr-2 h-4 w-4"}),"Log in with Email"]}),l.jsxs(Me,{onClick:m,className:"w-full",children:[l.jsx(jE,{className:"mr-2 h-4 w-4"}),"Log in with GitHub"]}),l.jsxs(Me,{onClick:g,className:"w-full",children:[l.jsx(tB,{className:"mr-2 h-4 w-4"}),"Log in with Google"]}),f?l.jsxs(Me,{onClick:y,className:"w-full",children:[l.jsx(kg,{className:"mr-2 h-4 w-4"}),"Log in with Apple"]}):l.jsx(zE,{onError:v=>c(v.message),redirectAfterLogin:v=>{e(v?{to:"/pricing",search:{selected_plan:v}}:{to:r||"/"})},selectedPlan:n,inviteCode:""}),l.jsxs(Me,{onClick:()=>a("guest"),className:"w-full",children:[l.jsx(FF,{className:"mr-2 h-4 w-4"}),"Log in as Anonymous"]}),l.jsxs("div",{className:"text-center text-sm",children:["Need an account?"," ",l.jsx(Sn,{to:"/signup",search:r?{next:r}:void 0,className:"underline",children:"Sign Up"})]})]})}function Due(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e,children:l.jsx("path",{d:"M17.523 15.3414c-.5511 0-.9993-.4486-.9993-.9997s.4483-.9993.9993-.9993.9993.4483.9993.9993c0 .5511-.4483.9997-.9993.9997m-11.046 0c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4483.9993.9993 0 .5511-.4483.9997-.9993.9997m11.4045-6.02l1.9973-3.4592a.416.416 0 0 0-.1521-.5676.416.416 0 0 0-.5676.1521l-2.0223 3.503C15.5902 8.2439 13.8533 7.8508 12 7.8508s-3.5902.3931-5.1367 1.0761L4.84 5.4237a.4161.4161 0 0 0-.5677-.1521.4157.4157 0 0 0-.1521.5676l1.9973 3.4592C2.6889 11.183.3432 14.6681 0 18.761h24c-.3435-4.0929-2.6892-7.578-6.1185-9.4396"})})}async function Lue(){try{const e=await fetch("https://api.github.com/repos/OpenSecretCloud/Maple/releases/latest");if(!e.ok)return console.error("Failed to fetch latest release:",e.status),null;const t=await e.json();return!(t!=null&&t.tag_name)||!(t!=null&&t.name)||!(t!=null&&t.published_at)||!(t!=null&&t.html_url)?(console.error("Invalid release data format from GitHub API"),null):t}catch(e){return console.error("Error fetching latest release:",e),null}}async function $ue(){const e=await Lue();if(!e)return null;const t=e.tag_name.startsWith("v")?e.tag_name.slice(1):e.tag_name,r=`https://github.com/OpenSecretCloud/Maple/releases/download/${e.tag_name}`;return{version:t,tagName:e.tag_name,downloadUrls:{macOS:`${r}/Maple_${t}_universal.dmg`,linuxAppImage:`${r}/Maple_${t}_amd64.AppImage`,linuxDeb:`${r}/Maple_${t}_amd64.deb`,linuxRpm:`${r}/Maple_${t}_x86_64.rpm`,androidApk:`${r}/app-universal-release.apk`},releaseUrl:e.html_url}}const Sf=kB.version,EB=`v${Sf}`,S0=`https://github.com/OpenSecretCloud/Maple/releases/download/${EB}`,Fue={macOS:`${S0}/Maple_${Sf}_universal.dmg`,linuxAppImage:`${S0}/Maple_${Sf}_amd64.AppImage`,linuxDeb:`${S0}/Maple_${Sf}_amd64.deb`,linuxRpm:`${S0}/Maple_${Sf}_x86_64.rpm`,androidApk:`${S0}/app-universal-release.apk`};function Bue(){const e=d1(),[t,r]=x.useState(Fue),[n,s]=x.useState(Sf),[i,a]=x.useState(`https://github.com/OpenSecretCloud/Maple/releases/tag/${EB}`),[o,c]=x.useState(!0);return x.useEffect(()=>{async function u(){try{const d=await $ue();d&&(r(d.downloadUrls),s(d.version),a(d.releaseUrl))}catch(d){console.error("Failed to load latest release info:",d)}finally{c(!1)}}u()},[]),l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("span",{className:"text-6xl font-light mb-0",children:[l.jsx("span",{className:"text-[hsl(var(--purple))]",children:"Download"})," Maple"]}),subtitle:l.jsx("div",{className:"space-y-2",children:l.jsx("p",{children:"Access your private AI chat with end-to-end encryption"})})}),l.jsxs("section",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("h2",{className:"text-3xl font-light mb-8 flex items-center gap-3",children:[l.jsx(HF,{className:"w-7 h-7"})," Desktop Apps",l.jsx("span",{className:"ml-3 text-xl text-[hsl(var(--marketing-text-muted))]",children:"A faster, more focused experience for your private AI chat"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col border border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-6 rounded-lg hover:border-foreground/30 transition-all duration-300",children:[l.jsx("div",{className:"p-3 rounded-full bg-[hsl(var(--marketing-card))]/50 border border-[hsl(var(--purple))]/30 w-fit mb-4",children:l.jsx(kg,{className:"w-6 h-6 text-[hsl(var(--purple))]"})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"macOS"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-6 flex-grow",children:"For Apple Silicon and Intel-based Macs running macOS 11.0 or later."}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("a",{href:t.macOS,className:`py-3 rounded-lg text-center font-medium transition-all duration-300 
                  dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                  bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                  border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
                  shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]`,children:"Download for macOS"}),l.jsx("div",{className:"text-center text-xs text-[hsl(var(--marketing-text-muted))]",children:"Universal for both Apple Silicon and Intel"})]})]}),l.jsxs("div",{className:"flex flex-col border border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-6 rounded-lg hover:border-foreground/30 transition-all duration-300",children:[l.jsx("div",{className:"p-3 rounded-full bg-[hsl(var(--marketing-card))]/50 border border-[hsl(var(--purple))]/30 w-fit mb-4",children:l.jsx(ole,{className:"w-6 h-6 text-[hsl(var(--purple))]"})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Linux"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-6 flex-grow",children:"For Ubuntu 24.04+ only. Other Linux distributions are not officially supported."}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("a",{href:t.linuxAppImage,className:`py-3 rounded-lg text-center font-medium transition-all duration-300 
                  dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                  bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                  border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
                  shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]`,children:"Download AppImage"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("a",{href:t.linuxDeb,className:`py-2 rounded-lg text-center text-sm font-medium transition-all duration-300 
                    dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                    bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                    border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]`,children:".deb"}),l.jsx("a",{href:t.linuxRpm,className:`py-2 rounded-lg text-center text-sm font-medium transition-all duration-300 
                    dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                    bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                    border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]`,children:".rpm"})]})]})]})]}),l.jsxs("div",{className:"text-center mt-8 space-y-2 text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:[l.jsxs("p",{children:["Windows version coming soon. In the meantime, you can use the"," ",l.jsx("a",{href:"/login",className:"text-[hsl(var(--purple))] hover:underline",children:"web app"})," ","for full functionality."]}),l.jsxs("p",{className:"text-sm",children:["Current version: ",l.jsx("span",{className:"font-mono text-foreground",children:n}),o&&l.jsx("span",{className:"text-[hsl(var(--marketing-text-muted))]",children:" (loading...)"})," ",""," ",l.jsx("a",{href:i,className:"text-[hsl(var(--purple))] hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Release notes"})]})]})]}),l.jsxs("section",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 mb-12",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(oS,{className:"w-7 h-7"}),l.jsx("span",{className:"text-3xl font-light",children:"Mobile Apps"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col border border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-6 rounded-lg hover:border-foreground/30 transition-all duration-300",children:[l.jsx("div",{className:"p-3 rounded-full bg-[hsl(var(--marketing-card))]/50 border border-[hsl(var(--purple))]/30 w-fit mb-4",children:l.jsx(kg,{className:"w-6 h-6 text-[hsl(var(--purple))]"})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"iOS"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-6 flex-grow",children:"Download our native iOS app for iPhones and iPads."}),l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("a",{href:"https://apps.apple.com/us/app/id6743764835",className:"inline-block",target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:"/app-store-badge.svg",alt:"Download on the App Store",className:"h-12"})}),l.jsxs("div",{className:"w-full border-t border-[hsl(var(--marketing-card-border))] pt-4",children:[l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] text-sm mb-3 text-center",children:"Want to test the latest features before they hit the App Store? Join our beta program."}),l.jsx("div",{className:"flex justify-center",children:l.jsx("a",{href:"https://testflight.apple.com/join/zjgtyAeD",className:"inline-block",target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:"/testflight-badge.png",alt:"Available on TestFlight",className:"h-12"})})})]})]})]}),!e&&l.jsxs("div",{className:"flex flex-col border border-[hsl(var(--marketing-card-border))] bg-[hsl(var(--marketing-card))]/75 text-foreground p-6 rounded-lg hover:border-foreground/30 transition-all duration-300",children:[l.jsx("div",{className:"p-3 rounded-full bg-[hsl(var(--marketing-card))]/50 border border-[hsl(var(--purple))]/30 w-fit mb-4",children:l.jsx(Due,{className:"w-6 h-6 text-[hsl(var(--purple))]"})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Android"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-6 flex-grow",children:"Download our native Android app for phones and tablets."}),l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("a",{href:"https://play.google.com/store/apps/details?id=cloud.opensecret.maple",className:"inline-block",target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:"/google-play-badge.png",alt:"Get it on Google Play",className:"h-12"})}),l.jsxs("div",{className:"w-full border-t border-[hsl(var(--marketing-card-border))] pt-4",children:[l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] text-sm mb-3 text-center",children:"Want to test the latest features before they hit the Play Store? Join our beta program."}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("a",{href:"https://play.google.com/apps/testing/cloud.opensecret.maple",className:`py-2 px-4 rounded-lg text-center text-sm font-medium transition-all duration-300
                        dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                        bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80
                        border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]`,target:"_blank",rel:"noopener noreferrer",children:"Join Google Play Beta"}),l.jsx("a",{href:t.androidApk,className:"text-xs text-[hsl(var(--marketing-text-muted))] hover:text-foreground hover:underline",target:"_blank",rel:"noopener noreferrer",children:"or download APK directly"})]})]})]})]})]})]}),l.jsx("section",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 mb-12",children:l.jsx("div",{className:"flex flex-col p-4 sm:p-8 rounded-2xl bg-gradient-to-b from-[hsl(var(--marketing-card))] to-[hsl(var(--marketing-card))]/80 border-2 border-[hsl(var(--purple))] shadow-[0_0_30px_rgba(148,105,248,0.2)]",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 md:gap-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-3xl font-light mb-3",children:"Web Version"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] text-lg mb-6",children:"Don't want to download anything? Use Maple directly in your browser with the same end-to-end encryption."}),l.jsxs("a",{href:"/login",className:`inline-flex items-center gap-2 py-3 px-6 rounded-lg text-center font-medium transition-all duration-300 
                  dark:bg-white/90 dark:text-black dark:hover:bg-[hsl(var(--purple))]/80 dark:hover:text-[hsl(var(--foreground))] dark:active:bg-white/80
                  bg-background text-foreground hover:bg-[hsl(var(--purple))] hover:text-[hsl(var(--foreground))] active:bg-background/80 
                  border border-[hsl(var(--purple))]/30 hover:border-[hsl(var(--purple))]
                  shadow-[0_0_15px_rgba(var(--purple-rgb),0.2)] hover:shadow-[0_0_25px_rgba(var(--purple-rgb),0.3)]`,children:[l.jsx(Op,{className:"w-5 h-5"}),"Open Web App"]})]}),l.jsx("div",{className:"flex-1 flex justify-center w-full mt-8 md:mt-0",children:l.jsxs("div",{className:"w-full max-w-[380px] aspect-video bg-[hsl(var(--background))] rounded-lg border border-[hsl(var(--border))] overflow-hidden shadow-xl mx-auto",children:[l.jsxs("div",{className:"h-8 border-b border-[hsl(var(--border))] bg-[hsl(var(--background))] flex items-center px-4",children:[l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/50"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/50"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/50"})]}),l.jsx("div",{className:"mx-auto text-xs text-[hsl(var(--muted-foreground))]",children:"trymaple.ai"})]}),l.jsxs("div",{className:"p-2 h-[calc(100%-32px)] flex",children:[l.jsx("div",{className:"w-1/4 border-r border-[hsl(var(--border))]"}),l.jsxs("div",{className:"w-3/4 p-2",children:[l.jsx("div",{className:"h-3 bg-[hsl(var(--muted))]/40 rounded-full w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-[hsl(var(--muted))]/40 rounded-full w-1/2 mb-4"}),l.jsxs("div",{className:"bg-[hsl(var(--purple))]/10 rounded p-2 mb-2",children:[l.jsx("div",{className:"h-2 bg-[hsl(var(--muted))]/40 rounded-full w-full mb-1"}),l.jsx("div",{className:"h-2 bg-[hsl(var(--muted))]/40 rounded-full w-3/4"})]}),l.jsxs("div",{className:"bg-[hsl(var(--muted))]/10 rounded p-2",children:[l.jsx("div",{className:"h-2 bg-[hsl(var(--muted))]/40 rounded-full w-full mb-1"}),l.jsx("div",{className:"h-2 bg-[hsl(var(--muted))]/40 rounded-full w-1/2"})]})]})]})]})})]})})})]})]})}const Uue=ks("/downloads")({component:Bue}),NB=ks("/desktop-auth")({component:zue,validateSearch:e=>{const t=typeof e.provider=="string"?e.provider:"github";if(t!=="github"&&t!=="google"&&t!=="apple")throw new Error(`Unsupported provider: ${t}`);return{provider:t,selected_plan:typeof e.selected_plan=="string"?e.selected_plan:void 0}}});function zue(){const e=NB.useSearch(),{provider:t,selected_plan:r}=e,n=ws(),s=qr();return x.useEffect(()=>{(async()=>{try{if(localStorage.setItem("redirect-to-native","true"),r&&sessionStorage.setItem("selected_plan",r),t==="apple")return;let a;if(t==="github")a=(await s.initiateGitHubAuth("")).auth_url;else if(t==="google")a=(await s.initiateGoogleAuth("")).auth_url;else throw new Error("Unsupported provider");window.location.href=a}catch(a){console.error(`Failed to initiate ${t} login:`,a),n({to:"/login"})}})()},[s,t,r,n]),t==="apple"?l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsx(vs,{children:"Apple Sign In"})}),l.jsxs(xs,{children:[l.jsx("p",{className:"mb-4",children:"Click the button below to sign in with Apple:"}),l.jsx(zE,{onError:i=>{console.error("Apple auth error:",i),n({to:"/login"})},redirectAfterLogin:i=>{n(i?{to:"/pricing",search:{selected_plan:i}}:{to:"/"})},selectedPlan:r,inviteCode:""})]})]}):l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsxs(vs,{children:["Redirecting to ",t]})}),l.jsxs(xs,{children:[l.jsx("p",{className:"mb-4",children:"Please wait while we redirect you to complete authentication..."}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin"})})]})]})}function TT(e){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true",...e,children:[l.jsx("title",{children:"X"}),l.jsx("path",{d:"M14.283 10.16L22.018 0H20.1l-6.6 8.91L7.07 0H0l9.378 13.6L0 24h1.918l6.86-8.91L16.855 24H24l-9.71-13.84zm-2.418 4.01l-.77-1.09L2.88 1.56h3.27l6.04 8.6.77 1.09 7.09 10.01h-3.27l-6.09-8.6z",fill:"currentColor"})]})}function Hue(e){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true",...e,children:[l.jsx("title",{children:"LinkedIn"}),l.jsx("path",{d:"M21,21H17V14.25C17,13.19 15.81,12.31 14.75,12.31C13.69,12.31 13,13.19 13,14.25V21H9V9H13V11C13.66,9.93 15.36,9.24 16.5,9.24C19,9.24 21,11.28 21,13.75V21M7,21H3V9H7V21M5,3A2,2 0 0,1 7,5A2,2 0 0,1 5,7A2,2 0 0,1 3,5A2,2 0 0,1 5,3Z"})]})}const Vue=ks("/about")({component:que});function que(){return l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsxs(Oa,{children:[l.jsx(Nu,{title:l.jsxs("h2",{className:"text-6xl font-light mb-0",children:[l.jsx("span",{className:"dark:text-[hsl(var(--blue))] text-[hsl(var(--purple))]",children:"About"})," ","Maple AI"]}),subtitle:l.jsx("p",{className:"text-2xl text-[hsl(var(--marketing-text-muted))] max-w-2xl mx-auto",children:"Incredibly powerful AI that doesn't share your data with anyone"})}),l.jsxs("div",{className:"flex flex-col gap-8 text-foreground pt-8 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col gap-6 dark:border-white/10 border-[hsl(var(--marketing-card-border))] dark:bg-black/75 bg-[hsl(var(--marketing-card))]/80 dark:text-white p-8 border rounded-lg",children:[l.jsx("h3",{className:"text-2xl font-medium",children:"Our Inspiration"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[l.jsxs("div",{className:"flex flex-col items-center w-full md:w-48 flex-shrink-0",children:[l.jsx("img",{src:"/maple-autumn-forest.jpg",alt:"Maple autumn forest",className:"w-full md:w-48 h-auto rounded-lg object-contain md:object-cover",style:{maxHeight:"220px"}}),l.jsxs("span",{className:"block text-xs text-[hsl(var(--marketing-text-muted))] mt-2 text-center",children:["Autumn Woods ",l.jsx("br",{})," by William Trost Richards"]}),l.jsx("img",{src:"/maple-app-icon-vector.svg",alt:"Maple App Icon",className:"w-32 h-32 md:w-40 md:h-40 mt-4 rounded-lg object-contain hidden md:block"})]}),l.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[l.jsx("p",{className:"text-lg leading-relaxed",children:"Maple trees form underground networks of root systems, communicating and sharing resources without the knowledge of animals above. This cooperative approach helps them thrive in challenging environments."}),l.jsx("p",{className:"text-lg leading-relaxed",children:"Maple AI draws inspiration from this natural model of secure, decentralized intelligence. Each account uses a personal encryption key, giving you control over the data. Whether you are handling sensitive information on behalf of clients or your own personal thoughts, communication stays between you and the AI. No data is used for training models nor shared with third parties, not even us."}),l.jsx("p",{className:"text-lg leading-relaxed",children:"People shouldn't have to sacrifice their privacy for high-quality AI. Maple upholds the highest standards of privacy and confidentiality, preserving the fundamental human right to freedom of thought. With confidence in AI, you can work together to thrive in your own challenging environments."}),l.jsx("img",{src:"/maple-app-icon-vector.svg",alt:"Maple App Icon",className:"w-32 h-32 mt-4 rounded-lg object-contain block md:hidden mx-auto"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-6 dark:border-white/10 border-[hsl(var(--marketing-card-border))] dark:bg-black/75 bg-[hsl(var(--marketing-card))]/80 dark:text-white p-8 border rounded-lg",children:[l.jsx("h3",{className:"text-2xl font-medium",children:"Founders"}),l.jsx("p",{className:"text-lg leading-relaxed",children:"Our team has combined over 30 years experience building scalable cloud and local app solutions that take privacy and security seriously. We have successfully built in the fields of data storage, defense, fintech, education, security, therapy, computer vision, and consumer technology."}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[l.jsx("a",{href:"https://x.com/marks_ftw",target:"_blank",rel:"noopener noreferrer","aria-label":"Mark Suman on X",children:l.jsx("img",{src:"/mark.jpg",alt:"Mark, Co-founder of Maple AI",className:"w-32 h-32 rounded-full object-cover border-4 border-[hsl(var(--purple))]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-medium mb-1",children:"Mark Suman"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-3",children:"CEO"}),l.jsxs("p",{className:"text-sm leading-relaxed max-w-xs",children:["Early employee in Product and Engineering at multiple startups, including Instructure Canvas. Most recently, 6 years in software engineering at Apple with a focus on AI and Privacy.",l.jsxs("span",{className:"inline-flex items-center align-middle ml-2 gap-1",children:[l.jsx("a",{href:"https://x.com/marks_ftw",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-md p-1 bg-[hsl(var(--purple))] text-white dark:bg-transparent dark:text-[hsl(var(--purple))] dark:border dark:border-[hsl(var(--purple))] transition-colors","aria-label":"Mark Suman on X",children:l.jsx(TT,{className:"w-3 h-3 align-middle"})}),l.jsx("a",{href:"https://linkedin.com/in/marksuman",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-md p-1 bg-[hsl(var(--purple))] text-white dark:bg-transparent dark:text-[hsl(var(--purple))] dark:border dark:border-[hsl(var(--purple))] transition-colors","aria-label":"Mark Suman on LinkedIn",children:l.jsx(Hue,{className:"w-3 h-3 align-middle"})})]})]})]})]}),l.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[l.jsx("a",{href:"https://x.com/anthonyronning_",target:"_blank",rel:"noopener noreferrer","aria-label":"Anthony Ronning on X",children:l.jsx("img",{src:"/anthony.jpg",alt:"Anthony, Co-founder of Maple AI",className:"w-32 h-32 rounded-full object-cover border-4 border-[hsl(var(--blue))]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-medium mb-1",children:"Anthony Ronning"}),l.jsx("p",{className:"text-[hsl(var(--marketing-text-muted))] mb-3",children:"CTO"}),l.jsxs("p",{className:"text-sm leading-relaxed max-w-xs",children:["Infrastructure engineer in many startups over the last 9 years. Previous experience in defense, security, networking, and bitcoin companies.",l.jsx("span",{className:"inline-flex items-center align-middle ml-2 gap-1",children:l.jsx("a",{href:"https://x.com/anthonyronning_",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-md p-1 bg-[hsl(var(--blue))] text-white dark:bg-transparent dark:text-[hsl(var(--blue))] dark:border dark:border-[hsl(var(--blue))] transition-colors","aria-label":"Anthony Ronning on X",children:l.jsx(TT,{className:"w-3 h-3 align-middle"})})})]})]})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-6 dark:border-white/10 border-[hsl(var(--marketing-card-border))] dark:bg-black/75 bg-[hsl(var(--marketing-card))]/80 dark:text-white p-8 border rounded-lg",children:[l.jsx("h3",{className:"text-2xl font-medium",children:"Built on OpenSecret"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[l.jsx("img",{src:"/opensecret-logo.png",alt:"OpenSecret company logo",className:"w-24 h-24 rounded-lg object-cover",style:{objectPosition:"center"}}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"Maple AI is built on OpenSecret, pioneering the future of privacy-preserving apps. Whether artificial intelligence or traditional apps, user data is end-to-end encrypted."}),l.jsx("a",{href:"https://opensecret.cloud",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-[hsl(var(--blue))] hover:text-[hsl(var(--purple))] transition-colors underline",children:"Learn more about OpenSecret "})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-6 dark:border-white/10 border-[hsl(var(--marketing-card-border))] dark:bg-black/75 bg-[hsl(var(--marketing-card))]/80 dark:text-white p-8 border rounded-lg",children:[l.jsx("h3",{className:"text-2xl font-medium",children:"Developer Programs"}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("img",{src:"/nvidia-inception.png",alt:"NVIDIA Inception Program logo",className:"w-32 h-16 object-contain"}),l.jsx("span",{className:"text-sm text-[hsl(var(--marketing-text-muted))]",children:"Inception Program"})]}),l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("img",{src:"/google-cloud-for-startups.png",alt:"Google Cloud for Startups program logo",className:"w-32 h-16 object-contain"}),l.jsx("span",{className:"text-sm text-[hsl(var(--marketing-text-muted))]",children:"Google Cloud for Startups"})]})]})]}),l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-lg text-[hsl(var(--marketing-text-muted))]",children:"Built in Austin. Living in Secure Enclaves."})})]})]})]})}const Wue=ks("/_auth")({beforeLoad:({context:e,location:t})=>{if(!e.os.auth.loading&&!e.os.auth.user)throw VJ({to:"/",search:{login:"true",next:t.pathname}})},component:Gue});function Gue(){return l.jsx(y_,{})}var CB={exports:{}};(function(e){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function t(E,N){if(!E)throw"First parameter is required.";N=N||{type:"video"},N=new r(E,N);var L=this;function M(we){return N.disableLogs||console.log("RecordRTC version: ",L.version),we&&(N=new r(E,we)),N.disableLogs||console.log("started recording "+N.type+" stream."),Ie?(Ie.clearRecordedData(),Ie.record(),Ee("recording"),L.recordingDuration&&ge(),L):(G(function(){L.recordingDuration&&ge()}),L)}function G(we){we&&(N.initCallback=function(){we(),we=N.initCallback=null});var Ne=new n(E,N);Ie=new Ne(E,N),Ie.record(),Ee("recording"),N.disableLogs||console.log("Initialized recorderType:",Ie.constructor.name,"for output-type:",N.type)}function W(we){if(we=we||function(){},!Ie){je();return}if(L.state==="paused"){L.resumeRecording(),setTimeout(function(){W(we)},1);return}L.state!=="recording"&&!N.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',L.state),N.disableLogs||console.log("Stopped recording "+N.type+" stream."),N.type!=="gif"?Ie.stop(Ne):(Ie.stop(),Ne()),Ee("stopped");function Ne(Je){if(!Ie){typeof we.call=="function"?we.call(L,""):we("");return}Object.keys(Ie).forEach(function(rt){typeof Ie[rt]!="function"&&(L[rt]=Ie[rt])});var oe=Ie.blob;if(!oe)if(Je)Ie.blob=oe=Je;else throw"Recording failed.";if(oe&&!N.disableLogs&&console.log(oe.type,"->",y(oe.size)),we){var xe;try{xe=d.createObjectURL(oe)}catch{}typeof we.call=="function"?we.call(L,xe):we(xe)}N.autoWriteToDisk&&be(function(rt){var nt={};nt[N.type+"Blob"]=rt,Q.Store(nt)})}}function se(){if(!Ie){je();return}if(L.state!=="recording"){N.disableLogs||console.warn("Unable to pause the recording. Recording state: ",L.state);return}Ee("paused"),Ie.pause(),N.disableLogs||console.log("Paused recording.")}function X(){if(!Ie){je();return}if(L.state!=="paused"){N.disableLogs||console.warn("Unable to resume the recording. Recording state: ",L.state);return}Ee("recording"),Ie.resume(),N.disableLogs||console.log("Resumed recording.")}function me(we){postMessage(new FileReaderSync().readAsDataURL(we))}function be(we,Ne){if(!we)throw"Pass a callback function over getDataURL.";var Je=Ne?Ne.blob:(Ie||{}).blob;if(!Je){N.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){be(we,Ne)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var oe=rt(me);oe.onmessage=function(nt){we(nt.data)},oe.postMessage(Je)}else{var xe=new FileReader;xe.readAsDataURL(Je),xe.onload=function(nt){we(nt.target.result)}}function rt(nt){try{var tr=d.createObjectURL(new Blob([nt.toString(),"this.onmessage =  function (eee) {"+nt.name+"(eee.data);}"],{type:"application/javascript"})),Yt=new Worker(tr);return d.revokeObjectURL(tr),Yt}catch{}}}function ge(we){if(we=we||0,L.state==="paused"){setTimeout(function(){ge(we)},1e3);return}if(L.state!=="stopped"){if(we>=L.recordingDuration){W(L.onRecordingStopped);return}we+=1e3,setTimeout(function(){ge(we)},1e3)}}function Ee(we){L&&(L.state=we,typeof L.onStateChanged.call=="function"?L.onStateChanged.call(L,we):L.onStateChanged(we))}var Re='It seems that recorder is destroyed or "startRecording" is not invoked for '+N.type+" recorder.";function je(){N.disableLogs!==!0&&console.warn(Re)}var Ie,Ve={startRecording:M,stopRecording:W,pauseRecording:se,resumeRecording:X,initRecorder:G,setRecordingDuration:function(we,Ne){if(typeof we>"u")throw"recordingDuration is required.";if(typeof we!="number")throw"recordingDuration must be a number.";return L.recordingDuration=we,L.onRecordingStopped=Ne||function(){},{onRecordingStopped:function(Je){L.onRecordingStopped=Je}}},clearRecordedData:function(){if(!Ie){je();return}Ie.clearRecordedData(),N.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!Ie){je();return}return Ie.blob},getDataURL:be,toURL:function(){if(!Ie){je();return}return d.createObjectURL(Ie.blob)},getInternalRecorder:function(){return Ie},save:function(we){if(!Ie){je();return}v(Ie.blob,we)},getFromDisk:function(we){if(!Ie){je();return}t.getFromDisk(N.type,we)},setAdvertisementArray:function(we){N.advertisement=[];for(var Ne=we.length,Je=0;Je<Ne;Je++)N.advertisement.push({duration:Je,image:we[Je]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){L.state==="recording"&&!N.disableLogs&&console.warn("Stop an active recorder."),Ie&&typeof Ie.clearRecordedData=="function"&&Ie.clearRecordedData(),Ie=null,Ee("inactive"),L.blob=null},onStateChanged:function(we){N.disableLogs||console.log("Recorder state changed:",we)},state:"inactive",getState:function(){return L.state},destroy:function(){var we=N.disableLogs;N={disableLogs:!0},L.reset(),Ee("destroyed"),Ve=L=null,R.AudioContextConstructor&&(R.AudioContextConstructor.close(),R.AudioContextConstructor=null),N.disableLogs=we,N.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return L=Ve,Ve;for(var He in Ve)this[He]=Ve[He];return L=this,Ve}t.version="5.6.2",e.exports=t,t.getFromDisk=function(E,N){if(!N)throw"callback is mandatory.";console.log("Getting recorded "+(E==="all"?"blobs":E+" blob ")+" from disk!"),Q.Fetch(function(L,M){E!=="all"&&M===E+"Blob"&&N&&N(L),E==="all"&&N&&N(L,M.replace("Blob",""))})},t.writeToDisk=function(E){console.log("Writing recorded blob(s) to disk!"),E=E||{},E.audio&&E.video&&E.gif?E.audio.getDataURL(function(N){E.video.getDataURL(function(L){E.gif.getDataURL(function(M){Q.Store({audioBlob:N,videoBlob:L,gifBlob:M})})})}):E.audio&&E.video?E.audio.getDataURL(function(N){E.video.getDataURL(function(L){Q.Store({audioBlob:N,videoBlob:L})})}):E.audio&&E.gif?E.audio.getDataURL(function(N){E.gif.getDataURL(function(L){Q.Store({audioBlob:N,gifBlob:L})})}):E.video&&E.gif?E.video.getDataURL(function(N){E.gif.getDataURL(function(L){Q.Store({videoBlob:N,gifBlob:L})})}):E.audio?E.audio.getDataURL(function(N){Q.Store({audioBlob:N})}):E.video?E.video.getDataURL(function(N){Q.Store({videoBlob:N})}):E.gif&&E.gif.getDataURL(function(N){Q.Store({gifBlob:N})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(E,N){return!N.recorderType&&!N.type&&(N.audio&&N.video?N.type="video":N.audio&&!N.video&&(N.type="audio")),N.recorderType&&!N.type&&(N.recorderType===z||N.recorderType===D||typeof re<"u"&&N.recorderType===re?N.type="video":N.recorderType===te?N.type="gif":N.recorderType===j?N.type="audio":N.recorderType===F&&(k(E,"audio").length&&k(E,"video").length||!k(E,"audio").length&&k(E,"video").length?N.type="video":k(E,"audio").length&&!k(E,"video").length&&(N.type="audio"))),typeof F<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(N.mimeType||(N.mimeType="video/webm"),N.type||(N.type=N.mimeType.split("/")[0]),N.bitsPerSecond),N.type||(N.mimeType&&(N.type=N.mimeType.split("/")[0]),N.type||(N.type="audio")),N}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(E,N){var L;return(m||h||f)&&(L=j),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!m&&(L=F),N.type==="video"&&(m||f)&&(L=z,typeof re<"u"&&typeof ReadableStream<"u"&&(L=re)),N.type==="gif"&&(L=te),N.type==="canvas"&&(L=D),O()&&L!==D&&L!==te&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(k(E,"video").length||k(E,"audio").length)&&(N.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(L=F):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(L=F)),E instanceof Array&&E.length&&(L=J),N.recorderType&&(L=N.recorderType),!N.disableLogs&&L&&L.name&&console.log("Using recorderType:",L.name||L.constructor.name),!L&&g&&(L=F),L}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function s(E){this.addStream=function(N){N&&(E=N)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var N=this.mediaType,L,M=this.mimeType||{audio:null,video:null,gif:null};if(typeof N.audio!="function"&&O()&&!k(E,"audio").length&&(N.audio=!1),typeof N.video!="function"&&O()&&!k(E,"video").length&&(N.video=!1),typeof N.gif!="function"&&O()&&!k(E,"video").length&&(N.gif=!1),!N.audio&&!N.video&&!N.gif)throw"MediaStream must have either audio or video tracks.";if(N.audio&&(L=null,typeof N.audio=="function"&&(L=N.audio),this.audioRecorder=new t(E,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:L,mimeType:M.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),N.video||this.audioRecorder.startRecording()),N.video){L=null,typeof N.video=="function"&&(L=N.video);var G=E;if(O()&&N.audio&&typeof N.audio=="function"){var W=k(E,"video")[0];p?(G=new w,G.addTrack(W),L&&L===z&&(L=F)):(G=new w,G.addTrack(W))}this.videoRecorder=new t(G,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:L,mimeType:M.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),N.audio||this.videoRecorder.startRecording()}if(N.audio&&N.video){var se=this,X=O()===!0;(N.audio instanceof j&&N.video||N.audio!==!0&&N.video!==!0&&N.audio!==N.video)&&(X=!1),X===!0?(se.audioRecorder=null,se.videoRecorder.startRecording()):se.videoRecorder.initRecorder(function(){se.audioRecorder.initRecorder(function(){se.videoRecorder.startRecording(),se.audioRecorder.startRecording()})})}N.gif&&(L=null,typeof N.gif=="function"&&(L=N.gif),this.gifRecorder=new t(E,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:L,mimeType:M.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(N){N=N||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(L){N(L,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(L){N(L,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(L){N(L,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(N){var L={};return this.audioRecorder&&(L.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(L.video=this.videoRecorder.getBlob()),this.gifRecorder&&(L.gif=this.gifRecorder.getBlob()),N&&N(L),L},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(N){this.getBlob(function(G){G.audio&&G.video?L(G.audio,function(W){L(G.video,function(se){N({audio:W,video:se})})}):G.audio?L(G.audio,function(W){N({audio:W})}):G.video&&L(G.video,function(W){N({video:W})})});function L(G,W){if(typeof Worker<"u"){var se=M(function(be){postMessage(new FileReaderSync().readAsDataURL(be))});se.onmessage=function(me){W(me.data)},se.postMessage(G)}else{var X=new FileReader;X.readAsDataURL(G),X.onload=function(me){W(me.target.result)}}}function M(G){var W=d.createObjectURL(new Blob([G.toString(),"this.onmessage =  function (eee) {"+G.name+"(eee.data);}"],{type:"application/javascript"})),se=new Worker(W),X;if(typeof d<"u")X=d;else if(typeof webkitURL<"u")X=webkitURL;else throw"Neither URL nor webkitURL detected.";return X.revokeObjectURL(W),se}},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(N){N=N||{audio:!0,video:!0,gif:!0},N.audio&&this.audioRecorder&&this.audioRecorder.save(typeof N.audio=="string"?N.audio:""),N.video&&this.videoRecorder&&this.videoRecorder.save(typeof N.video=="string"?N.video:""),N.gif&&this.gifRecorder&&this.gifRecorder.save(typeof N.gif=="string"?N.gif:"")}}s.getFromDisk=t.getFromDisk,s.writeToDisk=t.writeToDisk,typeof t<"u"&&(t.MRecordRTC=s);var i="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(E){E&&(typeof window<"u"||typeof bn>"u"||(bn.navigator={userAgent:i,getUserMedia:function(){}},bn.console||(bn.console={}),(typeof bn.console.log>"u"||typeof bn.console.error>"u")&&(bn.console.error=bn.console.log=bn.console.log||function(){console.log(arguments)}),typeof document>"u"&&(E.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var N={getContext:function(){return N},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return N},E.HTMLVideoElement=function(){}),typeof location>"u"&&(E.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(E.screen={width:0,height:0}),typeof d>"u"&&(E.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),E.window=bn))})(typeof bn<"u"?bn:null);var a=window.requestAnimationFrame;if(typeof a>"u"){if(typeof webkitRequestAnimationFrame<"u")a=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")a=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")a=msRequestAnimationFrame;else if(typeof a>"u"){var o=0;a=function(E,N){var L=new Date().getTime(),M=Math.max(0,16-(L-o)),G=setTimeout(function(){E(L+M)},M);return o=L+M,G}}}var c=window.cancelAnimationFrame;typeof c>"u"&&(typeof webkitCancelAnimationFrame<"u"?c=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?c=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?c=msCancelAnimationFrame:typeof c>"u"&&(c=function(E){clearTimeout(E)}));var u=window.AudioContext;typeof u>"u"&&(typeof webkitAudioContext<"u"&&(u=webkitAudioContext),typeof mozAudioContext<"u"&&(u=mozAudioContext));var d=window.URL;typeof d>"u"&&typeof webkitURL<"u"&&(d=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var h=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),f=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!f&&!h&&!!navigator.webkitGetUserMedia||b()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);g&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(g=!1,m=!0);var w=window.MediaStream;typeof w>"u"&&typeof webkitMediaStream<"u"&&(w=webkitMediaStream),typeof w<"u"&&typeof w.prototype.stop>"u"&&(w.prototype.stop=function(){this.getTracks().forEach(function(E){E.stop()})});function y(E){var N=1e3,L=["Bytes","KB","MB","GB","TB"];if(E===0)return"0 Bytes";var M=parseInt(Math.floor(Math.log(E)/Math.log(N)),10);return(E/Math.pow(N,M)).toPrecision(3)+" "+L[M]}function v(E,N){if(!E)throw"Blob object is required.";if(!E.type)try{E.type="video/webm"}catch{}var L=(E.type||"video/webm").split("/")[1];if(L.indexOf(";")!==-1&&(L=L.split(";")[0]),N&&N.indexOf(".")!==-1){var M=N.split(".");N=M[0],L=M[1]}var G=(N||Math.round(Math.random()*9999999999)+888888888)+"."+L;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(E,G);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(E,G);var W=document.createElement("a");W.href=d.createObjectURL(E),W.download=G,W.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(W),typeof W.click=="function"?W.click():(W.target="_blank",W.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),d.revokeObjectURL(W.href)}function b(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function k(E,N){return!E||!E.getTracks?[]:E.getTracks().filter(function(L){return L.kind===(N||"audio")})}function C(E,N){"srcObject"in N?N.srcObject=E:"mozSrcObject"in N?N.mozSrcObject=E:N.srcObject=E}function A(E,N){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var L=new EBML.Reader,M=new EBML.Decoder,G=EBML.tools,W=new FileReader;W.onload=function(se){var X=M.decode(this.result);X.forEach(function(Ee){L.read(Ee)}),L.stop();var me=G.makeMetadataSeekable(L.metadatas,L.duration,L.cues),be=this.result.slice(L.metadataSize),ge=new Blob([me,be],{type:"video/webm"});N(ge)},W.readAsArrayBuffer(E)}typeof t<"u"&&(t.invokeSaveAsDialog=v,t.getTracks=k,t.getSeekableBlob=A,t.bytesToSize=y,t.isElectron=b);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var R={};typeof u<"u"?R.AudioContext=u:typeof webkitAudioContext<"u"&&(R.AudioContext=webkitAudioContext),typeof t<"u"&&(t.Storage=R);function O(){if(p||g||h)return!0;var E=navigator.userAgent,N=""+parseFloat(navigator.appVersion),L=parseInt(navigator.appVersion,10),M,G;return(m||f)&&(M=E.indexOf("Chrome"),N=E.substring(M+7)),(G=N.indexOf(";"))!==-1&&(N=N.substring(0,G)),(G=N.indexOf(" "))!==-1&&(N=N.substring(0,G)),L=parseInt(""+N,10),isNaN(L)&&(N=""+parseFloat(navigator.appVersion),L=parseInt(navigator.appVersion,10)),L>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function F(E,N){var ge=this;if(typeof E>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(N=N||{mimeType:"video/webm"},N.type==="audio"){if(k(E,"video").length&&k(E,"audio").length){var L;navigator.mozGetUserMedia?(L=new w,L.addTrack(k(E,"audio")[0])):L=new w(k(E,"audio")),E=L}(!N.mimeType||N.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(N.mimeType=m?"audio/webm":"audio/ogg"),N.mimeType&&N.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(N.mimeType="audio/ogg")}var M=[];this.getArrayOfBlobs=function(){return M},this.record=function(){ge.blob=null,ge.clearRecordedData(),ge.timestamps=[],be=[],M=[];var Ee=N;N.disableLogs||console.log("Passing following config over MediaRecorder API.",Ee),X&&(X=null),m&&!O()&&(Ee="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&Ee.mimeType&&(MediaRecorder.isTypeSupported(Ee.mimeType)||(N.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Ee.mimeType),Ee.mimeType=N.type==="audio"?"audio/webm":"video/webm"));try{X=new MediaRecorder(E,Ee),N.mimeType=Ee.mimeType}catch{X=new MediaRecorder(E)}Ee.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in X&&X.canRecordMimeType(Ee.mimeType)===!1&&(N.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Ee.mimeType)),X.ondataavailable=function(Re){if(Re.data&&be.push("ondataavailable: "+y(Re.data.size)),typeof N.timeSlice=="number"){if(Re.data&&Re.data.size&&(M.push(Re.data),G(),typeof N.ondataavailable=="function")){var je=N.getNativeBlob?Re.data:new Blob([Re.data],{type:W(Ee)});N.ondataavailable(je)}return}if(!Re.data||!Re.data.size||Re.data.size<100||ge.blob){ge.recordingCallback&&(ge.recordingCallback(new Blob([],{type:W(Ee)})),ge.recordingCallback=null);return}ge.blob=N.getNativeBlob?Re.data:new Blob([Re.data],{type:W(Ee)}),ge.recordingCallback&&(ge.recordingCallback(ge.blob),ge.recordingCallback=null)},X.onstart=function(){be.push("started")},X.onpause=function(){be.push("paused")},X.onresume=function(){be.push("resumed")},X.onstop=function(){be.push("stopped")},X.onerror=function(Re){Re&&(Re.name||(Re.name="UnknownError"),be.push("error: "+Re),N.disableLogs||(Re.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",Re):Re.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",Ee.mimeType,") is not supported.",Re):Re.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",Re):Re.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",Re):Re.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",Re):Re.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",Re):Re.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",Re):console.error("MediaRecorder Error",Re)),function(je){if(!ge.manuallyStopped&&X&&X.state==="inactive"){delete N.timeslice,X.start(10*60*1e3);return}setTimeout(je,1e3)}(),X.state!=="inactive"&&X.state!=="stopped"&&X.stop())},typeof N.timeSlice=="number"?(G(),X.start(N.timeSlice)):X.start(36e5),N.initCallback&&N.initCallback()},this.timestamps=[];function G(){ge.timestamps.push(new Date().getTime()),typeof N.onTimeStamp=="function"&&N.onTimeStamp(ge.timestamps[ge.timestamps.length-1],ge.timestamps)}function W(Ee){return X&&X.mimeType?X.mimeType:Ee.mimeType||"video/webm"}this.stop=function(Ee){Ee=Ee||function(){},ge.manuallyStopped=!0,X&&(this.recordingCallback=Ee,X.state==="recording"&&X.stop(),typeof N.timeSlice=="number"&&setTimeout(function(){ge.blob=new Blob(M,{type:W(N)}),ge.recordingCallback(ge.blob)},100))},this.pause=function(){X&&X.state==="recording"&&X.pause()},this.resume=function(){X&&X.state==="paused"&&X.resume()},this.clearRecordedData=function(){X&&X.state==="recording"&&ge.stop(se),se()};function se(){M=[],X=null,ge.timestamps=[]}var X;this.getInternalRecorder=function(){return X};function me(){if("active"in E){if(!E.active)return!1}else if("ended"in E&&E.ended)return!1;return!0}this.blob=null,this.getState=function(){return X&&X.state||"inactive"};var be=[];this.getAllStates=function(){return be},typeof N.checkForInactiveTracks>"u"&&(N.checkForInactiveTracks=!1);var ge=this;(function Ee(){if(!(!X||N.checkForInactiveTracks===!1)){if(me()===!1){N.disableLogs||console.log("MediaStream seems stopped."),ge.stop();return}setTimeout(Ee,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MediaStreamRecorder=F);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function j(E,N){if(!k(E,"audio").length)throw"Your stream has no audio tracks.";N=N||{};var L=this,M=[],G=[],W=!1,se=0,X,me=2,be=N.desiredSampRate;N.leftChannel===!0&&(me=1),N.numberOfAudioChannels===1&&(me=1),(!me||me<1)&&(me=2),N.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+me),typeof N.checkForInactiveTracks>"u"&&(N.checkForInactiveTracks=!0);function ge(){if(N.checkForInactiveTracks===!1)return!0;if("active"in E){if(!E.active)return!1}else if("ended"in E&&E.ended)return!1;return!0}this.record=function(){if(ge()===!1)throw"Please make sure MediaStream is active.";Je(),xe=Ne=!1,W=!0,typeof N.timeSlice<"u"&&tr()};function Ee(Yt,ae){function fe(Ge,kt){var ce=Ge.numberOfAudioChannels,pe=Ge.leftBuffers.slice(0),Ae=Ge.rightBuffers.slice(0),$e=Ge.sampleRate,pt=Ge.internalInterleavedLength,Xt=Ge.desiredSampRate;ce===2&&(pe=at(pe,pt),Ae=at(Ae,pt),Xt&&(pe=vr(pe,Xt,$e),Ae=vr(Ae,Xt,$e))),ce===1&&(pe=at(pe,pt),Xt&&(pe=vr(pe,Xt,$e))),Xt&&($e=Xt);function vr(Zr,qn,I){var U=Math.round(Zr.length*(qn/I)),B=[],S=Number((Zr.length-1)/(U-1));B[0]=Zr[0];for(var K=1;K<U-1;K++){var he=K*S,ve=Number(Math.floor(he)).toFixed(),Pe=Number(Math.ceil(he)).toFixed(),Ke=he-ve;B[K]=Wt(Zr[ve],Zr[Pe],Ke)}return B[U-1]=Zr[Zr.length-1],B}function Wt(Zr,qn,I){return Zr+(qn-Zr)*I}function at(Zr,qn){for(var I=new Float64Array(qn),U=0,B=Zr.length,S=0;S<B;S++){var K=Zr[S];I.set(K,U),U+=K.length}return I}function ct(Zr,qn){for(var I=Zr.length+qn.length,U=new Float64Array(I),B=0,S=0;S<I;)U[S++]=Zr[B],U[S++]=qn[B],B++;return U}function yt(Zr,qn,I){for(var U=I.length,B=0;B<U;B++)Zr.setUint8(qn+B,I.charCodeAt(B))}var _t;ce===2&&(_t=ct(pe,Ae)),ce===1&&(_t=pe);var xr=_t.length,kr=44+xr*2,Mr=new ArrayBuffer(kr),_r=new DataView(Mr);yt(_r,0,"RIFF"),_r.setUint32(4,36+xr*2,!0),yt(_r,8,"WAVE"),yt(_r,12,"fmt "),_r.setUint32(16,16,!0),_r.setUint16(20,1,!0),_r.setUint16(22,ce,!0),_r.setUint32(24,$e,!0),_r.setUint32(28,$e*ce*2,!0),_r.setUint16(32,ce*2,!0),_r.setUint16(34,16,!0),yt(_r,36,"data"),_r.setUint32(40,xr*2,!0);for(var Ci=xr,wa=44,jo=1,ii=0;ii<Ci;ii++)_r.setInt16(wa,_t[ii]*(32767*jo),!0),wa+=2;if(kt)return kt({buffer:Mr,view:_r});postMessage({buffer:Mr,view:_r})}if(Yt.noWorker){fe(Yt,function(Ge){ae(Ge.buffer,Ge.view)});return}var Le=Re(fe);Le.onmessage=function(Ge){ae(Ge.data.buffer,Ge.data.view),d.revokeObjectURL(Le.workerURL),Le.terminate()},Le.postMessage(Yt)}function Re(Yt){var ae=d.createObjectURL(new Blob([Yt.toString(),";this.onmessage =  function (eee) {"+Yt.name+"(eee.data);}"],{type:"application/javascript"})),fe=new Worker(ae);return fe.workerURL=ae,fe}this.stop=function(Yt){Yt=Yt||function(){},W=!1,Ee({desiredSampRate:be,sampleRate:we,numberOfAudioChannels:me,internalInterleavedLength:se,leftBuffers:M,rightBuffers:me===1?[]:G,noWorker:N.noWorker},function(ae,fe){L.blob=new Blob([fe],{type:"audio/wav"}),L.buffer=new ArrayBuffer(fe.buffer.byteLength),L.view=fe,L.sampleRate=be||we,L.bufferSize=He,L.length=se,xe=!1,Yt&&Yt(L.blob)})},typeof t.Storage>"u"&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!t.Storage.AudioContextConstructor||t.Storage.AudioContextConstructor.state==="closed")&&(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var je=t.Storage.AudioContextConstructor,Ie=je.createMediaStreamSource(E),Ve=[0,256,512,1024,2048,4096,8192,16384],He=typeof N.bufferSize>"u"?4096:N.bufferSize;if(Ve.indexOf(He)===-1&&(N.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(Ve,null,"	"))),je.createJavaScriptNode)X=je.createJavaScriptNode(He,me,me);else if(je.createScriptProcessor)X=je.createScriptProcessor(He,me,me);else throw"WebAudio API has no support on this browser.";Ie.connect(X),N.bufferSize||(He=X.bufferSize);var we=typeof N.sampleRate<"u"?N.sampleRate:je.sampleRate||44100;(we<22050||we>96e3)&&(N.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),N.disableLogs||N.desiredSampRate&&console.log("Desired sample-rate: "+N.desiredSampRate);var Ne=!1;this.pause=function(){Ne=!0},this.resume=function(){if(ge()===!1)throw"Please make sure MediaStream is active.";if(!W){N.disableLogs||console.log("Seems recording has been restarted."),this.record();return}Ne=!1},this.clearRecordedData=function(){N.checkForInactiveTracks=!1,W&&this.stop(oe),oe()};function Je(){M=[],G=[],se=0,xe=!1,W=!1,Ne=!1,je=null,L.leftchannel=M,L.rightchannel=G,L.numberOfAudioChannels=me,L.desiredSampRate=be,L.sampleRate=we,L.recordingLength=se,nt={left:[],right:[],recordingLength:0}}function oe(){X&&(X.onaudioprocess=null,X.disconnect(),X=null),Ie&&(Ie.disconnect(),Ie=null),Je()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var xe=!1;function rt(Yt){if(!Ne){if(ge()===!1&&(N.disableLogs||console.log("MediaStream seems stopped."),X.disconnect(),W=!1),!W){Ie&&(Ie.disconnect(),Ie=null);return}xe||(xe=!0,N.onAudioProcessStarted&&N.onAudioProcessStarted(),N.initCallback&&N.initCallback());var ae=Yt.inputBuffer.getChannelData(0),fe=new Float32Array(ae);if(M.push(fe),me===2){var Le=Yt.inputBuffer.getChannelData(1),Ge=new Float32Array(Le);G.push(Ge)}se+=He,L.recordingLength=se,typeof N.timeSlice<"u"&&(nt.recordingLength+=He,nt.left.push(fe),me===2&&nt.right.push(Ge))}}X.onaudioprocess=rt,je.createMediaStreamDestination?X.connect(je.createMediaStreamDestination()):X.connect(je.destination),this.leftchannel=M,this.rightchannel=G,this.numberOfAudioChannels=me,this.desiredSampRate=be,this.sampleRate=we,L.recordingLength=se;var nt={left:[],right:[],recordingLength:0};function tr(){!W||typeof N.ondataavailable!="function"||typeof N.timeSlice>"u"||(nt.left.length?(Ee({desiredSampRate:be,sampleRate:we,numberOfAudioChannels:me,internalInterleavedLength:nt.recordingLength,leftBuffers:nt.left,rightBuffers:me===1?[]:nt.right},function(Yt,ae){var fe=new Blob([ae],{type:"audio/wav"});N.ondataavailable(fe),setTimeout(tr,N.timeSlice)}),nt={left:[],right:[],recordingLength:0}):setTimeout(tr,N.timeSlice))}}typeof t<"u"&&(t.StereoAudioRecorder=j);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function D(E,N){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";N=N||{},N.frameInterval||(N.frameInterval=10);var L=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(Ve){Ve in document.createElement("canvas")&&(L=!0)});var M=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,G=50,W=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);M&&W&&W[2]&&(G=parseInt(W[2],10)),M&&G<52&&(L=!1),N.useWhammyRecorder&&(L=!1);var se,X;if(L)if(N.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),E instanceof HTMLCanvasElement)se=E;else if(E instanceof CanvasRenderingContext2D)se=E.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(N.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var me;this.record=function(){if(me=!0,L&&!N.useWhammyRecorder){var Ve;"captureStream"in se?Ve=se.captureStream(25):"mozCaptureStream"in se?Ve=se.mozCaptureStream(25):"webkitCaptureStream"in se&&(Ve=se.webkitCaptureStream(25));try{var He=new w;He.addTrack(k(Ve,"video")[0]),Ve=He}catch{}if(!Ve)throw"captureStream API are NOT available.";X=new F(Ve,{mimeType:N.mimeType||"video/webm"}),X.record()}else Ie.frames=[],je=new Date().getTime(),Re();N.initCallback&&N.initCallback()},this.getWebPImages=function(Ve){if(E.nodeName.toLowerCase()!=="canvas"){Ve();return}var He=Ie.frames.length;Ie.frames.forEach(function(we,Ne){var Je=He-Ne;N.disableLogs||console.log(Je+"/"+He+" frames remaining"),N.onEncodingCallback&&N.onEncodingCallback(Je,He);var oe=we.image.toDataURL("image/webp",1);Ie.frames[Ne].image=oe}),N.disableLogs||console.log("Generating WebM"),Ve()},this.stop=function(Ve){me=!1;var He=this;if(L&&X){X.stop(Ve);return}this.getWebPImages(function(){Ie.compile(function(we){N.disableLogs||console.log("Recording finished!"),He.blob=we,He.blob.forEach&&(He.blob=new Blob([],{type:"video/webm"})),Ve&&Ve(He.blob),Ie.frames=[]})})};var be=!1;this.pause=function(){if(be=!0,X instanceof F){X.pause();return}},this.resume=function(){if(be=!1,X instanceof F){X.resume();return}me||this.record()},this.clearRecordedData=function(){me&&this.stop(ge),ge()};function ge(){Ie.frames=[],me=!1,be=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function Ee(){var Ve=document.createElement("canvas"),He=Ve.getContext("2d");return Ve.width=E.width,Ve.height=E.height,He.drawImage(E,0,0),Ve}function Re(){if(be)return je=new Date().getTime(),setTimeout(Re,500);if(E.nodeName.toLowerCase()==="canvas"){var Ve=new Date().getTime()-je;je=new Date().getTime(),Ie.frames.push({image:Ee(),duration:Ve}),me&&setTimeout(Re,N.frameInterval);return}html2canvas(E,{grabMouse:typeof N.showMousePointer>"u"||N.showMousePointer,onrendered:function(He){var we=new Date().getTime()-je;if(!we)return setTimeout(Re,N.frameInterval);je=new Date().getTime(),Ie.frames.push({image:He.toDataURL("image/webp",1),duration:we}),me&&setTimeout(Re,N.frameInterval)}})}var je=new Date().getTime(),Ie=new Y.Video(100)}typeof t<"u"&&(t.CanvasRecorder=D);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function z(E,N){N=N||{},N.frameInterval||(N.frameInterval=10),N.disableLogs||console.log("Using frames-interval:",N.frameInterval),this.record=function(){N.width||(N.width=320),N.height||(N.height=240),N.video||(N.video={width:N.width,height:N.height}),N.canvas||(N.canvas={width:N.width,height:N.height}),me.width=N.canvas.width||320,me.height=N.canvas.height||240,be=me.getContext("2d"),N.video&&N.video instanceof HTMLVideoElement?(ge=N.video.cloneNode(),N.initCallback&&N.initCallback()):(ge=document.createElement("video"),C(E,ge),ge.onloadedmetadata=function(){N.initCallback&&N.initCallback()},ge.width=N.video.width,ge.height=N.video.height),ge.muted=!0,ge.play(),Ee=new Date().getTime(),Re=new Y.Video,N.disableLogs||(console.log("canvas resolutions",me.width,"*",me.height),console.log("video width/height",ge.width||me.width,"*",ge.height||me.height)),L(N.frameInterval)};function L(je){je=typeof je<"u"?je:10;var Ie=new Date().getTime()-Ee;if(!Ie)return setTimeout(L,je,je);if(se)return Ee=new Date().getTime(),setTimeout(L,100);Ee=new Date().getTime(),ge.paused&&ge.play(),be.drawImage(ge,0,0,me.width,me.height),Re.frames.push({duration:Ie,image:me.toDataURL("image/webp")}),W||setTimeout(L,je,je)}function M(je){var Ie=-1,Ve=je.length;(function He(){if(Ie++,Ie===Ve){je.callback();return}setTimeout(function(){je.functionToLoop(He,Ie)},1)})()}function G(je,Ie,Ve,He,we){var Ne=document.createElement("canvas");Ne.width=me.width,Ne.height=me.height;var Je=Ne.getContext("2d"),oe=[],xe=je.length,rt={r:0,g:0,b:0},nt=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),tr=0,Yt=0,ae=!1;M({length:xe,functionToLoop:function(fe,Le){var Ge,kt,ce,pe=function(){!ae&&ce-Ge<=ce*Yt||(ae=!0,oe.push(je[Le])),fe()};if(ae)pe();else{var Ae=new Image;Ae.onload=function(){Je.drawImage(Ae,0,0,me.width,me.height);var $e=Je.getImageData(0,0,me.width,me.height);Ge=0,kt=$e.data.length,ce=$e.data.length/4;for(var pt=0;pt<kt;pt+=4){var Xt={r:$e.data[pt],g:$e.data[pt+1],b:$e.data[pt+2]},vr=Math.sqrt(Math.pow(Xt.r-rt.r,2)+Math.pow(Xt.g-rt.g,2)+Math.pow(Xt.b-rt.b,2));vr<=nt*tr&&Ge++}pe()},Ae.src=je[Le].image}},callback:function(){oe=oe.concat(je.slice(xe)),oe.length<=0&&oe.push(je[je.length-1]),we(oe)}})}var W=!1;this.stop=function(je){je=je||function(){},W=!0;var Ie=this;setTimeout(function(){G(Re.frames,-1,null,null,function(Ve){Re.frames=Ve,N.advertisement&&N.advertisement.length&&(Re.frames=N.advertisement.concat(Re.frames)),Re.compile(function(He){Ie.blob=He,Ie.blob.forEach&&(Ie.blob=new Blob([],{type:"video/webm"})),je&&je(Ie.blob)})})},10)};var se=!1;this.pause=function(){se=!0},this.resume=function(){se=!1,W&&this.record()},this.clearRecordedData=function(){W||this.stop(X),X()};function X(){Re.frames=[],W=!0,se=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var me=document.createElement("canvas"),be=me.getContext("2d"),ge,Ee,Re}typeof t<"u"&&(t.WhammyRecorder=z);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Y=function(){function E(M){this.frames=[],this.duration=M||1,this.quality=.8}E.prototype.add=function(M,G){if("canvas"in M&&(M=M.canvas),"toDataURL"in M&&(M=M.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(M))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:M,duration:G||this.duration})};function N(M){var G=d.createObjectURL(new Blob([M.toString(),"this.onmessage =  function (eee) {"+M.name+"(eee.data);}"],{type:"application/javascript"})),W=new Worker(G);return d.revokeObjectURL(G),W}function L(M){function G(we){var Ne=se(we);if(!Ne)return[];for(var Je=3e4,oe=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:Ve(Ne.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Ne.width,id:176},{data:Ne.height,id:186}]}]}]}]}],xe=0,rt=0;xe<we.length;){var nt=[],tr=0;do nt.push(we[xe]),tr+=we[xe].duration,xe++;while(xe<we.length&&tr<Je);var Yt=0,ae={id:524531317,data:W(rt,Yt,nt)};oe[1].data.push(ae),rt+=tr}return ge(oe)}function W(we,Ne,Je){return[{data:we,id:231}].concat(Je.map(function(oe){var xe=Ee({frame:oe.data.slice(4),trackNum:1,timecode:Math.round(Ne)});return Ne+=oe.duration,{data:xe,id:163}}))}function se(we){if(!we[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var Ne=we[0].width,Je=we[0].height,oe=we[0].duration,xe=1;xe<we.length;xe++)oe+=we[xe].duration;return{duration:oe,width:Ne,height:Je}}function X(we){for(var Ne=[];we>0;)Ne.push(we&255),we=we>>8;return new Uint8Array(Ne.reverse())}function me(we){return new Uint8Array(we.split("").map(function(Ne){return Ne.charCodeAt(0)}))}function be(we){var Ne=[],Je=we.length%8?new Array(9-we.length%8).join("0"):"";we=Je+we;for(var oe=0;oe<we.length;oe+=8)Ne.push(parseInt(we.substr(oe,8),2));return new Uint8Array(Ne)}function ge(we){for(var Ne=[],Je=0;Je<we.length;Je++){var oe=we[Je].data;typeof oe=="object"&&(oe=ge(oe)),typeof oe=="number"&&(oe=be(oe.toString(2))),typeof oe=="string"&&(oe=me(oe));var xe=oe.size||oe.byteLength||oe.length,rt=Math.ceil(Math.ceil(Math.log(xe)/Math.log(2))/8),nt=xe.toString(2),tr=new Array(rt*7+7+1-nt.length).join("0")+nt,Yt=new Array(rt).join("0")+"1"+tr;Ne.push(X(we[Je].id)),Ne.push(be(Yt)),Ne.push(oe)}return new Blob(Ne,{type:"video/webm"})}function Ee(we){var Ne=0;Ne|=128;var Je=[we.trackNum|128,we.timecode>>8,we.timecode&255,Ne].map(function(oe){return String.fromCharCode(oe)}).join("")+we.frame;return Je}function Re(we){for(var Ne=we.RIFF[0].WEBP[0],Je=Ne.indexOf("*"),oe=0,xe=[];oe<4;oe++)xe[oe]=Ne.charCodeAt(Je+3+oe);var rt,nt,tr;return tr=xe[1]<<8|xe[0],rt=tr&16383,tr=xe[3]<<8|xe[2],nt=tr&16383,{width:rt,height:nt,data:Ne,riff:we}}function je(we,Ne){return parseInt(we.substr(Ne+4,4).split("").map(function(Je){var oe=Je.charCodeAt(0).toString(2);return new Array(8-oe.length+1).join("0")+oe}).join(""),2)}function Ie(we){for(var Ne=0,Je={};Ne<we.length;){var oe=we.substr(Ne,4),xe=je(we,Ne),rt=we.substr(Ne+4+4,xe);Ne+=8+xe,Je[oe]=Je[oe]||[],oe==="RIFF"||oe==="LIST"?Je[oe].push(Ie(rt)):Je[oe].push(rt)}return Je}function Ve(we){return[].slice.call(new Uint8Array(new Float64Array([we]).buffer),0).map(function(Ne){return String.fromCharCode(Ne)}).reverse().join("")}var He=new G(M.map(function(we){var Ne=Re(Ie(atob(we.image.slice(23))));return Ne.duration=we.duration,Ne}));postMessage(He)}return E.prototype.compile=function(M){var G=N(L);G.onmessage=function(W){if(W.data.error){console.error(W.data.error);return}M(W.data)},G.postMessage(this.frames)},{Video:E}}();typeof t<"u"&&(t.Whammy=Y);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Q={init:function(){var E=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var N=1,L=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),M,G=indexedDB.open(L,N);function W(X){X.createObjectStore(E.dataStoreName)}function se(){var X=M.transaction([E.dataStoreName],"readwrite");E.videoBlob&&X.objectStore(E.dataStoreName).put(E.videoBlob,"videoBlob"),E.gifBlob&&X.objectStore(E.dataStoreName).put(E.gifBlob,"gifBlob"),E.audioBlob&&X.objectStore(E.dataStoreName).put(E.audioBlob,"audioBlob");function me(be){X.objectStore(E.dataStoreName).get(be).onsuccess=function(ge){E.callback&&E.callback(ge.target.result,be)}}me("audioBlob"),me("videoBlob"),me("gifBlob")}G.onerror=E.onError,G.onsuccess=function(){if(M=G.result,M.onerror=E.onError,M.setVersion)if(M.version!==N){var X=M.setVersion(N);X.onsuccess=function(){W(M),se()}}else se();else se()},G.onupgradeneeded=function(X){W(X.target.result)}},Fetch:function(E){return this.callback=E,this.init(),this},Store:function(E){return this.audioBlob=E.audioBlob,this.videoBlob=E.videoBlob,this.gifBlob=E.gifBlob,this.init(),this},onError:function(E){console.error(JSON.stringify(E,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof t<"u"&&(t.DiskStorage=Q);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function te(E,N){if(typeof GIFEncoder>"u"){var L=document.createElement("script");L.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(L)}N=N||{};var M=E instanceof CanvasRenderingContext2D||E instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(je.record,1e3);return}if(!me){setTimeout(je.record,1e3);return}M||(N.width||(N.width=be.offsetWidth||320),N.height||(N.height=be.offsetHeight||240),N.video||(N.video={width:N.width,height:N.height}),N.canvas||(N.canvas={width:N.width,height:N.height}),se.width=N.canvas.width||320,se.height=N.canvas.height||240,be.width=N.video.width||320,be.height=N.video.height||240),Re=new GIFEncoder,Re.setRepeat(0),Re.setDelay(N.frameRate||200),Re.setQuality(N.quality||10),Re.start(),typeof N.onGifRecordingStarted=="function"&&N.onGifRecordingStarted();function Ie(Ve){if(je.clearedRecordedData!==!0){if(G)return setTimeout(function(){Ie(Ve)},100);ge=a(Ie),typeof Ee===void 0&&(Ee=Ve),!(Ve-Ee<90)&&(!M&&be.paused&&be.play(),M||X.drawImage(be,0,0,se.width,se.height),N.onGifPreview&&N.onGifPreview(se.toDataURL("image/png")),Re.addFrame(X),Ee=Ve)}}ge=a(Ie),N.initCallback&&N.initCallback()},this.stop=function(Ie){Ie=Ie||function(){},ge&&c(ge),this.blob=new Blob([new Uint8Array(Re.stream().bin)],{type:"image/gif"}),Ie(this.blob),Re.stream().bin=[]};var G=!1;this.pause=function(){G=!0},this.resume=function(){G=!1},this.clearRecordedData=function(){je.clearedRecordedData=!0,W()};function W(){Re&&(Re.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var se=document.createElement("canvas"),X=se.getContext("2d");M&&(E instanceof CanvasRenderingContext2D?(X=E,se=X.canvas):E instanceof HTMLCanvasElement&&(X=E.getContext("2d"),se=E));var me=!0;if(!M){var be=document.createElement("video");be.muted=!0,be.autoplay=!0,be.playsInline=!0,me=!1,be.onloadedmetadata=function(){me=!0},C(E,be),be.play()}var ge=null,Ee,Re,je=this}typeof t<"u"&&(t.GifRecorder=te);function Z(E,N){var L="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(oe){typeof t<"u"||oe&&(typeof window<"u"||typeof bn>"u"||(bn.navigator={userAgent:L,getUserMedia:function(){}},bn.console||(bn.console={}),(typeof bn.console.log>"u"||typeof bn.console.error>"u")&&(bn.console.error=bn.console.log=bn.console.log||function(){console.log(arguments)}),typeof document>"u"&&(oe.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var xe={getContext:function(){return xe},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return xe},oe.HTMLVideoElement=function(){}),typeof location>"u"&&(oe.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(oe.screen={width:0,height:0}),typeof be>"u"&&(oe.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),oe.window=bn))})(typeof bn<"u"?bn:null),N=N||"multi-streams-mixer";var M=[],G=!1,W=document.createElement("canvas"),se=W.getContext("2d");W.style.opacity=0,W.style.position="absolute",W.style.zIndex=-1,W.style.top="-1000em",W.style.left="-1000em",W.className=N,(document.body||document.documentElement).appendChild(W),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var X=this,me=window.AudioContext;typeof me>"u"&&(typeof webkitAudioContext<"u"&&(me=webkitAudioContext),typeof mozAudioContext<"u"&&(me=mozAudioContext));var be=window.URL;typeof be>"u"&&typeof webkitURL<"u"&&(be=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var ge=window.MediaStream;typeof ge>"u"&&typeof webkitMediaStream<"u"&&(ge=webkitMediaStream),typeof ge<"u"&&typeof ge.prototype.stop>"u"&&(ge.prototype.stop=function(){this.getTracks().forEach(function(oe){oe.stop()})});var Ee={};typeof me<"u"?Ee.AudioContext=me:typeof webkitAudioContext<"u"&&(Ee.AudioContext=webkitAudioContext);function Re(oe,xe){"srcObject"in xe?xe.srcObject=oe:"mozSrcObject"in xe?xe.mozSrcObject=oe:xe.srcObject=oe}this.startDrawingFrames=function(){je()};function je(){if(!G){var oe=M.length,xe=!1,rt=[];if(M.forEach(function(tr){tr.stream||(tr.stream={}),tr.stream.fullcanvas?xe=tr:rt.push(tr)}),xe)W.width=xe.stream.width,W.height=xe.stream.height;else if(rt.length){W.width=oe>1?rt[0].width*2:rt[0].width;var nt=1;(oe===3||oe===4)&&(nt=2),(oe===5||oe===6)&&(nt=3),(oe===7||oe===8)&&(nt=4),(oe===9||oe===10)&&(nt=5),W.height=rt[0].height*nt}else W.width=X.width||360,W.height=X.height||240;xe&&xe instanceof HTMLVideoElement&&Ie(xe),rt.forEach(function(tr,Yt){Ie(tr,Yt)}),setTimeout(je,X.frameInterval)}}function Ie(oe,xe){if(!G){var rt=0,nt=0,tr=oe.width,Yt=oe.height;xe===1&&(rt=oe.width),xe===2&&(nt=oe.height),xe===3&&(rt=oe.width,nt=oe.height),xe===4&&(nt=oe.height*2),xe===5&&(rt=oe.width,nt=oe.height*2),xe===6&&(nt=oe.height*3),xe===7&&(rt=oe.width,nt=oe.height*3),typeof oe.stream.left<"u"&&(rt=oe.stream.left),typeof oe.stream.top<"u"&&(nt=oe.stream.top),typeof oe.stream.width<"u"&&(tr=oe.stream.width),typeof oe.stream.height<"u"&&(Yt=oe.stream.height),se.drawImage(oe,rt,nt,tr,Yt),typeof oe.stream.onRender=="function"&&oe.stream.onRender(se,rt,nt,tr,Yt,xe)}}function Ve(){G=!1;var oe=He(),xe=we();return xe&&xe.getTracks().filter(function(rt){return rt.kind==="audio"}).forEach(function(rt){oe.addTrack(rt)}),E.forEach(function(rt){rt.fullcanvas}),oe}function He(){Je();var oe;"captureStream"in W?oe=W.captureStream():"mozCaptureStream"in W?oe=W.mozCaptureStream():X.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var xe=new ge;return oe.getTracks().filter(function(rt){return rt.kind==="video"}).forEach(function(rt){xe.addTrack(rt)}),W.stream=xe,xe}function we(){Ee.AudioContextConstructor||(Ee.AudioContextConstructor=new Ee.AudioContext),X.audioContext=Ee.AudioContextConstructor,X.audioSources=[],X.useGainNode===!0&&(X.gainNode=X.audioContext.createGain(),X.gainNode.connect(X.audioContext.destination),X.gainNode.gain.value=0);var oe=0;if(E.forEach(function(xe){if(xe.getTracks().filter(function(nt){return nt.kind==="audio"}).length){oe++;var rt=X.audioContext.createMediaStreamSource(xe);X.useGainNode===!0&&rt.connect(X.gainNode),X.audioSources.push(rt)}}),!!oe)return X.audioDestination=X.audioContext.createMediaStreamDestination(),X.audioSources.forEach(function(xe){xe.connect(X.audioDestination)}),X.audioDestination.stream}function Ne(oe){var xe=document.createElement("video");return Re(oe,xe),xe.className=N,xe.muted=!0,xe.volume=0,xe.width=oe.width||X.width||360,xe.height=oe.height||X.height||240,xe.play(),xe}this.appendStreams=function(oe){if(!oe)throw"First parameter is required.";oe instanceof Array||(oe=[oe]),oe.forEach(function(xe){var rt=new ge;if(xe.getTracks().filter(function(Yt){return Yt.kind==="video"}).length){var nt=Ne(xe);nt.stream=xe,M.push(nt),rt.addTrack(xe.getTracks().filter(function(Yt){return Yt.kind==="video"})[0])}if(xe.getTracks().filter(function(Yt){return Yt.kind==="audio"}).length){var tr=X.audioContext.createMediaStreamSource(xe);X.audioDestination=X.audioContext.createMediaStreamDestination(),tr.connect(X.audioDestination),rt.addTrack(X.audioDestination.stream.getTracks().filter(function(Yt){return Yt.kind==="audio"})[0])}E.push(rt)})},this.releaseStreams=function(){M=[],G=!0,X.gainNode&&(X.gainNode.disconnect(),X.gainNode=null),X.audioSources.length&&(X.audioSources.forEach(function(oe){oe.disconnect()}),X.audioSources=[]),X.audioDestination&&(X.audioDestination.disconnect(),X.audioDestination=null),X.audioContext&&X.audioContext.close(),X.audioContext=null,se.clearRect(0,0,W.width,W.height),W.stream&&(W.stream.stop(),W.stream=null)},this.resetVideoStreams=function(oe){oe&&!(oe instanceof Array)&&(oe=[oe]),Je(oe)};function Je(oe){M=[],oe=oe||E,oe.forEach(function(xe){if(xe.getTracks().filter(function(nt){return nt.kind==="video"}).length){var rt=Ne(xe);rt.stream=xe,M.push(rt)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=Ve}typeof t>"u"&&(e.exports=Z);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function J(E,N){E=E||[];var L=this,M,G;N=N||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},N.frameInterval||(N.frameInterval=10),N.video||(N.video={}),N.video.width||(N.video.width=360),N.video.height||(N.video.height=240),this.record=function(){M=new Z(E,N.elementClass||"multi-streams-mixer"),W().length&&(M.frameInterval=N.frameInterval||10,M.width=N.video.width||360,M.height=N.video.height||240,M.startDrawingFrames()),N.previewStream&&typeof N.previewStream=="function"&&N.previewStream(M.getMixedStream()),G=new F(M.getMixedStream(),N),G.record()};function W(){var se=[];return E.forEach(function(X){k(X,"video").forEach(function(me){se.push(me)})}),se}this.stop=function(se){G&&G.stop(function(X){L.blob=X,se(X),L.clearRecordedData()})},this.pause=function(){G&&G.pause()},this.resume=function(){G&&G.resume()},this.clearRecordedData=function(){G&&(G.clearRecordedData(),G=null),M&&(M.releaseStreams(),M=null)},this.addStreams=function(se){if(!se)throw"First parameter is required.";se instanceof Array||(se=[se]),E.concat(se),!(!G||!M)&&(M.appendStreams(se),N.previewStream&&typeof N.previewStream=="function"&&N.previewStream(M.getMixedStream()))},this.resetVideoStreams=function(se){M&&(se&&!(se instanceof Array)&&(se=[se]),M.resetVideoStreams(se))},this.getMixer=function(){return M},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MultiStreamRecorder=J);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function V(E,N){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof E>"u")throw'First argument "MediaStream" is required.';var L=this;L.recordRTC=new t(E,N),this.startRecording=function(){return new Promise(function(M,G){try{L.recordRTC.startRecording(),M()}catch(W){G(W)}})},this.stopRecording=function(){return new Promise(function(M,G){try{L.recordRTC.stopRecording(function(W){if(L.blob=L.recordRTC.getBlob(),!L.blob||!L.blob.size){G("Empty blob.",L.blob);return}M(W)})}catch(W){G(W)}})},this.pauseRecording=function(){return new Promise(function(M,G){try{L.recordRTC.pauseRecording(),M()}catch(W){G(W)}})},this.resumeRecording=function(){return new Promise(function(M,G){try{L.recordRTC.resumeRecording(),M()}catch(W){G(W)}})},this.getDataURL=function(M){return new Promise(function(G,W){try{L.recordRTC.getDataURL(function(se){G(se)})}catch(se){W(se)}})},this.getBlob=function(){return new Promise(function(M,G){try{M(L.recordRTC.getBlob())}catch(W){G(W)}})},this.getInternalRecorder=function(){return new Promise(function(M,G){try{M(L.recordRTC.getInternalRecorder())}catch(W){G(W)}})},this.reset=function(){return new Promise(function(M,G){try{M(L.recordRTC.reset())}catch(W){G(W)}})},this.destroy=function(){return new Promise(function(M,G){try{M(L.recordRTC.destroy())}catch(W){G(W)}})},this.getState=function(){return new Promise(function(M,G){try{M(L.recordRTC.getState())}catch(W){G(W)}})},this.blob=null,this.version="5.6.2"}typeof t<"u"&&(t.RecordRTCPromisesHandler=V);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function re(E,N){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),N=N||{},N.width=N.width||640,N.height=N.height||480,N.frameRate=N.frameRate||30,N.bitrate=N.bitrate||1200,N.realtime=N.realtime||!0;var L;function M(){return new ReadableStream({start:function(be){var ge=document.createElement("canvas"),Ee=document.createElement("video"),Re=!0;Ee.srcObject=E,Ee.muted=!0,Ee.height=N.height,Ee.width=N.width,Ee.volume=0,Ee.onplaying=function(){ge.width=N.width,ge.height=N.height;var je=ge.getContext("2d"),Ie=1e3/N.frameRate,Ve=setInterval(function(){if(L&&(clearInterval(Ve),be.close()),Re&&(Re=!1,N.onVideoProcessStarted&&N.onVideoProcessStarted()),je.drawImage(Ee,0,0),be._controlledReadableStream.state!=="closed")try{be.enqueue(je.getImageData(0,0,N.width,N.height))}catch{}},Ie)},Ee.play()}})}var G;function W(be,ge){if(!N.workerPath&&!ge){L=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(Re){Re.arrayBuffer().then(function(je){W(be,je)})});return}if(!N.workerPath&&ge instanceof ArrayBuffer){var Ee=new Blob([ge],{type:"text/javascript"});N.workerPath=d.createObjectURL(Ee)}N.workerPath||console.error("workerPath parameter is missing."),G=new Worker(N.workerPath),G.postMessage(N.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),G.addEventListener("message",function(Re){Re.data==="READY"?(G.postMessage({width:N.width,height:N.height,bitrate:N.bitrate||1200,timebaseDen:N.frameRate||30,realtime:N.realtime}),M().pipeTo(new WritableStream({write:function(je){if(L){console.error("Got image, but recorder is finished!");return}G.postMessage(je.data.buffer,[je.data.buffer])}}))):Re.data&&(se||me.push(Re.data))})}this.record=function(){me=[],se=!1,this.blob=null,W(E),typeof N.initCallback=="function"&&N.initCallback()};var se;this.pause=function(){se=!0},this.resume=function(){se=!1};function X(be){if(!G){be&&be();return}G.addEventListener("message",function(ge){ge.data===null&&(G.terminate(),G=null,be&&be())}),G.postMessage(null)}var me=[];this.stop=function(be){L=!0;var ge=this;X(function(){ge.blob=new Blob(me,{type:"video/webm"}),be(ge.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){me=[],se=!1,this.blob=null},this.blob=null}typeof t<"u"&&(t.WebAssemblyRecorder=re)})(CB);var Kue=CB.exports;const RT=Fg(Kue),Sg=x.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Sg.displayName="Textarea";function Yue({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Zue({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,o=as(r),c=x.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[i,e,s,o]);return[a,c]}function Zue({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),i=as(t);return x.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function ZE(e){const t=e+"CollectionProvider",[r,n]=pl(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:m,children:g}=p,w=Ls.useRef(null),y=Ls.useRef(new Map).current;return l.jsx(s,{scope:m,itemMap:y,collectionRef:w,children:g})};a.displayName=t;const o=e+"CollectionSlot",c=Ls.forwardRef((p,m)=>{const{scope:g,children:w}=p,y=i(o,g),v=Xr(m,y.collectionRef);return l.jsx(Iu,{ref:v,children:w})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Ls.forwardRef((p,m)=>{const{scope:g,children:w,...y}=p,v=Ls.useRef(null),b=Xr(m,v),k=i(u,g);return Ls.useEffect(()=>(k.itemMap.set(v,{ref:v,...y}),()=>void k.itemMap.delete(v))),l.jsx(Iu,{[d]:"",ref:b,children:w})});h.displayName=u;function f(p){const m=i(e+"CollectionConsumer",p);return Ls.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((k,C)=>y.indexOf(k.ref.current)-y.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},f,n]}var Que=x.createContext(void 0);function QE(e){const t=x.useContext(Que);return e||t||"ltr"}function Xue(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var h1=e=>{const{present:t,children:r}=e,n=Jue(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Xr(n.ref,ede(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};h1.displayName="Presence";function Jue(e){const[t,r]=x.useState(),n=x.useRef({}),s=x.useRef(e),i=x.useRef("none"),a=e?"mounted":"unmounted",[o,c]=Xue(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=vy(n.current);i.current=o==="mounted"?u:"none"},[o]),os(()=>{const u=n.current,d=s.current;if(d!==e){const f=i.current,p=vy(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),os(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=vy(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=p=>{p.target===t&&(i.current=vy(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function vy(e){return(e==null?void 0:e.animationName)||"none"}function ede(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tde({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=rde({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,o=as(r),c=x.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[i,e,s,o]);return[a,c]}function rde({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),i=as(t);return x.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var v5="rovingFocusGroup.onEntryFocus",nde={bubbles:!1,cancelable:!0},E2="RovingFocusGroup",[fS,AB,sde]=ZE(E2),[ide,TB]=pl(E2,[sde]),[ade,ode]=ide(E2),RB=x.forwardRef((e,t)=>l.jsx(fS.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(fS.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(lde,{...e,ref:t})})}));RB.displayName=E2;var lde=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=x.useRef(null),p=Xr(t,f),m=QE(i),[g=null,w]=tde({prop:a,defaultProp:o,onChange:c}),[y,v]=x.useState(!1),b=as(u),k=AB(r),C=x.useRef(!1),[A,R]=x.useState(0);return x.useEffect(()=>{const O=f.current;if(O)return O.addEventListener(v5,b),()=>O.removeEventListener(v5,b)},[b]),l.jsx(ade,{scope:r,orientation:n,dir:m,loop:s,currentTabStopId:g,onItemFocus:x.useCallback(O=>w(O),[w]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>R(O=>O-1),[]),children:l.jsx(Ur.div,{tabIndex:y||A===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Dt(e.onMouseDown,()=>{C.current=!0}),onFocus:Dt(e.onFocus,O=>{const F=!C.current;if(O.target===O.currentTarget&&F&&!y){const j=new CustomEvent(v5,nde);if(O.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=k().filter(Z=>Z.focusable),z=D.find(Z=>Z.active),Y=D.find(Z=>Z.id===g),te=[z,Y,...D].filter(Boolean).map(Z=>Z.ref.current);MB(te,d)}}C.current=!1}),onBlur:Dt(e.onBlur,()=>v(!1))})})}),IB="RovingFocusGroupItem",jB=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...a}=e,o=Gl(),c=i||o,u=ode(IB,r),d=u.currentTabStopId===c,h=AB(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return x.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),l.jsx(fS.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(Ur.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:Dt(e.onMouseDown,m=>{n?u.onItemFocus(c):m.preventDefault()}),onFocus:Dt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Dt(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=dde(m,u.orientation,u.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=h().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(m.currentTarget);y=u.loop?hde(y,v+1):y.slice(v+1)}setTimeout(()=>MB(y))}})})})});jB.displayName=IB;var cde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ude(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dde(e,t,r){const n=ude(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cde[n]}function MB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function hde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fde=RB,pde=jB,pS=["Enter"," "],mde=["ArrowDown","PageUp","Home"],PB=["ArrowUp","PageDown","End"],gde=[...mde,...PB],yde={ltr:[...pS,"ArrowRight"],rtl:[...pS,"ArrowLeft"]},vde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},f1="Menu",[_g,xde,bde]=ZE(f1),[Rh,OB]=pl(f1,[bde,qp,TB]),N2=qp(),DB=TB(),[wde,Ih]=Rh(f1),[kde,p1]=Rh(f1),LB=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,o=N2(t),[c,u]=x.useState(null),d=x.useRef(!1),h=as(i),f=QE(s);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),l.jsx(dO,{...o,children:l.jsx(wde,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(kde,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:n})})})};LB.displayName=f1;var Sde="MenuAnchor",XE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=N2(r);return l.jsx(o_,{...s,...n,ref:t})});XE.displayName=Sde;var JE="MenuPortal",[_de,$B]=Rh(JE,{forceMount:void 0}),FB=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Ih(JE,t);return l.jsx(_de,{scope:t,forceMount:r,children:l.jsx(h1,{present:r||i.open,children:l.jsx(fw,{asChild:!0,container:s,children:n})})})};FB.displayName=JE;var Ba="MenuContent",[Ede,eN]=Rh(Ba),BB=x.forwardRef((e,t)=>{const r=$B(Ba,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ih(Ba,e.__scopeMenu),a=p1(Ba,e.__scopeMenu);return l.jsx(_g.Provider,{scope:e.__scopeMenu,children:l.jsx(h1,{present:n||i.open,children:l.jsx(_g.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(Nde,{...s,ref:t}):l.jsx(Cde,{...s,ref:t})})})})}),Nde=x.forwardRef((e,t)=>{const r=Ih(Ba,e.__scopeMenu),n=x.useRef(null),s=Xr(t,n);return x.useEffect(()=>{const i=n.current;if(i)return wE(i)},[]),l.jsx(tN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Dt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cde=x.forwardRef((e,t)=>{const r=Ih(Ba,e.__scopeMenu);return l.jsx(tN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),tN=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m,...g}=e,w=Ih(Ba,r),y=p1(Ba,r),v=N2(r),b=DB(r),k=xde(r),[C,A]=x.useState(null),R=x.useRef(null),O=Xr(t,R,w.onContentChange),F=x.useRef(0),j=x.useRef(""),D=x.useRef(0),z=x.useRef(null),Y=x.useRef("right"),Q=x.useRef(0),te=m?v2:x.Fragment,Z=m?{as:Iu,allowPinchZoom:!0}:void 0,J=re=>{var X,me;const E=j.current+re,N=k().filter(be=>!be.disabled),L=document.activeElement,M=(X=N.find(be=>be.ref.current===L))==null?void 0:X.textValue,G=N.map(be=>be.textValue),W=Fde(G,E,M),se=(me=N.find(be=>be.textValue===W))==null?void 0:me.ref.current;(function be(ge){j.current=ge,window.clearTimeout(F.current),ge!==""&&(F.current=window.setTimeout(()=>be(""),1e3))})(E),se&&setTimeout(()=>se.focus())};x.useEffect(()=>()=>window.clearTimeout(F.current),[]),bE();const V=x.useCallback(re=>{var N,L;return Y.current===((N=z.current)==null?void 0:N.side)&&Ude(re,(L=z.current)==null?void 0:L.area)},[]);return l.jsx(Ede,{scope:r,searchRef:j,onItemEnter:x.useCallback(re=>{V(re)&&re.preventDefault()},[V]),onItemLeave:x.useCallback(re=>{var E;V(re)||((E=R.current)==null||E.focus(),A(null))},[V]),onTriggerLeave:x.useCallback(re=>{V(re)&&re.preventDefault()},[V]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback(re=>{z.current=re},[]),children:l.jsx(te,{...Z,children:l.jsx(m2,{asChild:!0,trapped:s,onMountAutoFocus:Dt(i,re=>{var E;re.preventDefault(),(E=R.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(qg,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:l.jsx(fde,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:Dt(c,re=>{y.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(l_,{role:"menu","aria-orientation":"vertical","data-state":rU(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:O,style:{outline:"none",...g.style},onKeyDown:Dt(g.onKeyDown,re=>{const N=re.target.closest("[data-radix-menu-content]")===re.currentTarget,L=re.ctrlKey||re.altKey||re.metaKey,M=re.key.length===1;N&&(re.key==="Tab"&&re.preventDefault(),!L&&M&&J(re.key));const G=R.current;if(re.target!==G||!gde.includes(re.key))return;re.preventDefault();const se=k().filter(X=>!X.disabled).map(X=>X.ref.current);PB.includes(re.key)&&se.reverse(),Lde(se)}),onBlur:Dt(e.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(F.current),j.current="")}),onPointerMove:Dt(e.onPointerMove,Eg(re=>{const E=re.target,N=Q.current!==re.clientX;if(re.currentTarget.contains(E)&&N){const L=re.clientX>Q.current?"right":"left";Y.current=L,Q.current=re.clientX}}))})})})})})})});BB.displayName=Ba;var Ade="MenuGroup",rN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Ur.div,{role:"group",...n,ref:t})});rN.displayName=Ade;var Tde="MenuLabel",UB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Ur.div,{...n,ref:t})});UB.displayName=Tde;var Sb="MenuItem",IT="menu.itemSelect",C2=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),a=p1(Sb,e.__scopeMenu),o=eN(Sb,e.__scopeMenu),c=Xr(t,i),u=x.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(IT,{bubbles:!0,cancelable:!0});h.addEventListener(IT,p=>n==null?void 0:n(p),{once:!0}),zP(h,f),f.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(zB,{...s,ref:c,disabled:r,onClick:Dt(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Dt(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Dt(e.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||pS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});C2.displayName=Sb;var zB=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=eN(Sb,r),o=DB(r),c=x.useRef(null),u=Xr(t,c),[d,h]=x.useState(!1),[f,p]=x.useState("");return x.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[i.children]),l.jsx(_g.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:l.jsx(pde,{asChild:!0,...o,focusable:!n,children:l.jsx(Ur.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Dt(e.onPointerMove,Eg(m=>{n?a.onItemLeave(m):(a.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Dt(e.onPointerLeave,Eg(m=>a.onItemLeave(m))),onFocus:Dt(e.onFocus,()=>h(!0)),onBlur:Dt(e.onBlur,()=>h(!1))})})})}),Rde="MenuCheckboxItem",HB=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(KB,{scope:e.__scopeMenu,checked:r,children:l.jsx(C2,{role:"menuitemcheckbox","aria-checked":_b(r)?"mixed":r,...s,ref:t,"data-state":sN(r),onSelect:Dt(s.onSelect,()=>n==null?void 0:n(_b(r)?!0:!r),{checkForDefaultPrevented:!1})})})});HB.displayName=Rde;var VB="MenuRadioGroup",[Ide,jde]=Rh(VB,{value:void 0,onValueChange:()=>{}}),qB=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=as(n);return l.jsx(Ide,{scope:e.__scopeMenu,value:r,onValueChange:i,children:l.jsx(rN,{...s,ref:t})})});qB.displayName=VB;var WB="MenuRadioItem",GB=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=jde(WB,e.__scopeMenu),i=r===s.value;return l.jsx(KB,{scope:e.__scopeMenu,checked:i,children:l.jsx(C2,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":sN(i),onSelect:Dt(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});GB.displayName=WB;var nN="MenuItemIndicator",[KB,Mde]=Rh(nN,{checked:!1}),YB=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Mde(nN,r);return l.jsx(h1,{present:n||_b(i.checked)||i.checked===!0,children:l.jsx(Ur.span,{...s,ref:t,"data-state":sN(i.checked)})})});YB.displayName=nN;var Pde="MenuSeparator",ZB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Ur.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ZB.displayName=Pde;var Ode="MenuArrow",QB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=N2(r);return l.jsx(c_,{...s,...n,ref:t})});QB.displayName=Ode;var Dde="MenuSub",[bke,XB]=Rh(Dde),F0="MenuSubTrigger",JB=x.forwardRef((e,t)=>{const r=Ih(F0,e.__scopeMenu),n=p1(F0,e.__scopeMenu),s=XB(F0,e.__scopeMenu),i=eN(F0,e.__scopeMenu),a=x.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),l.jsx(XE,{asChild:!0,...u,children:l.jsx(zB,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":rU(r.open),...e,ref:cw(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Dt(e.onPointerMove,Eg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Dt(e.onPointerLeave,Eg(h=>{var p,m;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(m=r.content)==null?void 0:m.dataset.side,w=g==="right",y=w?-5:5,v=f[w?"left":"right"],b=f[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Dt(e.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||yde[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});JB.displayName=F0;var eU="MenuSubContent",tU=x.forwardRef((e,t)=>{const r=$B(Ba,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ih(Ba,e.__scopeMenu),a=p1(Ba,e.__scopeMenu),o=XB(eU,e.__scopeMenu),c=x.useRef(null),u=Xr(t,c);return l.jsx(_g.Provider,{scope:e.__scopeMenu,children:l.jsx(h1,{present:n||i.open,children:l.jsx(_g.Slot,{scope:e.__scopeMenu,children:l.jsx(tN,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Dt(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Dt(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:Dt(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=vde[a.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});tU.displayName=eU;function rU(e){return e?"open":"closed"}function _b(e){return e==="indeterminate"}function sN(e){return _b(e)?"indeterminate":e?"checked":"unchecked"}function Lde(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $de(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Fde(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=$de(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Bde(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function Ude(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Bde(r,t)}function Eg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zde=LB,Hde=XE,Vde=FB,qde=BB,Wde=rN,Gde=UB,Kde=C2,Yde=HB,Zde=qB,Qde=GB,Xde=YB,Jde=ZB,ehe=QB,the=JB,rhe=tU,iN="DropdownMenu",[nhe,wke]=pl(iN,[OB]),Ei=OB(),[she,nU]=nhe(iN),sU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=Ei(t),u=x.useRef(null),[d=!1,h]=Yue({prop:s,defaultProp:i,onChange:a});return l.jsx(she,{scope:t,triggerId:Gl(),triggerRef:u,contentId:Gl(),open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(f=>!f),[h]),modal:o,children:l.jsx(zde,{...c,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};sU.displayName=iN;var iU="DropdownMenuTrigger",aU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=nU(iU,r),a=Ei(r);return l.jsx(Hde,{asChild:!0,...a,children:l.jsx(Ur.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:cw(t,i.triggerRef),onPointerDown:Dt(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Dt(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});aU.displayName=iU;var ihe="DropdownMenuPortal",oU=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ei(t);return l.jsx(Vde,{...n,...r})};oU.displayName=ihe;var lU="DropdownMenuContent",cU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nU(lU,r),i=Ei(r),a=x.useRef(!1);return l.jsx(qde,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Dt(e.onCloseAutoFocus,o=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Dt(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cU.displayName=lU;var ahe="DropdownMenuGroup",uU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Wde,{...s,...n,ref:t})});uU.displayName=ahe;var ohe="DropdownMenuLabel",dU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Gde,{...s,...n,ref:t})});dU.displayName=ohe;var lhe="DropdownMenuItem",hU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Kde,{...s,...n,ref:t})});hU.displayName=lhe;var che="DropdownMenuCheckboxItem",fU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Yde,{...s,...n,ref:t})});fU.displayName=che;var uhe="DropdownMenuRadioGroup",dhe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Zde,{...s,...n,ref:t})});dhe.displayName=uhe;var hhe="DropdownMenuRadioItem",pU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Qde,{...s,...n,ref:t})});pU.displayName=hhe;var fhe="DropdownMenuItemIndicator",mU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Xde,{...s,...n,ref:t})});mU.displayName=fhe;var phe="DropdownMenuSeparator",gU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(Jde,{...s,...n,ref:t})});gU.displayName=phe;var mhe="DropdownMenuArrow",ghe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(ehe,{...s,...n,ref:t})});ghe.displayName=mhe;var yhe="DropdownMenuSubTrigger",yU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(the,{...s,...n,ref:t})});yU.displayName=yhe;var vhe="DropdownMenuSubContent",vU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return l.jsx(rhe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vU.displayName=vhe;var xhe=sU,bhe=aU,whe=oU,xU=cU,khe=uU,bU=dU,wU=hU,kU=fU,SU=pU,_U=mU,EU=gU,NU=yU,CU=vU;const vh=xhe,xh=bhe,xy=khe,She=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(NU,{ref:s,className:Ht("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent dark:focus:bg-[hsl(var(--purple))]/20 dark:focus:text-white dark:data-[state=open]:bg-[hsl(var(--purple))]/20",t&&"pl-8",e),...n,children:[r,l.jsx(IE,{className:"ml-auto h-4 w-4"})]}));She.displayName=NU.displayName;const _he=x.forwardRef(({className:e,...t},r)=>l.jsx(CU,{ref:r,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_he.displayName=CU.displayName;const zu=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(whe,{children:l.jsx(xU,{ref:n,sideOffset:t,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));zu.displayName=xU.displayName;const fn=x.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(wU,{ref:n,className:Ht("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground dark:focus:bg-[hsl(var(--purple))]/20 dark:focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));fn.displayName=wU.displayName;const Ehe=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(kU,{ref:s,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground dark:focus:bg-[hsl(var(--purple))]/20 dark:focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(_U,{children:l.jsx(jt,{className:"h-4 w-4"})})}),t]}));Ehe.displayName=kU.displayName;const Nhe=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(SU,{ref:n,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground dark:focus:bg-[hsl(var(--purple))]/20 dark:focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(_U,{children:l.jsx(Hoe,{className:"h-2 w-2 fill-current"})})}),t]}));Nhe.displayName=SU.displayName;const AU=x.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(bU,{ref:n,className:Ht("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));AU.displayName=bU.displayName;const Td=x.forwardRef(({className:e,...t},r)=>l.jsx(EU,{ref:r,className:Ht("-mx-1 my-1 h-px bg-muted",e),...t}));Td.displayName=EU.displayName;function Che({open:e,onOpenChange:t,chatId:r,currentTitle:n,onRename:s}){const[i,a]=x.useState(""),[o,c]=x.useState(!1),[u,d]=x.useState(null);x.useEffect(()=>{e&&a(n)},[e,n]),x.useEffect(()=>{e||(a(n),d(null),c(!1))},[e,n]);const h=async f=>{f.preventDefault(),d(null);const p=i.trim();if(!p){d("Chat title cannot be empty.");return}if(p===n.trim()){d("Please enter a different title.");return}c(!0);try{await s(r,p),t(!1)}catch(m){console.error("Failed to rename chat:",m),d("Failed to rename chat. Please try again.")}finally{c(!1)}};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Rename Chat"}),l.jsx(Pn,{children:"Enter a new name for this chat conversation."})]}),l.jsxs("form",{onSubmit:h,className:"grid gap-4 py-4",children:[u&&l.jsx(_n,{variant:"destructive",children:l.jsx(En,{children:u})}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"chat-title",children:"Chat Title"}),l.jsx(tn,{id:"chat-title",type:"text",value:i,onChange:f=>a(f.target.value),required:!0,autoFocus:!0,onKeyDown:f=>{if(f.key==="Enter"){f.preventDefault();const p=f.currentTarget.form;p&&p.requestSubmit()}}})]}),l.jsxs(Rs,{children:[l.jsx(Me,{variant:"outline",onClick:()=>t(!1),type:"button",children:"Cancel"}),l.jsx(Me,{type:"submit",disabled:o,children:o?"Renaming...":"Rename Chat"})]})]})]})})}var TU="AlertDialog",[Ahe,kke]=pl(TU,[yF]),Sc=yF(),RU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Sc(t);return l.jsx(MF,{...n,...r,modal:!0})};RU.displayName=TU;var The="AlertDialogTrigger",IU=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Sc(r);return l.jsx(PF,{...s,...n,ref:t})});IU.displayName=The;var Rhe="AlertDialogPortal",jU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Sc(t);return l.jsx(OF,{...n,...r})};jU.displayName=Rhe;var Ihe="AlertDialogOverlay",MU=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Sc(r);return l.jsx(NE,{...s,...n,ref:t})});MU.displayName=Ihe;var Vf="AlertDialogContent",[jhe,Mhe]=Ahe(Vf),PU=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Sc(r),a=x.useRef(null),o=Xr(t,a),c=x.useRef(null);return l.jsx(Toe,{contentName:Vf,titleName:OU,docsSlug:"alert-dialog",children:l.jsx(jhe,{scope:r,cancelRef:c,children:l.jsxs(CE,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:Dt(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Q8,{children:n}),l.jsx(Ohe,{contentRef:a})]})})})});PU.displayName=Vf;var OU="AlertDialogTitle",DU=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Sc(r);return l.jsx(AE,{...s,...n,ref:t})});DU.displayName=OU;var LU="AlertDialogDescription",$U=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Sc(r);return l.jsx(TE,{...s,...n,ref:t})});$U.displayName=LU;var Phe="AlertDialogAction",FU=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Sc(r);return l.jsx(RE,{...s,...n,ref:t})});FU.displayName=Phe;var BU="AlertDialogCancel",UU=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Mhe(BU,r),i=Sc(r),a=Xr(t,s);return l.jsx(RE,{...i,...n,ref:a})});UU.displayName=BU;var Ohe=({contentRef:e})=>{const t=`\`${Vf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vf}\` by passing a \`${LU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Dhe=RU,Lhe=IU,$he=jU,zU=MU,HU=PU,VU=FU,qU=UU,WU=DU,GU=$U;const uu=Dhe,Fhe=Lhe,Bhe=$he,KU=x.forwardRef(({className:e,...t},r)=>l.jsx(zU,{className:Ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));KU.displayName=zU.displayName;const Bl=x.forwardRef(({className:e,...t},r)=>l.jsxs(Bhe,{children:[l.jsx(KU,{}),l.jsx(HU,{ref:r,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bl.displayName=HU.displayName;const Ul=({className:e,...t})=>l.jsx("div",{className:Ht("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ul.displayName="AlertDialogHeader";const zl=({className:e,...t})=>l.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});zl.displayName="AlertDialogFooter";const Hl=x.forwardRef(({className:e,...t},r)=>l.jsx(WU,{ref:r,className:Ht("text-lg font-semibold",e),...t}));Hl.displayName=WU.displayName;const Vl=x.forwardRef(({className:e,...t},r)=>l.jsx(GU,{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Vl.displayName=GU.displayName;const du=x.forwardRef(({className:e,...t},r)=>l.jsx(VU,{ref:r,className:Ht(OE(),e),...t}));du.displayName=VU.displayName;const ql=x.forwardRef(({className:e,...t},r)=>l.jsx(qU,{ref:r,className:Ht(OE({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ql.displayName=qU.displayName;function Uhe({open:e,onOpenChange:t,onConfirm:r,chatTitle:n}){const s=i=>{i.preventDefault(),r(),t(!1)};return l.jsx(uu,{open:e,onOpenChange:t,children:l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Are you sure you want to delete this chat?"}),l.jsxs(Vl,{children:['This will permanently delete "',n,'". This action cannot be undone.']})]}),l.jsxs(zl,{children:[l.jsx(ql,{children:"Cancel"}),l.jsx(du,{onClick:s,className:"bg-destructive text-white hover:bg-destructive/90",children:"Delete"})]})]})})}function pr(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}function _e(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}let YU=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return YU=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function mS(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const gS=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class sr extends Error{}class qs extends sr{constructor(t,r,n,s){super(`${qs.makeMessage(t,r,n)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,r,n,s){if(!t||!s)return new A2({message:n,cause:gS(r)});const i=r==null?void 0:r.error;return t===400?new ZU(t,i,n,s):t===401?new QU(t,i,n,s):t===403?new XU(t,i,n,s):t===404?new JU(t,i,n,s):t===409?new ez(t,i,n,s):t===422?new tz(t,i,n,s):t===429?new rz(t,i,n,s):t>=500?new nz(t,i,n,s):new qs(t,i,n,s)}}class Da extends qs{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class A2 extends qs{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class aN extends A2{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ZU extends qs{}class QU extends qs{}class XU extends qs{}class JU extends qs{}class ez extends qs{}class tz extends qs{}class rz extends qs{}class nz extends qs{}class sz extends sr{constructor(){super("Could not parse response content as the length limit was reached")}}class iz extends sr{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class B0 extends Error{constructor(t){super(t)}}const zhe=/^[a-z][a-z0-9+.-]*:/i,Hhe=e=>zhe.test(e);let Li=e=>(Li=Array.isArray,Li(e)),jT=Li;function az(e){return typeof e!="object"?{}:e??{}}function Vhe(e){if(!e)return!0;for(const t in e)return!1;return!0}function qhe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x5(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const Whe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new sr(`${e} must be an integer`);if(t<0)throw new sr(`${e} must be a positive integer`);return t},Ghe=e=>{try{return JSON.parse(e)}catch{return}},m1=e=>new Promise(t=>setTimeout(t,e)),rf="5.20.0",Khe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Yhe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Zhe=()=>{var r;const e=Yhe();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rf,"X-Stainless-OS":PT(Deno.build.os),"X-Stainless-Arch":MT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((r=Deno.version)==null?void 0:r.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rf,"X-Stainless-OS":PT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":MT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=Qhe();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Qhe(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:t,version:`${s}.${i}.${a}`}}}return null}const MT=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",PT=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let OT;const Xhe=()=>OT??(OT=Zhe());function Jhe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oz(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function lz(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return oz({start(){},async pull(r){const{done:n,value:s}=await t.next();n?r.close():r.enqueue(s)},async cancel(){var r;await((r=t.return)==null?void 0:r.call(t))}})}function cz(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function efe(e){var n,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(n=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(n));return}const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}const tfe=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),uz="RFC3986",dz=e=>String(e),DT={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:dz},rfe="RFC1738";let yS=(e,t)=>(yS=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),yS(e,t));const Do=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),b5=1024,nfe=(e,t,r,n,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=b5){const c=i.length>=b5?i.slice(o,o+b5):i,u=[];for(let d=0;d<c.length;++d){let h=c.charCodeAt(d);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===rfe&&(h===40||h===41)){u[u.length]=c.charAt(d);continue}if(h<128){u[u.length]=Do[h];continue}if(h<2048){u[u.length]=Do[192|h>>6]+Do[128|h&63];continue}if(h<55296||h>=57344){u[u.length]=Do[224|h>>12]+Do[128|h>>6&63]+Do[128|h&63];continue}d+=1,h=65536+((h&1023)<<10|c.charCodeAt(d)&1023),u[u.length]=Do[240|h>>18]+Do[128|h>>12&63]+Do[128|h>>6&63]+Do[128|h&63]}a+=u.join("")}return a};function sfe(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function LT(e,t){if(Li(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const hz={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},fz=function(e,t){Array.prototype.push.apply(e,Li(t)?t:[t])};let $T;const hs={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:nfe,encodeValuesOnly:!1,format:uz,formatter:dz,indices:!1,serializeDate(e){return($T??($T=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function ife(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const w5={};function pz(e,t,r,n,s,i,a,o,c,u,d,h,f,p,m,g,w,y){let v=e,b=y,k=0,C=!1;for(;(b=b.get(w5))!==void 0&&!C;){const j=b.get(e);if(k+=1,typeof j<"u"){if(j===k)throw new RangeError("Cyclic object value");C=!0}typeof b.get(w5)>"u"&&(k=0)}if(typeof u=="function"?v=u(t,v):v instanceof Date?v=f==null?void 0:f(v):r==="comma"&&Li(v)&&(v=LT(v,function(j){return j instanceof Date?f==null?void 0:f(j):j})),v===null){if(i)return c&&!g?c(t,hs.encoder,w,"key",p):t;v=""}if(ife(v)||sfe(v)){if(c){const j=g?t:c(t,hs.encoder,w,"key",p);return[(m==null?void 0:m(j))+"="+(m==null?void 0:m(c(v,hs.encoder,w,"value",p)))]}return[(m==null?void 0:m(t))+"="+(m==null?void 0:m(String(v)))]}const A=[];if(typeof v>"u")return A;let R;if(r==="comma"&&Li(v))g&&c&&(v=LT(v,c)),R=[{value:v.length>0?v.join(",")||null:void 0}];else if(Li(u))R=u;else{const j=Object.keys(v);R=d?j.sort(d):j}const O=o?String(t).replace(/\./g,"%2E"):String(t),F=n&&Li(v)&&v.length===1?O+"[]":O;if(s&&Li(v)&&v.length===0)return F+"[]";for(let j=0;j<R.length;++j){const D=R[j],z=typeof D=="object"&&typeof D.value<"u"?D.value:v[D];if(a&&z===null)continue;const Y=h&&o?D.replace(/\./g,"%2E"):D,Q=Li(v)?typeof r=="function"?r(F,Y):F:F+(h?"."+Y:"["+Y+"]");y.set(e,k);const te=new WeakMap;te.set(w5,y),fz(A,pz(z,Q,r,n,s,i,a,o,r==="comma"&&g&&Li(v)?null:c,u,d,h,f,p,m,g,w,te))}return A}function afe(e=hs){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||hs.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=uz;if(typeof e.format<"u"){if(!yS(DT,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=DT[r];let s=hs.filter;(typeof e.filter=="function"||Li(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in hz?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=hs.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:hs.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:hs.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:hs.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:hs.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?hs.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:hs.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:hs.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:hs.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:hs.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:hs.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:hs.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:hs.strictNullHandling}}function ofe(e,t={}){let r=e;const n=afe(t);let s,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Li(n.filter)&&(i=n.filter,s=i);const a=[];if(typeof r!="object"||r===null)return"";const o=hz[n.arrayFormat],c=o==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const p=s[f];n.skipNulls&&r[p]===null||fz(a,pz(r[p],p,o,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const d=a.join(n.delimiter);let h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""}function lfe(e){let t=0;for(const s of e)t+=s.length;const r=new Uint8Array(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return r}let FT;function oN(e){let t;return(FT??(t=new globalThis.TextEncoder,FT=t.encode.bind(t)))(e)}let BT;function UT(e){let t;return(BT??(t=new globalThis.TextDecoder,BT=t.decode.bind(t)))(e)}var Zi,Qi;class T2{constructor(){Zi.set(this,void 0),Qi.set(this,void 0),pr(this,Zi,new Uint8Array),pr(this,Qi,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?oN(t):t;pr(this,Zi,lfe([_e(this,Zi,"f"),r]));const n=[];let s;for(;(s=cfe(_e(this,Zi,"f"),_e(this,Qi,"f")))!=null;){if(s.carriage&&_e(this,Qi,"f")==null){pr(this,Qi,s.index);continue}if(_e(this,Qi,"f")!=null&&(s.index!==_e(this,Qi,"f")+1||s.carriage)){n.push(UT(_e(this,Zi,"f").subarray(0,_e(this,Qi,"f")-1))),pr(this,Zi,_e(this,Zi,"f").subarray(_e(this,Qi,"f"))),pr(this,Qi,null);continue}const i=_e(this,Qi,"f")!==null?s.preceding-1:s.preceding,a=UT(_e(this,Zi,"f").subarray(0,i));n.push(a),pr(this,Zi,_e(this,Zi,"f").subarray(s.index)),pr(this,Qi,null)}return n}flush(){return _e(this,Zi,"f").length?this.decode(`
`):[]}}Zi=new WeakMap,Qi=new WeakMap;T2.NEWLINE_CHARS=new Set([`
`,"\r"]);T2.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function cfe(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function ufe(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const Eb={off:0,error:200,warn:300,info:400,debug:500},zT=(e,t,r)=>{if(e){if(qhe(Eb,e))return e;Os(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Eb))}`)}};function U0(){}function by(e,t,r){return!t||Eb[e]>Eb[r]?U0:t[e].bind(t)}const dfe={error:U0,warn:U0,info:U0,debug:U0};let HT=new WeakMap;function Os(e){const t=e.logger,r=e.logLevel??"off";if(!t)return dfe;const n=HT.get(t);if(n&&n[0]===r)return n[1];const s={error:by("error",t,r),warn:by("warn",t,r),info:by("info",t,r),debug:by("debug",t,r)};return HT.set(t,[r,s]),s}const pd=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var _0;class Jo{constructor(t,r,n){this.iterator=t,_0.set(this,void 0),this.controller=r,pr(this,_0,n)}static fromSSEResponse(t,r,n){let s=!1;const i=n?Os(n):console;async function*a(){if(s)throw new sr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const c of hfe(t,r))if(!o){if(c.data.startsWith("[DONE]")){o=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let u;try{u=JSON.parse(c.data)}catch(d){throw i.error("Could not parse message into JSON:",c.data),i.error("From chunk:",c.raw),d}if(u&&u.error)throw new qs(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(c.data)}catch(d){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),d}if(c.event=="error")throw new qs(void 0,u.error,u.message,void 0);yield{event:c.event,data:u}}}o=!0}catch(c){if(mS(c))return;throw c}finally{o||r.abort()}}return new Jo(a,r,n)}static fromReadableStream(t,r,n){let s=!1;async function*i(){const o=new T2,c=cz(t);for await(const u of c)for(const d of o.decode(u))yield d;for(const u of o.flush())yield u}async function*a(){if(s)throw new sr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const c of i())o||c&&(yield JSON.parse(c));o=!0}catch(c){if(mS(c))return;throw c}finally{o||r.abort()}}return new Jo(a,r,n)}[(_0=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=n.next();t.push(a),r.push(a)}return i.shift()}});return[new Jo(()=>s(t),this.controller,_e(this,_0,"f")),new Jo(()=>s(r),this.controller,_e(this,_0,"f"))]}toReadableStream(){const t=this;let r;return oz({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:s,done:i}=await r.next();if(i)return n.close();const a=oN(JSON.stringify(s)+`
`);n.enqueue(a)}catch(s){n.error(s)}},async cancel(){var n;await((n=r.return)==null?void 0:n.call(r))}})}}async function*hfe(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new sr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new sr("Attempted to iterate over a response with no body");const r=new pfe,n=new T2,s=cz(e.body);for await(const i of ffe(s))for(const a of n.decode(i)){const o=r.decode(a);o&&(yield o)}for(const i of n.flush()){const a=r.decode(i);a&&(yield a)}}async function*ffe(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?oN(r):r;let s=new Uint8Array(t.length+n.length);s.set(t),s.set(n,t.length),t=s;let i;for(;(i=ufe(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class pfe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,s]=mfe(t,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function mfe(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function mz(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:s,startTime:i}=t,a=await(async()=>{var h;if(t.options.stream)return Os(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):Jo.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const o=r.headers.get("content-type"),c=(h=o==null?void 0:o.split(";")[0])==null?void 0:h.trim();if((c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))){const f=await r.json();return gz(f,r)}return await r.text()})();return Os(e).debug(`[${n}] response parsed`,pd({retryOfRequestLogID:s,url:r.url,status:r.status,body:a,durationMs:Date.now()-i})),a}function gz(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var z0;class R2 extends Promise{constructor(t,r,n=mz){super(s=>{s(null)}),this.responsePromise=r,this.parseResponse=n,z0.set(this,void 0),pr(this,z0,t)}_thenUnwrap(t){return new R2(_e(this,z0,"f"),this.responsePromise,async(r,n)=>gz(t(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(_e(this,z0,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}z0=new WeakMap;var wy;class lN{constructor(t,r,n,s){wy.set(this,void 0),pr(this,wy,t),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new sr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await _e(this,wy,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(wy=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class gfe extends R2{constructor(t,r,n){super(t,r,async(s,i)=>new n(s,i.response,await mz(s,i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class I2 extends lN{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ls extends lN{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var n;const t=this.getPaginatedItems(),r=(n=t[t.length-1])==null?void 0:n.id;return r?{...this.options,query:{...az(this.options.query),after:r}}:null}}class yfe extends lN{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...az(this.options.query),after:t}}:null}}const yz=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pm(e,t,r){return yz(),new File(e,t??"unknown_file",r)}function yv(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const vz=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",bh=async(e,t)=>({...e,body:await xfe(e.body,t)}),VT=new WeakMap;function vfe(e){const t=typeof e=="function"?e:e.fetch,r=VT.get(t);if(r)return r;const n=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return VT.set(t,n),n}const xfe=async(e,t)=>{if(!await vfe(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,s])=>vS(r,n,s))),r},bfe=e=>e instanceof Blob&&"name"in e,vS=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response)e.append(t,pm([await r.blob()],yv(r)));else if(vz(r))e.append(t,pm([await new Response(lz(r)).blob()],yv(r)));else if(bfe(r))e.append(t,r,yv(r));else if(Array.isArray(r))await Promise.all(r.map(n=>vS(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>vS(e,`${t}[${n}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},xz=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",wfe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&xz(e),kfe=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Sfe(e,t,r){if(yz(),e=await e,wfe(e))return e instanceof File?e:pm([await e.arrayBuffer()],e.name);if(kfe(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),pm(await xS(s),t,r)}const n=await xS(e);if(t||(t=yv(e)),!(r!=null&&r.type)){const s=n.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(r={...r,type:s})}return pm(n,t,r)}async function xS(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(xz(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(vz(e))for await(const n of e)t.push(...await xS(n));else{const n=(r=e==null?void 0:e.constructor)==null?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${n?`; constructor: ${n}`:""}${_fe(e)}`)}return t}function _fe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class or{constructor(t){this._client=t}}function bz(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const qT=Object.freeze(Object.create(null)),Efe=(e=bz)=>function(r,...n){if(r.length===1)return r[0];let s=!1;const i=[],a=r.reduce((d,h,f)=>{var g;/[?#]/.test(h)&&(s=!0);const p=n[f];let m=(s?encodeURIComponent:e)(""+p);return f!==n.length&&(p==null||typeof p=="object"&&p.toString===((g=Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??qT)??qT))==null?void 0:g.toString))&&(m=p+"",i.push({start:d.length+h.length,length:m.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),d+h+(f===n.length?"":m)},""),o=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((d,h)=>d.start-h.start),i.length>0){let d=0;const h=i.reduce((f,p)=>{const m=" ".repeat(p.start-d),g="^".repeat(p.length);return d=p.start+p.length,f+m+g},"");throw new sr(`Path parameters result in path with invalid segments:
${i.map(f=>f.error).join(`
`)}
${a}
${h}`)}return a},it=Efe(bz);let wz=class extends or{list(t,r={},n){return this._client.getAPIList(it`/chat/completions/${t}/messages`,ls,{query:r,...n})}};function Nb(e){return e!==void 0&&"function"in e&&e.function!==void 0}function cN(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function g1(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Nfe(e,t){return!t||!kz(t)?{...e,choices:e.choices.map(r=>(Sz(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:uN(e,t)}function uN(e,t){const r=e.choices.map(n=>{var s;if(n.finish_reason==="length")throw new sz;if(n.finish_reason==="content_filter")throw new iz;return Sz(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((s=n.message.tool_calls)==null?void 0:s.map(i=>Afe(t,i)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?Cfe(t,n.message.content):null}}});return{...e,choices:r}}function Cfe(e,t){var r,n;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=e.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Afe(e,t){var n;const r=(n=e.tools)==null?void 0:n.find(s=>{var i;return Nb(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:g1(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function Tfe(e,t){var n;if(!e||!("tools"in e)||!e.tools)return!1;const r=(n=e.tools)==null?void 0:n.find(s=>{var i;return Nb(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return Nb(r)&&(g1(r)||(r==null?void 0:r.function.strict)||!1)}function kz(e){var t;return cN(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>g1(r)||r.type==="function"&&r.function.strict===!0))??!1}function Sz(e){for(const t of e||[])if(t.type!=="function")throw new sr(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function Rfe(e){for(const t of e??[]){if(t.type!=="function")throw new sr(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new sr(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Cb=e=>(e==null?void 0:e.role)==="assistant",_z=e=>(e==null?void 0:e.role)==="tool";var bS,vv,xv,H0,V0,bv,q0,Rl,W0,Ab,Tb,nf,Ez;class dN{constructor(){bS.add(this),this.controller=new AbortController,vv.set(this,void 0),xv.set(this,()=>{}),H0.set(this,()=>{}),V0.set(this,void 0),bv.set(this,()=>{}),q0.set(this,()=>{}),Rl.set(this,{}),W0.set(this,!1),Ab.set(this,!1),Tb.set(this,!1),nf.set(this,!1),pr(this,vv,new Promise((t,r)=>{pr(this,xv,t,"f"),pr(this,H0,r,"f")})),pr(this,V0,new Promise((t,r)=>{pr(this,bv,t,"f"),pr(this,q0,r,"f")})),_e(this,vv,"f").catch(()=>{}),_e(this,V0,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},_e(this,bS,"m",Ez).bind(this))},0)}_connected(){this.ended||(_e(this,xv,"f").call(this),this._emit("connect"))}get ended(){return _e(this,W0,"f")}get errored(){return _e(this,Ab,"f")}get aborted(){return _e(this,Tb,"f")}abort(){this.controller.abort()}on(t,r){return(_e(this,Rl,"f")[t]||(_e(this,Rl,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=_e(this,Rl,"f")[t];if(!n)return this;const s=n.findIndex(i=>i.listener===r);return s>=0&&n.splice(s,1),this}once(t,r){return(_e(this,Rl,"f")[t]||(_e(this,Rl,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{pr(this,nf,!0),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){pr(this,nf,!0),await _e(this,V0,"f")}_emit(t,...r){if(_e(this,W0,"f"))return;t==="end"&&(pr(this,W0,!0),_e(this,bv,"f").call(this));const n=_e(this,Rl,"f")[t];if(n&&(_e(this,Rl,"f")[t]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),t==="abort"){const s=r[0];!_e(this,nf,"f")&&!(n!=null&&n.length)&&Promise.reject(s),_e(this,H0,"f").call(this,s),_e(this,q0,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=r[0];!_e(this,nf,"f")&&!(n!=null&&n.length)&&Promise.reject(s),_e(this,H0,"f").call(this,s),_e(this,q0,"f").call(this,s),this._emit("end")}}_emitFinal(){}}vv=new WeakMap,xv=new WeakMap,H0=new WeakMap,V0=new WeakMap,bv=new WeakMap,q0=new WeakMap,Rl=new WeakMap,W0=new WeakMap,Ab=new WeakMap,Tb=new WeakMap,nf=new WeakMap,bS=new WeakSet,Ez=function(t){if(pr(this,Ab,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Da),t instanceof Da)return pr(this,Tb,!0),this._emit("abort",t);if(t instanceof sr)return this._emit("error",t);if(t instanceof Error){const r=new sr(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new sr(String(t)))};function Ife(e){return typeof e.parse=="function"}var ci,wS,Rb,kS,SS,_S,Nz,Cz;const jfe=10;class Az extends dN{constructor(){super(...arguments),ci.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var n;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(n=t.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),_z(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Cb(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new sr("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),_e(this,ci,"m",wS).call(this)}async finalMessage(){return await this.done(),_e(this,ci,"m",Rb).call(this)}async finalFunctionToolCall(){return await this.done(),_e(this,ci,"m",kS).call(this)}async finalFunctionToolCallResult(){return await this.done(),_e(this,ci,"m",SS).call(this)}async totalUsage(){return await this.done(),_e(this,ci,"m",_S).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=_e(this,ci,"m",Rb).call(this);r&&this._emit("finalMessage",r);const n=_e(this,ci,"m",wS).call(this);n&&this._emit("finalContent",n);const s=_e(this,ci,"m",kS).call(this);s&&this._emit("finalFunctionToolCall",s);const i=_e(this,ci,"m",SS).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",_e(this,ci,"m",_S).call(this))}async _createChatCompletion(t,r,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_e(this,ci,"m",Nz).call(this,r);const i=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(uN(i,r))}async _runChatCompletion(t,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,r,n)}async _runTools(t,r,n){var p,m,g;const s="tool",{tool_choice:i="auto",stream:a,...o}=r,c=typeof i!="string"&&i.type==="function"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=jfe}=n||{},d=r.tools.map(w=>{if(g1(w)){if(!w.$callback)throw new sr("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),h={};for(const w of d)w.type==="function"&&(h[w.function.name||w.function.function.name]=w.function);const f="tools"in r?d.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of r.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const v=(m=(await this._createChatCompletion(t,{...o,tool_choice:i,tools:f,messages:[...this.messages]},n)).choices[0])==null?void 0:m.message;if(!v)throw new sr("missing message in ChatCompletion response");if(!((g=v.tool_calls)!=null&&g.length))return;for(const b of v.tool_calls){if(b.type!=="function")continue;const k=b.id,{name:C,arguments:A}=b.function,R=h[C];if(R){if(c&&c!==C){const D=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:k,content:D});continue}}else{const D=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(h).map(z=>JSON.stringify(z)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:k,content:D});continue}let O;try{O=Ife(R)?await R.parse(A):A}catch(D){const z=D instanceof Error?D.message:String(D);this._addMessage({role:s,tool_call_id:k,content:z});continue}const F=await R.function(O,this),j=_e(this,ci,"m",Cz).call(this,F);if(this._addMessage({role:s,tool_call_id:k,content:j}),c)return}}}}ci=new WeakSet,wS=function(){return _e(this,ci,"m",Rb).call(this).content??null},Rb=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(Cb(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new sr("stream ended without producing a ChatCompletionMessage with role=assistant")},kS=function(){var t,r;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(Cb(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(r=s.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:r.function}},SS=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(_z(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},_S=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},Nz=function(t){if(t.n!=null&&t.n>1)throw new sr("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Cz=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class hN extends Az{static runTools(t,r,n){const s=new hN,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,r,i)),s}_addMessage(t,r=!0){super._addMessage(t,r),Cb(t)&&t.content&&this._emit("content",t.content)}}const Tz=1,Rz=2,Iz=4,jz=8,Mz=16,Pz=32,Oz=64,Dz=128,Lz=256,$z=Dz|Lz,Fz=Mz|Pz|$z|Oz,Bz=Tz|Rz|Fz,Uz=Iz|jz,Mfe=Bz|Uz,Ns={STR:Tz,NUM:Rz,ARR:Iz,OBJ:jz,NULL:Mz,BOOL:Pz,NAN:Oz,INFINITY:Dz,MINUS_INFINITY:Lz,INF:$z,SPECIAL:Fz,ATOM:Bz,COLLECTION:Uz,ALL:Mfe};class Pfe extends Error{}class Ofe extends Error{}function Dfe(e,t=Ns.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Lfe(e.trim(),t)}const Lfe=(e,t)=>{const r=e.length;let n=0;const s=f=>{throw new Pfe(`${f} at position ${n}`)},i=f=>{throw new Ofe(`${f} at position ${n}`)},a=()=>(h(),n>=r&&s("Unexpected end of input"),e[n]==='"'?o():e[n]==="{"?c():e[n]==="["?u():e.substring(n,n+4)==="null"||Ns.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||Ns.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||Ns.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||Ns.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||Ns.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||Ns.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):d()),o=()=>{const f=n;let p=!1;for(n++;n<r&&(e[n]!=='"'||p&&e[n-1]==="\\");)p=e[n]==="\\"?!p:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(f,++n-Number(p)))}catch(m){i(String(m))}else if(Ns.STR&t)try{return JSON.parse(e.substring(f,n-Number(p))+'"')}catch{return JSON.parse(e.substring(f,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{n++,h();const f={};try{for(;e[n]!=="}";){if(h(),n>=r&&Ns.OBJ&t)return f;const p=o();h(),n++;try{const m=a();Object.defineProperty(f,p,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(Ns.OBJ&t)return f;throw m}h(),e[n]===","&&n++}}catch{if(Ns.OBJ&t)return f;s("Expected '}' at end of object")}return n++,f},u=()=>{n++;const f=[];try{for(;e[n]!=="]";)f.push(a()),h(),e[n]===","&&n++}catch{if(Ns.ARR&t)return f;s("Expected ']' at end of array")}return n++,f},d=()=>{if(n===0){e==="-"&&Ns.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(Ns.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const f=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(Ns.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(f,n))}catch{e.substring(f,n)==="-"&&Ns.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(f,e.lastIndexOf("e")))}catch(m){i(String(m))}}},h=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return a()},WT=e=>Dfe(e,Ns.ALL^Ns.NUM);var ds,Cl,Wh,Mc,k5,ky,S5,_5,E5,Sy,N5,GT;class Ng extends Az{constructor(t){super(),ds.add(this),Cl.set(this,void 0),Wh.set(this,void 0),Mc.set(this,void 0),pr(this,Cl,t),pr(this,Wh,[])}get currentChatCompletionSnapshot(){return _e(this,Mc,"f")}static fromReadableStream(t){const r=new Ng(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const s=new Ng(r);return s._run(()=>s._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,r,n){var a;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_e(this,ds,"m",k5).call(this);const i=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)_e(this,ds,"m",S5).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new Da;return this._addChatCompletion(_e(this,ds,"m",Sy).call(this))}async _fromReadableStream(t,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),_e(this,ds,"m",k5).call(this),this._connected();const s=Jo.fromReadableStream(t,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(_e(this,ds,"m",Sy).call(this)),_e(this,ds,"m",S5).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new Da;return this._addChatCompletion(_e(this,ds,"m",Sy).call(this))}[(Cl=new WeakMap,Wh=new WeakMap,Mc=new WeakMap,ds=new WeakSet,k5=function(){this.ended||pr(this,Mc,void 0)},ky=function(r){let n=_e(this,Wh,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},_e(this,Wh,"f")[r.index]=n,n)},S5=function(r){var s,i,a,o,c,u,d,h,f,p,m,g,w,y,v;if(this.ended)return;const n=_e(this,ds,"m",GT).call(this,r);this._emit("chunk",r,n);for(const b of r.choices){const k=n.choices[b.index];b.delta.content!=null&&((s=k.message)==null?void 0:s.role)==="assistant"&&((i=k.message)!=null&&i.content)&&(this._emit("content",b.delta.content,k.message.content),this._emit("content.delta",{delta:b.delta.content,snapshot:k.message.content,parsed:k.message.parsed})),b.delta.refusal!=null&&((a=k.message)==null?void 0:a.role)==="assistant"&&((o=k.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:b.delta.refusal,snapshot:k.message.refusal}),((c=b.logprobs)==null?void 0:c.content)!=null&&((u=k.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=b.logprobs)==null?void 0:d.content,snapshot:((h=k.logprobs)==null?void 0:h.content)??[]}),((f=b.logprobs)==null?void 0:f.refusal)!=null&&((p=k.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=b.logprobs)==null?void 0:m.refusal,snapshot:((g=k.logprobs)==null?void 0:g.refusal)??[]});const C=_e(this,ds,"m",ky).call(this,k);k.finish_reason&&(_e(this,ds,"m",E5).call(this,k),C.current_tool_call_index!=null&&_e(this,ds,"m",_5).call(this,k,C.current_tool_call_index));for(const A of b.delta.tool_calls??[])C.current_tool_call_index!==A.index&&(_e(this,ds,"m",E5).call(this,k),C.current_tool_call_index!=null&&_e(this,ds,"m",_5).call(this,k,C.current_tool_call_index)),C.current_tool_call_index=A.index;for(const A of b.delta.tool_calls??[]){const R=(w=k.message.tool_calls)==null?void 0:w[A.index];R!=null&&R.type&&((R==null?void 0:R.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=R.function)==null?void 0:y.name,index:A.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:((v=A.function)==null?void 0:v.arguments)??""}):(R==null||R.type,void 0))}}},_5=function(r,n){var a,o,c;if(_e(this,ds,"m",ky).call(this,r).done_tool_calls.has(n))return;const i=(a=r.message.tool_calls)==null?void 0:a[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(c=(o=_e(this,Cl,"f"))==null?void 0:o.tools)==null?void 0:c.find(d=>Nb(d)&&d.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:g1(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},E5=function(r){var s,i;const n=_e(this,ds,"m",ky).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const a=_e(this,ds,"m",N5).call(this);this._emit("content.done",{content:r.message.content,parsed:a?a.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(s=r.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Sy=function(){if(this.ended)throw new sr("stream has ended, this shouldn't happen");const r=_e(this,Mc,"f");if(!r)throw new sr("request ended without sending any chunks");return pr(this,Mc,void 0),pr(this,Wh,[]),$fe(r,_e(this,Cl,"f"))},N5=function(){var n;const r=(n=_e(this,Cl,"f"))==null?void 0:n.response_format;return cN(r)?r:null},GT=function(r){var n,s,i,a;let o=_e(this,Mc,"f");const{choices:c,...u}=r;o?Object.assign(o,u):o=pr(this,Mc,{...u,choices:[]});for(const{delta:d,finish_reason:h,index:f,logprobs:p=null,...m}of r.choices){let g=o.choices[f];if(g||(g=o.choices[f]={finish_reason:h,index:f,message:{},logprobs:p,...m}),p)if(!g.logprobs)g.logprobs=Object.assign({},p);else{const{content:A,refusal:R,...O}=p;Object.assign(g.logprobs,O),A&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(...A)),R&&((s=g.logprobs).refusal??(s.refusal=[]),g.logprobs.refusal.push(...R))}if(h&&(g.finish_reason=h,_e(this,Cl,"f")&&kz(_e(this,Cl,"f")))){if(h==="length")throw new sz;if(h==="content_filter")throw new iz}if(Object.assign(g,m),!d)continue;const{content:w,refusal:y,function_call:v,role:b,tool_calls:k,...C}=d;if(Object.assign(g.message,C),y&&(g.message.refusal=(g.message.refusal||"")+y),b&&(g.message.role=b),v&&(g.message.function_call?(v.name&&(g.message.function_call.name=v.name),v.arguments&&((i=g.message.function_call).arguments??(i.arguments=""),g.message.function_call.arguments+=v.arguments)):g.message.function_call=v),w&&(g.message.content=(g.message.content||"")+w,!g.message.refusal&&_e(this,ds,"m",N5).call(this)&&(g.message.parsed=WT(g.message.content))),k){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:A,id:R,type:O,function:F,...j}of k){const D=(a=g.message.tool_calls)[A]??(a[A]={});Object.assign(D,j),R&&(D.id=R),O&&(D.type=O),F&&(D.function??(D.function={name:F.name??"",arguments:""})),F!=null&&F.name&&(D.function.name=F.name),F!=null&&F.arguments&&(D.function.arguments+=F.arguments,Tfe(_e(this,Cl,"f"),D)&&(D.function.parsed_arguments=WT(D.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",s=>{const i=r.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Jo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function $fe(e,t){const{id:r,choices:n,created:s,model:i,system_fingerprint:a,...o}=e,c={...o,id:r,choices:n.map(({message:u,finish_reason:d,index:h,logprobs:f,...p})=>{if(!d)throw new sr(`missing finish_reason for choice ${h}`);const{content:m=null,function_call:g,tool_calls:w,...y}=u,v=u.role;if(!v)throw new sr(`missing role for choice ${h}`);if(g){const{arguments:b,name:k}=g;if(b==null)throw new sr(`missing function_call.arguments for choice ${h}`);if(!k)throw new sr(`missing function_call.name for choice ${h}`);return{...p,message:{content:m,function_call:{arguments:b,name:k},role:v,refusal:u.refusal??null},finish_reason:d,index:h,logprobs:f}}return w?{...p,index:h,finish_reason:d,logprobs:f,message:{...y,role:v,content:m,refusal:u.refusal??null,tool_calls:w.map((b,k)=>{const{function:C,type:A,id:R,...O}=b,{arguments:F,name:j,...D}=C||{};if(R==null)throw new sr(`missing choices[${h}].tool_calls[${k}].id
${_y(e)}`);if(A==null)throw new sr(`missing choices[${h}].tool_calls[${k}].type
${_y(e)}`);if(j==null)throw new sr(`missing choices[${h}].tool_calls[${k}].function.name
${_y(e)}`);if(F==null)throw new sr(`missing choices[${h}].tool_calls[${k}].function.arguments
${_y(e)}`);return{...O,id:R,type:A,function:{...D,name:j,arguments:F}}})}}:{...p,message:{...y,content:m,role:v,refusal:u.refusal??null},finish_reason:d,index:h,logprobs:f}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Nfe(c,t)}function _y(e){return JSON.stringify(e)}class Ib extends Ng{static fromReadableStream(t){const r=new Ib(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,n){const s=new Ib(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,r,i)),s}}let fN=class extends or{constructor(){super(...arguments),this.messages=new wz(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(it`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(it`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/chat/completions",ls,{query:t,...r})}delete(t,r){return this._client.delete(it`/chat/completions/${t}`,r)}parse(t,r){return Rfe(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>uN(n,t))}runTools(t,r){return t.stream?Ib.runTools(this._client,t,r):hN.runTools(this._client,t,r)}stream(t,r){return Ng.createChatCompletion(this._client,t,r)}};fN.Messages=wz;class pN extends or{constructor(){super(...arguments),this.completions=new fN(this._client)}}pN.Completions=fN;const zz=Symbol("brand.privateNullableHeaders");function*Ffe(e){if(!e)return;if(zz in e){const{values:n,nulls:s}=e;yield*n.entries();for(const i of s)yield[i,null];return}let t=!1,r;e instanceof Headers?r=e.entries():jT(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const s=n[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=jT(n[1])?n[1]:[n[1]];let a=!1;for(const o of i)o!==void 0&&(t&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const Jt=e=>{const t=new Headers,r=new Set;for(const n of e){const s=new Set;for(const[i,a]of Ffe(n)){const o=i.toLowerCase();s.has(o)||(t.delete(i),s.add(o)),a===null?(t.delete(i),r.add(o)):(t.append(i,a),r.delete(o))}}return{[zz]:!0,values:t,nulls:r}};class Hz extends or{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:Jt([{Accept:"application/octet-stream"},r==null?void 0:r.headers]),__binaryResponse:!0})}}class Vz extends or{create(t,r){return this._client.post("/audio/transcriptions",bh({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class qz extends or{create(t,r){return this._client.post("/audio/translations",bh({body:t,...r,__metadata:{model:t.model}},this._client))}}class y1 extends or{constructor(){super(...arguments),this.transcriptions=new Vz(this._client),this.translations=new qz(this._client),this.speech=new Hz(this._client)}}y1.Transcriptions=Vz;y1.Translations=qz;y1.Speech=Hz;class Wz extends or{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(it`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",ls,{query:t,...r})}cancel(t,r){return this._client.post(it`/batches/${t}/cancel`,r)}}class Gz extends or{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,r){return this._client.get(it`/assistants/${t}`,{...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,r,n){return this._client.post(it`/assistants/${t}`,{body:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t={},r){return this._client.getAPIList("/assistants",ls,{query:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,r){return this._client.delete(it`/assistants/${t}`,{...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Kz extends or{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Yz extends or{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}let j2=class extends or{constructor(){super(...arguments),this.sessions=new Kz(this._client),this.transcriptionSessions=new Yz(this._client)}};j2.Sessions=Kz;j2.TranscriptionSessions=Yz;class Zz extends or{create(t,r,n){return this._client.post(it`/threads/${t}/messages`,{body:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,r,n){const{thread_id:s}=r;return this._client.get(it`/threads/${s}/messages/${t}`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,r,n){const{thread_id:s,...i}=r;return this._client.post(it`/threads/${s}/messages/${t}`,{body:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r={},n){return this._client.getAPIList(it`/threads/${t}/messages`,ls,{query:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,r,n){const{thread_id:s}=r;return this._client.delete(it`/threads/${s}/messages/${t}`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Qz extends or{retrieve(t,r,n){const{thread_id:s,run_id:i,...a}=r;return this._client.get(it`/threads/${s}/runs/${i}/steps/${t}`,{query:a,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r,n){const{thread_id:s,...i}=r;return this._client.getAPIList(it`/threads/${s}/runs/${t}/steps`,ls,{query:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}const Bfe=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}};var C5={};const Gh=e=>{var t,r,n,s;if(typeof globalThis.process<"u")return((t=C5==null?void 0:C5[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(n=(r=globalThis.Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:s.trim()};var Ds,Rd,ES,Ho,wv,so,Id,_f,vd,jb,Ji,kv,Sv,mm,G0,K0,KT,YT,ZT,QT,XT,JT,eR;class gm extends dN{constructor(){super(...arguments),Ds.add(this),ES.set(this,[]),Ho.set(this,{}),wv.set(this,{}),so.set(this,void 0),Id.set(this,void 0),_f.set(this,void 0),vd.set(this,void 0),jb.set(this,void 0),Ji.set(this,void 0),kv.set(this,void 0),Sv.set(this,void 0),mm.set(this,void 0)}[(ES=new WeakMap,Ho=new WeakMap,wv=new WeakMap,so=new WeakMap,Id=new WeakMap,_f=new WeakMap,vd=new WeakMap,jb=new WeakMap,Ji=new WeakMap,kv=new WeakMap,Sv=new WeakMap,mm=new WeakMap,Ds=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",s=>{const i=r.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new Rd;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Jo.fromReadableStream(t,this.controller);for await(const a of s)_e(this,Ds,"m",G0).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new Da;return this._addRun(_e(this,Ds,"m",K0).call(this))}toReadableStream(){return new Jo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,s){const i=new Rd;return i._run(()=>i._runToolAssistantStream(t,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,r,n,s){var c;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.submitToolOutputs(r,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)_e(this,Ds,"m",G0).call(this,u);if((c=o.controller.signal)!=null&&c.aborted)throw new Da;return this._addRun(_e(this,Ds,"m",K0).call(this))}static createThreadAssistantStream(t,r,n){const s=new Rd;return s._run(()=>s._threadAssistantStream(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,r,n,s){const i=new Rd;return i._run(()=>i._runAssistantStream(t,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return _e(this,kv,"f")}currentRun(){return _e(this,Sv,"f")}currentMessageSnapshot(){return _e(this,so,"f")}currentRunStepSnapshot(){return _e(this,mm,"f")}async finalRunSteps(){return await this.done(),Object.values(_e(this,Ho,"f"))}async finalMessages(){return await this.done(),Object.values(_e(this,wv,"f"))}async finalRun(){if(await this.done(),!_e(this,Id,"f"))throw Error("Final run was not received.");return _e(this,Id,"f")}async _createThreadAssistantStream(t,r,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},a=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const c of a)_e(this,Ds,"m",G0).call(this,c);if((o=a.controller.signal)!=null&&o.aborted)throw new Da;return this._addRun(_e(this,Ds,"m",K0).call(this))}async _createAssistantStream(t,r,n,s){var c;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.create(r,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)_e(this,Ds,"m",G0).call(this,u);if((c=o.controller.signal)!=null&&c.aborted)throw new Da;return this._addRun(_e(this,Ds,"m",K0).call(this))}static accumulateDelta(t,r){for(const[n,s]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=s;continue}let i=t[n];if(i==null){t[n]=s;continue}if(n==="index"||n==="type"){t[n]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(x5(i)&&x5(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!x5(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const c=i[o];c==null?i.push(a):i[o]=this.accumulateDelta(c,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${s}, accValue: ${i}`);t[n]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,s){return await this._createAssistantStream(r,t,n,s)}async _runToolAssistantStream(t,r,n,s){return await this._createToolAssistantStream(r,t,n,s)}}Rd=gm,G0=function(t){if(!this.ended)switch(pr(this,kv,t),_e(this,Ds,"m",ZT).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":_e(this,Ds,"m",eR).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_e(this,Ds,"m",YT).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":_e(this,Ds,"m",KT).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},K0=function(){if(this.ended)throw new sr("stream has ended, this shouldn't happen");if(!_e(this,Id,"f"))throw Error("Final run has not been received");return _e(this,Id,"f")},KT=function(t){const[r,n]=_e(this,Ds,"m",XT).call(this,t,_e(this,so,"f"));pr(this,so,r),_e(this,wv,"f")[r.id]=r;for(const s of n){const i=r.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=r.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=_e(this,_f,"f")){if(_e(this,vd,"f"))switch(_e(this,vd,"f").type){case"text":this._emit("textDone",_e(this,vd,"f").text,_e(this,so,"f"));break;case"image_file":this._emit("imageFileDone",_e(this,vd,"f").image_file,_e(this,so,"f"));break}pr(this,_f,s.index)}pr(this,vd,r.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(_e(this,_f,"f")!==void 0){const s=t.data.content[_e(this,_f,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,_e(this,so,"f"));break;case"text":this._emit("textDone",s.text,_e(this,so,"f"));break}}_e(this,so,"f")&&this._emit("messageDone",t.data),pr(this,so,void 0)}},YT=function(t){const r=_e(this,Ds,"m",QT).call(this,t);switch(pr(this,mm,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==_e(this,jb,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(_e(this,Ji,"f")&&this._emit("toolCallDone",_e(this,Ji,"f")),pr(this,jb,i.index),pr(this,Ji,r.step_details.tool_calls[i.index]),_e(this,Ji,"f")&&this._emit("toolCallCreated",_e(this,Ji,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":pr(this,mm,void 0),t.data.step_details.type=="tool_calls"&&_e(this,Ji,"f")&&(this._emit("toolCallDone",_e(this,Ji,"f")),pr(this,Ji,void 0)),this._emit("runStepDone",t.data,r);break}},ZT=function(t){_e(this,ES,"f").push(t),this._emit("event",t)},QT=function(t){switch(t.event){case"thread.run.step.created":return _e(this,Ho,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=_e(this,Ho,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const s=Rd.accumulateDelta(r,n.delta);_e(this,Ho,"f")[t.data.id]=s}return _e(this,Ho,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":_e(this,Ho,"f")[t.data.id]=t.data;break}if(_e(this,Ho,"f")[t.data.id])return _e(this,Ho,"f")[t.data.id];throw new Error("No snapshot available")},XT=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in r.content){let a=r.content[i.index];r.content[i.index]=_e(this,Ds,"m",JT).call(this,i,a)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},JT=function(t,r){return Rd.accumulateDelta(r,t)},eR=function(t){switch(pr(this,Sv,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":pr(this,Id,t.data),_e(this,Ji,"f")&&(this._emit("toolCallDone",_e(this,Ji,"f")),pr(this,Ji,void 0));break}};let mN=class extends or{constructor(){super(...arguments),this.steps=new Qz(this._client)}create(t,r,n){const{include:s,...i}=r;return this._client.post(it`/threads/${t}/runs`,{query:{include:s},body:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:r.stream??!1})}retrieve(t,r,n){const{thread_id:s}=r;return this._client.get(it`/threads/${s}/runs/${t}`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,r,n){const{thread_id:s,...i}=r;return this._client.post(it`/threads/${s}/runs/${t}`,{body:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r={},n){return this._client.getAPIList(it`/threads/${t}/runs`,ls,{query:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(t,r,n){const{thread_id:s}=r;return this._client.post(it`/threads/${s}/runs/${t}/cancel`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(t,r,n){const s=await this.create(t,r,n);return await this.poll(s.id,{thread_id:t},n)}createAndStream(t,r,n){return gm.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){var i;const s=Jt([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=n==null?void 0:n.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(t,r,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(n!=null&&n.pollIntervalMs)c=n.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await m1(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,r,n){return gm.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n){const{thread_id:s,...i}=r;return this._client.post(it`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,n){const s=await this.submitToolOutputs(t,r,n);return await this.poll(s.id,r,n)}submitToolOutputsStream(t,r,n){return gm.createToolAssistantStream(t,this._client.beta.threads.runs,r,n)}};mN.Steps=Qz;class M2 extends or{constructor(){super(...arguments),this.runs=new mN(this._client),this.messages=new Zz(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,r){return this._client.get(it`/threads/${t}`,{...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,r,n){return this._client.post(it`/threads/${t}`,{body:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,r){return this._client.delete(it`/threads/${t}`,{...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(t,r){return gm.createThreadAssistantStream(t,this._client.beta.threads,r)}}M2.Runs=mN;M2.Messages=Zz;class v1 extends or{constructor(){super(...arguments),this.realtime=new j2(this._client),this.assistants=new Gz(this._client),this.threads=new M2(this._client)}}v1.Realtime=j2;v1.Assistants=Gz;v1.Threads=M2;class Xz extends or{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}let Jz=class extends or{retrieve(t,r,n){const{container_id:s}=r;return this._client.get(it`/containers/${s}/files/${t}/content`,{...n,headers:Jt([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}},gN=class extends or{constructor(){super(...arguments),this.content=new Jz(this._client)}create(t,r,n){return this._client.post(it`/containers/${t}/files`,bh({body:r,...n},this._client))}retrieve(t,r,n){const{container_id:s}=r;return this._client.get(it`/containers/${s}/files/${t}`,n)}list(t,r={},n){return this._client.getAPIList(it`/containers/${t}/files`,ls,{query:r,...n})}delete(t,r,n){const{container_id:s}=r;return this._client.delete(it`/containers/${s}/files/${t}`,{...n,headers:Jt([{Accept:"*/*"},n==null?void 0:n.headers])})}};gN.Content=Jz;class yN extends or{constructor(){super(...arguments),this.files=new gN(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(it`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",ls,{query:t,...r})}delete(t,r){return this._client.delete(it`/containers/${t}`,{...r,headers:Jt([{Accept:"*/*"},r==null?void 0:r.headers])})}}yN.Files=gN;class eH extends or{create(t,r,n){const{include:s,...i}=r;return this._client.post(it`/conversations/${t}/items`,{query:{include:s},body:i,...n})}retrieve(t,r,n){const{conversation_id:s,...i}=r;return this._client.get(it`/conversations/${s}/items/${t}`,{query:i,...n})}list(t,r={},n){return this._client.getAPIList(it`/conversations/${t}/items`,yfe,{query:r,...n})}delete(t,r,n){const{conversation_id:s}=r;return this._client.delete(it`/conversations/${s}/items/${t}`,n)}}class vN extends or{constructor(){super(...arguments),this.items=new eH(this._client)}create(t,r){return this._client.post("/conversations",{body:t,...r})}retrieve(t,r){return this._client.get(it`/conversations/${t}`,r)}update(t,r,n){return this._client.post(it`/conversations/${t}`,{body:r,...n})}delete(t,r){return this._client.delete(it`/conversations/${t}`,r)}}vN.Items=eH;class tH extends or{create(t,r){const n=!!t.encoding_format;let s=n?t.encoding_format:"base64";n&&Os(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...r});return n?i:(Os(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const c=o.embedding;o.embedding=Bfe(c)}),a)))}}class rH extends or{retrieve(t,r,n){const{eval_id:s,run_id:i}=r;return this._client.get(it`/evals/${s}/runs/${i}/output_items/${t}`,n)}list(t,r,n){const{eval_id:s,...i}=r;return this._client.getAPIList(it`/evals/${s}/runs/${t}/output_items`,ls,{query:i,...n})}}class xN extends or{constructor(){super(...arguments),this.outputItems=new rH(this._client)}create(t,r,n){return this._client.post(it`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){const{eval_id:s}=r;return this._client.get(it`/evals/${s}/runs/${t}`,n)}list(t,r={},n){return this._client.getAPIList(it`/evals/${t}/runs`,ls,{query:r,...n})}delete(t,r,n){const{eval_id:s}=r;return this._client.delete(it`/evals/${s}/runs/${t}`,n)}cancel(t,r,n){const{eval_id:s}=r;return this._client.post(it`/evals/${s}/runs/${t}`,n)}}xN.OutputItems=rH;class bN extends or{constructor(){super(...arguments),this.runs=new xN(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(it`/evals/${t}`,r)}update(t,r,n){return this._client.post(it`/evals/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/evals",ls,{query:t,...r})}delete(t,r){return this._client.delete(it`/evals/${t}`,r)}}bN.Runs=xN;let nH=class extends or{create(t,r){return this._client.post("/files",bh({body:t,...r},this._client))}retrieve(t,r){return this._client.get(it`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",ls,{query:t,...r})}delete(t,r){return this._client.delete(it`/files/${t}`,r)}content(t,r){return this._client.get(it`/files/${t}/content`,{...r,headers:Jt([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(t);for(;!a.status||!s.has(a.status);)if(await m1(r),a=await this.retrieve(t),Date.now()-i>n)throw new aN({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return a}};class sH extends or{}let iH=class extends or{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};class wN extends or{constructor(){super(...arguments),this.graders=new iH(this._client)}}wN.Graders=iH;class aH extends or{create(t,r,n){return this._client.getAPIList(it`/fine_tuning/checkpoints/${t}/permissions`,I2,{body:r,method:"post",...n})}retrieve(t,r={},n){return this._client.get(it`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}delete(t,r,n){const{fine_tuned_model_checkpoint:s}=r;return this._client.delete(it`/fine_tuning/checkpoints/${s}/permissions/${t}`,n)}}let kN=class extends or{constructor(){super(...arguments),this.permissions=new aH(this._client)}};kN.Permissions=aH;class oH extends or{list(t,r={},n){return this._client.getAPIList(it`/fine_tuning/jobs/${t}/checkpoints`,ls,{query:r,...n})}}class SN extends or{constructor(){super(...arguments),this.checkpoints=new oH(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(it`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",ls,{query:t,...r})}cancel(t,r){return this._client.post(it`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return this._client.getAPIList(it`/fine_tuning/jobs/${t}/events`,ls,{query:r,...n})}pause(t,r){return this._client.post(it`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(it`/fine_tuning/jobs/${t}/resume`,r)}}SN.Checkpoints=oH;class n0 extends or{constructor(){super(...arguments),this.methods=new sH(this._client),this.jobs=new SN(this._client),this.checkpoints=new kN(this._client),this.alpha=new wN(this._client)}}n0.Methods=sH;n0.Jobs=SN;n0.Checkpoints=kN;n0.Alpha=wN;class lH extends or{}class _N extends or{constructor(){super(...arguments),this.graderModels=new lH(this._client)}}_N.GraderModels=lH;class cH extends or{createVariation(t,r){return this._client.post("/images/variations",bh({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",bh({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}}class uH extends or{retrieve(t,r){return this._client.get(it`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",I2,t)}delete(t,r){return this._client.delete(it`/models/${t}`,r)}}class dH extends or{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class hH extends or{create(t,r){return this._client.post("/realtime/client_secrets",{body:t,...r})}}class EN extends or{constructor(){super(...arguments),this.clientSecrets=new hH(this._client)}}EN.ClientSecrets=hH;function Ufe(e,t){return!t||!Hfe(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:fH(e,t)}function fH(e,t){const r=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Wfe(t,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:zfe(t,a.text)}:a);return{...s,content:i}}return s}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||NS(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const s of n.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),n}function zfe(e,t){var r,n,s,i;return((n=(r=e.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function Hfe(e){var t;return!!cN((t=e.text)==null?void 0:t.format)}function Vfe(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function qfe(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function Wfe(e,t){const r=qfe(e.tools??[],t.name);return{...t,...t,parsed_arguments:Vfe(r)?r.$parseRaw(t.arguments):r!=null&&r.strict?JSON.parse(t.arguments):null}}function NS(e){const t=[];for(const r of e.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}var Kh,Ey,Pc,Ny,tR,rR,nR,sR;class NN extends dN{constructor(t){super(),Kh.add(this),Ey.set(this,void 0),Pc.set(this,void 0),Ny.set(this,void 0),pr(this,Ey,t)}static createResponse(t,r,n){const s=new NN(r);return s._run(()=>s._createOrRetrieveResponse(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,r,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_e(this,Kh,"m",tR).call(this);let i,a=null;"response_id"in r?(i=await t.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=r.starting_after??null):i=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const c of i)_e(this,Kh,"m",rR).call(this,c,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Da;return _e(this,Kh,"m",nR).call(this)}[(Ey=new WeakMap,Pc=new WeakMap,Ny=new WeakMap,Kh=new WeakSet,tR=function(){this.ended||pr(this,Pc,void 0)},rR=function(r,n){if(this.ended)return;const s=(a,o)=>{(n==null||o.sequence_number>n)&&this._emit(a,o)},i=_e(this,Kh,"m",sR).call(this,r);switch(s("event",r),r.type){case"response.output_text.delta":{const a=i.output[r.output_index];if(!a)throw new sr(`missing output at index ${r.output_index}`);if(a.type==="message"){const o=a.content[r.content_index];if(!o)throw new sr(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new sr(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...r,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[r.output_index];if(!a)throw new sr(`missing output at index ${r.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...r,snapshot:a.arguments});break}default:s(r.type,r);break}},nR=function(){if(this.ended)throw new sr("stream has ended, this shouldn't happen");const r=_e(this,Pc,"f");if(!r)throw new sr("request ended without sending any events");pr(this,Pc,void 0);const n=Gfe(r,_e(this,Ey,"f"));return pr(this,Ny,n),n},sR=function(r){let n=_e(this,Pc,"f");if(!n){if(r.type!=="response.created")throw new sr(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=pr(this,Pc,r.response),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const s=n.output[r.output_index];if(!s)throw new sr(`missing output at index ${r.output_index}`);s.type==="message"&&s.content.push(r.part);break}case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new sr(`missing output at index ${r.output_index}`);if(s.type==="message"){const i=s.content[r.content_index];if(!i)throw new sr(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new sr(`expected content to be 'output_text', got ${i.type}`);i.text+=r.delta}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new sr(`missing output at index ${r.output_index}`);s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.completed":{pr(this,Pc,r.response);break}}return n},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",s=>{const i=r.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=_e(this,Ny,"f");if(!t)throw new sr("stream ended without producing a ChatCompletion");return t}}function Gfe(e,t){return Ufe(e,t)}class pH extends or{list(t,r={},n){return this._client.getAPIList(it`/responses/${t}/input_items`,ls,{query:r,...n})}}class CN extends or{constructor(){super(...arguments),this.inputItems=new pH(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&NS(n),n))}retrieve(t,r={},n){return this._client.get(it`/responses/${t}`,{query:r,...n,stream:(r==null?void 0:r.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&NS(s),s))}delete(t,r){return this._client.delete(it`/responses/${t}`,{...r,headers:Jt([{Accept:"*/*"},r==null?void 0:r.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>fH(n,t))}stream(t,r){return NN.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(it`/responses/${t}/cancel`,r)}}CN.InputItems=pH;class mH extends or{create(t,r,n){return this._client.post(it`/uploads/${t}/parts`,bh({body:r,...n},this._client))}}class AN extends or{constructor(){super(...arguments),this.parts=new mH(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(it`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(it`/uploads/${t}/complete`,{body:r,...n})}}AN.Parts=mH;const Kfe=async e=>{const t=await Promise.allSettled(e),r=t.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const s of t)s.status==="fulfilled"&&n.push(s.value);return n};class gH extends or{create(t,r,n){return this._client.post(it`/vector_stores/${t}/file_batches`,{body:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,r,n){const{vector_store_id:s}=r;return this._client.get(it`/vector_stores/${s}/file_batches/${t}`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(t,r,n){const{vector_store_id:s}=r;return this._client.post(it`/vector_stores/${s}/file_batches/${t}/cancel`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(t,r,n){const s=await this.create(t,r);return await this.poll(t,s.id,n)}listFiles(t,r,n){const{vector_store_id:s,...i}=r;return this._client.getAPIList(it`/vector_stores/${s}/file_batches/${t}/files`,ls,{query:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async poll(t,r,n){var i;const s=Jt([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=n==null?void 0:n.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(r,{vector_store_id:t},{...n,headers:s}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(n!=null&&n.pollIntervalMs)c=n.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await m1(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},s){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,r.length),o=this._client,c=r.values(),u=[...n];async function d(f){for(let p of f){const m=await o.files.create({file:p,purpose:"assistants"},s);u.push(m.id)}}const h=Array(a).fill(c).map(d);return await Kfe(h),await this.createAndPoll(t,{file_ids:u})}}class yH extends or{create(t,r,n){return this._client.post(it`/vector_stores/${t}/files`,{body:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,r,n){const{vector_store_id:s}=r;return this._client.get(it`/vector_stores/${s}/files/${t}`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,r,n){const{vector_store_id:s,...i}=r;return this._client.post(it`/vector_stores/${s}/files/${t}`,{body:i,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r={},n){return this._client.getAPIList(it`/vector_stores/${t}/files`,ls,{query:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,r,n){const{vector_store_id:s}=r;return this._client.delete(it`/vector_stores/${s}/files/${t}`,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(t,r,n){const s=await this.create(t,r,n);return await this.poll(t,s.id,n)}async poll(t,r,n){var i;const s=Jt([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=n==null?void 0:n.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const a=await this.retrieve(r,{vector_store_id:t},{...n,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let c=5e3;if(n!=null&&n.pollIntervalMs)c=n.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await m1(c);break;case"failed":case"completed":return o}}}async upload(t,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:s.id},n)}async uploadAndPoll(t,r,n){const s=await this.upload(t,r,n);return await this.poll(t,s.id,n)}content(t,r,n){const{vector_store_id:s}=r;return this._client.getAPIList(it`/vector_stores/${s}/files/${t}/content`,I2,{...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class P2 extends or{constructor(){super(...arguments),this.files=new yH(this._client),this.fileBatches=new gH(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,r){return this._client.get(it`/vector_stores/${t}`,{...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,r,n){return this._client.post(it`/vector_stores/${t}`,{body:r,...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",ls,{query:t,...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,r){return this._client.delete(it`/vector_stores/${t}`,{...r,headers:Jt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}search(t,r,n){return this._client.getAPIList(it`/vector_stores/${t}/search`,I2,{body:r,method:"post",...n,headers:Jt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}P2.Files=yH;P2.FileBatches=gH;var sf,vH,_v;class xH extends or{constructor(){super(...arguments),sf.add(this)}async unwrap(t,r,n=this._client.webhookSecret,s=300){return await this.verifySignature(t,r,n,s),JSON.parse(t)}async verifySignature(t,r,n=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");_e(this,sf,"m",vH).call(this,n);const i=Jt([r]).values,a=_e(this,sf,"m",_v).call(this,i,"webhook-signature"),o=_e(this,sf,"m",_v).call(this,i,"webhook-timestamp"),c=_e(this,sf,"m",_v).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new B0("Invalid webhook timestamp format");const d=Math.floor(Date.now()/1e3);if(d-u>s)throw new B0("Webhook timestamp is too old");if(u>d+s)throw new B0("Webhook timestamp is too new");const h=a.split(" ").map(g=>g.startsWith("v1,")?g.substring(3):g),f=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),p=c?`${c}.${o}.${t}`:`${o}.${t}`,m=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const g of h)try{const w=Buffer.from(g,"base64");if(await crypto.subtle.verify("HMAC",m,w,new TextEncoder().encode(p)))return}catch{continue}throw new B0("The given webhook signature does not match the expected signature")}}sf=new WeakSet,vH=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},_v=function(t,r){if(!t)throw new Error("Headers are required");const n=t.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var CS,TN,Ev,bH;class $r{constructor({baseURL:t=Gh("OPENAI_BASE_URL"),apiKey:r=Gh("OPENAI_API_KEY"),organization:n=Gh("OPENAI_ORG_ID")??null,project:s=Gh("OPENAI_PROJECT_ID")??null,webhookSecret:i=Gh("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(CS.add(this),Ev.set(this,void 0),this.completions=new Xz(this),this.chat=new pN(this),this.embeddings=new tH(this),this.files=new nH(this),this.images=new cH(this),this.audio=new y1(this),this.moderations=new dH(this),this.models=new uH(this),this.fineTuning=new n0(this),this.graders=new _N(this),this.vectorStores=new P2(this),this.webhooks=new xH(this),this.beta=new v1(this),this.batches=new Wz(this),this.uploads=new AN(this),this.responses=new CN(this),this.realtime=new EN(this),this.conversations=new vN(this),this.evals=new bN(this),this.containers=new yN(this),r===void 0)throw new sr("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:r,organization:n,project:s,webhookSecret:i,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&Khe())throw new sr(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??TN.DEFAULT_TIMEOUT,this.logger=o.logger??console;const c="warn";this.logLevel=c,this.logLevel=zT(o.logLevel,"ClientOptions.logLevel",this)??zT(Gh("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??Jhe(),pr(this,Ev,tfe),this._options=o,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=s,this.webhookSecret=i}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return Jt([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return ofe(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${rf}`}defaultIdempotencyKey(){return`stainless-node-retry-${YU()}`}makeStatusError(t,r,n,s){return qs.generate(t,r,n,s)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let r;try{r=await t()}catch(n){throw n instanceof sr?n:new sr(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new sr(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(t,r,n){const s=!_e(this,CS,"m",bH).call(this)&&n||this.baseURL,i=Hhe(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Vhe(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(i.search=this.stringifyQuery(r)),i.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(s=>({method:t,path:r,...s})))}request(t,r=null){return new R2(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var y,v;const s=await t,i=s.maxRetries??this.maxRetries;r==null&&(r=i),await this.prepareOptions(s);const{req:a,url:o,timeout:c}=await this.buildRequest(s,{retryCount:i-r});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=n===void 0?"":`, retryOf: ${n}`,h=Date.now();if(Os(this).debug(`[${u}] sending request`,pd({retryOfRequestLogID:n,method:s.method,url:o,options:s,headers:a.headers})),(y=s.signal)!=null&&y.aborted)throw new Da;const f=new AbortController,p=await this.fetchWithTimeout(o,a,c,f).catch(gS),m=Date.now();if(p instanceof globalThis.Error){const b=`retrying, ${r} attempts remaining`;if((v=s.signal)!=null&&v.aborted)throw new Da;const k=mS(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(r)return Os(this).info(`[${u}] connection ${k?"timed out":"failed"} - ${b}`),Os(this).debug(`[${u}] connection ${k?"timed out":"failed"} (${b})`,pd({retryOfRequestLogID:n,url:o,durationMs:m-h,message:p.message})),this.retryRequest(s,r,n??u);throw Os(this).info(`[${u}] connection ${k?"timed out":"failed"} - error; no more retries left`),Os(this).debug(`[${u}] connection ${k?"timed out":"failed"} (error; no more retries left)`,pd({retryOfRequestLogID:n,url:o,durationMs:m-h,message:p.message})),k?new aN:new A2({cause:p})}const g=[...p.headers.entries()].filter(([b])=>b==="x-request-id").map(([b,k])=>", "+b+": "+JSON.stringify(k)).join(""),w=`[${u}${d}${g}] ${a.method} ${o} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${m-h}ms`;if(!p.ok){const b=await this.shouldRetry(p);if(r&&b){const F=`retrying, ${r} attempts remaining`;return await efe(p.body),Os(this).info(`${w} - ${F}`),Os(this).debug(`[${u}] response error (${F})`,pd({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:m-h})),this.retryRequest(s,r,n??u,p.headers)}const k=b?"error; no more retries left":"error; not retryable";Os(this).info(`${w} - ${k}`);const C=await p.text().catch(F=>gS(F).message),A=Ghe(C),R=A?void 0:C;throw Os(this).debug(`[${u}] response error (${k})`,pd({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,message:R,durationMs:Date.now()-h})),this.makeStatusError(p.status,A,R,p.headers)}return Os(this).info(w),Os(this).debug(`[${u}] response start`,pd({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:m-h})),{response:p,options:s,controller:f,requestLogID:u,retryOfRequestLogID:n,startTime:h}}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}requestAPIList(t,r){const n=this.makeRequest(r,null,void 0);return new gfe(this,n,t)}async fetchWithTimeout(t,r,n,s){const{signal:i,method:a,...o}=r||{};i&&i.addEventListener("abort",()=>s.abort());const c=setTimeout(()=>s.abort(),n),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,d={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(c)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(i=c)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const c=parseFloat(o);Number.isNaN(c)?i=Date.parse(o)-Date.now():i=c*1e3}if(!(i&&0<=i&&i<60*1e3)){const c=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(r,c)}return await m1(i),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:r=0}={}){const n={...t},{method:s,path:i,query:a,defaultBaseURL:o}=n,c=this.buildURL(i,a,o);"timeout"in n&&Whe("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:u,body:d}=this.buildBody({options:n}),h=await this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:r});return{req:{method:s,headers:h,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:s}){let i={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const a=Jt([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...Xhe(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=Jt([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:lz(t)}:_e(this,Ev,"f").call(this,{body:t,headers:n})}}TN=$r,Ev=new WeakMap,CS=new WeakSet,bH=function(){return this.baseURL!=="https://api.openai.com/v1"};$r.OpenAI=TN;$r.DEFAULT_TIMEOUT=6e5;$r.OpenAIError=sr;$r.APIError=qs;$r.APIConnectionError=A2;$r.APIConnectionTimeoutError=aN;$r.APIUserAbortError=Da;$r.NotFoundError=JU;$r.ConflictError=ez;$r.RateLimitError=rz;$r.BadRequestError=ZU;$r.AuthenticationError=QU;$r.InternalServerError=nz;$r.PermissionDeniedError=XU;$r.UnprocessableEntityError=tz;$r.InvalidWebhookSignatureError=B0;$r.toFile=Sfe;$r.Completions=Xz;$r.Chat=pN;$r.Embeddings=tH;$r.Files=nH;$r.Images=cH;$r.Audio=y1;$r.Moderations=dH;$r.Models=uH;$r.FineTuning=n0;$r.Graders=_N;$r.VectorStores=P2;$r.Webhooks=xH;$r.Beta=v1;$r.Batches=Wz;$r.Uploads=AN;$r.Responses=CN;$r.Realtime=EN;$r.Conversations=vN;$r.Evals=bN;$r.Containers=yN;const AS=x.createContext(void 0),Yfe=({children:e})=>{const t="https://enclave.trymaple.ai",{aiCustomFetch:r}=qr();if(!window.localStorage.getItem("access_token"))return l.jsx(AS.Provider,{value:void 0,children:e});const s=new $r({baseURL:`${t}/v1/`,dangerouslyAllowBrowser:!0,apiKey:"not-a-real-api-key",defaultHeaders:{"Accept-Encoding":"identity"},fetch:r,maxRetries:0});return l.jsx(AS.Provider,{value:s,children:e})},wH=()=>{const e=x.useContext(AS);if(e===void 0)throw new Error("useOpenAI must be used within an OpenAIProvider");return e};function Zfe({currentChatId:e,searchQuery:t="",isMobile:r=!1}){const n=wH(),s=qr(),i=Si(),a=Wa(),o=x.useContext(KE),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(null),[m,g]=x.useState(!1),[w,y]=x.useState(),[v,b]=x.useState(!1),[k,C]=x.useState(!1),A=x.useRef(null),[R,O]=x.useState([]),{isPending:F,error:j}=ts({queryKey:["conversations"],queryFn:async()=>{if(!s)return[];try{const W=(await s.listConversations({limit:20})).data||[];if(O(W),W.length>0){const se=W[W.length-1].id;y(se),b(W.length===20)}else y(void 0),b(!1);return W}catch(G){return console.error("Failed to load conversations:",G),[]}},enabled:!!s}),D=x.useCallback(async()=>{if(s)try{const W=(await s.listConversations({limit:20})).data||[];W.length>0&&O(se=>{const X=new Map(W.map(Ee=>[Ee.id,Ee]));let me=!1;const be=se.map(Ee=>{var je,Ie;const Re=X.get(Ee.id);return Re&&(X.delete(Ee.id),((je=Ee.metadata)==null?void 0:je.title)!==((Ie=Re.metadata)==null?void 0:Ie.title))?(me=!0,Re):Ee}),ge=Array.from(X.values());return!me&&ge.length===0?se:[...ge,...be]})}catch(G){console.error("Polling error:",G)}},[s]);x.useEffect(()=>{if(!s||R.length===0)return;const G=setInterval(()=>{D()},6e4);return()=>{clearInterval(G)}},[s,D,R.length]);const z=x.useCallback(async()=>{if(!(!s||!w||k)){C(!0);try{const W=(await s.listConversations({limit:10,after:w})).data||[];if(W.length>0){O(X=>[...X,...W]);const se=W[W.length-1].id;y(se),b(W.length===10)}else b(!1)}catch(G){console.error("Failed to load more conversations:",G)}finally{C(!1)}}},[s,w,k]);x.useEffect(()=>{if(!A.current||!v)return;const G=new IntersectionObserver(W=>{W[0].isIntersecting&&v&&!k&&z()},{rootMargin:"100px",threshold:.1});return G.observe(A.current),()=>{G.disconnect()}},[v,k,z]);const{data:Y}=ts({queryKey:["archivedChats"],queryFn:async()=>{if(!(s!=null&&s.get))return[];try{const G=await s.get("history_list");if(!G)return[];const W=JSON.parse(G);return Array.isArray(W)?W.sort((se,X)=>(X.updated_at||0)-(se.updated_at||0)):[]}catch(G){return console.error("Error loading archived chats:",G),[]}},enabled:!!(s!=null&&s.get),retry:!1}),Q=x.useMemo(()=>{if(!R)return[];if(!t.trim())return R;const G=t.trim().toLowerCase();return R.filter(W=>{var X;return(((X=W.metadata)==null?void 0:X.title)||"Untitled Chat").toLowerCase().includes(G)})},[R,t]),te=x.useMemo(()=>{if(!Y)return[];if(!t.trim())return Y;const G=t.trim().toLowerCase();return Y.filter(W=>W.title.toLowerCase().includes(G))},[Y,t]);x.useEffect(()=>{t.trim()&&te.length>0&&g(!0)},[t,te.length]);const Z=x.useCallback(async G=>{if(Y==null?void 0:Y.some(se=>se.id===G)){if(!(o!=null&&o.deleteChat))return;try{await o.deleteChat(G),a.invalidateQueries({queryKey:["archivedChats"]}),G===e&&i.navigate({to:"/"})}catch(se){console.error("Error deleting archived chat:",se)}}else{if(!n)return;try{if(await n.conversations.delete(G),O(se=>se.filter(X=>X.id!==G)),G===e){const se=new URLSearchParams(window.location.search);se.delete("conversation_id"),window.history.replaceState({},"",se.toString()?`/?${se}`:"/"),window.dispatchEvent(new Event("newchat"))}}catch(se){console.error("Error deleting conversation:",se)}}},[n,e,Y,o,a,i]),J=x.useCallback(G=>{var se;const W=((se=G.metadata)==null?void 0:se.title)||"Untitled Chat";p({id:G.id,title:W}),u(!0)},[]),V=x.useCallback(G=>{p({id:G.id,title:G.title}),u(!0)},[]),re=x.useCallback(G=>{var se;const W=((se=G.metadata)==null?void 0:se.title)||"Untitled Chat";p({id:G.id,title:W}),h(!0)},[]),E=x.useCallback(G=>{p({id:G.id,title:G.title}),h(!0)},[]),N=x.useCallback(async(G,W)=>{if(Y==null?void 0:Y.some(X=>X.id===G)){if(!(o!=null&&o.renameChat))return;try{await o.renameChat(G,W),a.invalidateQueries({queryKey:["archivedChats"]})}catch(X){throw console.error("Error renaming archived chat:",X),X}}else{if(!n)return;try{await n.conversations.update(G,{metadata:{title:W}}),O(X=>X.map(me=>me.id===G?{...me,metadata:{...me.metadata,title:W}}:me))}catch(X){throw console.error("Error renaming conversation:",X),X}}},[n,Y,o,a]),L=x.useCallback(G=>{const W=new URLSearchParams(window.location.search);W.set("conversation_id",G);const se=`/?${W}`;window.history.pushState({},"",se),window.dispatchEvent(new CustomEvent("conversationselected",{detail:{conversationId:G}}))},[]);if(x.useEffect(()=>{const G=()=>{D()};return window.addEventListener("conversationcreated",G),()=>window.removeEventListener("conversationcreated",G)},[D]),j)return l.jsx("div",{children:j.message});if(F)return l.jsx("div",{children:"Loading chat history..."});const M=t.trim();return M&&Q.length===0&&te.length===0?l.jsxs("div",{className:"text-muted-foreground text-center py-4",children:[l.jsxs("p",{children:['No chats found matching "',M,'"']}),l.jsx("p",{className:"text-sm mt-1",children:"Try a different search term"})]}):l.jsxs(l.Fragment,{children:[Q.map((G,W)=>{var ge;const se=((ge=G.metadata)==null?void 0:ge.title)||"Untitled Chat",X=G.id===e,be=W===Q.length-1&&!t.trim();return l.jsxs("div",{className:"relative group",ref:be?A:void 0,children:[l.jsxs("div",{onClick:()=>L(G.id),className:`rounded-lg py-2 transition-all hover:text-primary cursor-pointer ${X?"text-primary":"text-muted-foreground"}`,children:[l.jsx("div",{className:"overflow-hidden whitespace-nowrap hover:underline pr-8",children:se}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(G.created_at*1e3).toLocaleDateString()})]}),l.jsxs(vh,{children:[l.jsx(xh,{asChild:!0,children:l.jsx("button",{className:`z-50 bg-background/80 absolute right-2 top-1/2 transform -translate-y-1/2 text-primary transition-opacity p-2 ${r?"opacity-100":"opacity-0 group-hover:opacity-100"}`,onClick:Ee=>{Ee.preventDefault(),Ee.stopPropagation()},children:l.jsx(gT,{size:16})})}),l.jsxs(zu,{children:[l.jsxs(fn,{onClick:()=>J(G),children:[l.jsx(sS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Rename Chat"})]}),l.jsxs(fn,{onClick:()=>re(G),children:[l.jsx(bb,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Delete Chat"})]})]})]}),l.jsx("div",{className:"absolute inset-y-0 right-0 w-[3rem] bg-gradient-to-l from-background to-transparent pointer-events-none"})]},G.id)}),k&&l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-75"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-150"})]})}),te&&te.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("button",{onClick:()=>g(!m),className:"flex items-center gap-2 w-full text-sm text-muted-foreground hover:text-foreground transition-colors mb-2",children:[m?l.jsx(r0,{className:"h-4 w-4"}):l.jsx(IE,{className:"h-4 w-4"}),l.jsxs("span",{children:["Archived (",te.length,")"]})]}),m&&l.jsx("div",{className:"flex flex-col gap-2",children:te.map(G=>{const W=G.id===e;return l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{onClick:()=>{i.navigate({to:"/chat/$chatId",params:{chatId:G.id}})},className:`rounded-lg py-2 transition-all hover:text-primary cursor-pointer ${W?"text-primary":"text-muted-foreground"}`,children:[l.jsx("div",{className:"overflow-hidden whitespace-nowrap hover:underline pr-8",children:G.title}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(G.updated_at||G.created_at).toLocaleDateString()})]}),l.jsxs(vh,{children:[l.jsx(xh,{asChild:!0,children:l.jsx("button",{className:`z-50 bg-background/80 absolute right-2 top-1/2 transform -translate-y-1/2 text-primary transition-opacity p-2 ${r?"opacity-100":"opacity-0 group-hover:opacity-100"}`,onClick:se=>{se.preventDefault(),se.stopPropagation()},children:l.jsx(gT,{size:16})})}),l.jsxs(zu,{children:[l.jsxs(fn,{onClick:()=>V(G),children:[l.jsx(sS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Rename Chat"})]}),l.jsxs(fn,{onClick:()=>E(G),children:[l.jsx(bb,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Delete Chat"})]})]})]}),l.jsx("div",{className:"absolute inset-y-0 right-0 w-[3rem] bg-gradient-to-l from-background to-transparent pointer-events-none"})]},G.id)})})]}),f&&l.jsxs(l.Fragment,{children:[l.jsx(Che,{open:c,onOpenChange:u,chatId:f.id,currentTitle:f.title,onRename:N}),l.jsx(Uhe,{open:d,onOpenChange:h,chatTitle:f.title,onConfirm:()=>Z(f.id)})]})]})}function iR(e,[t,r]){return Math.min(r,Math.max(t,e))}function aR({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Qfe({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,o=as(r),c=x.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[i,e,s,o]);return[a,c]}function Qfe({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),i=as(t);return x.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function Xfe(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jfe=[" ","Enter","ArrowUp","ArrowDown"],epe=[" ","Enter"],x1="Select",[O2,D2,tpe]=ZE(x1),[s0,jke]=pl(x1,[tpe,qp]),L2=qp(),[rpe,Qu]=s0(x1),[npe,spe]=s0(x1),kH=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:m}=e,g=L2(t),[w,y]=x.useState(null),[v,b]=x.useState(null),[k,C]=x.useState(!1),A=QE(u),[R=!1,O]=aR({prop:n,defaultProp:s,onChange:i}),[F,j]=aR({prop:a,defaultProp:o,onChange:c}),D=x.useRef(null),z=w?m||!!w.closest("form"):!0,[Y,Q]=x.useState(new Set),te=Array.from(Y).map(Z=>Z.props.value).join(";");return l.jsx(dO,{...g,children:l.jsxs(rpe,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:Gl(),value:F,onValueChange:j,open:R,onOpenChange:O,dir:A,triggerPointerDownPosRef:D,disabled:f,children:[l.jsx(O2.Provider,{scope:t,children:l.jsx(npe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(Z=>{Q(J=>new Set(J).add(Z))},[]),onNativeOptionRemove:x.useCallback(Z=>{Q(J=>{const V=new Set(J);return V.delete(Z),V})},[]),children:r})}),z?l.jsxs(KH,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:F,onChange:Z=>j(Z.target.value),disabled:f,form:m,children:[F===void 0?l.jsx("option",{value:""}):null,Array.from(Y)]},te):null]})})};kH.displayName=x1;var SH="SelectTrigger",_H=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=L2(r),a=Qu(SH,r),o=a.disabled||n,c=Xr(t,a.onTriggerChange),u=D2(r),d=x.useRef("touch"),[h,f,p]=YH(g=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===a.value),v=ZH(w,g,y);v!==void 0&&a.onValueChange(v.value)}),m=g=>{o||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(o_,{asChild:!0,...i,children:l.jsx(Ur.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":GH(a.value)?"":void 0,...s,ref:c,onClick:Dt(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:Dt(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Dt(s.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(w&&g.key===" ")&&Jfe.includes(g.key)&&(m(),g.preventDefault())})})})});_H.displayName=SH;var EH="SelectValue",NH=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...o}=e,c=Qu(EH,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Xr(t,c.onValueNodeChange);return os(()=>{u(d)},[u,d]),l.jsx(Ur.span,{...o,ref:h,style:{pointerEvents:"none"},children:GH(c.value)?l.jsx(l.Fragment,{children:a}):i})});NH.displayName=EH;var ipe="SelectIcon",CH=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(Ur.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});CH.displayName=ipe;var ape="SelectPortal",AH=e=>l.jsx(fw,{asChild:!0,...e});AH.displayName=ape;var wh="SelectContent",TH=x.forwardRef((e,t)=>{const r=Qu(wh,e.__scopeSelect),[n,s]=x.useState();if(os(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Eh.createPortal(l.jsx(RH,{scope:e.__scopeSelect,children:l.jsx(O2.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(IH,{...e,ref:t})});TH.displayName=wh;var ro=10,[RH,Xu]=s0(wh),ope="SelectContentImpl",IH=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=Qu(wh,r),[b,k]=x.useState(null),[C,A]=x.useState(null),R=Xr(t,X=>k(X)),[O,F]=x.useState(null),[j,D]=x.useState(null),z=D2(r),[Y,Q]=x.useState(!1),te=x.useRef(!1);x.useEffect(()=>{if(b)return wE(b)},[b]),bE();const Z=x.useCallback(X=>{const[me,...be]=z().map(Re=>Re.ref.current),[ge]=be.slice(-1),Ee=document.activeElement;for(const Re of X)if(Re===Ee||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===me&&C&&(C.scrollTop=0),Re===ge&&C&&(C.scrollTop=C.scrollHeight),Re==null||Re.focus(),document.activeElement!==Ee))return},[z,C]),J=x.useCallback(()=>Z([O,b]),[Z,O,b]);x.useEffect(()=>{Y&&J()},[Y,J]);const{onOpenChange:V,triggerPointerDownPosRef:re}=v;x.useEffect(()=>{if(b){let X={x:0,y:0};const me=ge=>{var Ee,Re;X={x:Math.abs(Math.round(ge.pageX)-(((Ee=re.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Re=re.current)==null?void 0:Re.y)??0))}},be=ge=>{X.x<=10&&X.y<=10?ge.preventDefault():b.contains(ge.target)||V(!1),document.removeEventListener("pointermove",me),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",be,{capture:!0})}}},[b,V,re]),x.useEffect(()=>{const X=()=>V(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[V]);const[E,N]=YH(X=>{const me=z().filter(Ee=>!Ee.disabled),be=me.find(Ee=>Ee.ref.current===document.activeElement),ge=ZH(me,X,be);ge&&setTimeout(()=>ge.ref.current.focus())}),L=x.useCallback((X,me,be)=>{const ge=!te.current&&!be;(v.value!==void 0&&v.value===me||ge)&&(F(X),ge&&(te.current=!0))},[v.value]),M=x.useCallback(()=>b==null?void 0:b.focus(),[b]),G=x.useCallback((X,me,be)=>{const ge=!te.current&&!be;(v.value!==void 0&&v.value===me||ge)&&D(X)},[v.value]),W=n==="popper"?TS:jH,se=W===TS?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:w}:{};return l.jsx(RH,{scope:r,content:b,viewport:C,onViewportChange:A,itemRefCallback:L,selectedItem:O,onItemLeave:M,itemTextRefCallback:G,focusSelectedItem:J,selectedItemText:j,position:n,isPositioned:Y,searchRef:E,children:l.jsx(v2,{as:Iu,allowPinchZoom:!0,children:l.jsx(m2,{asChild:!0,trapped:v.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Dt(s,X=>{var me;(me=v.trigger)==null||me.focus({preventScroll:!0}),X.preventDefault()}),children:l.jsx(qg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(W,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:X=>X.preventDefault(),...y,...se,onPlaced:()=>Q(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Dt(y.onKeyDown,X=>{const me=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!me&&X.key.length===1&&N(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ge=z().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Ee=X.target,Re=ge.indexOf(Ee);ge=ge.slice(Re+1)}setTimeout(()=>Z(ge)),X.preventDefault()}})})})})})})});IH.displayName=ope;var lpe="SelectItemAlignedPosition",jH=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Qu(wh,r),a=Xu(wh,r),[o,c]=x.useState(null),[u,d]=x.useState(null),h=Xr(t,R=>d(R)),f=D2(r),p=x.useRef(!1),m=x.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=a,b=x.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&g&&w&&y){const R=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=j.left-O.left,Re=F.left-Ee,je=R.left-Re,Ie=R.width+je,Ve=Math.max(Ie,O.width),He=window.innerWidth-ro,we=iR(Re,[ro,Math.max(ro,He-Ve)]);o.style.minWidth=Ie+"px",o.style.left=we+"px"}else{const Ee=O.right-j.right,Re=window.innerWidth-F.right-Ee,je=window.innerWidth-R.right-Re,Ie=R.width+je,Ve=Math.max(Ie,O.width),He=window.innerWidth-ro,we=iR(Re,[ro,Math.max(ro,He-Ve)]);o.style.minWidth=Ie+"px",o.style.right=we+"px"}const D=f(),z=window.innerHeight-ro*2,Y=g.scrollHeight,Q=window.getComputedStyle(u),te=parseInt(Q.borderTopWidth,10),Z=parseInt(Q.paddingTop,10),J=parseInt(Q.borderBottomWidth,10),V=parseInt(Q.paddingBottom,10),re=te+Z+Y+V+J,E=Math.min(w.offsetHeight*5,re),N=window.getComputedStyle(g),L=parseInt(N.paddingTop,10),M=parseInt(N.paddingBottom,10),G=R.top+R.height/2-ro,W=z-G,se=w.offsetHeight/2,X=w.offsetTop+se,me=te+Z+X,be=re-me;if(me<=G){const Ee=D.length>0&&w===D[D.length-1].ref.current;o.style.bottom="0px";const Re=u.clientHeight-g.offsetTop-g.offsetHeight,je=Math.max(W,se+(Ee?M:0)+Re+J),Ie=me+je;o.style.height=Ie+"px"}else{const Ee=D.length>0&&w===D[0].ref.current;o.style.top="0px";const je=Math.max(G,te+g.offsetTop+(Ee?L:0)+se)+be;o.style.height=je+"px",g.scrollTop=me-G+g.offsetTop}o.style.margin=`${ro}px 0`,o.style.minHeight=E+"px",o.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,o,u,g,w,y,i.dir,n]);os(()=>b(),[b]);const[k,C]=x.useState();os(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const A=x.useCallback(R=>{R&&m.current===!0&&(b(),v==null||v(),m.current=!1)},[b,v]);return l.jsx(upe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(Ur.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});jH.displayName=lpe;var cpe="SelectPopperPosition",TS=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ro,...i}=e,a=L2(r);return l.jsx(l_,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TS.displayName=cpe;var[upe,RN]=s0(wh,{}),RS="SelectViewport",MH=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Xu(RS,r),a=RN(RS,r),o=Xr(t,i.onViewportChange),c=x.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(O2.Slot,{scope:r,children:l.jsx(Ur.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Dt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const m=window.innerHeight-ro*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(g,w);if(y<m){const v=y+p,b=Math.min(m,v),k=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});MH.displayName=RS;var PH="SelectGroup",[dpe,hpe]=s0(PH),OH=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Gl();return l.jsx(dpe,{scope:r,id:s,children:l.jsx(Ur.div,{role:"group","aria-labelledby":s,...n,ref:t})})});OH.displayName=PH;var DH="SelectLabel",LH=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hpe(DH,r);return l.jsx(Ur.div,{id:s.id,...n,ref:t})});LH.displayName=DH;var Mb="SelectItem",[fpe,$H]=s0(Mb),FH=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,o=Qu(Mb,r),c=Xu(Mb,r),u=o.value===n,[d,h]=x.useState(i??""),[f,p]=x.useState(!1),m=Xr(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),g=Gl(),w=x.useRef("touch"),y=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(fpe,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:x.useCallback(v=>{h(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(O2.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(Ur.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:m,onFocus:Dt(a.onFocus,()=>p(!0)),onBlur:Dt(a.onBlur,()=>p(!1)),onClick:Dt(a.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Dt(a.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Dt(a.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Dt(a.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Dt(a.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Dt(a.onKeyDown,v=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(epe.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});FH.displayName=Mb;var Y0="SelectItemText",BH=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Qu(Y0,r),o=Xu(Y0,r),c=$H(Y0,r),u=spe(Y0,r),[d,h]=x.useState(null),f=Xr(t,y=>h(y),c.onItemTextChange,y=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,m=x.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return os(()=>(g(m),()=>w(m)),[g,w,m]),l.jsxs(l.Fragment,{children:[l.jsx(Ur.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Eh.createPortal(i.children,a.valueNode):null]})});BH.displayName=Y0;var UH="SelectItemIndicator",zH=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $H(UH,r).isSelected?l.jsx(Ur.span,{"aria-hidden":!0,...n,ref:t}):null});zH.displayName=UH;var IS="SelectScrollUpButton",HH=x.forwardRef((e,t)=>{const r=Xu(IS,e.__scopeSelect),n=RN(IS,e.__scopeSelect),[s,i]=x.useState(!1),a=Xr(t,n.onScrollButtonChange);return os(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(qH,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});HH.displayName=IS;var jS="SelectScrollDownButton",VH=x.forwardRef((e,t)=>{const r=Xu(jS,e.__scopeSelect),n=RN(jS,e.__scopeSelect),[s,i]=x.useState(!1),a=Xr(t,n.onScrollButtonChange);return os(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(qH,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});VH.displayName=jS;var qH=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Xu("SelectScrollButton",r),a=x.useRef(null),o=D2(r),c=x.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),os(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Ur.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Dt(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Dt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Dt(s.onPointerLeave,()=>{c()})})}),ppe="SelectSeparator",WH=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Ur.div,{"aria-hidden":!0,...n,ref:t})});WH.displayName=ppe;var MS="SelectArrow",mpe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=L2(r),i=Qu(MS,r),a=Xu(MS,r);return i.open&&a.position==="popper"?l.jsx(c_,{...s,...n,ref:t}):null});mpe.displayName=MS;function GH(e){return e===""||e===void 0}var KH=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=x.useRef(null),i=Xr(t,s),a=Xfe(r);return x.useEffect(()=>{const o=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[a,r]),l.jsx(u_,{asChild:!0,children:l.jsx("select",{...n,ref:i,defaultValue:r})})});KH.displayName="BubbleSelect";function YH(e){const t=as(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(a=>{const o=r.current+a;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function ZH(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=gpe(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function gpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ype=kH,QH=_H,vpe=NH,xpe=CH,bpe=AH,XH=TH,wpe=MH,kpe=OH,JH=LH,eV=FH,Spe=BH,_pe=zH,tV=HH,rV=VH,nV=WH;const Epe=ype,Npe=kpe,Cpe=vpe,sV=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(QH,{ref:n,className:Ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(xpe,{asChild:!0,children:l.jsx(r0,{className:"h-4 w-4 opacity-50"})})]}));sV.displayName=QH.displayName;const iV=x.forwardRef(({className:e,...t},r)=>l.jsx(tV,{ref:r,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Foe,{className:"h-4 w-4"})}));iV.displayName=tV.displayName;const aV=x.forwardRef(({className:e,...t},r)=>l.jsx(rV,{ref:r,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(r0,{className:"h-4 w-4"})}));aV.displayName=rV.displayName;const oV=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(bpe,{children:l.jsxs(XH,{ref:s,className:Ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(iV,{}),l.jsx(wpe,{className:Ht("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(aV,{})]})}));oV.displayName=XH.displayName;const lV=x.forwardRef(({className:e,...t},r)=>l.jsx(JH,{ref:r,className:Ht("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lV.displayName=JH.displayName;const cV=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(eV,{ref:n,className:Ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(_pe,{children:l.jsx(jt,{className:"h-4 w-4"})})}),l.jsx(Spe,{children:t})]}));cV.displayName=eV.displayName;const Ape=x.forwardRef(({className:e,...t},r)=>l.jsx(nV,{ref:r,className:Ht("-mx-1 my-1 h-px bg-muted",e),...t}));Ape.displayName=nV.displayName;function Tpe({open:e,onOpenChange:t}){const r=qr(),[n,s]=x.useState(""),[i,a]=x.useState(""),[o,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(null),[p,m]=x.useState(!1),g=()=>{s(""),a(""),c(""),f(null),m(!1),d(!1)};x.useEffect(()=>{e||g()},[e]);const w=async y=>{if(y.preventDefault(),f(null),m(!1),i!==o){f("Passwords do not match. Please make sure your new password and confirmation match.");return}d(!0);try{await r.changePassword(n,i),m(!0),setTimeout(()=>{t(!1)},2e3)}catch(v){console.error("Failed to change password:",v),f("Failed to change password. Please check your current password and try again.")}finally{d(!1)}};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Change Password"}),l.jsx(Pn,{children:"Enter your current password and a new password to update your account."})]}),l.jsxs("form",{onSubmit:w,className:"grid gap-4 py-4",children:[h&&l.jsx(_n,{variant:"destructive",children:l.jsx(En,{children:h})}),p&&l.jsx(_n,{children:l.jsx(En,{children:"Password changed successfully. This dialog will close shortly."})}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"current-password",children:"Current Password"}),l.jsx(tn,{id:"current-password",type:"password",value:n,onChange:y=>s(y.target.value),required:!0,autoComplete:"current-password"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"new-password",children:"New Password"}),l.jsx(tn,{id:"new-password",type:"password",value:i,onChange:y=>a(y.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsx(tn,{id:"confirm-password",type:"password",value:o,onChange:y=>c(y.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),l.jsx(Rs,{children:l.jsx(Me,{type:"submit",disabled:u||p,children:u?"Changing Password...":"Change Password"})})]})]})})}function Rpe({open:e,onOpenChange:t}){const r=qr(),[n,s]=x.useState("request"),[i,a]=x.useState(""),[o,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(null),[p,m]=x.useState(""),g=async()=>{if(p!=="DELETE"){f("Please type DELETE to confirm");return}d(!0),f(null);try{const v=iF(),b=await aF(v);await r.requestAccountDeletion(b),c(v),s("confirm")}catch(v){f("Failed to request account deletion. Please try again."),console.error(v)}finally{d(!1)}},w=async()=>{d(!0),f(null);try{await r.confirmAccountDeletion(i,o);try{Lr().clearToken()}catch(v){console.error("Error clearing billing token:",v),sessionStorage.removeItem("maple_billing_token")}await r.signOut(),window.location.href="/"}catch(v){f("Failed to confirm account deletion. Please verify your code and try again."),console.error(v),d(!1)}},y=()=>{s("request"),f(null),m(""),a(""),t(!1)};return l.jsx(uu,{open:e,onOpenChange:t,children:l.jsxs(Bl,{className:"max-w-md",children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:n==="request"?"Delete Account":"Confirm Account Deletion"}),l.jsx(Vl,{children:n==="request"?"This action cannot be undone. This will permanently delete your account and all your data.":"Please check your email for a confirmation code and enter it below."})]}),l.jsxs("div",{className:"mt-4 space-y-4",children:[n==="request"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:l.jsx("p",{children:"Warning: This will permanently delete your account and all associated data. You will lose access to any paid features, chat history, and settings."})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fr,{htmlFor:"confirm-text",children:"Type DELETE to confirm"}),l.jsx(tn,{id:"confirm-text",value:p,onChange:v=>m(v.target.value),className:"w-full"})]})]}),n==="confirm"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fr,{htmlFor:"confirmation-code",children:"Confirmation Code"}),l.jsx(tn,{id:"confirmation-code",value:i,onChange:v=>a(v.target.value),placeholder:"Enter code from email",className:"w-full"})]}),h&&l.jsx(Fa,{title:"Error",description:h})]}),l.jsxs(zl,{className:"mt-4",children:[l.jsx(ql,{onClick:y,children:"Cancel"}),n==="request"?l.jsx(Me,{variant:"destructive",onClick:g,disabled:u||p!=="DELETE",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Delete Account"}):l.jsx(Me,{variant:"destructive",onClick:w,disabled:u||!i,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Confirm Deletion"})]})]})})}function Ipe({open:e,onOpenChange:t}){const r=qr(),[n,s]=x.useState(""),[i,a]=x.useState(null),[o,c]=x.useState(!1),[u,d]=x.useState(!1),[h,f]=x.useState(null),[p,m]=x.useState(!1);x.useEffect(()=>{e?g():(f(null),m(!1))},[e]);const g=async()=>{c(!0),f(null);try{const v=(await r.listInstructions({limit:100})).data.find(b=>b.is_default);v?(a(v.id),s(v.prompt)):(a(null),s(""))}catch(y){console.error("Failed to load preferences:",y),f("Failed to load preferences. Please try again.")}finally{c(!1)}},w=async y=>{y.preventDefault(),f(null),m(!1),d(!0);try{if(i)n.trim()===""?(await r.deleteInstruction(i),a(null),s("")):await r.updateInstruction(i,{prompt:n});else if(n.trim()!==""){const v=await r.createInstruction({name:"User Preferences",prompt:n,is_default:!0});a(v.id)}m(!0)}catch(v){console.error("Failed to save preferences:",v),f("Failed to save preferences. Please try again.")}finally{d(!1)}};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-[525px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"User Preferences"}),l.jsx(Pn,{children:"Customize your default system prompt for AI conversations."})]}),l.jsxs("form",{onSubmit:w,className:"grid gap-4 py-4",children:[h&&l.jsx(_n,{variant:"destructive",children:l.jsx(En,{children:h})}),p&&l.jsx(_n,{children:l.jsx(En,{children:"Preferences saved successfully."})}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"prompt",children:"System Prompt"}),l.jsx(Sg,{id:"prompt",value:n,onChange:y=>{s(y.target.value),m(!1),f(null)},placeholder:"Enter your custom system prompt here...",className:"min-h-[200px] resize-y",disabled:o}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This prompt will be used as the default instruction for your AI conversations."})]}),l.jsx(Rs,{children:l.jsx(Me,{type:"submit",disabled:o||u||p,children:o?"Loading...":u?"Saving...":"Save Preferences"})})]})]})})}function jpe(){var p,m,g,w,y,v;const e=qr(),[t,r]=x.useState(!1),[n,s]=x.useState(!1),[i,a]=x.useState(!1),[o,c]=x.useState("unverified"),{billingStatus:u}=xa(),d=((p=e.auth.user)==null?void 0:p.user.login_method)==="email",h=((g=(m=e.auth.user)==null?void 0:m.user.login_method)==null?void 0:g.toLowerCase())==="guest",f=async()=>{try{await e.requestNewVerificationEmail(),c("pending")}catch(b){console.error("Failed to resend verification email:",b)}};return l.jsxs(l.Fragment,{children:[l.jsxs(Xn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Update Your Account"}),l.jsx(Pn,{children:"Change your email or upgrade your plan."})]}),l.jsxs("form",{className:"grid gap-4 py-4",children:[!h&&l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tn,{id:"email",name:"email",type:"email",value:(w=e.auth.user)==null?void 0:w.user.email,disabled:!0}),(y=e.auth.user)!=null&&y.user.email_verified?l.jsx(fl,{className:"dark:text-green-500 text-green-700"}):l.jsx(x2,{className:"dark:text-red-500 text-red-700"})]}),!((v=e.auth.user)!=null&&v.user.email_verified)&&l.jsx("div",{className:"text-sm text-muted-foreground",children:o==="unverified"?l.jsxs(l.Fragment,{children:["Unverified -"," ",l.jsx("button",{type:"button",onClick:f,className:"text-primary hover:underline focus:outline-none",children:"Resend verification email"})]}):"Pending - Check your email for verification link"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"plan",children:"Plan"}),l.jsxs(Epe,{disabled:!0,children:[l.jsx(sV,{children:l.jsx(Cpe,{placeholder:u?`${u.product_name} Plan`:"Loading..."})}),l.jsx(oV,{children:l.jsxs(Npe,{children:[l.jsx(lV,{children:"Plan"}),l.jsx(cV,{value:(u==null?void 0:u.product_name)||"",children:u?`${u.product_name} Plan`:"Loading..."})]})})]}),(u==null?void 0:u.current_period_end)&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.payment_provider==="subscription_pass"||u.payment_provider==="zaprite"?"Expires on ":"Renews on ",new Date(Number(u.current_period_end)*1e3).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(Me,{variant:"outline",onClick:b=>{b.preventDefault(),a(!0)},type:"button",children:"User Preferences"}),(d||h)&&l.jsx(VF,{asChild:!0,children:l.jsx(Me,{onClick:b=>{b.preventDefault(),r(!0)},type:"button",children:"Change Password"})}),l.jsxs(Me,{variant:"outline",className:"border-destructive text-destructive hover:bg-destructive/10",onClick:b=>{b.preventDefault(),s(!0)},type:"button",children:[l.jsx(bb,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]}),l.jsx(Rs,{children:l.jsx(Me,{type:"submit",disabled:!0,children:"Save Changes"})})]}),(d||h)&&l.jsx(Tpe,{open:t,onOpenChange:r}),l.jsx(Rpe,{open:n,onOpenChange:s}),l.jsx(Ipe,{open:i,onOpenChange:a})]})}function Mpe(e){if(!e)return"Resets Monthly";try{const t=new Date(e),r=new Date;if(isNaN(t.getTime()))return"Resets Monthly";const n=t.getTime()-r.getTime();if(n<0)return"Resets Monthly";const s=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=Math.round((i.getTime()-s.getTime())/(1e3*60*60*24));if(a===0){const c=Math.floor(n/36e5);return c<1?"Resets in less than 1 hour":c===1?"Resets in 1 hour":`Resets in ${c} hours`}if(a===1)return"Resets Tomorrow";if(a>1&&a<=7)return`Resets in ${a} days`;const o={month:"short",day:"numeric"};return`Resets ${t.toLocaleDateString(void 0,o)}`}catch(t){return console.error("Error formatting reset date:",t),"Resets Monthly"}}function Ppe(){var i;const{billingStatus:e}=xa();if(!(e!=null&&e.total_tokens)||!(e!=null&&e.used_tokens))return null;const t=Math.min(100,Math.max(0,e.used_tokens/e.total_tokens*100)),r=Math.round(t);if(((i=e.product_name)==null?void 0:i.toLowerCase().includes("max"))&&t<90)return null;const s=()=>t>=90?"rgb(239, 68, 68)":t>=75?"rgb(245, 158, 11)":"rgb(16, 185, 129)";return l.jsxs("div",{className:"px-2 py-2 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"mb-1 flex justify-between",children:[l.jsx("span",{children:"Credit Usage"}),l.jsxs("span",{children:[r,"%"]})]}),l.jsx("div",{className:"h-2.5 w-full overflow-hidden rounded-full bg-muted",children:l.jsx("div",{className:"h-full transition-all",style:{width:`${t}%`,backgroundColor:s()}})}),l.jsx("div",{className:"mt-1 text-xs text-right",children:Mpe(e.usage_reset_date)})]})}function Ope({open:e,onOpenChange:t,teamStatus:r,onTeamCreated:n}){const[s,i]=x.useState(""),[a,o]=x.useState(!1),[c,u]=x.useState(null),d=Wa();if(r!=null&&r.team_created)return null;const h=async p=>{if(p.preventDefault(),!s.trim()){u("Please enter a team name");return}o(!0),u(null);try{await Lr().createTeam({name:s.trim()}),await d.invalidateQueries({queryKey:["teamStatus"]}),n==null||n()}catch(m){console.error("Failed to create team:",m),u(m instanceof Error?m.message:"Failed to create team")}finally{o(!1)}},f=p=>{a||(t(p),p||(i(""),u(null)))};return l.jsx(ns,{open:e,onOpenChange:f,children:l.jsxs(Xn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Set Up Your Team"}),l.jsx(Pn,{children:"You've purchased a team plan! Let's create your team to get started. You'll be able to invite members after setup."})]}),l.jsxs("form",{onSubmit:h,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"teamName",children:"Team Name"}),l.jsx(tn,{id:"teamName",value:s,onChange:p=>i(p.target.value),placeholder:"e.g., My Company Team",disabled:a,autoFocus:!0}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This is how your team will be identified. You can change it later."})]}),(r==null?void 0:r.seats_purchased)&&l.jsxs(_n,{children:[l.jsx(As,{className:"h-4 w-4"}),l.jsxs(En,{children:["Your team plan includes ",l.jsxs("strong",{children:[r.seats_purchased," seats"]}),". You'll be the team admin and can invite up to ",r.seats_purchased-1," ","additional members."]})]}),c&&l.jsxs(_n,{variant:"destructive",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:c})]})]}),l.jsxs(Rs,{children:[l.jsx(Me,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:a,children:"Cancel"}),l.jsx(Me,{type:"submit",disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Team..."]}):"Create Team"})]})]})]})})}function Dpe({open:e,onOpenChange:t,teamStatus:r}){const[n,s]=x.useState(""),[i,a]=x.useState(!1),[o,c]=x.useState(null),[u,d]=x.useState(null),[h,f]=x.useState(!1),p=Wa(),{billingStatus:m}=xa(),g=(r==null?void 0:r.seats_available)||0,w=(m==null?void 0:m.stripe_customer_id)!==null,y=async()=>{if(w)try{f(!0);const C=await Lr().getPortalUrl();if(Jl())try{const{invoke:A}=await qi(async()=>{const{invoke:R}=await Promise.resolve().then(()=>xo);return{invoke:R}},void 0);await A("plugin:opener|open_url",{url:C}).then(()=>{console.log("[TeamInvite] Successfully opened URL in external browser")}).catch(R=>{console.error("[TeamInvite] Failed to open external browser:",R),window.open(C,"_blank","noopener,noreferrer")});return}catch(A){console.error("[TeamInvite] Failed to import Tauri APIs:",A),window.open(C,"_blank","noopener,noreferrer");return}window.open(C,"_blank","noopener,noreferrer")}catch(k){console.error("Failed to open billing portal:",k)}finally{f(!1)}},v=async k=>{k.preventDefault();const C=n.split(/[\n,]/).map(O=>O.trim()).filter(O=>O.length>0);if(C.length===0){c("Please enter at least one email address");return}const A=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,R=C.filter(O=>!A.test(O));if(R.length>0){c(`Invalid email format: ${R.join(", ")}`);return}if(C.length>g){c(`Cannot invite ${C.length} members. Only ${g} ${g===1?"seat is":"seats are"} available.`);return}a(!0),c(null),d(null);try{const F=await Lr().inviteTeamMembers({emails:C});await p.invalidateQueries({queryKey:["teamStatus"]}),await p.invalidateQueries({queryKey:["teamMembers"]});const j=F.invites.length;d(`Successfully sent ${j} ${j===1?"invite":"invites"}`),s("")}catch(O){console.error("Failed to invite members:",O),c(O instanceof Error?O.message:"Failed to send invites")}finally{a(!1)}},b=k=>{if(!i){if(k&&!e)s(""),c(null),d(null);else if(!k&&e){t(k),setTimeout(()=>{s(""),c(null),d(null)},300);return}t(k)}};return l.jsx(ns,{open:e,onOpenChange:b,children:l.jsxs(Xn,{className:"sm:max-w-[500px]",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Invite Team Members"}),l.jsx(Pn,{children:"Send invitations to new team members. They'll receive an email to join your team."})]}),l.jsxs("form",{onSubmit:v,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Fr,{htmlFor:"emails",children:"Email Addresses"}),l.jsx(Sg,{id:"emails",value:n,onChange:k=>s(k.target.value),placeholder:`john@example.com
jane@example.com
or comma-separated: john@example.com, jane@example.com`,disabled:i,rows:5,className:"resize-none"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter one email per line or separate with commas"})]}),g>0&&l.jsxs(_n,{children:[l.jsx(vb,{className:"h-4 w-4"}),l.jsxs(En,{children:["You have ",l.jsx("strong",{children:g})," ",g===1?"seat":"seats"," available for new members."]})]}),g===0&&!u&&!i&&l.jsxs(l.Fragment,{children:[l.jsxs(_n,{variant:"destructive",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:"No seats available. Please purchase additional seats or remove existing members before inviting new ones."})]}),w&&l.jsxs(Me,{variant:"outline",size:"sm",className:"w-full",onClick:y,disabled:h,children:[l.jsx(u1,{className:"mr-2 h-4 w-4"}),h?"Loading...":"Manage Subscription"]})]}),o&&l.jsxs(_n,{variant:"destructive",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:o})]}),u&&l.jsxs(_n,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950",children:[l.jsx(wb,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),l.jsx(En,{className:"text-green-800 dark:text-green-200",children:u})]})]}),l.jsxs(Rs,{children:[l.jsx(Me,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:i,children:"Cancel"}),l.jsx(Me,{type:"submit",disabled:i||g===0,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Invites..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wb,{className:"mr-2 h-4 w-4"}),"Send Invites"]})})]})]})]})})}var Lpe="Separator",oR="horizontal",$pe=["horizontal","vertical"],uV=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=oR,...s}=e,i=Fpe(n)?n:oR,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(Ur.div,{"data-orientation":i,...o,...s,ref:t})});uV.displayName=Lpe;function Fpe(e){return $pe.includes(e)}var dV=uV;const hV=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(dV,{ref:s,decorative:r,orientation:t,className:Ht("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));hV.displayName=dV.displayName;function lR({teamStatus:e}){var R,O,F;const t=qr(),r=Wa(),[n,s]=x.useState({open:!1}),[i,a]=x.useState({open:!1}),[o,c]=x.useState(!1),[u,d]=x.useState(!1),[h,f]=x.useState(null),p=(R=t.auth.user)==null?void 0:R.user.email,m=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_team_admin)===!0,{data:g,isLoading:w}=ts({queryKey:["teamMembers"],queryFn:async()=>await Lr().getTeamMembers(),enabled:!!(e!=null&&e.team_created)&&m}),y=(g==null?void 0:g.members)||[],v=(g==null?void 0:g.pending_invites)||[],b=async j=>{d(!0),f(null);try{await Lr().removeTeamMember(j),await r.invalidateQueries({queryKey:["teamMembers"]}),await r.invalidateQueries({queryKey:["teamStatus"]}),s({open:!1})}catch(D){console.error("Failed to remove member:",D);const z=D instanceof Error?D.message:"Failed to remove team member";f(z)}finally{d(!1)}},k=async j=>{d(!0),f(null);try{await Lr().revokeTeamInvite(j),await r.invalidateQueries({queryKey:["teamMembers"]}),await r.invalidateQueries({queryKey:["teamStatus"]}),a({open:!1})}catch(D){console.error("Failed to revoke invite:",D);const z=D instanceof Error?D.message:"Failed to revoke invitation";f(z)}finally{d(!1)}},C=async()=>{d(!0),f(null);try{await Lr().leaveTeam(),await r.invalidateQueries({queryKey:["teamStatus"]}),window.location.reload()}catch(j){console.error("Failed to leave team:",j);const D=j instanceof Error?j.message:"Failed to leave team";f(D)}finally{d(!1)}},A=j=>{const D=new Date,Y=new Date(j).getTime()-D.getTime();if(Y<=0)return"Expired";const Q=Math.floor(Y/(1e3*60*60*24)),te=Math.floor(Y%(1e3*60*60*24)/(1e3*60*60));return Q>0?`${Q} day${Q>1?"s":""} remaining`:`${te} hour${te>1?"s":""} remaining`};return m?w?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Ar,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Team Members"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.length," active ",y.length===1?"member":"members",v.length>0&&`  ${v.length} pending invites`]})]}),l.jsx("div",{className:"space-y-3",children:y.map(j=>{const D=j.email===p,z=j.role==="admin";return l.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[l.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:j.email}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[z&&l.jsxs(ca,{variant:"default",className:"h-5",children:[l.jsx(UF,{className:"mr-1 h-3 w-3"}),"Admin"]}),D&&l.jsx(ca,{variant:"secondary",className:"h-5",children:"You"})]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",new Date(j.joined_at).toLocaleDateString()]})]}),!D&&m&&l.jsxs(vh,{children:[l.jsx(xh,{asChild:!0,children:l.jsx(Me,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(Yoe,{className:"h-4 w-4"})})}),l.jsx(zu,{align:"end",children:l.jsxs(fn,{onClick:()=>s({open:!0,member:j}),className:"text-destructive",children:[l.jsx(ule,{className:"mr-2 h-4 w-4"}),"Remove from team"]})})]}),D&&!m&&l.jsxs(Me,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"text-destructive hover:text-destructive",children:[l.jsx(xg,{className:"mr-2 h-4 w-4"}),"Leave team"]})]},j.user_id)})}),v.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(hV,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Pending Invites"}),v.map(j=>l.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[l.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:j.email}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Voe,{className:"h-3 w-3"}),A(j.expires_at)]})]}),m&&l.jsx(Me,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a({open:!0,invite:j}),children:l.jsx(Jn,{className:"h-4 w-4"})})]},j.invite_id))]})]}),y.length===0&&v.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No team members yet. Start by inviting your team!"})]}),l.jsx(uu,{open:n.open,onOpenChange:j=>{j||f(null),s({open:j})},children:l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Remove team member?"}),l.jsxs(Vl,{children:["Are you sure you want to remove ",(O=n.member)==null?void 0:O.email," from the team? They will lose access to all team resources immediately."]})]}),h&&l.jsxs(_n,{variant:"destructive",className:"mt-4",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:h})]}),l.jsxs(zl,{children:[l.jsx(ql,{disabled:u,children:"Cancel"}),l.jsx(du,{onClick:()=>n.member&&b(n.member.user_id),disabled:u,className:"bg-destructive text-white hover:bg-destructive/90",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):"Remove member"})]})]})}),l.jsx(uu,{open:i.open,onOpenChange:j=>{j||f(null),a({open:j})},children:l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Revoke invitation?"}),l.jsxs(Vl,{children:["Are you sure you want to revoke the invitation for ",(F=i.invite)==null?void 0:F.email,"? They will no longer be able to join the team using this invitation."]})]}),h&&l.jsxs(_n,{variant:"destructive",className:"mt-4",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:h})]}),l.jsxs(zl,{children:[l.jsx(ql,{disabled:u,children:"Cancel"}),l.jsx(du,{onClick:()=>i.invite&&k(i.invite.invite_id),disabled:u,className:"bg-destructive text-white hover:bg-destructive/90",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoking..."]}):"Revoke invitation"})]})]})}),l.jsx(uu,{open:o,onOpenChange:j=>{j||f(null),c(j)},children:l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Leave team?"}),l.jsx(Vl,{children:"Are you sure you want to leave the team? You will lose access to all team resources and will need to be invited again to rejoin."})]}),h&&l.jsxs(_n,{variant:"destructive",className:"mt-4",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:h})]}),l.jsxs(zl,{children:[l.jsx(ql,{disabled:u,children:"Cancel"}),l.jsx(du,{onClick:C,disabled:u,className:"bg-destructive text-white hover:bg-destructive/90",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Leaving..."]}):"Leave team"})]})]})})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Me,{variant:"outline",onClick:()=>c(!0),className:"w-full text-destructive hover:text-destructive",children:[l.jsx(xg,{className:"mr-2 h-4 w-4"}),"Leave Team"]}),l.jsx(uu,{open:o,onOpenChange:j=>{j||f(null),c(j)},children:l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Leave team?"}),l.jsx(Vl,{children:"Are you sure you want to leave the team? You will lose access to all team resources and will need to be invited again to rejoin."})]}),h&&l.jsxs(_n,{variant:"destructive",className:"mt-4",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:h})]}),l.jsxs(zl,{children:[l.jsx(ql,{disabled:u,children:"Cancel"}),l.jsx(du,{onClick:C,disabled:u,className:"bg-destructive text-white hover:bg-destructive/90",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Leaving..."]}):"Leave Team"})]})]})})]})}function Bpe({teamStatus:e}){const[t,r]=x.useState(!1),[n,s]=x.useState(!1),[i,a]=x.useState(""),[o,c]=x.useState(!1),[u,d]=x.useState(null),h=Wa();if(!e)return l.jsx(l.Fragment,{children:l.jsxs(pn,{children:[l.jsx(mn,{children:"Team Dashboard"}),l.jsx(Pn,{children:"Loading team information..."})]})});const f=e.seats_used||0,p=e.seats_purchased||0,m=e.role==="admin"||e.is_team_admin===!0,g=p>0?f/p*100:0,w=()=>{a(e.team_name||""),s(!0),d(null)},y=()=>{s(!1),a(""),d(null)},v=async()=>{const b=i.trim();if(!b){d("Team name cannot be empty");return}if(b.length>100){d("Team name must be 100 characters or less");return}if(b===e.team_name){y();return}c(!0),d(null);try{await Lr().updateTeamName(b),await h.invalidateQueries({queryKey:["teamStatus"]}),await h.invalidateQueries({queryKey:["billingStatus"]}),s(!1),a("")}catch(k){console.error("Failed to update team name:",k),d(k instanceof Error?k.message:"Failed to update team name")}finally{c(!1)}};return m?l.jsxs(l.Fragment,{children:[l.jsx(pn,{children:l.jsx(mn,{className:"text-base",children:"Team Dashboard"})}),l.jsxs("div",{className:"mt-3 space-y-3 overflow-hidden",children:[e.seat_limit_exceeded&&l.jsxs("div",{className:"rounded-md bg-destructive/10 p-2.5 text-destructive text-xs flex items-start gap-2",children:[l.jsx(pc,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:"Seat limit exceeded. Remove members or purchase additional seats."})]}),l.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2.5 group",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[n?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tn,{value:i,onChange:b=>a(b.target.value),onKeyDown:b=>{b.key==="Enter"&&v(),b.key==="Escape"&&y()},className:"h-7 text-sm font-medium",maxLength:100,autoFocus:!0,disabled:o}),o?l.jsx("div",{className:"h-7 w-7 flex items-center justify-center",children:l.jsx(Ar,{className:"h-3.5 w-3.5 animate-spin"})}):l.jsxs(l.Fragment,{children:[l.jsx(Me,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:v,children:l.jsx(jt,{className:"h-3.5 w-3.5"})}),l.jsx(Me,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:y,children:l.jsx(Jn,{className:"h-3.5 w-3.5"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-muted-foreground",children:[i.trim().length,"/100 characters"]}),u&&l.jsx("span",{className:"text-destructive",children:u})]})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-medium truncate",children:e.team_name}),l.jsx(Me,{size:"sm",variant:"ghost",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:w,children:l.jsx(sS,{className:"h-3 w-3"})})]}),!n&&e.created_at&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]}),!n&&l.jsxs(ca,{variant:m?"default":"secondary",className:"h-5 text-xs",children:[l.jsx(UF,{className:"mr-1 h-2.5 w-2.5"}),"Admin"]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:"Seat Usage"}),l.jsxs("span",{className:"font-medium",children:[f,"/",p," (",Math.round(g),"%)"]})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted",children:l.jsx("div",{className:"h-full transition-all bg-emerald-500",style:{width:`${Math.min(g,100)}%`}})})]})]}),m&&l.jsxs(Me,{onClick:()=>r(!0),disabled:e.seat_limit_exceeded,size:"sm",className:"w-full",children:[l.jsx(wb,{className:"mr-1.5 h-3.5 w-3.5"}),"Invite Members"]}),l.jsx(lR,{teamStatus:e})]}),l.jsx(Dpe,{open:t,onOpenChange:r,teamStatus:e})]}):l.jsxs(l.Fragment,{children:[l.jsx(pn,{children:l.jsx(mn,{className:"text-base",children:"Team Information"})}),l.jsxs("div",{className:"mt-3 space-y-3 overflow-hidden",children:[l.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:"font-medium truncate",children:e.team_name}),e.created_at&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]}),l.jsxs(ca,{variant:"secondary",className:"h-5 text-xs",children:[l.jsx(wg,{className:"mr-1 h-2.5 w-2.5"}),"Member"]})]})}),l.jsxs("div",{className:"rounded-lg border border-muted p-3",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-2.5",children:"Need to leave this team? You'll need an invitation to rejoin."}),l.jsx(lR,{teamStatus:e})]})]})]})}function fV({open:e,onOpenChange:t,teamStatus:r}){const[n,s]=x.useState(!1),i=(r==null?void 0:r.has_team_subscription)&&!(r!=null&&r.team_created);x.useEffect(()=>{e&&i?s(!0):i||s(!1)},[e,i]);const a=()=>{};return n&&i?l.jsx(Ope,{open:e,onOpenChange:t,teamStatus:r,onTeamCreated:a}):l.jsx(ns,{open:e,onOpenChange:t,children:l.jsx(Xn,{className:"sm:max-w-lg max-w-[calc(100vw-2rem)] max-h-[90vh] overflow-y-auto",children:l.jsx(Bpe,{teamStatus:r})})})}function Upe({open:e,onOpenChange:t,onKeyCreated:r}){const[n,s]=x.useState(""),[i,a]=x.useState(!1),[o,c]=x.useState(null),[u,d]=x.useState(!1),[h,f]=x.useState(null),{createApiKey:p}=qr(),m=async()=>{var v,b,k,C;const y=n.trim();if(!y){f("Please enter a name for your API key");return}if(y.length>100){f("API key name must be 100 characters or less");return}a(!0),f(null);try{const A=await p(y);c(A.key),console.log("API key created successfully")}catch(A){console.error("Failed to create API key:",A);const R=A;(R==null?void 0:R.status)===409||(v=R==null?void 0:R.message)!=null&&v.toLowerCase().includes("conflict")?f(`An API key named "${y}" already exists. Please choose a different name.`):(R==null?void 0:R.status)===400||(b=R==null?void 0:R.message)!=null&&b.toLowerCase().includes("invalid")?f("Invalid API key name. Please use only letters, numbers, spaces, hyphens, and underscores."):(R==null?void 0:R.status)===401||(k=R==null?void 0:R.message)!=null&&k.toLowerCase().includes("unauthorized")?f("You are not authorized to create API keys. Please check your subscription plan."):(R==null?void 0:R.status)===429||(C=R==null?void 0:R.message)!=null&&C.toLowerCase().includes("limit")?f("You've reached the maximum number of API keys. Please delete an existing key first."):f((R==null?void 0:R.message)||"Failed to create API key. Please try again.")}finally{a(!1)}},g=async()=>{if(o)try{await navigator.clipboard.writeText(o),d(!0),console.log("API key copied to clipboard"),setTimeout(()=>d(!1),2e3)}catch(y){console.error("Failed to copy:",y)}},w=()=>{o&&r(),s(""),c(null),d(!1),f(null),t(!1)};return l.jsx(ns,{open:e,onOpenChange:y=>{y||w()},children:l.jsxs(Xn,{className:"sm:max-w-md",children:[l.jsxs(pn,{children:[l.jsx(mn,{children:"Create API Key"}),l.jsx(Pn,{children:o?"Your API key has been created. Copy it now - you won't be able to see it again.":"Create a new API key for programmatic access to Maple."})]}),o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs(_n,{className:"border-amber-500/50 bg-amber-500/10",children:[l.jsx(As,{className:"h-4 w-4 text-amber-500"}),l.jsx(En,{className:"text-sm",children:"Make sure to copy your API key now. You won't be able to see it again!"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fr,{children:"Your API Key"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tn,{value:o,readOnly:!0,className:"font-mono text-xs",onClick:y=>y.currentTarget.select()}),l.jsx(Me,{size:"icon",variant:"outline",onClick:g,className:"shrink-0",children:u?l.jsx(fl,{className:"h-4 w-4 text-green-500"}):l.jsx(Th,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:l.jsxs("p",{children:["Use this key to authenticate with the Maple API."," ",l.jsx("a",{href:"https://blog.trymaple.ai/maple-proxy-documentation/",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:no-underline",children:"Read here"})]})})]}),l.jsx(Rs,{children:l.jsx(Me,{onClick:w,className:"w-full",children:"Done"})})]}):l.jsxs(l.Fragment,{children:[h&&l.jsxs(_n,{variant:"destructive",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:h})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fr,{htmlFor:"key-name",children:"Key Name"}),l.jsx(tn,{id:"key-name",placeholder:"e.g., Production App, Development",value:n,onChange:y=>s(y.target.value),onKeyDown:y=>{y.key==="Enter"&&!i&&m()},disabled:i,maxLength:100}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.trim().length,"/100 characters"]})]})}),l.jsxs(Rs,{children:[l.jsx(Me,{variant:"outline",onClick:w,disabled:i,children:"Cancel"}),l.jsx(Me,{onClick:m,disabled:i||!n.trim(),children:i?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create API Key"})]})]})]})})}function zpe({apiKeys:e,onKeyDeleted:t}){const[r,n]=x.useState(null),[s,i]=x.useState(!1),{deleteApiKey:a}=qr(),o=async()=>{if(r){i(!0);try{await a(r),console.log(`API key "${r}" deleted successfully`),t()}catch(u){console.error("Failed to delete API key:",u)}finally{i(!1),n(null)}}},c=u=>{const d=new Date(u);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(d)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"rounded-lg border border-muted",children:l.jsx("div",{className:"divide-y divide-border",children:e.map(u=>l.jsxs("div",{className:"p-3 flex items-center justify-between gap-3 hover:bg-muted/30 transition-colors",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:u.name}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[l.jsx(Loe,{className:"h-3 w-3"}),"Created ",c(u.created_at)]})]}),l.jsx(Me,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>n(u.name),children:l.jsx(lle,{className:"h-3.5 w-3.5"})})]},u.name))})}),l.jsx(uu,{open:!!r,onOpenChange:()=>n(null),children:l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Delete API Key"}),l.jsxs(Vl,{children:['Are you sure you want to delete the API key "',r,'"? This action cannot be undone and any applications using this key will stop working immediately.']})]}),l.jsxs(zl,{children:[l.jsx(ql,{disabled:s,children:"Cancel"}),l.jsx(du,{onClick:o,disabled:s,className:"bg-destructive text-white hover:bg-destructive/90",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}const cR=[{credits:2e4,price:20,label:"20,000 credits"},{credits:5e4,price:50,label:"50,000 credits"},{credits:1e5,price:100,label:"100,000 credits"},{credits:5e5,price:500,label:"500,000 credits"}];function Hpe({showSuccessMessage:e=!1}){var O,F,j;const[t,r]=x.useState(cR[0]),[n,s]=x.useState(!1),[i,a]=x.useState(null),[o,c]=x.useState(e),[u,d]=x.useState(!1),[h,f]=x.useState(""),[p,m]=x.useState(null),{auth:g}=qr(),w=Jl(),y=(O=g.user)==null?void 0:O.user.email,v=((j=(F=g.user)==null?void 0:F.user.login_method)==null?void 0:j.toLowerCase())==="guest";x.useEffect(()=>{if(e){c(!0);const D=setTimeout(()=>c(!1),5e3);return()=>clearTimeout(D)}},[e]);const{data:b,isLoading:k,error:C}=ts({queryKey:["apiCreditBalance"],queryFn:async()=>await Lr().getApiCreditBalance(),enabled:!!g.user&&!g.loading}),A=D=>new Intl.NumberFormat("en-US").format(D),R=async D=>{m(null);let z=t;if(u){const Y=parseInt(h);if(isNaN(Y)||Y<10||Y>1e3)return;z={credits:Y*1e3,price:Y,label:`${A(Y*1e3)} credits`}}s(!0),a(D);try{const Y=Lr();let Q,te;if(w)Q=`https://trymaple.ai/payment-success-credits?source=${D}`,te=D==="stripe"?"https://trymaple.ai/payment-canceled?source=stripe":void 0;else{const Z=window.location.origin;Q=`${Z}/?credits_success=true`,te=D==="stripe"?`${Z}/`:void 0}if(D==="stripe"){const Z=await Y.purchaseApiCredits({credits:z.credits,email:y||"",success_url:Q,cancel_url:te||Q});window.location.href=Z.checkout_url}else{const Z=await Y.purchaseApiCreditsZaprite({credits:z.credits,email:y||"",success_url:Q});window.location.href=Z.checkout_url}}catch(Y){console.error("Failed to create checkout session:",Y),m("Failed to create checkout session. Please try again.")}finally{s(!1),a(null)}};return k?l.jsx(hn,{className:"p-4",children:l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsx(Ar,{className:"h-6 w-6 animate-spin"})})}):C?l.jsx(hn,{className:"p-4",children:l.jsx("p",{className:"text-sm text-destructive",children:"Failed to load credit balance"})}):l.jsxs("div",{className:"space-y-4",children:[o&&l.jsxs(_n,{className:"border-green-500/50 bg-green-500/10",children:[l.jsx(fl,{className:"h-4 w-4 text-green-500"}),l.jsx(En,{className:"text-sm",children:"Payment successful! Your credits have been added to your account."})]}),p&&l.jsx(_n,{className:"border-destructive/50 bg-destructive/10",children:l.jsx(En,{className:"text-sm text-destructive",children:p})}),l.jsx(hn,{className:"p-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"API Credit Balance"}),l.jsxs("p",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(Woe,{className:"h-5 w-5"}),A((b==null?void 0:b.balance)||0)]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"$1 per 1,000 credits  Use for API requests"})]})})}),l.jsxs(hn,{className:"p-4",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Purchase Credits"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:cR.map(D=>l.jsxs("button",{onClick:()=>{r(D),d(!1),f("")},className:`p-3 rounded-lg border text-left transition-colors ${t.credits===D.credits&&!u?"border-primary bg-primary/10":"border-border hover:border-muted-foreground"}`,children:[l.jsx("p",{className:"font-medium text-sm",children:D.label}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",D.price]})]},D.credits))}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("button",{onClick:()=>{d(!u),u||f("")},className:`w-full p-3 rounded-lg border text-left transition-colors flex items-center justify-between ${u?"border-primary bg-primary/10":"border-border hover:border-muted-foreground"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:"Custom Amount"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"$10 - $1,000"})]}),l.jsx(k2,{className:"h-4 w-4"})]}),u&&l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx(tn,{type:"number",placeholder:"Enter amount ($10-$1000)",value:h,onChange:D=>f(D.target.value),onKeyDown:D=>{D.key==="."&&D.preventDefault()},min:"10",max:"1000",step:"1",className:"text-center"}),h&&l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:(()=>{const D=parseInt(h);return isNaN(D)||D<10?"Minimum $10 required":D>1e3?"Maximum $1,000 allowed":`${A(D*1e3)} credits for $${D}`})()})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs(Me,{onClick:()=>R("stripe"),disabled:n||v||u&&(!h||parseInt(h)<10||parseInt(h)>1e3),className:"flex-1 w-full sm:w-auto",size:"default",title:v?"Anonymous accounts must use Bitcoin":void 0,children:[n&&i==="stripe"?l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(u1,{className:"mr-2 h-4 w-4"}),"Pay with Card"]}),l.jsxs(Me,{onClick:()=>R("zaprite"),disabled:n||u&&(!h||parseInt(h)<10||parseInt(h)>1e3),variant:"outline",className:"flex-1 w-full sm:w-auto",size:"default",children:[n&&i==="zaprite"?l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx($F,{className:"mr-2 h-4 w-4"}),"Pay with Bitcoin"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["Minimum purchase: ",KF.toLocaleString()," credits ($",YF,")"]})]})]})}class Vpe{validatePort(t){if(!Number.isInteger(t)||t<0||t>65535)throw new Error(`Port must be a valid u16 integer (0-65535), got: ${t}`)}async startProxy(t){try{return this.validatePort(t.port),await Mn("start_proxy",{config:t})}catch(r){throw console.error("Failed to start proxy:",r),r}}async stopProxy(){try{return await Mn("stop_proxy")}catch(t){throw console.error("Failed to stop proxy:",t),t}}async getProxyStatus(){try{return await Mn("get_proxy_status")}catch(t){throw console.error("Failed to get proxy status:",t),t}}async loadProxyConfig(){try{return await Mn("load_proxy_config")}catch(t){return console.error("Failed to load proxy config:",t),{host:"127.0.0.1",port:8080,api_key:"",enabled:!1}}}async saveProxySettings(t){try{this.validatePort(t.port),await Mn("save_proxy_settings",{config:t})}catch(r){throw console.error("Failed to save proxy settings:",r),r}}async testProxyPort(t,r){try{return this.validatePort(r),await Mn("test_proxy_port",{host:t,port:r})}catch(n){throw console.error("Failed to test proxy port:",n),n}}async isTauriDesktop(){try{const{isTauri:t}=await qi(async()=>{const{isTauri:i}=await Promise.resolve().then(()=>xo);return{isTauri:i}},void 0);if(!await t())return!1;const{type:n}=await qi(async()=>{const{type:i}=await import("./index-dAUlD-zt.js");return{type:i}},[]),s=await n();return s==="macos"||s==="windows"||s==="linux"}catch{return!1}}}const E0=new Vpe;function qpe({apiKeys:e,onRequestNewApiKey:t}){const[r,n]=x.useState(null),[s,i]=x.useState({host:"127.0.0.1",port:8080,api_key:"",enabled:!1,enable_cors:!0,auto_start:!1}),[a,o]=x.useState(!1),[c,u]=x.useState(null),[d,h]=x.useState(!1),f=WF();x.useEffect(()=>{f&&p()},[f]);const p=async()=>{try{const[b,k]=await Promise.all([E0.loadProxyConfig(),E0.getProxyStatus()]);i(b),n(k)}catch(b){console.error("Failed to load proxy state:",b)}},m=async()=>{o(!0);try{let b=s.api_key;if(!b){const F=`maple-desktop-${new Date().toISOString().split("T")[0].replace(/-/g,"")}`;if(e.find(D=>D.name===F)){u({type:"error",text:"Please select an existing API key or create a new one"}),o(!1);return}try{b=await t(F),i(D=>({...D,api_key:b}))}catch{u({type:"error",text:"Failed to create API key. Please create an API key manually first"}),o(!1);return}}const k=Number(s.port);if(!Number.isInteger(k)||k<1||k>65535){u({type:"error",text:`Invalid port: ${s.port}. Port must be between 1 and 65535.`}),o(!1);return}const A={...s,api_key:b,enabled:!0,backend_url:"https://enclave.trymaple.ai",auto_start:s.auto_start},R=await E0.startProxy(A);n(R),i(A),u({type:"success",text:`Proxy is now running on ${s.host}:${s.port}`})}catch(b){u({type:"error",text:`Failed to start proxy: ${b}`})}finally{o(!1)}},g=async()=>{o(!0);try{const b=await E0.stopProxy();n(b),i(k=>({...k,enabled:!1})),u({type:"success",text:"The proxy server has been stopped"})}catch(b){u({type:"error",text:`Failed to stop proxy: ${b}`})}finally{o(!1)}},w=(b,k)=>{i(C=>({...C,[b]:k}))},y=()=>{const b=`http://${s.host}:${s.port}/v1`;navigator.clipboard.writeText(b),h(!0),setTimeout(()=>h(!1),2e3)};if(!f)return null;const v=(r==null?void 0:r.running)||!1;return l.jsxs(l.Fragment,{children:[c&&l.jsx(_n,{className:`${c.type==="error"?"border-destructive/50":"border-green-500/50"} mb-3`,children:l.jsxs("div",{className:"flex items-start gap-2",children:[c.type==="error"?l.jsx(As,{className:"h-4 w-4 flex-shrink-0"}):l.jsx(fl,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),l.jsx(En,{className:"text-xs",children:c.text})]})}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(w2,{className:"h-4 w-4"}),"Local OpenAI Proxy"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:v?"Running":"Stopped"}),l.jsx("div",{className:`h-2 w-2 rounded-full ${v?"bg-green-500":"bg-gray-400"}`})]})]}),l.jsxs(hn,{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Fr,{htmlFor:"proxy-host",className:"text-xs",children:"Host"}),l.jsx(tn,{id:"proxy-host",value:s.host,onChange:b=>w("host",b.target.value),placeholder:"127.0.0.1",disabled:v,className:"h-8 text-sm"})]}),l.jsxs("div",{children:[l.jsx(Fr,{htmlFor:"proxy-port",className:"text-xs",children:"Port"}),l.jsx("div",{className:"flex gap-2",children:l.jsx(tn,{id:"proxy-port",type:"number",value:s.port,onChange:b=>w("port",parseInt(b.target.value)||8080),placeholder:"8080",disabled:v,className:"h-8 text-sm"})})]})]}),s.api_key&&l.jsxs("div",{children:[l.jsx(Fr,{className:"text-xs",children:"API Key Status"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"API key configured"})]}),v&&l.jsxs("div",{children:[l.jsx(Fr,{className:"text-xs",children:"Proxy URL"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(tn,{value:`http://${s.host}:${s.port}/v1`,readOnly:!0,className:"h-8 text-sm font-mono"}),l.jsx(Me,{size:"sm",variant:"outline",onClick:y,className:"h-8",children:d?l.jsx(jt,{className:"h-3 w-3"}):l.jsx(Th,{className:"h-3 w-3"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this URL as your OpenAI base URL in any client"})]}),l.jsx("div",{className:"flex gap-2",children:v?l.jsxs(Me,{onClick:g,disabled:a,variant:"destructive",size:"sm",className:"flex-1",children:[a?l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(ale,{className:"mr-2 h-4 w-4"}),"Stop Proxy"]}):l.jsxs(Me,{onClick:m,disabled:a,size:"sm",className:"flex-1",children:[a?l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(sle,{className:"mr-2 h-4 w-4"}),"Start Proxy"]})}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsx(Fr,{htmlFor:"enable-cors",className:"text-xs",children:"Enable CORS (for web clients)"}),l.jsx("input",{id:"enable-cors",type:"checkbox",checked:s.enable_cors??!0,onChange:b=>w("enable_cors",b.target.checked),disabled:v,className:"h-4 w-4"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Fr,{htmlFor:"auto-start",className:"text-xs",children:"Auto-start proxy when app launches"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Proxy will start automatically on app launch if configured"})]}),l.jsx("input",{id:"auto-start",type:"checkbox",checked:s.auto_start??!1,onChange:async b=>{const k={...s,auto_start:b.target.checked};i(k);try{await E0.saveProxySettings(k),u({type:"success",text:b.target.checked?"Auto-start enabled":"Auto-start disabled"})}catch{u({type:"error",text:"Failed to save auto-start setting"})}},disabled:!s.api_key,className:"h-4 w-4"})]})]}),v&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(hn,{className:"p-3",children:l.jsxs("div",{className:"text-xs",children:[l.jsx("strong",{children:"Python Example:"}),l.jsx("pre",{className:"mt-2 text-xs bg-background p-2 rounded border overflow-x-auto",children:l.jsx("code",{children:`from openai import OpenAI
client = OpenAI(
  base_url="http://${s.host}:${s.port}/v1",
  api_key="anything"  # API key handled by proxy
)

response = client.chat.completions.create(
  model="llama-3.3-70b",
  messages=[{"role": "user", "content": "Hello!"}],
  stream=True
)

for chunk in response:
    print(chunk.choices[0].delta.content or "", end="")`})})]})}),l.jsx(hn,{className:"p-3",children:l.jsxs("div",{className:"text-xs",children:[l.jsx("strong",{children:"cURL Example:"}),l.jsx("pre",{className:"mt-2 text-xs bg-background p-2 rounded border overflow-x-auto",children:l.jsx("code",{children:`curl -N http://${s.host}:${s.port}/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "llama-3.3-70b",
    "messages": [{"role": "user", "content": "Hello!"}],
    "stream": true
  }'`})})]})})]})]})}function A5(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Wpe(e,t=[]){let r=[];function n(i,a){const o=x.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:f,children:p,...m}=h,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||o,w=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>x.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Gpe(s,...t)]}function Gpe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function qf(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function pV(e,t=[]){let r=[];function n(i,a){const o=x.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:f,children:p,...m}=h,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||o,w=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>x.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Kpe(s,...t)]}function Kpe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function uR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function IN(...e){return t=>{let r=!1;const n=e.map(s=>{const i=uR(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():uR(e[s],null)}}}}function PS(...e){return x.useCallback(IN(...e),e)}function dR(e){const t=Ype(e),r=x.forwardRef((n,s)=>{const{children:i,...a}=n,o=x.Children.toArray(i),c=o.find(Qpe);if(c){const u=c.props.children,d=o.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Ype(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const a=Jpe(s),o=Xpe(i,s.props);return s.type!==x.Fragment&&(o.ref=n?IN(n,a):a),x.cloneElement(s,o)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zpe=Symbol("radix.slottable");function Qpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zpe}function Xpe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Jpe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function e0e(e){const t=e+"CollectionProvider",[r,n]=pV(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:w,children:y}=g,v=Ls.useRef(null),b=Ls.useRef(new Map).current;return l.jsx(s,{scope:w,itemMap:b,collectionRef:v,children:y})};a.displayName=t;const o=e+"CollectionSlot",c=dR(o),u=Ls.forwardRef((g,w)=>{const{scope:y,children:v}=g,b=i(o,y),k=PS(w,b.collectionRef);return l.jsx(c,{ref:k,children:v})});u.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=dR(d),p=Ls.forwardRef((g,w)=>{const{scope:y,children:v,...b}=g,k=Ls.useRef(null),C=PS(w,k),A=i(d,y);return Ls.useEffect(()=>(A.itemMap.set(k,{ref:k,...b}),()=>void A.itemMap.delete(k))),l.jsx(f,{[h]:"",ref:C,children:v})});p.displayName=d;function m(g){const w=i(e+"CollectionConsumer",g);return Ls.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((A,R)=>b.indexOf(A.ref.current)-b.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},m,n]}var t0e=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},r0e=Gb[" useId ".trim().toString()]||(()=>{}),n0e=0;function s0e(e){const[t,r]=x.useState(r0e());return t0e(()=>{r(n=>n??String(n0e++))},[e]),t?`radix-${t}`:""}function i0e(e){const t=a0e(e),r=x.forwardRef((n,s)=>{const{children:i,...a}=n,o=x.Children.toArray(i),c=o.find(l0e);if(c){const u=c.props.children,d=o.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function a0e(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const a=u0e(s),o=c0e(i,s.props);return s.type!==x.Fragment&&(o.ref=n?IN(n,a):a),x.cloneElement(s,o)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o0e=Symbol("radix.slottable");function l0e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o0e}function c0e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function u0e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var d0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mV=d0e.reduce((e,t)=>{const r=i0e(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function h0e(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var f0e=x.createContext(void 0);function p0e(e){const t=x.useContext(f0e);return e||t||"ltr"}var T5="rovingFocusGroup.onEntryFocus",m0e={bubbles:!1,cancelable:!0},b1="RovingFocusGroup",[OS,gV,g0e]=e0e(b1),[y0e,yV]=pV(b1,[g0e]),[v0e,x0e]=y0e(b1),vV=x.forwardRef((e,t)=>l.jsx(OS.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(OS.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(b0e,{...e,ref:t})})}));vV.displayName=b1;var b0e=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=x.useRef(null),p=PS(t,f),m=p0e(i),[g,w]=HE({prop:a,defaultProp:o??null,onChange:c,caller:b1}),[y,v]=x.useState(!1),b=h0e(u),k=gV(r),C=x.useRef(!1),[A,R]=x.useState(0);return x.useEffect(()=>{const O=f.current;if(O)return O.addEventListener(T5,b),()=>O.removeEventListener(T5,b)},[b]),l.jsx(v0e,{scope:r,orientation:n,dir:m,loop:s,currentTabStopId:g,onItemFocus:x.useCallback(O=>w(O),[w]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>R(O=>O-1),[]),children:l.jsx(mV.div,{tabIndex:y||A===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:qf(e.onMouseDown,()=>{C.current=!0}),onFocus:qf(e.onFocus,O=>{const F=!C.current;if(O.target===O.currentTarget&&F&&!y){const j=new CustomEvent(T5,m0e);if(O.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=k().filter(Z=>Z.focusable),z=D.find(Z=>Z.active),Y=D.find(Z=>Z.id===g),te=[z,Y,...D].filter(Boolean).map(Z=>Z.ref.current);wV(te,d)}}C.current=!1}),onBlur:qf(e.onBlur,()=>v(!1))})})}),xV="RovingFocusGroupItem",bV=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...o}=e,c=s0e(),u=i||c,d=x0e(xV,r),h=d.currentTabStopId===u,f=gV(r),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),l.jsx(OS.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(mV.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:qf(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:qf(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:qf(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=S0e(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=f().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const k=b.indexOf(w.currentTarget);b=d.loop?_0e(b,k+1):b.slice(k+1)}setTimeout(()=>wV(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});bV.displayName=xV;var w0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k0e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S0e(e,t,r){const n=k0e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return w0e[n]}function wV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function _0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var E0e=vV,N0e=bV;function hR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function C0e(...e){return t=>{let r=!1;const n=e.map(s=>{const i=hR(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():hR(e[s],null)}}}}function A0e(e){const t=T0e(e),r=x.forwardRef((n,s)=>{const{children:i,...a}=n,o=x.Children.toArray(i),c=o.find(I0e);if(c){const u=c.props.children,d=o.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function T0e(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const a=M0e(s),o=j0e(i,s.props);return s.type!==x.Fragment&&(o.ref=n?C0e(n,a):a),x.cloneElement(s,o)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R0e=Symbol("radix.slottable");function I0e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R0e}function j0e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function M0e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var P0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$2=P0e.reduce((e,t)=>{const r=A0e(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),O0e=x.createContext(void 0);function D0e(e){const t=x.useContext(O0e);return e||t||"ltr"}var L0e=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},$0e=Gb[" useId ".trim().toString()]||(()=>{}),F0e=0;function B0e(e){const[t,r]=x.useState($0e());return L0e(()=>{r(n=>n??String(F0e++))},[e]),e||(t?`radix-${t}`:"")}var F2="Tabs",[U0e,Mke]=Wpe(F2,[yV]),kV=yV(),[z0e,jN]=U0e(F2),SV=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=D0e(o),[h,f]=HE({prop:n,onChange:s,defaultProp:i??"",caller:F2});return l.jsx(z0e,{scope:r,baseId:B0e(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:l.jsx($2.div,{dir:d,"data-orientation":a,...u,ref:t})})});SV.displayName=F2;var _V="TabsList",EV=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=jN(_V,r),a=kV(r);return l.jsx(E0e,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx($2.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});EV.displayName=_V;var NV="TabsTrigger",CV=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=jN(NV,r),o=kV(r),c=RV(a.baseId,n),u=IV(a.baseId,n),d=n===a.value;return l.jsx(N0e,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx($2.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:A5(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:A5(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:A5(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});CV.displayName=NV;var AV="TabsContent",TV=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,o=jN(AV,r),c=RV(o.baseId,n),u=IV(o.baseId,n),d=n===o.value,h=x.useRef(d);return x.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(VE,{present:s||d,children:({present:f})=>l.jsx($2.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});TV.displayName=AV;function RV(e,t){return`${e}-trigger-${t}`}function IV(e,t){return`${e}-content-${t}`}var H0e=SV,jV=EV,MV=CV,PV=TV;const V0e=H0e,OV=x.forwardRef(({className:e,...t},r)=>l.jsx(jV,{ref:r,className:Ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));OV.displayName=jV.displayName;const Nv=x.forwardRef(({className:e,...t},r)=>l.jsx(MV,{ref:r,className:Ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Nv.displayName=MV.displayName;const Cv=x.forwardRef(({className:e,...t},r)=>l.jsx(PV,{ref:r,className:Ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Cv.displayName=PV.displayName;function q0e({showCreditSuccessMessage:e=!1}){const[t,r]=x.useState(!1),n=WF(),{listApiKeys:s,auth:i,createApiKey:a}=qr(),{billingStatus:o}=xa(),c=ws(),u=o===null,d=(o==null?void 0:o.product_name)||"",h=d.toLowerCase().includes("pro"),f=d.toLowerCase().includes("max"),p=d.toLowerCase().includes("team"),m=h||f||p,{data:g,isLoading:w,error:y,refetch:v}=ts({queryKey:["apiKeys"],queryFn:async()=>(await s()).keys.sort((R,O)=>new Date(O.created_at).getTime()-new Date(R.created_at).getTime()),enabled:!!i.user&&!i.loading}),b=()=>{v(),r(!1)},k=()=>{v()},C=async A=>{try{const R=await a(A);return await v(),R.key}catch(R){throw console.error("Failed to create API key for proxy:",R),R}};return u||w?l.jsxs(l.Fragment,{children:[l.jsxs(pn,{children:[l.jsx(mn,{className:"text-base",children:"API Management"}),l.jsx(Pn,{children:"Loading..."})]}),l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Ar,{className:"h-6 w-6 animate-spin"})})]}):y?l.jsx(l.Fragment,{children:l.jsxs(pn,{children:[l.jsx(mn,{className:"text-base",children:"API Management"}),l.jsx(Pn,{className:"text-destructive",children:"Failed to load API keys. Please try again."})]})}):m?l.jsxs(l.Fragment,{children:[l.jsxs(pn,{children:[l.jsx(mn,{className:"text-base",children:"API Access"}),l.jsxs(Pn,{children:["Manage API keys and configure access to Maple services."," ",l.jsx("a",{href:"https://blog.trymaple.ai/maple-proxy-documentation/",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:no-underline",children:"Read more"})]})]}),l.jsxs(V0e,{defaultValue:"credits",className:"mt-4",children:[l.jsxs(OV,{className:`grid w-full ${n?"grid-cols-3":"grid-cols-2"}`,children:[l.jsxs(Nv,{value:"credits",className:"flex items-center gap-2",children:[l.jsx(u1,{className:"h-4 w-4"}),"Credits"]}),l.jsxs(Nv,{value:"api-keys",className:"flex items-center gap-2",children:[l.jsx(zF,{className:"h-4 w-4"}),"API Keys"]}),n&&l.jsxs(Nv,{value:"local-proxy",className:"flex items-center gap-2",children:[l.jsx(w2,{className:"h-4 w-4"}),"Local Proxy"]})]}),l.jsx(Cv,{value:"credits",className:"mt-4",children:l.jsx("div",{className:"space-y-4",children:l.jsx(Hpe,{showSuccessMessage:e})})}),l.jsx(Cv,{value:"api-keys",className:"mt-4",children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-medium text-sm",children:"API Keys"}),l.jsxs(Me,{onClick:()=>r(!0),size:"sm",className:"w-full",children:[l.jsx(iS,{className:"mr-1.5 h-3.5 w-3.5"}),"Create New API Key"]}),g&&g.length>0&&l.jsx(zpe,{apiKeys:g,onKeyDeleted:k}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1.5 pt-2",children:[l.jsx("p",{children:"API keys allow you to integrate Maple into your applications and workflows."}),l.jsx("p",{children:"Keep your API keys secure and never share them publicly. Treat them like passwords."})]})]})})}),n&&l.jsx(Cv,{value:"local-proxy",className:"mt-4",children:l.jsx("div",{className:"space-y-4",children:l.jsx(qpe,{apiKeys:g||[],onRequestNewApiKey:C})})})]}),l.jsx(Upe,{open:t,onOpenChange:r,onKeyCreated:b})]}):l.jsxs(l.Fragment,{children:[l.jsxs(pn,{children:[l.jsxs(mn,{className:"text-base flex items-center gap-2",children:[l.jsx(fc,{className:"h-5 w-5 text-amber-500"}),"Unlock API Access"]}),l.jsx(Pn,{children:"Upgrade to a paid plan to access powerful API features"})]}),l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsx(hn,{className:"p-6 bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg",children:l.jsx(PE,{className:"h-5 w-5 text-amber-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Programmatic Access"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Integrate Maple directly into your applications and workflows"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:l.jsx(bg,{className:"h-5 w-5 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Secure API Keys"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage multiple API keys with granular control"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:l.jsx(ile,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Pay-As-You-Go Credits"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase credits for API usage at just $1 per 1,000 credits"})]})]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Starting at just ",l.jsx("span",{className:"font-semibold text-foreground",children:"$20/month"})," with the Pro plan"]}),l.jsxs(Me,{onClick:()=>c({to:"/pricing"}),className:"w-full",size:"lg",children:[l.jsx(fc,{className:"mr-2 h-4 w-4"}),"View Pricing Plans"]}),l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Unlock API access, increased limits, and premium features"})]})]})]})}function DV({open:e,onOpenChange:t,showCreditSuccessMessage:r=!1}){return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsx(Xn,{className:"sm:max-w-lg max-w-[calc(100vw-2rem)] max-h-[90vh] overflow-y-auto",children:l.jsx(q0e,{showCreditSuccessMessage:r})})})}function W0e(){const{clearHistory:e}=xa(),t=qr(),r=Wa(),n=ws();async function s(){try{await e(),console.log("History (KV) cleared")}catch(i){console.error("Error clearing history:",i)}try{const i=await t.listConversations({limit:1});i.data&&i.data.length>0&&(await t.deleteConversations(),console.log("Server conversations deleted"))}catch(i){console.error("Error deleting conversations:",i)}r.invalidateQueries({queryKey:["chatHistory"]}),r.invalidateQueries({queryKey:["conversations"]}),r.invalidateQueries({queryKey:["archivedChats"]}),n({to:"/"})}return l.jsxs(Bl,{children:[l.jsxs(Ul,{children:[l.jsx(Hl,{children:"Are you sure?"}),l.jsx(Vl,{children:"This will delete your entire chat history."})]}),l.jsxs(zl,{children:[l.jsx(ql,{children:"Cancel"}),l.jsx(du,{onClick:s,children:"Delete"})]})]})}function G0e(){const e=qr(),t=Si(),{billingStatus:r}=xa(),[n,s]=x.useState(!1),[i,a]=x.useState(!1),[o,c]=x.useState(!1),[u,d]=x.useState(!1),h=(r==null?void 0:r.stripe_customer_id)!==null,f=(r==null?void 0:r.product_name)||"",p=f.toLowerCase().includes("pro"),m=f.toLowerCase().includes("max"),g=f.toLowerCase().includes("starter"),w=f.toLowerCase().includes("team"),y=!m&&!w,v=(p||m||g||w)&&h,{data:b}=ts({queryKey:["teamStatus"],queryFn:async()=>await Lr().getTeamStatus(),enabled:w&&!!e.auth.user&&!!r}),k=w&&(b==null?void 0:b.has_team_subscription)&&!(b!=null&&b.team_created),C=async()=>{if(h)try{s(!0);const F=await Lr().getPortalUrl();if(Jl()){console.log("[Billing] Mobile platform detected, using opener plugin to launch external browser for portal");const{invoke:j}=await qi(async()=>{const{invoke:D}=await Promise.resolve().then(()=>xo);return{invoke:D}},void 0);await j("plugin:opener|open_url",{url:F}).then(()=>{console.log("[Billing] Successfully opened portal URL in external browser")}).catch(D=>{console.error("[Billing] Failed to open external browser:",D),alert("Failed to open browser. Please try again.")}),await new Promise(D=>setTimeout(D,300));return}window.open(F,"_blank")}catch(O){console.error("Error fetching portal URL:",O)}finally{s(!1)}},A=async O=>{try{if(Ao()){const{invoke:j}=await qi(async()=>{const{invoke:D}=await Promise.resolve().then(()=>xo);return{invoke:D}},void 0);await j("plugin:opener|open_url",{url:O}).then(()=>{console.log("[External Link] Successfully opened URL with Tauri opener")}).catch(D=>{console.error("[External Link] Failed to open with Tauri opener:",D),Jl()?alert("Failed to open link. Please try again."):window.open(O,"_blank","noopener,noreferrer")})}else window.open(O,"_blank","noopener,noreferrer")}catch(F){console.error("Error opening external URL:",F),window.open(O,"_blank","noopener,noreferrer")}};async function R(){try{try{Lr().clearToken()}catch(O){console.error("Error clearing billing token:",O),sessionStorage.removeItem("maple_billing_token")}await e.signOut(),await t.invalidate(),await t.navigate({to:"/"})}catch(O){console.error("Error during sign out:",O),window.location.href="/"}}return l.jsx(uu,{children:l.jsx(ns,{children:l.jsxs(vh,{onOpenChange:O=>!O&&d(!1),children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Sn,{to:"/pricing",className:"self-end",children:l.jsx(ca,{variant:"secondary",className:"bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] hover:bg-[hsl(var(--primary))]/80 dark:bg-white dark:text-[hsl(var(--background))] dark:hover:bg-white/80 transition-colors cursor-pointer uppercase",children:r?`${r.product_name} Plan`:"Loading..."})}),l.jsx(Ppe,{}),l.jsx(xh,{asChild:!0,children:l.jsxs(Me,{variant:"outline",className:"gap-2 relative",children:[l.jsx(wg,{className:"w-4 h-4"}),"Account",k&&l.jsx(As,{className:"absolute -top-1 -right-1 h-4 w-4 text-amber-500 bg-background rounded-full"})]})})]}),l.jsx(zu,{className:"w-[calc(280px-2rem)] overflow-hidden",children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:`transition-transform duration-300 ease-in-out ${u?"-translate-x-full":"translate-x-0"}`,children:[l.jsx(AU,{children:(b==null?void 0:b.team_name)||"Maple AI"}),l.jsx(Td,{}),l.jsxs(xy,{children:[l.jsx(VF,{asChild:!0,children:l.jsxs(fn,{children:[l.jsx(wg,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Profile"})]})}),y&&l.jsx(fn,{asChild:!0,children:l.jsxs(Sn,{to:"/pricing",children:[l.jsx(Boe,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Upgrade your plan"})]})}),v&&l.jsxs(fn,{onClick:C,disabled:n,children:[l.jsx(u1,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:n?"Loading...":"Manage Subscription"})]}),w&&l.jsx(fn,{onClick:()=>a(!0),children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(lS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Manage Team"})]}),k&&l.jsx(ca,{variant:"secondary",className:"py-0 px-1.5 text-xs bg-amber-500 text-white",children:"Setup Required"})]})}),!Jl()&&l.jsxs(fn,{onClick:()=>c(!0),children:[l.jsx(zF,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"API Management"})]}),l.jsx(Fhe,{asChild:!0,children:l.jsxs(fn,{children:[l.jsx(bb,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Delete History"})]})})]}),l.jsx(Td,{}),l.jsx(xy,{children:l.jsxs(fn,{onClick:O=>{O.preventDefault(),d(!0)},onSelect:O=>{O.preventDefault()},children:[l.jsx(vb,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"About Us"})]})}),l.jsx(Td,{}),l.jsxs(fn,{onClick:R,children:[l.jsx(xg,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]}),l.jsxs("div",{className:`absolute top-0 left-0 w-full transition-transform duration-300 ease-in-out ${u?"translate-x-0":"translate-x-full"}`,children:[l.jsx(xy,{children:l.jsxs(fn,{onClick:O=>{O.preventDefault(),d(!1)},onSelect:O=>{O.preventDefault()},children:[l.jsx(nS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Back"})]})}),l.jsx(Td,{}),l.jsxs(xy,{children:[l.jsx(fn,{asChild:!0,children:l.jsxs(Sn,{to:"/about",children:[l.jsx(vb,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"About Maple"})]})}),l.jsxs(fn,{onClick:O=>{O.preventDefault(),A("https://opensecret.cloud/privacy")},onSelect:O=>{O.preventDefault()},children:[l.jsx(bg,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Privacy Policy"})]}),l.jsxs(fn,{onClick:O=>{O.preventDefault(),A("https://opensecret.cloud/terms")},onSelect:O=>{O.preventDefault()},children:[l.jsx(Xo,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Terms of Service"})]}),l.jsxs(fn,{onClick:O=>{O.preventDefault(),A("mailto:support@opensecret.cloud")},onSelect:O=>{O.preventDefault()},children:[l.jsx(b2,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Contact Us"})]})]})]})]})}),l.jsx(jpe,{}),l.jsx(W0e,{}),l.jsx(fV,{open:i,onOpenChange:a,teamStatus:b}),l.jsx(DV,{open:o,onOpenChange:c})]})})})}function Av({chatId:e,isOpen:t,onToggle:r}){const n=Si(),s=Iee(),{searchQuery:i,setSearchQuery:a,isSearchVisible:o,setIsSearchVisible:c}=xa(),u=x.useRef(null);async function d(){var v,b;if(t&&g&&r(),s.pathname==="/"&&window.location.search.includes("conversation_id"))window.history.replaceState(null,"","/"),window.dispatchEvent(new Event("newchat")),(v=document.getElementById("message"))==null||v.focus();else if(s.pathname==="/")(b=document.getElementById("message"))==null||b.focus();else try{await n.navigate({to:"/"}),setTimeout(()=>{var k;return(k=document.getElementById("message"))==null?void 0:k.focus()},0)}catch(k){console.error("Navigation failed:",k)}}const h=()=>{c(!o),o?a(""):setTimeout(()=>{var v;return(v=u.current)==null?void 0:v.focus()},0)},f=()=>{var v;a(""),(v=u.current)==null||v.focus()},p=v=>{v.key==="Escape"&&f()},m=x.useRef(null),g=f_(),w=x.useCallback(v=>{if(t&&g){const b=v.target,k=b.closest('[role="menu"]'),C=b.closest('[role="dialog"]'),A=b.closest('[role="alertdialog"]');!k&&!C&&!A&&r()}},[t,r,g]);zX(m,w);const y=x.useRef(!0);return x.useLayoutEffect(()=>(y.current=!0,()=>{y.current=!1}),[]),x.useEffect(()=>{if(!g||!t)return;const v=n.subscribe("onResolved",()=>{queueMicrotask(()=>{y.current&&t&&g&&r()})});return()=>{v()}},[n,t,r,g]),l.jsx("div",{ref:m,className:Ht(["fixed md:static z-10 h-full overflow-y-hidden",t?"block w-[280px]":"hidden"]),children:l.jsxs("div",{className:"h-full border-r border-input dark:bg-background bg-[hsl(var(--footer-bg))] backdrop-blur-lg flex flex-col items-stretch w-[280px]",children:[l.jsx("div",{className:"h-14 flex items-center px-4 md:py-2",children:l.jsxs("div",{className:"flex justify-between items-center gap-2 w-full",children:[l.jsx(Me,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:r,children:l.jsx(nle,{className:"h-4 w-4"})}),l.jsxs(Me,{variant:"outline",size:"icon",className:"flex-1 gap-2 h-9 md:h-10",onClick:d,children:[l.jsx(k2,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:block",children:"New Chat"})]})]})}),l.jsxs("div",{className:"flex justify-between items-center px-4",children:[l.jsx("h2",{className:"font-semibold",children:"History"}),l.jsx(Me,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:h,"aria-label":o?"Hide search":"Search chat history",children:l.jsx(aS,{className:"h-4 w-4"})})]}),o&&l.jsxs("div",{className:"relative transition-all duration-200 ease-in-out px-4",children:[l.jsx(tn,{ref:u,type:"text",placeholder:"Search chat titles...",className:"pl-2 pr-8 h-9",value:i,onChange:v=>a(v.target.value),onKeyDown:p,"aria-label":"Search chat titles"}),i&&l.jsx("button",{onClick:f,className:"absolute right-6 top-2.5 text-muted-foreground hover:text-foreground","aria-label":"Clear search",children:l.jsx(x2,{className:"h-4 w-4"})})]}),l.jsx("nav",{className:"flex flex-col gap-2 flex-1 overflow-y-auto px-4",children:l.jsx(Zfe,{currentChatId:e,searchQuery:i,isMobile:g})}),l.jsx("div",{className:"px-4 pb-4",children:l.jsx(G0e,{})})]})})}function LV({onToggle:e}){return l.jsx(Me,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:e,children:l.jsx(rle,{className:"h-4 w-4"})})}function K0e(e){return typeof FileReader>"u"?new Promise((t,r)=>{const n=URL.createObjectURL(e),s=new Image;s.onload=()=>{try{const i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("Failed to get canvas context");i.width=s.naturalWidth,i.height=s.naturalHeight,a.drawImage(s,0,0);const o=i.toDataURL(e.type||"image/png");URL.revokeObjectURL(n),t(o)}catch(i){URL.revokeObjectURL(n),r(i)}},s.onerror=()=>{URL.revokeObjectURL(n),r(new Error("Failed to load image"))},s.src=n}):new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{typeof n.result=="string"?t(n.result):r(new Error("Unexpected FileReader result type"))},n.onerror=()=>r(n.error),n.onabort=()=>r(new Error("FileReader operation was aborted")),n.readAsDataURL(e)})}function fR(e){const t=[],r=String(e||"");let n=r.indexOf(","),s=0,i=!1;for(;!i;){n===-1&&(n=r.length,i=!0);const a=r.slice(s,n).trim();(a||!i)&&t.push(a),s=n+1,n=r.indexOf(",",s)}return t}function Y0e(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Z0e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Q0e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,X0e={};function pR(e,t){return(X0e.jsx?Q0e:Z0e).test(e)}const J0e=/[ \t\n\f\r]/g;function eme(e){return typeof e=="object"?e.type==="text"?mR(e.value):!1:mR(e)}function mR(e){return e.replace(J0e,"")===""}class w1{constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}}w1.prototype.property={};w1.prototype.normal={};w1.prototype.space=null;function $V(e,t){const r={},n={};let s=-1;for(;++s<e.length;)Object.assign(r,e[s].property),Object.assign(n,e[s].normal);return new w1(r,n,t)}function Cg(e){return e.toLowerCase()}class Qa{constructor(t,r){this.property=t,this.attribute=r}}Qa.prototype.space=null;Qa.prototype.boolean=!1;Qa.prototype.booleanish=!1;Qa.prototype.overloadedBoolean=!1;Qa.prototype.number=!1;Qa.prototype.commaSeparated=!1;Qa.prototype.spaceSeparated=!1;Qa.prototype.commaOrSpaceSeparated=!1;Qa.prototype.mustUseProperty=!1;Qa.prototype.defined=!1;let tme=0;const Nr=jh(),ss=jh(),FV=jh(),tt=jh(),wn=jh(),Wf=jh(),Xi=jh();function jh(){return 2**++tme}const DS=Object.freeze(Object.defineProperty({__proto__:null,boolean:Nr,booleanish:ss,commaOrSpaceSeparated:Xi,commaSeparated:Wf,number:tt,overloadedBoolean:FV,spaceSeparated:wn},Symbol.toStringTag,{value:"Module"})),R5=Object.keys(DS);class MN extends Qa{constructor(t,r,n,s){let i=-1;if(super(t,r),gR(this,"space",s),typeof n=="number")for(;++i<R5.length;){const a=R5[i];gR(this,R5[i],(n&DS[a])===DS[a])}}}MN.prototype.defined=!0;function gR(e,t,r){r&&(e[t]=r)}const rme={}.hasOwnProperty;function i0(e){const t={},r={};let n;for(n in e.properties)if(rme.call(e.properties,n)){const s=e.properties[n],i=new MN(n,e.transform(e.attributes||{},n),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[Cg(n)]=n,r[Cg(i.attribute)]=n}return new w1(t,r,e.space)}const BV=i0({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),UV=i0({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function zV(e,t){return t in e?e[t]:t}function HV(e,t){return zV(e,t.toLowerCase())}const VV=i0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:HV,properties:{xmlns:null,xmlnsXLink:null}}),qV=i0({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ss,ariaAutoComplete:null,ariaBusy:ss,ariaChecked:ss,ariaColCount:tt,ariaColIndex:tt,ariaColSpan:tt,ariaControls:wn,ariaCurrent:null,ariaDescribedBy:wn,ariaDetails:null,ariaDisabled:ss,ariaDropEffect:wn,ariaErrorMessage:null,ariaExpanded:ss,ariaFlowTo:wn,ariaGrabbed:ss,ariaHasPopup:null,ariaHidden:ss,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wn,ariaLevel:tt,ariaLive:null,ariaModal:ss,ariaMultiLine:ss,ariaMultiSelectable:ss,ariaOrientation:null,ariaOwns:wn,ariaPlaceholder:null,ariaPosInSet:tt,ariaPressed:ss,ariaReadOnly:ss,ariaRelevant:null,ariaRequired:ss,ariaRoleDescription:wn,ariaRowCount:tt,ariaRowIndex:tt,ariaRowSpan:tt,ariaSelected:ss,ariaSetSize:tt,ariaSort:null,ariaValueMax:tt,ariaValueMin:tt,ariaValueNow:tt,ariaValueText:null,role:null}}),nme=i0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:HV,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wf,acceptCharset:wn,accessKey:wn,action:null,allow:null,allowFullScreen:Nr,allowPaymentRequest:Nr,allowUserMedia:Nr,alt:null,as:null,async:Nr,autoCapitalize:null,autoComplete:wn,autoFocus:Nr,autoPlay:Nr,blocking:wn,capture:null,charSet:null,checked:Nr,cite:null,className:wn,cols:tt,colSpan:null,content:null,contentEditable:ss,controls:Nr,controlsList:wn,coords:tt|Wf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Nr,defer:Nr,dir:null,dirName:null,disabled:Nr,download:FV,draggable:ss,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Nr,formTarget:null,headers:wn,height:tt,hidden:Nr,high:tt,href:null,hrefLang:null,htmlFor:wn,httpEquiv:wn,id:null,imageSizes:null,imageSrcSet:null,inert:Nr,inputMode:null,integrity:null,is:null,isMap:Nr,itemId:null,itemProp:wn,itemRef:wn,itemScope:Nr,itemType:wn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Nr,low:tt,manifest:null,max:null,maxLength:tt,media:null,method:null,min:null,minLength:tt,multiple:Nr,muted:Nr,name:null,nonce:null,noModule:Nr,noValidate:Nr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Nr,optimum:tt,pattern:null,ping:wn,placeholder:null,playsInline:Nr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Nr,referrerPolicy:null,rel:wn,required:Nr,reversed:Nr,rows:tt,rowSpan:tt,sandbox:wn,scope:null,scoped:Nr,seamless:Nr,selected:Nr,shadowRootClonable:Nr,shadowRootDelegatesFocus:Nr,shadowRootMode:null,shape:null,size:tt,sizes:null,slot:null,span:tt,spellCheck:ss,src:null,srcDoc:null,srcLang:null,srcSet:null,start:tt,step:null,style:null,tabIndex:tt,target:null,title:null,translate:null,type:null,typeMustMatch:Nr,useMap:null,value:ss,width:tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wn,axis:null,background:null,bgColor:null,border:tt,borderColor:null,bottomMargin:tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Nr,declare:Nr,event:null,face:null,frame:null,frameBorder:null,hSpace:tt,leftMargin:tt,link:null,longDesc:null,lowSrc:null,marginHeight:tt,marginWidth:tt,noResize:Nr,noHref:Nr,noShade:Nr,noWrap:Nr,object:null,profile:null,prompt:null,rev:null,rightMargin:tt,rules:null,scheme:null,scrolling:ss,standby:null,summary:null,text:null,topMargin:tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Nr,disableRemotePlayback:Nr,prefix:null,property:null,results:tt,security:null,unselectable:null}}),sme=i0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:zV,properties:{about:Xi,accentHeight:tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:tt,amplitude:tt,arabicForm:null,ascent:tt,attributeName:null,attributeType:null,azimuth:tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:tt,by:null,calcMode:null,capHeight:tt,className:wn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:tt,diffuseConstant:tt,direction:null,display:null,dur:null,divisor:tt,dominantBaseline:null,download:Nr,dx:null,dy:null,edgeMode:null,editable:null,elevation:tt,enableBackground:null,end:null,event:null,exponent:tt,externalResourcesRequired:null,fill:null,fillOpacity:tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wf,g2:Wf,glyphName:Wf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:tt,horizOriginX:tt,horizOriginY:tt,id:null,ideographic:tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:tt,k:tt,k1:tt,k2:tt,k3:tt,k4:tt,kernelMatrix:Xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:tt,overlineThickness:tt,paintOrder:null,panose1:null,path:null,pathLength:tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:tt,pointsAtY:tt,pointsAtZ:tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xi,rev:Xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xi,requiredFeatures:Xi,requiredFonts:Xi,requiredFormats:Xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:tt,specularExponent:tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:tt,strikethroughThickness:tt,string:null,stroke:null,strokeDashArray:Xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:tt,strokeOpacity:tt,strokeWidth:null,style:null,surfaceScale:tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xi,tabIndex:tt,tableValues:null,target:null,targetX:tt,targetY:tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:tt,underlineThickness:tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:tt,values:null,vAlphabetic:tt,vMathematical:tt,vectorEffect:null,vHanging:tt,vIdeographic:tt,version:null,vertAdvY:tt,vertOriginX:tt,vertOriginY:tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ime=/^data[-\w.:]+$/i,yR=/-[a-z]/g,ame=/[A-Z]/g;function WV(e,t){const r=Cg(t);let n=t,s=Qa;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&ime.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(yR,lme);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!yR.test(i)){let a=i.replace(ame,ome);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=MN}return new s(n,t)}function ome(e){return"-"+e.toLowerCase()}function lme(e){return e.charAt(1).toUpperCase()}const cme={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},GV=$V([UV,BV,VV,qV,nme],"html"),B2=$V([UV,BV,VV,qV,sme],"svg");function vR(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function ume(e){return e.join(" ").trim()}var KV={},xR=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,dme=/\n/g,hme=/^\s*/,fme=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pme=/^:\s*/,mme=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gme=/^[;\s]*/,yme=/^\s+|\s+$/g,vme=`
`,bR="/",wR="*",xd="",xme="comment",bme="declaration",wme=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function s(m){var g=m.match(dme);g&&(r+=g.length);var w=m.lastIndexOf(vme);n=~w?m.length-w:n+m.length}function i(){var m={line:r,column:n};return function(g){return g.position=new a(m),u(),g}}function a(m){this.start=m,this.end={line:r,column:n},this.source=t.source}a.prototype.content=e;function o(m){var g=new Error(t.source+":"+r+":"+n+": "+m);if(g.reason=m,g.filename=t.source,g.line=r,g.column=n,g.source=e,!t.silent)throw g}function c(m){var g=m.exec(e);if(g){var w=g[0];return s(w),e=e.slice(w.length),g}}function u(){c(hme)}function d(m){var g;for(m=m||[];g=h();)g!==!1&&m.push(g);return m}function h(){var m=i();if(!(bR!=e.charAt(0)||wR!=e.charAt(1))){for(var g=2;xd!=e.charAt(g)&&(wR!=e.charAt(g)||bR!=e.charAt(g+1));)++g;if(g+=2,xd===e.charAt(g-1))return o("End of comment missing");var w=e.slice(2,g-2);return n+=2,s(w),e=e.slice(g),n+=2,m({type:xme,comment:w})}}function f(){var m=i(),g=c(fme);if(g){if(h(),!c(pme))return o("property missing ':'");var w=c(mme),y=m({type:bme,property:kR(g[0].replace(xR,xd)),value:w?kR(w[0].replace(xR,xd)):xd});return c(gme),y}}function p(){var m=[];d(m);for(var g;g=f();)g!==!1&&(m.push(g),d(m));return m}return u(),p()};function kR(e){return e?e.replace(yme,xd):xd}var kme=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KV,"__esModule",{value:!0});var SR=KV.default=_me,Sme=kme(wme);function _me(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,Sme.default)(e),s=typeof t=="function";return n.forEach(function(i){if(i.type==="declaration"){var a=i.property,o=i.value;s?t(a,o,i):o&&(r=r||{},r[a]=o)}}),r}const Eme=SR.default||SR,YV=ZV("end"),PN=ZV("start");function ZV(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function QV(e){const t=PN(e),r=YV(e);if(t&&r)return{start:t,end:r}}function ym(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_R(e.position):"start"in e||"end"in e?_R(e):"line"in e||"column"in e?LS(e):""}function LS(e){return ER(e&&e.line)+":"+ER(e&&e.column)}function _R(e){return LS(e&&e.start)+"-"+LS(e&&e.end)}function ER(e){return e&&typeof e=="number"?e:1}class si extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let s="",i={},a=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?s=t:!i.cause&&t&&(a=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?i.ruleId=n:(i.source=n.slice(0,c),i.ruleId=n.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=o?o.line:void 0,this.name=ym(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}si.prototype.file="";si.prototype.name="";si.prototype.reason="";si.prototype.message="";si.prototype.stack="";si.prototype.column=void 0;si.prototype.line=void 0;si.prototype.ancestors=void 0;si.prototype.cause=void 0;si.prototype.fatal=void 0;si.prototype.place=void 0;si.prototype.ruleId=void 0;si.prototype.source=void 0;const ON={}.hasOwnProperty,Nme=new Map,Cme=/[A-Z]/g,Ame=/-([a-z])/g,Tme=new Set(["table","tbody","thead","tfoot","tr"]),Rme=new Set(["td","th"]),XV="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ime(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=Fme(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=$me(r,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?B2:GV,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=JV(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function JV(e,t,r){if(t.type==="element")return jme(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Mme(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Ome(e,t,r);if(t.type==="mdxjsEsm")return Pme(e,t);if(t.type==="root")return Dme(e,t,r);if(t.type==="text")return Lme(e,t)}function jme(e,t,r){const n=e.schema;let s=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=B2,e.schema=s),e.ancestors.push(t);const i=tq(e,t.tagName,!1),a=Bme(e,t);let o=LN(e,t);return Tme.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!eme(c):!0})),eq(e,a,i,t),DN(a,o),e.ancestors.pop(),e.schema=n,e.create(t,i,a,r)}function Mme(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ag(e,t.position)}function Pme(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ag(e,t.position)}function Ome(e,t,r){const n=e.schema;let s=n;t.name==="svg"&&n.space==="html"&&(s=B2,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:tq(e,t.name,!0),a=Ume(e,t),o=LN(e,t);return eq(e,a,i,t),DN(a,o),e.ancestors.pop(),e.schema=n,e.create(t,i,a,r)}function Dme(e,t,r){const n={};return DN(n,LN(e,t)),e.create(t,e.Fragment,n,r)}function Lme(e,t){return t.value}function eq(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function DN(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function $me(e,t,r){return n;function n(s,i,a,o){const u=Array.isArray(a.children)?r:t;return o?u(i,a,o):u(i,a)}}function Fme(e,t){return r;function r(n,s,i,a){const o=Array.isArray(i.children),c=PN(n);return t(s,i,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function Bme(e,t){const r={};let n,s;for(s in t.properties)if(s!=="children"&&ON.call(t.properties,s)){const i=zme(e,s,t.properties[s]);if(i){const[a,o]=i;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Rme.has(t.tagName)?n=o:r[a]=o}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function Ume(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const a=i.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Ag(e,t.position);else{const s=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Ag(e,t.position);else i=n.value===null?!0:n.value;r[s]=i}return r}function LN(e,t){const r=[];let n=-1;const s=e.passKeys?new Map:Nme;for(;++n<t.children.length;){const i=t.children[n];let a;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=s.get(c)||0;a=c+"-"+u,s.set(c,u+1)}}const o=JV(e,i,a);o!==void 0&&r.push(o)}return r}function zme(e,t,r){const n=WV(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?Y0e(r):ume(r)),n.property==="style"){let s=typeof r=="object"?r:Hme(e,String(r));return e.stylePropertyNameCase==="css"&&(s=Vme(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&n.space?cme[n.property]||n.property:n.attribute,r]}}function Hme(e,t){const r={};try{Eme(t,n)}catch(s){if(!e.ignoreInvalidStyle){const i=s,a=new si("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=XV+"#cannot-parse-style-attribute",a}}return r;function n(s,i){let a=s;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(Ame,Wme)),r[a]=i}}function tq(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,a;for(;++i<s.length;){const o=pR(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}n=a}else n=pR(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const s=n.value;return ON.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(n);Ag(e)}function Ag(e,t){const r=new si("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=XV+"#cannot-handle-mdx-estrees-without-createevaluater",r}function Vme(e){const t={};let r;for(r in e)ON.call(e,r)&&(t[qme(r)]=e[r]);return t}function qme(e){let t=e.replace(Cme,Gme);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Wme(e,t){return t.toUpperCase()}function Gme(e){return"-"+e.toLowerCase()}const I5={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Kme={};function $N(e,t){const r=Kme,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return rq(e,n,s)}function rq(e,t,r){if(Yme(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return NR(e.children,t,r)}return Array.isArray(e)?NR(e,t,r):""}function NR(e,t,r){const n=[];let s=-1;for(;++s<e.length;)n[s]=rq(e[s],t,r);return n.join("")}function Yme(e){return!!(e&&typeof e=="object")}const CR=document.createElement("i");function FN(e){const t="&"+e+";";CR.innerHTML=t;const r=CR.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function fa(e,t,r,n){const s=e.length;let i=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);i<n.length;)a=n.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function Ra(e,t){return e.length>0?(fa(e,e.length,0,t),e):t}const AR={}.hasOwnProperty;function nq(e){const t={};let r=-1;for(;++r<e.length;)Zme(t,e[r]);return t}function Zme(e,t){let r;for(r in t){const s=(AR.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let a;if(i)for(a in i){AR.call(s,a)||(s[a]=[]);const o=i[a];Qme(s[a],Array.isArray(o)?o:o?[o]:[])}}}function Qme(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);fa(e,0,0,n)}function sq(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function bo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mi=Ju(/[A-Za-z]/),ti=Ju(/[\dA-Za-z]/),Xme=Ju(/[#-'*+\--9=?A-Z^-~]/);function Pb(e){return e!==null&&(e<32||e===127)}const $S=Ju(/\d/),Jme=Ju(/[\dA-Fa-f]/),ege=Ju(/[!-/:-@[-`{-~]/);function qt(e){return e!==null&&e<-2}function gn(e){return e!==null&&(e<0||e===32)}function Hr(e){return e===-2||e===-1||e===32}const U2=Ju(new RegExp("\\p{P}|\\p{S}","u")),kh=Ju(/\s/);function Ju(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function a0(e){const t=[];let r=-1,n=0,s=0;for(;++r<e.length;){const i=e.charCodeAt(r);let a="";if(i===37&&ti(e.charCodeAt(r+1))&&ti(e.charCodeAt(r+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(r+1);i<56320&&o>56319&&o<57344?(a=String.fromCharCode(i,o),s=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+s+1,a=""),s&&(r+=s,s=0)}return t.join("")+e.slice(n)}function Br(e,t,r,n){const s=n?n-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(c){return Hr(c)?(e.enter(r),o(c)):t(c)}function o(c){return Hr(c)&&i++<s?(e.consume(c),o):(e.exit(r),t(c))}}const tge={tokenize:rge};function rge(e){const t=e.attempt(this.parser.constructs.contentInitial,n,s);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Br(e,t,"linePrefix")}function s(o){return e.enter("paragraph"),i(o)}function i(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return qt(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),a)}}const nge={tokenize:sge},TR={tokenize:ige};function sge(e){const t=this,r=[];let n=0,s,i,a;return o;function o(b){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,c,u)(b)}return u(b)}function c(b){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const k=t.events.length;let C=k,A;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){A=t.events[C][1].end;break}y(n);let R=k;for(;R<t.events.length;)t.events[R][1].end={...A},R++;return fa(t.events,C+1,0,t.events.slice(k)),t.events.length=R,u(b)}return o(b)}function u(b){if(n===r.length){if(!s)return f(b);if(s.currentConstruct&&s.currentConstruct.concrete)return m(b);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(TR,d,h)(b)}function d(b){return s&&v(),y(n),f(b)}function h(b){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,m(b)}function f(b){return t.containerState={},e.attempt(TR,p,m)(b)}function p(b){return n++,r.push([t.currentConstruct,t.containerState]),f(b)}function m(b){if(b===null){s&&v(),y(0),e.consume(b);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),g(b)}function g(b){if(b===null){w(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return qt(b)?(e.consume(b),w(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(b),g)}function w(b,k){const C=t.sliceStream(b);if(k&&C.push(null),b.previous=i,i&&(i.next=b),i=b,s.defineSkip(b.start),s.write(C),t.parser.lazy[b.start.line]){let A=s.events.length;for(;A--;)if(s.events[A][1].start.offset<a&&(!s.events[A][1].end||s.events[A][1].end.offset>a))return;const R=t.events.length;let O=R,F,j;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(F){j=t.events[O][1].end;break}F=!0}for(y(n),A=R;A<t.events.length;)t.events[A][1].end={...j},A++;fa(t.events,O+1,0,t.events.slice(R)),t.events.length=A}}function y(b){let k=r.length;for(;k-- >b;){const C=r[k];t.containerState=C[1],C[0].exit.call(t,e)}r.length=b}function v(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function ige(e,t,r){return Br(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Lp(e){if(e===null||gn(e)||kh(e))return 1;if(U2(e))return 2}function z2(e,t,r){const n=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const FS={name:"attention",resolveAll:age,tokenize:oge};function age(e,t){let r=-1,n,s,i,a,o,c,u,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[r][1].start};RR(h,-c),RR(f,c),a={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},i={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},s={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Ra(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Ra(u,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",i,t]]),u=Ra(u,z2(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Ra(u,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",s,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,u=Ra(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,fa(e,n-1,r-n+3,u),r=n+u.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function oge(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,s=Lp(n);let i;return a;function a(c){return i=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===i)return e.consume(c),o;const u=e.exit("attentionSequence"),d=Lp(c),h=!d||d===2&&s||r.includes(c),f=!s||s===2&&d||r.includes(n);return u._open=!!(i===42?h:h&&(s||!f)),u._close=!!(i===42?f:f&&(d||!h)),t(c)}}function RR(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lge={name:"autolink",tokenize:cge};function cge(e,t,r){let n=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(p){return mi(p)?(e.consume(p),a):p===64?r(p):u(p)}function a(p){return p===43||p===45||p===46||ti(p)?(n=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),n=0,c):(p===43||p===45||p===46||ti(p))&&n++<32?(e.consume(p),o):(n=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Pb(p)?r(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):Xme(p)?(e.consume(p),u):r(p)}function d(p){return ti(p)?h(p):r(p)}function h(p){return p===46?(e.consume(p),n=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||ti(p))&&n++<63){const m=p===45?f:h;return e.consume(p),m}return r(p)}}const k1={partial:!0,tokenize:uge};function uge(e,t,r){return n;function n(i){return Hr(i)?Br(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||qt(i)?t(i):r(i)}}const iq={continuation:{tokenize:hge},exit:fge,name:"blockQuote",tokenize:dge};function dge(e,t,r){const n=this;return s;function s(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return r(a)}function i(a){return Hr(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function hge(e,t,r){const n=this;return s;function s(a){return Hr(a)?Br(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(iq,t,r)(a)}}function fge(e){e.exit("blockQuote")}const aq={name:"characterEscape",tokenize:pge};function pge(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return ege(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const oq={name:"characterReference",tokenize:mge};function mge(e,t,r){const n=this;let s=0,i,a;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,a=ti,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=Jme,d):(e.enter("characterReferenceValue"),i=7,a=$S,d(h))}function d(h){if(h===59&&s){const f=e.exit("characterReferenceValue");return a===ti&&!FN(n.sliceSerialize(f))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&s++<i?(e.consume(h),d):r(h)}}const IR={partial:!0,tokenize:yge},jR={concrete:!0,name:"codeFenced",tokenize:gge};function gge(e,t,r){const n=this,s={partial:!0,tokenize:C};let i=0,a=0,o;return c;function c(A){return u(A)}function u(A){const R=n.events[n.events.length-1];return i=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,o=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===o?(a++,e.consume(A),d):a<3?r(A):(e.exit("codeFencedFenceSequence"),Hr(A)?Br(e,h,"whitespace")(A):h(A))}function h(A){return A===null||qt(A)?(e.exit("codeFencedFence"),n.interrupt?t(A):e.check(IR,g,k)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(A))}function f(A){return A===null||qt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(A)):Hr(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Br(e,p,"whitespace")(A)):A===96&&A===o?r(A):(e.consume(A),f)}function p(A){return A===null||qt(A)?h(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||qt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(A)):A===96&&A===o?r(A):(e.consume(A),m)}function g(A){return e.attempt(s,k,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),y}function y(A){return i>0&&Hr(A)?Br(e,v,"linePrefix",i+1)(A):v(A)}function v(A){return A===null||qt(A)?e.check(IR,g,k)(A):(e.enter("codeFlowValue"),b(A))}function b(A){return A===null||qt(A)?(e.exit("codeFlowValue"),v(A)):(e.consume(A),b)}function k(A){return e.exit("codeFenced"),t(A)}function C(A,R,O){let F=0;return j;function j(te){return A.enter("lineEnding"),A.consume(te),A.exit("lineEnding"),D}function D(te){return A.enter("codeFencedFence"),Hr(te)?Br(A,z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):z(te)}function z(te){return te===o?(A.enter("codeFencedFenceSequence"),Y(te)):O(te)}function Y(te){return te===o?(F++,A.consume(te),Y):F>=a?(A.exit("codeFencedFenceSequence"),Hr(te)?Br(A,Q,"whitespace")(te):Q(te)):O(te)}function Q(te){return te===null||qt(te)?(A.exit("codeFencedFence"),R(te)):O(te)}}}function yge(e,t,r){const n=this;return s;function s(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const j5={name:"codeIndented",tokenize:xge},vge={partial:!0,tokenize:bge};function xge(e,t,r){const n=this;return s;function s(u){return e.enter("codeIndented"),Br(e,i,"linePrefix",5)(u)}function i(u){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):r(u)}function a(u){return u===null?c(u):qt(u)?e.attempt(vge,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||qt(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function bge(e,t,r){const n=this;return s;function s(a){return n.parser.lazy[n.now().line]?r(a):qt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Br(e,i,"linePrefix",5)(a)}function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):qt(a)?s(a):r(a)}}const wge={name:"codeText",previous:Sge,resolve:kge,tokenize:_ge};function kge(e){let t=e.length-4,r=3,n,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)s===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(s=n):(n===t||e[n][1].type==="lineEnding")&&(e[s][1].type="codeTextData",n!==s+2&&(e[s][1].end=e[n-1][1].end,e.splice(s+2,n-s-2),t-=n-s-2,n=s+2),s=void 0);return e}function Sge(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _ge(e,t,r){let n=0,s,i;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),s=0,d(h)):qt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||qt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),s++,d):s===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class Ege{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const s=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&N0(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),N0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),N0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);N0(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);N0(this.left,r.reverse())}}}function N0(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function lq(e){const t={};let r=-1,n,s,i,a,o,c,u;const d=new Ege(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Nge(d,r)),r=t[r],u=!0);else if(n[1]._container){for(i=r,s=void 0;i--;)if(a=d.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(a[1].type!=="linePrefix")break;s&&(n[1].end={...d.get(s)[1].start},o=d.slice(s,r),o.unshift(n),d.splice(s,r-s+1,o))}}return fa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Nge(e,t){const r=e.get(t)[1],n=e.get(t)[2];let s=t-1;const i=[],a=r._tokenizer||n.parser[r.contentType](r.start),o=a.events,c=[],u={};let d,h,f=-1,p=r,m=0,g=0;const w=[g];for(;p;){for(;e.get(++s)[1]!==p;);i.push(s),p._tokenizer||(d=n.sliceStream(p),p.next||d.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(g=f+1,w.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),f=w.length;f--;){const y=o.slice(w[f],w[f+1]),v=i.pop();c.push([v,v+y.length-1]),e.splice(v,2,y)}for(c.reverse(),f=-1;++f<c.length;)u[m+c[f][0]]=m+c[f][1],m+=c[f][1]-c[f][0]-1;return u}const Cge={resolve:Tge,tokenize:Rge},Age={partial:!0,tokenize:Ige};function Tge(e){return lq(e),e}function Rge(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(o)}function s(o){return o===null?i(o):qt(o)?e.check(Age,a,i)(o):(e.consume(o),s)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function Ige(e,t,r){const n=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Br(e,i,"linePrefix")}function i(a){if(a===null||qt(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function cq(e,t,r,n,s,i,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(n),e.enter(s),e.enter(i),e.consume(y),e.exit(i),f):y===null||y===32||y===41||Pb(y)?r(y):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(s),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(o),f(y)):y===null||y===60||qt(y)?r(y):(e.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function g(y){return!d&&(y===null||y===41||gn(y))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(y)):d<u&&y===40?(e.consume(y),d++,g):y===41?(e.consume(y),d--,g):y===null||y===32||y===40||Pb(y)?r(y):(e.consume(y),y===92?w:g)}function w(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function uq(e,t,r,n,s,i){const a=this;let o=0,c;return u;function u(p){return e.enter(n),e.enter(s),e.consume(p),e.exit(s),e.enter(i),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(p):p===93?(e.exit(i),e.enter(s),e.consume(p),e.exit(s),e.exit(n),t):qt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||qt(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!Hr(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,h):h(p)}}function dq(e,t,r,n,s,i){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(n),e.enter(s),e.consume(f),e.exit(s),a=f===40?41:f,c):r(f)}function c(f){return f===a?(e.enter(s),e.consume(f),e.exit(s),e.exit(n),t):(e.enter(i),u(f))}function u(f){return f===a?(e.exit(i),c(a)):f===null?r(f):qt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Br(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||qt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===a||f===92?(e.consume(f),d):d(f)}}function vm(e,t){let r;return n;function n(s){return qt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,n):Hr(s)?Br(e,n,r?"linePrefix":"lineSuffix")(s):t(s)}}const jge={name:"definition",tokenize:Pge},Mge={partial:!0,tokenize:Oge};function Pge(e,t,r){const n=this;let s;return i;function i(p){return e.enter("definition"),a(p)}function a(p){return uq.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return s=bo(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):r(p)}function c(p){return gn(p)?vm(e,u)(p):u(p)}function u(p){return cq(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(Mge,h,h)(p)}function h(p){return Hr(p)?Br(e,f,"whitespace")(p):f(p)}function f(p){return p===null||qt(p)?(e.exit("definition"),n.parser.defined.push(s),t(p)):r(p)}}function Oge(e,t,r){return n;function n(o){return gn(o)?vm(e,s)(o):r(o)}function s(o){return dq(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return Hr(o)?Br(e,a,"whitespace")(o):a(o)}function a(o){return o===null||qt(o)?t(o):r(o)}}const Dge={name:"hardBreakEscape",tokenize:Lge};function Lge(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return qt(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const $ge={name:"headingAtx",resolve:Fge,tokenize:Bge};function Fge(e,t){let r=e.length-2,n=3,s,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(s={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},fa(e,n,r-n+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function Bge(e,t,r){let n=0;return s;function s(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&n++<6?(e.consume(d),a):d===null||gn(d)?(e.exit("atxHeadingSequence"),o(d)):r(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||qt(d)?(e.exit("atxHeading"),t(d)):Hr(d)?Br(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||gn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const Uge=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MR=["pre","script","style","textarea"],zge={concrete:!0,name:"htmlFlow",resolveTo:qge,tokenize:Wge},Hge={partial:!0,tokenize:Kge},Vge={partial:!0,tokenize:Gge};function qge(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Wge(e,t,r){const n=this;let s,i,a,o,c;return u;function u(M){return d(M)}function d(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),h}function h(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),i=!0,g):M===63?(e.consume(M),s=3,n.interrupt?t:E):mi(M)?(e.consume(M),a=String.fromCharCode(M),w):r(M)}function f(M){return M===45?(e.consume(M),s=2,p):M===91?(e.consume(M),s=5,o=0,m):mi(M)?(e.consume(M),s=4,n.interrupt?t:E):r(M)}function p(M){return M===45?(e.consume(M),n.interrupt?t:E):r(M)}function m(M){const G="CDATA[";return M===G.charCodeAt(o++)?(e.consume(M),o===G.length?n.interrupt?t:z:m):r(M)}function g(M){return mi(M)?(e.consume(M),a=String.fromCharCode(M),w):r(M)}function w(M){if(M===null||M===47||M===62||gn(M)){const G=M===47,W=a.toLowerCase();return!G&&!i&&MR.includes(W)?(s=1,n.interrupt?t(M):z(M)):Uge.includes(a.toLowerCase())?(s=6,G?(e.consume(M),y):n.interrupt?t(M):z(M)):(s=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(M):i?v(M):b(M))}return M===45||ti(M)?(e.consume(M),a+=String.fromCharCode(M),w):r(M)}function y(M){return M===62?(e.consume(M),n.interrupt?t:z):r(M)}function v(M){return Hr(M)?(e.consume(M),v):j(M)}function b(M){return M===47?(e.consume(M),j):M===58||M===95||mi(M)?(e.consume(M),k):Hr(M)?(e.consume(M),b):j(M)}function k(M){return M===45||M===46||M===58||M===95||ti(M)?(e.consume(M),k):C(M)}function C(M){return M===61?(e.consume(M),A):Hr(M)?(e.consume(M),C):b(M)}function A(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),c=M,R):Hr(M)?(e.consume(M),A):O(M)}function R(M){return M===c?(e.consume(M),c=null,F):M===null||qt(M)?r(M):(e.consume(M),R)}function O(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||gn(M)?C(M):(e.consume(M),O)}function F(M){return M===47||M===62||Hr(M)?b(M):r(M)}function j(M){return M===62?(e.consume(M),D):r(M)}function D(M){return M===null||qt(M)?z(M):Hr(M)?(e.consume(M),D):r(M)}function z(M){return M===45&&s===2?(e.consume(M),Z):M===60&&s===1?(e.consume(M),J):M===62&&s===4?(e.consume(M),N):M===63&&s===3?(e.consume(M),E):M===93&&s===5?(e.consume(M),re):qt(M)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(Hge,L,Y)(M)):M===null||qt(M)?(e.exit("htmlFlowData"),Y(M)):(e.consume(M),z)}function Y(M){return e.check(Vge,Q,L)(M)}function Q(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),te}function te(M){return M===null||qt(M)?Y(M):(e.enter("htmlFlowData"),z(M))}function Z(M){return M===45?(e.consume(M),E):z(M)}function J(M){return M===47?(e.consume(M),a="",V):z(M)}function V(M){if(M===62){const G=a.toLowerCase();return MR.includes(G)?(e.consume(M),N):z(M)}return mi(M)&&a.length<8?(e.consume(M),a+=String.fromCharCode(M),V):z(M)}function re(M){return M===93?(e.consume(M),E):z(M)}function E(M){return M===62?(e.consume(M),N):M===45&&s===2?(e.consume(M),E):z(M)}function N(M){return M===null||qt(M)?(e.exit("htmlFlowData"),L(M)):(e.consume(M),N)}function L(M){return e.exit("htmlFlow"),t(M)}}function Gge(e,t,r){const n=this;return s;function s(a){return qt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):r(a)}function i(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function Kge(e,t,r){return n;function n(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(k1,t,r)}}const Yge={name:"htmlText",tokenize:Zge};function Zge(e,t,r){const n=this;let s,i,a;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),c}function c(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),C):E===63?(e.consume(E),b):mi(E)?(e.consume(E),O):r(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),i=0,m):mi(E)?(e.consume(E),v):r(E)}function d(E){return E===45?(e.consume(E),p):r(E)}function h(E){return E===null?r(E):E===45?(e.consume(E),f):qt(E)?(a=h,J(E)):(e.consume(E),h)}function f(E){return E===45?(e.consume(E),p):h(E)}function p(E){return E===62?Z(E):E===45?f(E):h(E)}function m(E){const N="CDATA[";return E===N.charCodeAt(i++)?(e.consume(E),i===N.length?g:m):r(E)}function g(E){return E===null?r(E):E===93?(e.consume(E),w):qt(E)?(a=g,J(E)):(e.consume(E),g)}function w(E){return E===93?(e.consume(E),y):g(E)}function y(E){return E===62?Z(E):E===93?(e.consume(E),y):g(E)}function v(E){return E===null||E===62?Z(E):qt(E)?(a=v,J(E)):(e.consume(E),v)}function b(E){return E===null?r(E):E===63?(e.consume(E),k):qt(E)?(a=b,J(E)):(e.consume(E),b)}function k(E){return E===62?Z(E):b(E)}function C(E){return mi(E)?(e.consume(E),A):r(E)}function A(E){return E===45||ti(E)?(e.consume(E),A):R(E)}function R(E){return qt(E)?(a=R,J(E)):Hr(E)?(e.consume(E),R):Z(E)}function O(E){return E===45||ti(E)?(e.consume(E),O):E===47||E===62||gn(E)?F(E):r(E)}function F(E){return E===47?(e.consume(E),Z):E===58||E===95||mi(E)?(e.consume(E),j):qt(E)?(a=F,J(E)):Hr(E)?(e.consume(E),F):Z(E)}function j(E){return E===45||E===46||E===58||E===95||ti(E)?(e.consume(E),j):D(E)}function D(E){return E===61?(e.consume(E),z):qt(E)?(a=D,J(E)):Hr(E)?(e.consume(E),D):F(E)}function z(E){return E===null||E===60||E===61||E===62||E===96?r(E):E===34||E===39?(e.consume(E),s=E,Y):qt(E)?(a=z,J(E)):Hr(E)?(e.consume(E),z):(e.consume(E),Q)}function Y(E){return E===s?(e.consume(E),s=void 0,te):E===null?r(E):qt(E)?(a=Y,J(E)):(e.consume(E),Y)}function Q(E){return E===null||E===34||E===39||E===60||E===61||E===96?r(E):E===47||E===62||gn(E)?F(E):(e.consume(E),Q)}function te(E){return E===47||E===62||gn(E)?F(E):r(E)}function Z(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):r(E)}function J(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),V}function V(E){return Hr(E)?Br(e,re,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):re(E)}function re(E){return e.enter("htmlTextData"),a(E)}}const BN={name:"labelEnd",resolveAll:e1e,resolveTo:t1e,tokenize:r1e},Qge={tokenize:n1e},Xge={tokenize:s1e},Jge={tokenize:i1e};function e1e(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const s=n.type==="labelImage"?4:2;n.type="data",t+=s}}return e.length!==r.length&&fa(e,0,e.length,r),e}function t1e(e,t){let r=e.length,n=0,s,i,a,o;for(;r--;)if(s=e[r][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=r,s.type!=="labelLink")){n=2;break}}else s.type==="labelEnd"&&(a=r);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=Ra(o,e.slice(i+1,i+n+3)),o=Ra(o,[["enter",d,t]]),o=Ra(o,z2(t.parser.constructs.insideSpan.null,e.slice(i+n+4,a-3),t)),o=Ra(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=Ra(o,e.slice(a+1)),o=Ra(o,[["exit",c,t]]),fa(e,i,e.length,o),e}function r1e(e,t,r){const n=this;let s=n.events.length,i,a;for(;s--;)if((n.events[s][1].type==="labelImage"||n.events[s][1].type==="labelLink")&&!n.events[s][1]._balanced){i=n.events[s][1];break}return o;function o(f){return i?i._inactive?h(f):(a=n.parser.defined.includes(bo(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):r(f)}function c(f){return f===40?e.attempt(Qge,d,a?d:h)(f):f===91?e.attempt(Xge,d,a?u:h)(f):a?d(f):h(f)}function u(f){return e.attempt(Jge,d,h)(f)}function d(f){return t(f)}function h(f){return i._balanced=!0,r(f)}}function n1e(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return gn(h)?vm(e,i)(h):i(h)}function i(h){return h===41?d(h):cq(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return gn(h)?vm(e,c)(h):d(h)}function o(h){return r(h)}function c(h){return h===34||h===39||h===40?dq(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return gn(h)?vm(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function s1e(e,t,r){const n=this;return s;function s(o){return uq.call(n,e,i,a,"reference","referenceMarker","referenceString")(o)}function i(o){return n.parser.defined.includes(bo(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function i1e(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const a1e={name:"labelStartImage",resolveAll:BN.resolveAll,tokenize:o1e};function o1e(e,t,r){const n=this;return s;function s(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const l1e={name:"labelStartLink",resolveAll:BN.resolveAll,tokenize:c1e};function c1e(e,t,r){const n=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const M5={name:"lineEnding",tokenize:u1e};function u1e(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Br(e,t,"linePrefix")}}const Tv={name:"thematicBreak",tokenize:d1e};function d1e(e,t,r){let n=0,s;return i;function i(u){return e.enter("thematicBreak"),a(u)}function a(u){return s=u,o(u)}function o(u){return u===s?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||qt(u))?(e.exit("thematicBreak"),t(u)):r(u)}function c(u){return u===s?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),Hr(u)?Br(e,o,"whitespace")(u):o(u))}}const Ri={continuation:{tokenize:m1e},exit:y1e,name:"list",tokenize:p1e},h1e={partial:!0,tokenize:v1e},f1e={partial:!0,tokenize:g1e};function p1e(e,t,r){const n=this,s=n.events[n.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return o;function o(p){const m=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:$S(p)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Tv,r,u)(p):u(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return r(p)}function c(p){return $S(p)&&++a<10?(e.consume(p),c):(!n.interrupt||a<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):r(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(k1,n.interrupt?r:d,e.attempt(h1e,f,h))}function d(p){return n.containerState.initialBlankLine=!0,i++,f(p)}function h(p){return Hr(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):r(p)}function f(p){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function m1e(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(k1,s,i);function s(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Br(e,t,"listItemIndent",n.containerState.size+1)(o)}function i(o){return n.containerState.furtherBlankLines||!Hr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(f1e,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Br(e,e.attempt(Ri,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function g1e(e,t,r){const n=this;return Br(e,s,"listItemIndent",n.containerState.size+1);function s(i){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(i):r(i)}}function y1e(e){e.exit(this.containerState.type)}function v1e(e,t,r){const n=this;return Br(e,s,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=n.events[n.events.length-1];return!Hr(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const PR={name:"setextUnderline",resolveTo:x1e,tokenize:b1e};function x1e(e,t){let r=e.length,n,s,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const a={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function b1e(e,t,r){const n=this;let s;return i;function i(u){let d=n.events.length,h;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){h=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),s=u,a(u)):r(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===s?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Hr(u)?Br(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||qt(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const w1e={tokenize:k1e};function k1e(e){const t=this,r=e.attempt(k1,n,e.attempt(this.parser.constructs.flowInitial,s,Br(e,e.attempt(this.parser.constructs.flow,s,e.attempt(Cge,s)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const S1e={resolveAll:fq()},_1e=hq("string"),E1e=hq("text");function hq(e){return{resolveAll:fq(e==="text"?N1e:void 0),tokenize:t};function t(r){const n=this,s=this.parser.constructs[e],i=r.attempt(s,a,o);return a;function a(d){return u(d)?i(d):o(d)}function o(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),c}function c(d){return u(d)?(r.exit("data"),i(d)):(r.consume(d),c)}function u(d){if(d===null)return!0;const h=s[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function fq(e){return t;function t(r,n){let s=-1,i;for(;++s<=r.length;)i===void 0?r[s]&&r[s][1].type==="data"&&(i=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==i+2&&(r[i][1].end=r[s-1][1].end,r.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(r,n):r}}function N1e(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],s=t.sliceStream(n);let i=s.length,a=-1,o=0,c;for(;i--;){const u=s[i];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){i++;break}}if(o){const u={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:n.start._bufferIndex+a,_index:n.start._index+i,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const C1e={42:Ri,43:Ri,45:Ri,48:Ri,49:Ri,50:Ri,51:Ri,52:Ri,53:Ri,54:Ri,55:Ri,56:Ri,57:Ri,62:iq},A1e={91:jge},T1e={[-2]:j5,[-1]:j5,32:j5},R1e={35:$ge,42:Tv,45:[PR,Tv],60:zge,61:PR,95:Tv,96:jR,126:jR},I1e={38:oq,92:aq},j1e={[-5]:M5,[-4]:M5,[-3]:M5,33:a1e,38:oq,42:FS,60:[lge,Yge],91:l1e,92:[Dge,aq],93:BN,95:FS,96:wge},M1e={null:[FS,S1e]},P1e={null:[42,95]},O1e={null:[]},D1e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:P1e,contentInitial:A1e,disable:O1e,document:C1e,flow:R1e,flowInitial:T1e,insideSpan:M1e,string:I1e,text:j1e},Symbol.toStringTag,{value:"Module"}));function L1e(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},i=[];let a=[],o=[];const c={attempt:R(C),check:R(A),consume:v,enter:b,exit:k,interrupt:R(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(D){return a=Ra(a,D),w(),a[a.length-1]!==null?[]:(O(t,0),u.events=z2(i,u.events,u),u.events)}function f(D,z){return F1e(p(D),z)}function p(D){return $1e(a,D)}function m(){const{_bufferIndex:D,_index:z,line:Y,column:Q,offset:te}=n;return{_bufferIndex:D,_index:z,line:Y,column:Q,offset:te}}function g(D){s[D.line]=D.column,j()}function w(){let D;for(;n._index<a.length;){const z=a[n._index];if(typeof z=="string")for(D=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===D&&n._bufferIndex<z.length;)y(z.charCodeAt(n._bufferIndex));else y(z)}}function y(D){d=d(D)}function v(D){qt(D)?(n.line++,n.column=1,n.offset+=D===-3?2:1,j()):D!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=D}function b(D,z){const Y=z||{};return Y.type=D,Y.start=m(),u.events.push(["enter",Y,u]),o.push(Y),Y}function k(D){const z=o.pop();return z.end=m(),u.events.push(["exit",z,u]),z}function C(D,z){O(D,z.from)}function A(D,z){z.restore()}function R(D,z){return Y;function Y(Q,te,Z){let J,V,re,E;return Array.isArray(Q)?L(Q):"tokenize"in Q?L([Q]):N(Q);function N(se){return X;function X(me){const be=me!==null&&se[me],ge=me!==null&&se.null,Ee=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return L(Ee)(me)}}function L(se){return J=se,V=0,se.length===0?Z:M(se[V])}function M(se){return X;function X(me){return E=F(),re=se,se.partial||(u.currentConstruct=se),se.name&&u.parser.constructs.disable.null.includes(se.name)?W():se.tokenize.call(z?Object.assign(Object.create(u),z):u,c,G,W)(me)}}function G(se){return D(re,E),te}function W(se){return E.restore(),++V<J.length?M(J[V]):Z}}}function O(D,z){D.resolveAll&&!i.includes(D)&&i.push(D),D.resolve&&fa(u.events,z,u.events.length-z,D.resolve(u.events.slice(z),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function F(){const D=m(),z=u.previous,Y=u.currentConstruct,Q=u.events.length,te=Array.from(o);return{from:Q,restore:Z};function Z(){n=D,u.previous=z,u.currentConstruct=Y,u.events.length=Q,o=te,j()}}function j(){n.line in s&&n.column<2&&(n.column=s[n.line],n.offset+=s[n.line]-1)}}function $1e(e,t){const r=t.start._index,n=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(r===s)a=[e[r].slice(n,i)];else{if(a=e.slice(r,s),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}function F1e(e,t){let r=-1;const n=[];let s;for(;++r<e.length;){const i=e[r];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,n.push(a)}return n.join("")}function B1e(e){const n={constructs:nq([D1e,...(e||{}).extensions||[]]),content:s(tge),defined:[],document:s(nge),flow:s(w1e),lazy:{},string:s(_1e),text:s(E1e)};return n;function s(i){return a;function a(o){return L1e(n,i,o)}}}function U1e(e){for(;!lq(e););return e}const OR=/[\0\t\n\r]/g;function z1e(){let e=1,t="",r=!0,n;return s;function s(i,a,o){const c=[];let u,d,h,f,p;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),h=0,t="",r&&(i.charCodeAt(0)===65279&&h++,r=void 0);h<i.length;){if(OR.lastIndex=h,u=OR.exec(i),f=u&&u.index!==void 0?u.index:i.length,p=i.charCodeAt(f),!u){t=i.slice(h);break}if(p===10&&h===f&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),h<f&&(c.push(i.slice(h,f)),e+=f-h),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const H1e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function V1e(e){return e.replace(H1e,q1e)}function q1e(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),i=s===120||s===88;return sq(r.slice(i?2:1),i?16:10)}return FN(r)||e}const pq={}.hasOwnProperty;function W1e(e,t,r){return typeof t!="string"&&(r=t,t=void 0),G1e(r)(U1e(B1e(r).document().write(z1e()(e,t,!0))))}function G1e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Je),autolinkProtocol:F,autolinkEmail:F,atxHeading:i(Ve),blockQuote:i(ge),characterEscape:F,characterReference:F,codeFenced:i(Ee),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(Ee,a),codeText:i(Re,a),codeTextData:F,data:F,codeFlowValue:F,definition:i(je),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Ie),hardBreakEscape:i(He),hardBreakTrailing:i(He),htmlFlow:i(we,a),htmlFlowData:F,htmlText:i(we,a),htmlTextData:F,image:i(Ne),label:a,link:i(Je),listItem:i(xe),listItemValue:f,listOrdered:i(oe,h),listUnordered:i(oe),paragraph:i(rt),reference:M,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(Ve),strong:i(nt),thematicBreak:i(Yt)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:be,autolinkProtocol:me,blockQuote:c(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:se,characterReference:X,codeFenced:c(w),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:j,codeIndented:c(y),codeText:c(te),codeTextData:j,data:j,definition:c(),definitionDestinationString:k,definitionLabelString:v,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(z),hardBreakTrailing:c(z),htmlFlow:c(Y),htmlFlowData:j,htmlText:c(Q),htmlTextData:j,image:c(J),label:re,labelText:V,lineEnding:D,link:c(Z),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:E,resourceTitleString:N,resource:L,setextHeading:c(O),setextHeadingLineSequence:R,setextHeadingText:A,strong:c(),thematicBreak:c()}};mq(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ae){let fe={type:"root",children:[]};const Le={stack:[fe],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:r},Ge=[];let kt=-1;for(;++kt<ae.length;)if(ae[kt][1].type==="listOrdered"||ae[kt][1].type==="listUnordered")if(ae[kt][0]==="enter")Ge.push(kt);else{const ce=Ge.pop();kt=s(ae,ce,kt)}for(kt=-1;++kt<ae.length;){const ce=t[ae[kt][0]];pq.call(ce,ae[kt][1].type)&&ce[ae[kt][1].type].call(Object.assign({sliceSerialize:ae[kt][2].sliceSerialize},Le),ae[kt][1])}if(Le.tokenStack.length>0){const ce=Le.tokenStack[Le.tokenStack.length-1];(ce[1]||DR).call(Le,void 0,ce[0])}for(fe.position={start:Oc(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:Oc(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},kt=-1;++kt<t.transforms.length;)fe=t.transforms[kt](fe)||fe;return fe}function s(ae,fe,Le){let Ge=fe-1,kt=-1,ce=!1,pe,Ae,$e,pt;for(;++Ge<=Le;){const Xt=ae[Ge];switch(Xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xt[0]==="enter"?kt++:kt--,pt=void 0;break}case"lineEndingBlank":{Xt[0]==="enter"&&(pe&&!pt&&!kt&&!$e&&($e=Ge),pt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pt=void 0}if(!kt&&Xt[0]==="enter"&&Xt[1].type==="listItemPrefix"||kt===-1&&Xt[0]==="exit"&&(Xt[1].type==="listUnordered"||Xt[1].type==="listOrdered")){if(pe){let vr=Ge;for(Ae=void 0;vr--;){const Wt=ae[vr];if(Wt[1].type==="lineEnding"||Wt[1].type==="lineEndingBlank"){if(Wt[0]==="exit")continue;Ae&&(ae[Ae][1].type="lineEndingBlank",ce=!0),Wt[1].type="lineEnding",Ae=vr}else if(!(Wt[1].type==="linePrefix"||Wt[1].type==="blockQuotePrefix"||Wt[1].type==="blockQuotePrefixWhitespace"||Wt[1].type==="blockQuoteMarker"||Wt[1].type==="listItemIndent"))break}$e&&(!Ae||$e<Ae)&&(pe._spread=!0),pe.end=Object.assign({},Ae?ae[Ae][1].start:Xt[1].end),ae.splice(Ae||Ge,0,["exit",pe,Xt[2]]),Ge++,Le++}if(Xt[1].type==="listItemPrefix"){const vr={type:"listItem",_spread:!1,start:Object.assign({},Xt[1].start),end:void 0};pe=vr,ae.splice(Ge,0,["enter",vr,Xt[2]]),Ge++,Le++,$e=void 0,pt=!0}}}return ae[fe][1]._spread=ce,Le}function i(ae,fe){return Le;function Le(Ge){o.call(this,ae(Ge),Ge),fe&&fe.call(this,Ge)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ae,fe,Le){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([fe,Le||void 0]),ae.position={start:Oc(fe.start),end:void 0}}function c(ae){return fe;function fe(Le){ae&&ae.call(this,Le),u.call(this,Le)}}function u(ae,fe){const Le=this.stack.pop(),Ge=this.tokenStack.pop();if(Ge)Ge[0].type!==ae.type&&(fe?fe.call(this,ae,Ge[0]):(Ge[1]||DR).call(this,ae,Ge[0]));else throw new Error("Cannot close `"+ae.type+"` ("+ym({start:ae.start,end:ae.end})+"): its not open");Le.position.end=Oc(ae.end)}function d(){return $N(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(ae){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=ae}function m(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=ae}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae.replace(/(\r?\n|\r)$/g,"")}function v(ae){const fe=this.resume(),Le=this.stack[this.stack.length-1];Le.label=fe,Le.identifier=bo(this.sliceSerialize(ae)).toLowerCase()}function b(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ae}function k(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ae}function C(ae){const fe=this.stack[this.stack.length-1];if(!fe.depth){const Le=this.sliceSerialize(ae).length;fe.depth=Le}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function R(ae){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function F(ae){const Le=this.stack[this.stack.length-1].children;let Ge=Le[Le.length-1];(!Ge||Ge.type!=="text")&&(Ge=tr(),Ge.position={start:Oc(ae.start),end:void 0},Le.push(Ge)),this.stack.push(Ge)}function j(ae){const fe=this.stack.pop();fe.value+=this.sliceSerialize(ae),fe.position.end=Oc(ae.end)}function D(ae){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=fe.children[fe.children.length-1];Le.position.end=Oc(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(fe.type)&&(F.call(this,ae),j.call(this,ae))}function z(){this.data.atHardBreak=!0}function Y(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae}function Q(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae}function te(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae}function Z(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=fe,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function J(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=fe,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function V(ae){const fe=this.sliceSerialize(ae),Le=this.stack[this.stack.length-2];Le.label=V1e(fe),Le.identifier=bo(fe).toLowerCase()}function re(){const ae=this.stack[this.stack.length-1],fe=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Ge=ae.children;Le.children=Ge}else Le.alt=fe}function E(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ae}function N(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ae}function L(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function G(ae){const fe=this.resume(),Le=this.stack[this.stack.length-1];Le.label=fe,Le.identifier=bo(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function W(ae){this.data.characterReferenceType=ae.type}function se(ae){const fe=this.sliceSerialize(ae),Le=this.data.characterReferenceType;let Ge;Le?(Ge=sq(fe,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ge=FN(fe);const kt=this.stack[this.stack.length-1];kt.value+=Ge}function X(ae){const fe=this.stack.pop();fe.position.end=Oc(ae.end)}function me(ae){j.call(this,ae);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(ae)}function be(ae){j.call(this,ae);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(ae)}function ge(){return{type:"blockquote",children:[]}}function Ee(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ie(){return{type:"emphasis",children:[]}}function Ve(){return{type:"heading",depth:0,children:[]}}function He(){return{type:"break"}}function we(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Je(){return{type:"link",title:null,url:"",children:[]}}function oe(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function xe(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function rt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function tr(){return{type:"text",value:""}}function Yt(){return{type:"thematicBreak"}}}function Oc(e){return{line:e.line,column:e.column,offset:e.offset}}function mq(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?mq(e,n):K1e(e,n)}}function K1e(e,t){let r;for(r in t)if(pq.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function DR(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ym({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ym({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ym({start:t.start,end:t.end})+") is still open")}function Y1e(e){const t=this;t.parser=r;function r(n){return W1e(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Z1e(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Q1e(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function X1e(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function J1e(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eye(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tye(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),s=a0(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=i+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function rye(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nye(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function gq(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=n:s.push({type:"text",value:n}),s}function sye(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return gq(e,t);const s={src:a0(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(s.title=n.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function iye(e,t){const r={src:a0(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function aye(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function oye(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return gq(e,t);const s={href:a0(n.url||"")};n.title!==null&&n.title!==void 0&&(s.title=n.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function lye(e,t){const r={href:a0(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cye(e,t,r){const n=e.all(t),s=r?uye(r):yq(t),i={},a=[];if(typeof t.checked=="boolean"){const d=n[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const d=n[o];(s||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?a.push(...d.children):a.push(d)}const c=n[n.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,u),e.applyData(t,u)}function uye(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=yq(r[n])}return t}function yq(e){const t=e.spread;return t??e.children.length>1}function dye(e,t){const r={},n=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++s<n.length;){const a=n[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function hye(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fye(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function pye(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mye(e,t){const r=e.all(t),n=r.shift(),s=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),s.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=PN(t.children[1]),c=YV(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function gye(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const h=t.children[c],f={},p=a?a[c]:void 0;p&&(f.align=p);let m={type:"element",tagName:i,properties:f,children:[]};h&&(m.children=e.all(h),e.patch(h,m),m=e.applyData(h,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function yye(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const LR=9,$R=32;function vye(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),s=0;const i=[];for(;n;)i.push(FR(t.slice(s,n.index),s>0,!0),n[0]),s=n.index+n[0].length,n=r.exec(t);return i.push(FR(t.slice(s),s>0,!1)),i.join("")}function FR(e,t,r){let n=0,s=e.length;if(t){let i=e.codePointAt(n);for(;i===LR||i===$R;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(s-1);for(;i===LR||i===$R;)s--,i=e.codePointAt(s-1)}return s>n?e.slice(n,s):""}function xye(e,t){const r={type:"text",value:vye(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function bye(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const wye={blockquote:Z1e,break:Q1e,code:X1e,delete:J1e,emphasis:eye,footnoteReference:tye,heading:rye,html:nye,imageReference:sye,image:iye,inlineCode:aye,linkReference:oye,link:lye,listItem:cye,list:dye,paragraph:hye,root:fye,strong:pye,table:mye,tableCell:yye,tableRow:gye,text:xye,thematicBreak:bye,toml:Cy,yaml:Cy,definition:Cy,footnoteDefinition:Cy};function Cy(){}const vq=-1,H2=0,xm=1,Ob=2,UN=3,zN=4,HN=5,VN=6,xq=7,bq=8,BR=typeof self=="object"?self:globalThis,kye=(e,t)=>{const r=(s,i)=>(e.set(i,s),s),n=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case H2:case vq:return r(a,s);case xm:{const o=r([],s);for(const c of a)o.push(n(c));return o}case Ob:{const o=r({},s);for(const[c,u]of a)o[n(c)]=n(u);return o}case UN:return r(new Date(a),s);case zN:{const{source:o,flags:c}=a;return r(new RegExp(o,c),s)}case HN:{const o=r(new Map,s);for(const[c,u]of a)o.set(n(c),n(u));return o}case VN:{const o=r(new Set,s);for(const c of a)o.add(n(c));return o}case xq:{const{name:o,message:c}=a;return r(new BR[o](c),s)}case bq:return r(BigInt(a),s);case"BigInt":return r(Object(BigInt(a)),s);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new BR[i](a),s)};return n},UR=e=>kye(new Map,e)(0),Yh="",{toString:Sye}={},{keys:_ye}=Object,C0=e=>{const t=typeof e;if(t!=="object"||!e)return[H2,t];const r=Sye.call(e).slice(8,-1);switch(r){case"Array":return[xm,Yh];case"Object":return[Ob,Yh];case"Date":return[UN,Yh];case"RegExp":return[zN,Yh];case"Map":return[HN,Yh];case"Set":return[VN,Yh];case"DataView":return[xm,r]}return r.includes("Array")?[xm,r]:r.includes("Error")?[xq,r]:[Ob,r]},Ay=([e,t])=>e===H2&&(t==="function"||t==="symbol"),Eye=(e,t,r,n)=>{const s=(a,o)=>{const c=n.push(a)-1;return r.set(o,c),c},i=a=>{if(r.has(a))return r.get(a);let[o,c]=C0(a);switch(o){case H2:{let d=a;switch(c){case"bigint":o=bq,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return s([vq],a)}return s([o,d],a)}case xm:{if(c){let f=a;return c==="DataView"?f=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(a)),s([c,[...f]],a)}const d=[],h=s([o,d],a);for(const f of a)d.push(i(f));return h}case Ob:{if(c)switch(c){case"BigInt":return s([c,a.toString()],a);case"Boolean":case"Number":case"String":return s([c,a.valueOf()],a)}if(t&&"toJSON"in a)return i(a.toJSON());const d=[],h=s([o,d],a);for(const f of _ye(a))(e||!Ay(C0(a[f])))&&d.push([i(f),i(a[f])]);return h}case UN:return s([o,a.toISOString()],a);case zN:{const{source:d,flags:h}=a;return s([o,{source:d,flags:h}],a)}case HN:{const d=[],h=s([o,d],a);for(const[f,p]of a)(e||!(Ay(C0(f))||Ay(C0(p))))&&d.push([i(f),i(p)]);return h}case VN:{const d=[],h=s([o,d],a);for(const f of a)(e||!Ay(C0(f)))&&d.push(i(f));return h}}const{message:u}=a;return s([o,{name:c,message:u}],a)};return i},zR=(e,{json:t,lossy:r}={})=>{const n=[];return Eye(!(t||r),!!t,new Map,n)(e),n},Tg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?UR(zR(e,t)):structuredClone(e):(e,t)=>UR(zR(e,t));function Nye(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Cye(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Aye(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Nye,n=e.options.footnoteBackLabel||Cye,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=a0(h.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(h);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let v=typeof r=="string"?r:r(c,p);typeof v=="string"&&(v={type:"text",value:v}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,p),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const v=w.children[w.children.length-1];v&&v.type==="text"?v.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Tg(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const S1=function(e){if(e==null)return jye;if(typeof e=="function")return V2(e);if(typeof e=="object")return Array.isArray(e)?Tye(e):Rye(e);if(typeof e=="string")return Iye(e);throw new Error("Expected function, string, or object as test")};function Tye(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=S1(e[r]);return V2(n);function n(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function Rye(e){const t=e;return V2(r);function r(n){const s=n;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function Iye(e){return V2(t);function t(r){return r&&r.type===e}}function V2(e){return t;function t(r,n,s){return!!(Mye(r)&&e.call(this,r,typeof n=="number"?n:void 0,s||void 0))}}function jye(){return!0}function Mye(e){return e!==null&&typeof e=="object"&&"type"in e}const wq=[],Pye=!0,BS=!1,kq="skip";function qN(e,t,r,n){let s;typeof t=="function"&&typeof r!="function"?(n=r,r=t):s=t;const i=S1(s),a=n?-1:1;o(e,void 0,[])();function o(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=wq,m,g,w;if((!t||i(c,u,d[d.length-1]||void 0))&&(p=Oye(r(c,d)),p[0]===BS))return p;if("children"in c&&c.children){const y=c;if(y.children&&p[0]!==kq)for(g=(n?y.children.length:-1)+a,w=d.concat(y);g>-1&&g<y.children.length;){const v=y.children[g];if(m=o(v,g,w)(),m[0]===BS)return m;g=typeof m[1]=="number"?m[1]:g+a}}return p}}}function Oye(e){return Array.isArray(e)?e:typeof e=="number"?[Pye,e]:e==null?wq:[e]}function q2(e,t,r,n){let s,i,a;typeof t=="function"&&typeof r!="function"?(i=void 0,a=t,s=r):(i=t,a=r,s=n),qN(e,i,o,s);function o(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return a(c,h,d)}}const US={}.hasOwnProperty,Dye={};function Lye(e,t){const r=t||Dye,n=new Map,s=new Map,i=new Map,a={...wye,...r.handlers},o={all:u,applyData:Fye,definitionById:n,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:c,options:r,patch:$ye,wrap:Uye};return q2(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?n:s,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),o;function c(d,h){const f=d.type,p=o.handlers[f];if(US.call(o.handlers,f)&&p)return p(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in d){const{children:g,...w}=d,y=Tg(w);return y.children=o.all(d),y}return Tg(d)}return(o.options.unknownHandler||Bye)(o,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const m=o.one(f[p],d);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=HR(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=HR(g.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function $ye(e,t){e.position&&(t.position=QV(e))}function Fye(e,t){let r=t;if(e&&e.data){const n=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&i&&Object.assign(r.properties,Tg(i)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function Bye(e,t){const r=t.data||{},n="value"in t&&!(US.call(r,"hProperties")||US.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Uye(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function HR(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function VR(e,t){const r=Lye(e,t),n=r.one(e,void 0),s=Aye(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function zye(e,t){return e&&"run"in e?async function(r,n){const s=VR(r,{file:n,...t});await e.run(s,n)}:function(r,n){return VR(r,{file:n,...e||t})}}function qR(e){if(e)throw e}var Rv=Object.prototype.hasOwnProperty,Sq=Object.prototype.toString,WR=Object.defineProperty,GR=Object.getOwnPropertyDescriptor,KR=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Sq.call(t)==="[object Array]"},YR=function(t){if(!t||Sq.call(t)!=="[object Object]")return!1;var r=Rv.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Rv.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var s;for(s in t);return typeof s>"u"||Rv.call(t,s)},ZR=function(t,r){WR&&r.name==="__proto__"?WR(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},QR=function(t,r){if(r==="__proto__")if(Rv.call(t,r)){if(GR)return GR(t,r).value}else return;return t[r]},Hye=function e(){var t,r,n,s,i,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(r in t)n=QR(o,r),s=QR(t,r),o!==s&&(d&&s&&(YR(s)||(i=KR(s)))?(i?(i=!1,a=n&&KR(n)?n:[]):a=n&&YR(n)?n:{},ZR(o,{name:r,newValue:e(d,a,s)})):typeof s<"u"&&ZR(o,{name:r,newValue:s}));return o};const P5=Fg(Hye);function zS(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Vye(){const e=[],t={run:r,use:n};return t;function r(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...s);function o(c,...u){const d=e[++i];let h=-1;if(c){a(c);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?qye(d,o)(...u):a(null,...u)}}function n(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function qye(e,t){let r;return n;function n(...a){const o=e.length>a.length;let c;o&&a.push(s);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&r)throw d;return s(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,s):c instanceof Error?s(c):i(c))}function s(a,...o){r||(r=!0,t(a,...o))}function i(a){s(null,a)}}const zo={basename:Wye,dirname:Gye,extname:Kye,join:Yye,sep:"/"};function Wye(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_1(e);let r=0,n=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){r=s+1;break}}else n<0&&(i=!0,n=s+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){r=s+1;break}}else a<0&&(i=!0,a=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(n=s):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function Gye(e){if(_1(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Kye(e){_1(e);let t=e.length,r=-1,n=0,s=-1,i=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||r<0||i===0||i===1&&s===r-1&&s===n+1?"":e.slice(s,r)}function Yye(...e){let t=-1,r;for(;++t<e.length;)_1(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Zye(r)}function Zye(e){_1(e);const t=e.codePointAt(0)===47;let r=Qye(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Qye(e,t){let r="",n=0,s=-1,i=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=a,i=0;continue}}else if(r.length>0){r="",n=0,s=a,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(s+1,a):r=e.slice(s+1,a),n=a-s-1;s=a,i=0}else o===46&&i>-1?i++:i=-1}return r}function _1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Xye={cwd:Jye};function Jye(){return"/"}function HS(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function eve(e){if(typeof e=="string")e=new URL(e);else if(!HS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return tve(e)}function tve(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const O5=["history","path","basename","stem","extname","dirname"];class _q{constructor(t){let r;t?HS(t)?r={path:t}:typeof t=="string"||rve(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Xye.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<O5.length;){const i=O5[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let s;for(s in r)O5.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?zo.basename(this.path):void 0}set basename(t){L5(t,"basename"),D5(t,"basename"),this.path=zo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zo.dirname(this.path):void 0}set dirname(t){XR(this.basename,"dirname"),this.path=zo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zo.extname(this.path):void 0}set extname(t){if(D5(t,"extname"),XR(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){HS(t)&&(t=eve(t)),L5(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zo.basename(this.path,this.extname):void 0}set stem(t){L5(t,"stem"),D5(t,"stem"),this.path=zo.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const s=this.message(t,r,n);throw s.fatal=!0,s}info(t,r,n){const s=this.message(t,r,n);return s.fatal=void 0,s}message(t,r,n){const s=new si(t,r,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function D5(e,t){if(e&&e.includes(zo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zo.sep+"`")}function L5(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function XR(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function rve(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nve=function(e){const n=this.constructor.prototype,s=n[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},sve={}.hasOwnProperty;class WN extends nve{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Vye()}copy(){const t=new WN;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(P5(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(B5("data",this.frozen),this.namespace[t]=r,this):sve.call(this.namespace,t)&&this.namespace[t]||void 0:t?(B5("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const s=r.call(t,...n);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Ty(t),n=this.parser||this.Parser;return $5("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),$5("process",this.parser||this.Parser),F5("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(i,a){const o=Ty(t),c=n.parse(o);n.run(c,o,function(d,h,f){if(d||!h||!f)return u(d);const p=h,m=n.stringify(p,f);ove(m)?f.value=m:f.result=m,u(d,f)});function u(d,h){d||!h?a(d):i?i(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),$5("processSync",this.parser||this.Parser),F5("processSync",this.compiler||this.Compiler),this.process(t,s),eI("processSync","process",r),n;function s(i,a){r=!0,qR(i),n=a}}run(t,r,n){JR(t),this.freeze();const s=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(a,o){const c=Ty(r);s.run(t,c,u);function u(d,h,f){const p=h||t;d?o(d):a?a(p):n(void 0,p,f)}}}runSync(t,r){let n=!1,s;return this.run(t,r,i),eI("runSync","run",n),s;function i(a,o){qR(a),s=o,n=!0}}stringify(t,r){this.freeze();const n=Ty(r),s=this.compiler||this.Compiler;return F5("stringify",s),JR(t),s(t,n)}use(t,...r){const n=this.attachers,s=this.namespace;if(B5("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(s.settings=P5(!0,s.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===u){f=h;break}if(f===-1)n.push([u,...d]);else if(d.length>0){let[p,...m]=d;const g=n[f][1];zS(g)&&zS(p)&&(p=P5(!0,g,p)),n[f]=[u,p,...m]}}}}const ive=new WN().freeze();function $5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function F5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function B5(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function JR(e){if(!zS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function eI(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ty(e){return ave(e)?e:new _q(e)}function ave(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ove(e){return typeof e=="string"||lve(e)}function lve(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cve="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",tI=[],rI={allowDangerousHtml:!0},uve=/^(https?|ircs?|mailto|xmpp)$/i,dve=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hve(e){const t=e.allowedElements,r=e.allowElement,n=e.children||"",s=e.className,i=e.components,a=e.disallowedElements,o=e.rehypePlugins||tI,c=e.remarkPlugins||tI,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rI}:rI,d=e.skipHtml,h=e.unwrapDisallowed,f=e.urlTransform||fve,p=ive().use(Y1e).use(c).use(zye,u).use(o),m=new _q;typeof n=="string"&&(m.value=n);for(const v of dve)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+cve+v.id,void 0);const g=p.parse(m);let w=p.runSync(g,m);return s&&(w={type:"element",tagName:"div",properties:{className:s},children:w.type==="root"?w.children:[w]}),q2(w,y),Ime(w,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function y(v,b,k){if(v.type==="raw"&&k&&typeof b=="number")return d?k.children.splice(b,1):k.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let C;for(C in I5)if(Object.hasOwn(I5,C)&&Object.hasOwn(v.properties,C)){const A=v.properties[C],R=I5[C];(R===null||R.includes(v.tagName))&&(v.properties[C]=f(String(A||""),C,v))}}if(v.type==="element"){let C=t?!t.includes(v.tagName):a?a.includes(v.tagName):!1;if(!C&&r&&typeof b=="number"&&(C=!r(v,b,k)),C&&k&&typeof b=="number")return h&&v.children?k.children.splice(b,1,...v.children):k.children.splice(b,1),b}}}function fve(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||r!==-1&&t>r||n!==-1&&t>n||uve.test(e.slice(0,t))?e:""}function Eq(e,t){const r=String(e);let n=r.indexOf(t),s=n,i=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===s?++i>a&&(a=i):i=1,s=n+t.length,n=r.indexOf(t,s);return a}function pve(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:i},exit:{mathFlow:s,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:o,mathText:a,mathTextData:o}};function e(c){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},c)}function t(){this.buffer()}function r(){const c=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=c}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function s(c){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(c),d.value=u;const h=d.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function i(c){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},c),this.buffer()}function a(c){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(c),d.value=u,d.data.hChildren.push({type:"text",value:u})}function o(c){this.config.enter.data.call(this,c),this.config.exit.data.call(this,c)}}function mve(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=s,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(i,a,o,c){const u=i.value||"",d=o.createTracker(c),h="$".repeat(Math.max(Eq(u,"$")+1,2)),f=o.enter("mathFlow");let p=d.move(h);if(i.meta){const m=o.enter("mathFlowMeta");p+=d.move(o.safe(i.meta,{after:`
`,before:p,encode:["$"],...d.current()})),m()}return p+=d.move(`
`),u&&(p+=d.move(u+`
`)),p+=d.move(h),f(),p}function n(i,a,o){let c=i.value||"",u=1;for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(c);)u++;const d="$".repeat(u);/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^\$|\$$/.test(c))&&(c=" "+c+" ");let h=-1;for(;++h<o.unsafe.length;){const f=o.unsafe[h];if(!f.atBreak)continue;const p=o.compilePattern(f);let m;for(;m=p.exec(c);){let g=m.index;c.codePointAt(g)===10&&c.codePointAt(g-1)===13&&g--,c=c.slice(0,g)+" "+c.slice(m.index+1)}}return d+c+d}function s(){return"$"}}const gve={tokenize:yve,concrete:!0,name:"mathFlow"},nI={tokenize:vve,partial:!0};function yve(e,t,r){const n=this,s=n.events[n.events.length-1],i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let a=0;return o;function o(v){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),c(v)}function c(v){return v===36?(e.consume(v),a++,c):a<2?r(v):(e.exit("mathFlowFenceSequence"),Br(e,u,"whitespace")(v))}function u(v){return v===null||qt(v)?h(v):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===null||qt(v)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),h(v)):v===36?r(v):(e.consume(v),d)}function h(v){return e.exit("mathFlowFence"),n.interrupt?t(v):e.attempt(nI,f,w)(v)}function f(v){return e.attempt({tokenize:y,partial:!0},w,p)(v)}function p(v){return(i?Br(e,m,"linePrefix",i+1):m)(v)}function m(v){return v===null?w(v):qt(v)?e.attempt(nI,f,w)(v):(e.enter("mathFlowValue"),g(v))}function g(v){return v===null||qt(v)?(e.exit("mathFlowValue"),m(v)):(e.consume(v),g)}function w(v){return e.exit("mathFlow"),t(v)}function y(v,b,k){let C=0;return Br(v,A,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function A(F){return v.enter("mathFlowFence"),v.enter("mathFlowFenceSequence"),R(F)}function R(F){return F===36?(C++,v.consume(F),R):C<a?k(F):(v.exit("mathFlowFenceSequence"),Br(v,O,"whitespace")(F))}function O(F){return F===null||qt(F)?(v.exit("mathFlowFence"),b(F)):k(F)}}}function vve(e,t,r){const n=this;return s;function s(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function xve(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:bve,previous:wve,name:"mathText"};function n(s,i,a){let o=0,c,u;return d;function d(g){return s.enter("mathText"),s.enter("mathTextSequence"),h(g)}function h(g){return g===36?(s.consume(g),o++,h):o<2&&!r?a(g):(s.exit("mathTextSequence"),f(g))}function f(g){return g===null?a(g):g===36?(u=s.enter("mathTextSequence"),c=0,m(g)):g===32?(s.enter("space"),s.consume(g),s.exit("space"),f):qt(g)?(s.enter("lineEnding"),s.consume(g),s.exit("lineEnding"),f):(s.enter("mathTextData"),p(g))}function p(g){return g===null||g===32||g===36||qt(g)?(s.exit("mathTextData"),f(g)):(s.consume(g),p)}function m(g){return g===36?(s.consume(g),c++,m):c===o?(s.exit("mathTextSequence"),s.exit("mathText"),i(g)):(u.type="mathTextData",p(g))}}}function bve(e){let t=e.length-4,r=3,n,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)s===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(s=n):(n===t||e[n][1].type==="lineEnding")&&(e[s][1].type="mathTextData",n!==s+2&&(e[s][1].end=e[n-1][1].end,e.splice(s+2,n-s-2),t-=n-s-2,n=s+2),s=void 0);return e}function wve(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function kve(e){return{flow:{36:gve},text:{36:xve(e)}}}const Sve={};function _ve(e){const t=this,r=e||Sve,n=t.data(),s=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);s.push(kve(r)),i.push(pve()),a.push(mve(r))}function Eve(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Nq(e,t,r){const s=S1((r||{}).ignore||[]),i=Nve(t);let a=-1;for(;++a<i.length;)qN(e,"text",o);function o(u,d){let h=-1,f;for(;++h<d.length;){const p=d[h],m=f?f.children:void 0;if(s(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return c(u,d)}function c(u,d){const h=d[d.length-1],f=i[a][0],p=i[a][1];let m=0;const w=h.children.indexOf(u);let y=!1,v=[];f.lastIndex=0;let b=f.exec(u.value);for(;b;){const k=b.index,C={index:b.index,input:b.input,stack:[...d,u]};let A=p(...b,C);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?f.lastIndex=k+1:(m!==k&&v.push({type:"text",value:u.value.slice(m,k)}),Array.isArray(A)?v.push(...A):A&&v.push(A),m=k+b[0].length,y=!0),!f.global)break;b=f.exec(u.value)}return y?(m<u.value.length&&v.push({type:"text",value:u.value.slice(m)}),h.children.splice(w,1,...v)):v=[u],w+v.length}}function Nve(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const s=r[n];t.push([Cve(s[0]),Ave(s[1])])}return t}function Cve(e){return typeof e=="string"?new RegExp(Eve(e),"g"):e}function Ave(e){return typeof e=="function"?e:function(){return e}}function Tve(e){Nq(e,[/\r?\n|\r/g,Rve])}function Rve(){return{type:"break"}}function Ive(){return function(e){Tve(e)}}const sI=/[#.]/g;function jve(e,t){const r=e||"",n={};let s=0,i,a;for(;s<r.length;){sI.lastIndex=s;const o=sI.exec(r),c=r.slice(s,o?o.index:r.length);c&&(i?i==="#"?n.id=c:Array.isArray(n.className)?n.className.push(c):n.className=[c]:a=c,s+=c.length),o&&(i=o[0],s++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}const VS={}.hasOwnProperty;function Cq(e,t,r){const n=r&&Dve(r);function s(i,a,...o){let c=-1,u;if(i==null){u={type:"root",children:[]};const d=a;o.unshift(d)}else if(u=jve(i,t),u.tagName=u.tagName.toLowerCase(),n&&VS.call(n,u.tagName)&&(u.tagName=n[u.tagName]),Mve(a))o.unshift(a);else{let d;for(d in a)VS.call(a,d)&&Pve(e,u.properties,d,a[d])}for(;++c<o.length;)qS(u.children,o[c]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return s}function Mve(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const s=t[n];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const a of i)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Pve(e,t,r,n){const s=WV(e,r);let i=-1,a;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;a=n}else typeof n=="boolean"?a=n:typeof n=="string"?s.spaceSeparated?a=vR(n):s.commaSeparated?a=fR(n):s.commaOrSpaceSeparated?a=vR(fR(n).join(" ")):a=iI(s,s.property,n):Array.isArray(n)?a=n.concat():a=s.property==="style"?Ove(n):String(n);if(Array.isArray(a)){const o=[];for(;++i<a.length;){const c=iI(s,s.property,a[i]);o[i]=c}a=o}if(s.property==="className"&&Array.isArray(t.className)){const o=a;a=t.className.concat(o)}t[s.property]=a}}function qS(e,t){let r=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++r<t.length;)qS(e,t[r]);else if(typeof t=="object"&&"type"in t)t.type==="root"?qS(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function iI(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Cg(r)===Cg(t)))return!0}return r}function Ove(e){const t=[];let r;for(r in e)VS.call(e,r)&&t.push([r,e[r]].join(": "));return t.join("; ")}function Dve(e){const t={};let r=-1;for(;++r<e.length;)t[e[r].toLowerCase()]=e[r];return t}const Lve=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],$ve=Cq(GV,"div"),Fve=Cq(B2,"g",Lve),U5={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Bve(e,t){return Aq(e,{})||{type:"root",children:[]}}function Aq(e,t){const r=Uve(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function Uve(e,t){switch(e.nodeType){case 1:return qve(e,t);case 3:return Hve(e);case 8:return Vve(e);case 9:return aI(e,t);case 10:return zve();case 11:return aI(e,t);default:return}}function aI(e,t){return{type:"root",children:Tq(e,t)}}function zve(){return{type:"doctype"}}function Hve(e){return{type:"text",value:e.nodeValue||""}}function Vve(e){return{type:"comment",value:e.nodeValue||""}}function qve(e,t){const r=e.namespaceURI,n=r===U5.svg?Fve:$ve,s=r===U5.html?e.tagName.toLowerCase():e.tagName,i=r===U5.html&&s==="template"?e.content:e,a=e.getAttributeNames(),o={};let c=-1;for(;++c<a.length;)o[a[c]]=e.getAttribute(a[c])||"";return n(s,o,Tq(i,t))}function Tq(e,t){const r=e.childNodes,n=[];let s=-1;for(;++s<r.length;){const i=Aq(r[s],t);i!==void 0&&n.push(i)}return n}new DOMParser;function Wve(e,t){const r=Gve(e);return Bve(r)}function Gve(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const oI=function(e,t,r){const n=S1(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},Mh=function(e){if(e==null)return Zve;if(typeof e=="string")return Yve(e);if(typeof e=="object")return Kve(e);if(typeof e=="function")return GN(e);throw new Error("Expected function, string, or array as `test`")};function Kve(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Mh(e[r]);return GN(n);function n(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function Yve(e){return GN(t);function t(r){return r.tagName===e}}function GN(e){return t;function t(r,n,s){return!!(Qve(r)&&e.call(this,r,typeof n=="number"?n:void 0,s||void 0))}}function Zve(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Qve(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const lI=/\n/g,cI=/[\t ]+/g,WS=Mh("br"),uI=Mh(sxe),Xve=Mh("p"),dI=Mh("tr"),Jve=Mh(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",nxe,ixe]),Rq=Mh(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Iq(e,t){const r=t||{},n="children"in e?e.children:[],s=Rq(e),i=Pq(e,{whitespace:r.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Mq(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...jq(n[o],e,{whitespace:i,breakBefore:o?void 0:s,breakAfter:o<n.length-1?WS(n[o+1]):s}));const c=[];let u;for(o=-1;++o<a.length;){const d=a[o];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&c.push(`
`.repeat(u)||" "),u=-1,c.push(d))}return c.join("")}function jq(e,t,r){return e.type==="element"?exe(e,t,r):e.type==="text"?r.whitespace==="normal"?Mq(e,r):txe(e):[]}function exe(e,t,r){const n=Pq(e,r),s=e.children||[];let i=-1,a=[];if(Jve(e))return a;let o,c;for(WS(e)||dI(e)&&oI(t,e,dI)?c=`
`:Xve(e)?(o=2,c=2):Rq(e)&&(o=1,c=1);++i<s.length;)a=a.concat(jq(s[i],e,{whitespace:n,breakBefore:i?void 0:o,breakAfter:i<s.length-1?WS(s[i+1]):c}));return uI(e)&&oI(t,e,uI)&&a.push("	"),o&&a.unshift(o),c&&a.push(c),a}function Mq(e,t){const r=String(e.value),n=[],s=[];let i=0;for(;i<=r.length;){lI.lastIndex=i;const c=lI.exec(r),u=c&&"index"in c?c.index:r.length;n.push(rxe(r.slice(i,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),i===0?t.breakBefore:!0,u===r.length?t.breakAfter:!0)),i=u+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(s.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&s.push(o),s.push(n[a]),o=0):(a===0||a===n.length-1)&&s.push(0);return s}function txe(e){return[String(e.value)]}function rxe(e,t,r){const n=[];let s=0,i;for(;s<e.length;){cI.lastIndex=s;const a=cI.exec(e);i=a?a.index:e.length,!s&&!i&&a&&!t&&n.push(""),s!==i&&n.push(e.slice(s,i)),s=a?i+a[0].length:i}return s!==i&&!r&&n.push(""),n.join(" ")}function Pq(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function nxe(e){return!!(e.properties||{}).hidden}function sxe(e){return e.tagName==="td"||e.tagName==="th"}function ixe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}class na{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new na(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class Ua{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new Ua(r,na.range(this,t))}}class Ze{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,s,i,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;s=a.start,i=a.end,s===o.length?n+=" at end of input: ":n+=" at position "+(s+1)+": ";var c=o.slice(s,i).replace(/[^]/g,"$&"),u;s>15?u=""+o.slice(s-15,s):u=o.slice(0,s);var d;i+15<o.length?d=o.slice(i,i+15)+"":d=o.slice(i),n+=u+c+d}var h=new Error(n);return h.name="ParseError",h.__proto__=Ze.prototype,h.position=s,s!=null&&i!=null&&(h.length=i-s),h.rawMessage=t,h}}Ze.prototype.__proto__=Error.prototype;var axe=function(t,r){return t.indexOf(r)!==-1},oxe=function(t,r){return t===void 0?r:t},lxe=/([A-Z])/g,cxe=function(t){return t.replace(lxe,"-$1").toLowerCase()},uxe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},dxe=/[&><"']/g;function hxe(e){return String(e).replace(dxe,t=>uxe[t])}var Oq=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},fxe=function(t){var r=Oq(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},pxe=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},mxe=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},er={contains:axe,deflt:oxe,escape:hxe,hyphenate:cxe,getBaseElem:Oq,isCharacterBox:fxe,protocolFromUrl:mxe},Iv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function gxe(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class KN{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in Iv)if(Iv.hasOwnProperty(r)){var n=Iv[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:gxe(n)}}reportNonstrict(t,r,n){var s=this.strict;if(typeof s=="function"&&(s=s(t,r,n)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new Ze("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var s=this.strict;if(typeof s=="function")try{s=s(t,r,n)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=er.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class Dc{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Ko[yxe[this.id]]}sub(){return Ko[vxe[this.id]]}fracNum(){return Ko[xxe[this.id]]}fracDen(){return Ko[bxe[this.id]]}cramp(){return Ko[wxe[this.id]]}text(){return Ko[kxe[this.id]]}isTight(){return this.size>=2}}var YN=0,Db=1,Gf=2,ec=3,Rg=4,La=5,$p=6,gi=7,Ko=[new Dc(YN,0,!1),new Dc(Db,0,!0),new Dc(Gf,1,!1),new Dc(ec,1,!0),new Dc(Rg,2,!1),new Dc(La,2,!0),new Dc($p,3,!1),new Dc(gi,3,!0)],yxe=[Rg,La,Rg,La,$p,gi,$p,gi],vxe=[La,La,La,La,gi,gi,gi,gi],xxe=[Gf,ec,Rg,La,$p,gi,$p,gi],bxe=[ec,ec,La,La,gi,gi,gi,gi],wxe=[Db,Db,ec,ec,La,La,gi,gi],kxe=[YN,Db,Gf,ec,Gf,ec,Gf,ec],ar={DISPLAY:Ko[YN],TEXT:Ko[Gf],SCRIPT:Ko[Rg],SCRIPTSCRIPT:Ko[$p]},GS=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Sxe(e){for(var t=0;t<GS.length;t++)for(var r=GS[t],n=0;n<r.blocks.length;n++){var s=r.blocks[n];if(e>=s[0]&&e<=s[1])return r.name}return null}var jv=[];GS.forEach(e=>e.blocks.forEach(t=>jv.push(...t)));function Dq(e){for(var t=0;t<jv.length;t+=2)if(e>=jv[t]&&e<=jv[t+1])return!0;return!1}var Zh=80,_xe=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},Exe=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},Nxe=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},Cxe=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},Axe=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},Txe=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},Rxe=function(t,r,n){var s=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},Ixe=function(t,r,n){r=1e3*r;var s="";switch(t){case"sqrtMain":s=_xe(r,Zh);break;case"sqrtSize1":s=Exe(r,Zh);break;case"sqrtSize2":s=Nxe(r,Zh);break;case"sqrtSize3":s=Cxe(r,Zh);break;case"sqrtSize4":s=Axe(r,Zh);break;case"sqrtTall":s=Rxe(r,Zh,n)}return s},jxe=function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},hI={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Mxe=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let E1=class{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return er.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}};var el={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ry={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},fI={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Pxe(e,t){el[e]=t}function ZN(e,t,r){if(!el[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),s=el[t][n];if(!s&&e[0]in fI&&(n=fI[e[0]].charCodeAt(0),s=el[t][n]),!s&&r==="text"&&Dq(n)&&(s=el[t][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var z5={};function Oxe(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!z5[t]){var r=z5[t]={cssEmPerMu:Ry.quad[t]/18};for(var n in Ry)Ry.hasOwnProperty(n)&&(r[n]=Ry[n][t])}return z5[t]}var Dxe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],pI=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],mI=function(t,r){return r.size<2?t:Dxe[t-1][r.size-1]};class Pl{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Pl.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=pI[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Pl(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:mI(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:pI[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=mI(Pl.BASESIZE,t);return this.size===r&&this.textSize===Pl.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Pl.BASESIZE?["sizing","reset-size"+this.size,"size"+Pl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Oxe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Pl.BASESIZE=6;var KS={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Lxe={ex:!0,em:!0,mu:!0},Lq=function(t){return typeof t!="string"&&(t=t.unit),t in KS||t in Lxe||t==="ex"},zn=function(t,r){var n;if(t.unit in KS)n=KS[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var s;if(r.style.isTight()?s=r.havingStyle(r.style.text()):s=r,t.unit==="ex")n=s.fontMetrics().xHeight;else if(t.unit==="em")n=s.fontMetrics().quad;else throw new Ze("Invalid unit: '"+t.unit+"'");s!==r&&(n*=s.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},ot=function(t){return+t.toFixed(4)+"em"},Hu=function(t){return t.filter(r=>r).join(" ")},$q=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var s=r.getColor();s&&(this.style.color=s)}},Fq=function(t){var r=document.createElement(t);r.className=Hu(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&r.setAttribute(s,this.attributes[s]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r},$xe=/[\s"'>/=\x00-\x1f]/,Bq=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+er.escape(Hu(this.classes))+'"');var n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=er.hyphenate(s)+":"+this.style[s]+";");n&&(r+=' style="'+er.escape(n)+'"');for(var i in this.attributes)if(this.attributes.hasOwnProperty(i)){if($xe.test(i))throw new Ze("Invalid attribute name '"+i+"'");r+=" "+i+'="'+er.escape(this.attributes[i])+'"'}r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+t+">",r};class N1{constructor(t,r,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,$q.call(this,t,n,s),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return er.contains(this.classes,t)}toNode(){return Fq.call(this,"span")}toMarkup(){return Bq.call(this,"span")}}class QN{constructor(t,r,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,$q.call(this,r,s),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return er.contains(this.classes,t)}toNode(){return Fq.call(this,"a")}toMarkup(){return Bq.call(this,"a")}}class Fxe{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return er.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+er.escape(this.src)+'"'+(' alt="'+er.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=er.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+er.escape(r)+'"'),t+="'/>",t}}var Bxe={:"",:"",:"",:""};class Va{constructor(t,r,n,s,i,a,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=s||0,this.skew=i||0,this.width=a||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var u=Sxe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=Bxe[this.text])}hasClass(t){return er.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ot(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Hu(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=er.escape(Hu(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=er.hyphenate(s)+":"+this.style[s]+";");n&&(t=!0,r+=' style="'+er.escape(n)+'"');var i=er.escape(this.text);return t?(r+=">",r+=i,r+="</span>",r):i}}class mc{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+er.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class Vu{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",hI[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+er.escape(this.alternate)+'"/>':'<path d="'+er.escape(hI[this.pathName])+'"/>'}}class YS{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+er.escape(this.attributes[r])+'"');return t+="/>",t}}function gI(e){if(e instanceof Va)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Uxe(e){if(e instanceof N1)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var zxe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Hxe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Nn={math:{},text:{}};function _(e,t,r,n,s,i){Nn[e][s]={font:t,group:r,replace:n},i&&n&&(Nn[e][n]=Nn[e][s])}var T="math",ze="text",$="main",ne="ams",On="accent-token",Ct="bin",Ni="close",o0="inner",ir="mathord",us="op-token",ba="open",W2="punct",ie="rel",_c="spacing",ue="textord";_(T,$,ie,"","\\equiv",!0);_(T,$,ie,"","\\prec",!0);_(T,$,ie,"","\\succ",!0);_(T,$,ie,"","\\sim",!0);_(T,$,ie,"","\\perp");_(T,$,ie,"","\\preceq",!0);_(T,$,ie,"","\\succeq",!0);_(T,$,ie,"","\\simeq",!0);_(T,$,ie,"","\\mid",!0);_(T,$,ie,"","\\ll",!0);_(T,$,ie,"","\\gg",!0);_(T,$,ie,"","\\asymp",!0);_(T,$,ie,"","\\parallel");_(T,$,ie,"","\\bowtie",!0);_(T,$,ie,"","\\smile",!0);_(T,$,ie,"","\\sqsubseteq",!0);_(T,$,ie,"","\\sqsupseteq",!0);_(T,$,ie,"","\\doteq",!0);_(T,$,ie,"","\\frown",!0);_(T,$,ie,"","\\ni",!0);_(T,$,ie,"","\\propto",!0);_(T,$,ie,"","\\vdash",!0);_(T,$,ie,"","\\dashv",!0);_(T,$,ie,"","\\owns");_(T,$,W2,".","\\ldotp");_(T,$,W2,"","\\cdotp");_(T,$,ue,"#","\\#");_(ze,$,ue,"#","\\#");_(T,$,ue,"&","\\&");_(ze,$,ue,"&","\\&");_(T,$,ue,"","\\aleph",!0);_(T,$,ue,"","\\forall",!0);_(T,$,ue,"","\\hbar",!0);_(T,$,ue,"","\\exists",!0);_(T,$,ue,"","\\nabla",!0);_(T,$,ue,"","\\flat",!0);_(T,$,ue,"","\\ell",!0);_(T,$,ue,"","\\natural",!0);_(T,$,ue,"","\\clubsuit",!0);_(T,$,ue,"","\\wp",!0);_(T,$,ue,"","\\sharp",!0);_(T,$,ue,"","\\diamondsuit",!0);_(T,$,ue,"","\\Re",!0);_(T,$,ue,"","\\heartsuit",!0);_(T,$,ue,"","\\Im",!0);_(T,$,ue,"","\\spadesuit",!0);_(T,$,ue,"","\\S",!0);_(ze,$,ue,"","\\S");_(T,$,ue,"","\\P",!0);_(ze,$,ue,"","\\P");_(T,$,ue,"","\\dag");_(ze,$,ue,"","\\dag");_(ze,$,ue,"","\\textdagger");_(T,$,ue,"","\\ddag");_(ze,$,ue,"","\\ddag");_(ze,$,ue,"","\\textdaggerdbl");_(T,$,Ni,"","\\rmoustache",!0);_(T,$,ba,"","\\lmoustache",!0);_(T,$,Ni,"","\\rgroup",!0);_(T,$,ba,"","\\lgroup",!0);_(T,$,Ct,"","\\mp",!0);_(T,$,Ct,"","\\ominus",!0);_(T,$,Ct,"","\\uplus",!0);_(T,$,Ct,"","\\sqcap",!0);_(T,$,Ct,"","\\ast");_(T,$,Ct,"","\\sqcup",!0);_(T,$,Ct,"","\\bigcirc",!0);_(T,$,Ct,"","\\bullet",!0);_(T,$,Ct,"","\\ddagger");_(T,$,Ct,"","\\wr",!0);_(T,$,Ct,"","\\amalg");_(T,$,Ct,"&","\\And");_(T,$,ie,"","\\longleftarrow",!0);_(T,$,ie,"","\\Leftarrow",!0);_(T,$,ie,"","\\Longleftarrow",!0);_(T,$,ie,"","\\longrightarrow",!0);_(T,$,ie,"","\\Rightarrow",!0);_(T,$,ie,"","\\Longrightarrow",!0);_(T,$,ie,"","\\leftrightarrow",!0);_(T,$,ie,"","\\longleftrightarrow",!0);_(T,$,ie,"","\\Leftrightarrow",!0);_(T,$,ie,"","\\Longleftrightarrow",!0);_(T,$,ie,"","\\mapsto",!0);_(T,$,ie,"","\\longmapsto",!0);_(T,$,ie,"","\\nearrow",!0);_(T,$,ie,"","\\hookleftarrow",!0);_(T,$,ie,"","\\hookrightarrow",!0);_(T,$,ie,"","\\searrow",!0);_(T,$,ie,"","\\leftharpoonup",!0);_(T,$,ie,"","\\rightharpoonup",!0);_(T,$,ie,"","\\swarrow",!0);_(T,$,ie,"","\\leftharpoondown",!0);_(T,$,ie,"","\\rightharpoondown",!0);_(T,$,ie,"","\\nwarrow",!0);_(T,$,ie,"","\\rightleftharpoons",!0);_(T,ne,ie,"","\\nless",!0);_(T,ne,ie,"","\\@nleqslant");_(T,ne,ie,"","\\@nleqq");_(T,ne,ie,"","\\lneq",!0);_(T,ne,ie,"","\\lneqq",!0);_(T,ne,ie,"","\\@lvertneqq");_(T,ne,ie,"","\\lnsim",!0);_(T,ne,ie,"","\\lnapprox",!0);_(T,ne,ie,"","\\nprec",!0);_(T,ne,ie,"","\\npreceq",!0);_(T,ne,ie,"","\\precnsim",!0);_(T,ne,ie,"","\\precnapprox",!0);_(T,ne,ie,"","\\nsim",!0);_(T,ne,ie,"","\\@nshortmid");_(T,ne,ie,"","\\nmid",!0);_(T,ne,ie,"","\\nvdash",!0);_(T,ne,ie,"","\\nvDash",!0);_(T,ne,ie,"","\\ntriangleleft");_(T,ne,ie,"","\\ntrianglelefteq",!0);_(T,ne,ie,"","\\subsetneq",!0);_(T,ne,ie,"","\\@varsubsetneq");_(T,ne,ie,"","\\subsetneqq",!0);_(T,ne,ie,"","\\@varsubsetneqq");_(T,ne,ie,"","\\ngtr",!0);_(T,ne,ie,"","\\@ngeqslant");_(T,ne,ie,"","\\@ngeqq");_(T,ne,ie,"","\\gneq",!0);_(T,ne,ie,"","\\gneqq",!0);_(T,ne,ie,"","\\@gvertneqq");_(T,ne,ie,"","\\gnsim",!0);_(T,ne,ie,"","\\gnapprox",!0);_(T,ne,ie,"","\\nsucc",!0);_(T,ne,ie,"","\\nsucceq",!0);_(T,ne,ie,"","\\succnsim",!0);_(T,ne,ie,"","\\succnapprox",!0);_(T,ne,ie,"","\\ncong",!0);_(T,ne,ie,"","\\@nshortparallel");_(T,ne,ie,"","\\nparallel",!0);_(T,ne,ie,"","\\nVDash",!0);_(T,ne,ie,"","\\ntriangleright");_(T,ne,ie,"","\\ntrianglerighteq",!0);_(T,ne,ie,"","\\@nsupseteqq");_(T,ne,ie,"","\\supsetneq",!0);_(T,ne,ie,"","\\@varsupsetneq");_(T,ne,ie,"","\\supsetneqq",!0);_(T,ne,ie,"","\\@varsupsetneqq");_(T,ne,ie,"","\\nVdash",!0);_(T,ne,ie,"","\\precneqq",!0);_(T,ne,ie,"","\\succneqq",!0);_(T,ne,ie,"","\\@nsubseteqq");_(T,ne,Ct,"","\\unlhd");_(T,ne,Ct,"","\\unrhd");_(T,ne,ie,"","\\nleftarrow",!0);_(T,ne,ie,"","\\nrightarrow",!0);_(T,ne,ie,"","\\nLeftarrow",!0);_(T,ne,ie,"","\\nRightarrow",!0);_(T,ne,ie,"","\\nleftrightarrow",!0);_(T,ne,ie,"","\\nLeftrightarrow",!0);_(T,ne,ie,"","\\vartriangle");_(T,ne,ue,"","\\hslash");_(T,ne,ue,"","\\triangledown");_(T,ne,ue,"","\\lozenge");_(T,ne,ue,"","\\circledS");_(T,ne,ue,"","\\circledR");_(ze,ne,ue,"","\\circledR");_(T,ne,ue,"","\\measuredangle",!0);_(T,ne,ue,"","\\nexists");_(T,ne,ue,"","\\mho");_(T,ne,ue,"","\\Finv",!0);_(T,ne,ue,"","\\Game",!0);_(T,ne,ue,"","\\backprime");_(T,ne,ue,"","\\blacktriangle");_(T,ne,ue,"","\\blacktriangledown");_(T,ne,ue,"","\\blacksquare");_(T,ne,ue,"","\\blacklozenge");_(T,ne,ue,"","\\bigstar");_(T,ne,ue,"","\\sphericalangle",!0);_(T,ne,ue,"","\\complement",!0);_(T,ne,ue,"","\\eth",!0);_(ze,$,ue,"","");_(T,ne,ue,"","\\diagup");_(T,ne,ue,"","\\diagdown");_(T,ne,ue,"","\\square");_(T,ne,ue,"","\\Box");_(T,ne,ue,"","\\Diamond");_(T,ne,ue,"","\\yen",!0);_(ze,ne,ue,"","\\yen",!0);_(T,ne,ue,"","\\checkmark",!0);_(ze,ne,ue,"","\\checkmark");_(T,ne,ue,"","\\beth",!0);_(T,ne,ue,"","\\daleth",!0);_(T,ne,ue,"","\\gimel",!0);_(T,ne,ue,"","\\digamma",!0);_(T,ne,ue,"","\\varkappa");_(T,ne,ba,"","\\@ulcorner",!0);_(T,ne,Ni,"","\\@urcorner",!0);_(T,ne,ba,"","\\@llcorner",!0);_(T,ne,Ni,"","\\@lrcorner",!0);_(T,ne,ie,"","\\leqq",!0);_(T,ne,ie,"","\\leqslant",!0);_(T,ne,ie,"","\\eqslantless",!0);_(T,ne,ie,"","\\lesssim",!0);_(T,ne,ie,"","\\lessapprox",!0);_(T,ne,ie,"","\\approxeq",!0);_(T,ne,Ct,"","\\lessdot");_(T,ne,ie,"","\\lll",!0);_(T,ne,ie,"","\\lessgtr",!0);_(T,ne,ie,"","\\lesseqgtr",!0);_(T,ne,ie,"","\\lesseqqgtr",!0);_(T,ne,ie,"","\\doteqdot");_(T,ne,ie,"","\\risingdotseq",!0);_(T,ne,ie,"","\\fallingdotseq",!0);_(T,ne,ie,"","\\backsim",!0);_(T,ne,ie,"","\\backsimeq",!0);_(T,ne,ie,"","\\subseteqq",!0);_(T,ne,ie,"","\\Subset",!0);_(T,ne,ie,"","\\sqsubset",!0);_(T,ne,ie,"","\\preccurlyeq",!0);_(T,ne,ie,"","\\curlyeqprec",!0);_(T,ne,ie,"","\\precsim",!0);_(T,ne,ie,"","\\precapprox",!0);_(T,ne,ie,"","\\vartriangleleft");_(T,ne,ie,"","\\trianglelefteq");_(T,ne,ie,"","\\vDash",!0);_(T,ne,ie,"","\\Vvdash",!0);_(T,ne,ie,"","\\smallsmile");_(T,ne,ie,"","\\smallfrown");_(T,ne,ie,"","\\bumpeq",!0);_(T,ne,ie,"","\\Bumpeq",!0);_(T,ne,ie,"","\\geqq",!0);_(T,ne,ie,"","\\geqslant",!0);_(T,ne,ie,"","\\eqslantgtr",!0);_(T,ne,ie,"","\\gtrsim",!0);_(T,ne,ie,"","\\gtrapprox",!0);_(T,ne,Ct,"","\\gtrdot");_(T,ne,ie,"","\\ggg",!0);_(T,ne,ie,"","\\gtrless",!0);_(T,ne,ie,"","\\gtreqless",!0);_(T,ne,ie,"","\\gtreqqless",!0);_(T,ne,ie,"","\\eqcirc",!0);_(T,ne,ie,"","\\circeq",!0);_(T,ne,ie,"","\\triangleq",!0);_(T,ne,ie,"","\\thicksim");_(T,ne,ie,"","\\thickapprox");_(T,ne,ie,"","\\supseteqq",!0);_(T,ne,ie,"","\\Supset",!0);_(T,ne,ie,"","\\sqsupset",!0);_(T,ne,ie,"","\\succcurlyeq",!0);_(T,ne,ie,"","\\curlyeqsucc",!0);_(T,ne,ie,"","\\succsim",!0);_(T,ne,ie,"","\\succapprox",!0);_(T,ne,ie,"","\\vartriangleright");_(T,ne,ie,"","\\trianglerighteq");_(T,ne,ie,"","\\Vdash",!0);_(T,ne,ie,"","\\shortmid");_(T,ne,ie,"","\\shortparallel");_(T,ne,ie,"","\\between",!0);_(T,ne,ie,"","\\pitchfork",!0);_(T,ne,ie,"","\\varpropto");_(T,ne,ie,"","\\blacktriangleleft");_(T,ne,ie,"","\\therefore",!0);_(T,ne,ie,"","\\backepsilon");_(T,ne,ie,"","\\blacktriangleright");_(T,ne,ie,"","\\because",!0);_(T,ne,ie,"","\\llless");_(T,ne,ie,"","\\gggtr");_(T,ne,Ct,"","\\lhd");_(T,ne,Ct,"","\\rhd");_(T,ne,ie,"","\\eqsim",!0);_(T,$,ie,"","\\Join");_(T,ne,ie,"","\\Doteq",!0);_(T,ne,Ct,"","\\dotplus",!0);_(T,ne,Ct,"","\\smallsetminus");_(T,ne,Ct,"","\\Cap",!0);_(T,ne,Ct,"","\\Cup",!0);_(T,ne,Ct,"","\\doublebarwedge",!0);_(T,ne,Ct,"","\\boxminus",!0);_(T,ne,Ct,"","\\boxplus",!0);_(T,ne,Ct,"","\\divideontimes",!0);_(T,ne,Ct,"","\\ltimes",!0);_(T,ne,Ct,"","\\rtimes",!0);_(T,ne,Ct,"","\\leftthreetimes",!0);_(T,ne,Ct,"","\\rightthreetimes",!0);_(T,ne,Ct,"","\\curlywedge",!0);_(T,ne,Ct,"","\\curlyvee",!0);_(T,ne,Ct,"","\\circleddash",!0);_(T,ne,Ct,"","\\circledast",!0);_(T,ne,Ct,"","\\centerdot");_(T,ne,Ct,"","\\intercal",!0);_(T,ne,Ct,"","\\doublecap");_(T,ne,Ct,"","\\doublecup");_(T,ne,Ct,"","\\boxtimes",!0);_(T,ne,ie,"","\\dashrightarrow",!0);_(T,ne,ie,"","\\dashleftarrow",!0);_(T,ne,ie,"","\\leftleftarrows",!0);_(T,ne,ie,"","\\leftrightarrows",!0);_(T,ne,ie,"","\\Lleftarrow",!0);_(T,ne,ie,"","\\twoheadleftarrow",!0);_(T,ne,ie,"","\\leftarrowtail",!0);_(T,ne,ie,"","\\looparrowleft",!0);_(T,ne,ie,"","\\leftrightharpoons",!0);_(T,ne,ie,"","\\curvearrowleft",!0);_(T,ne,ie,"","\\circlearrowleft",!0);_(T,ne,ie,"","\\Lsh",!0);_(T,ne,ie,"","\\upuparrows",!0);_(T,ne,ie,"","\\upharpoonleft",!0);_(T,ne,ie,"","\\downharpoonleft",!0);_(T,$,ie,"","\\origof",!0);_(T,$,ie,"","\\imageof",!0);_(T,ne,ie,"","\\multimap",!0);_(T,ne,ie,"","\\leftrightsquigarrow",!0);_(T,ne,ie,"","\\rightrightarrows",!0);_(T,ne,ie,"","\\rightleftarrows",!0);_(T,ne,ie,"","\\twoheadrightarrow",!0);_(T,ne,ie,"","\\rightarrowtail",!0);_(T,ne,ie,"","\\looparrowright",!0);_(T,ne,ie,"","\\curvearrowright",!0);_(T,ne,ie,"","\\circlearrowright",!0);_(T,ne,ie,"","\\Rsh",!0);_(T,ne,ie,"","\\downdownarrows",!0);_(T,ne,ie,"","\\upharpoonright",!0);_(T,ne,ie,"","\\downharpoonright",!0);_(T,ne,ie,"","\\rightsquigarrow",!0);_(T,ne,ie,"","\\leadsto");_(T,ne,ie,"","\\Rrightarrow",!0);_(T,ne,ie,"","\\restriction");_(T,$,ue,"","`");_(T,$,ue,"$","\\$");_(ze,$,ue,"$","\\$");_(ze,$,ue,"$","\\textdollar");_(T,$,ue,"%","\\%");_(ze,$,ue,"%","\\%");_(T,$,ue,"_","\\_");_(ze,$,ue,"_","\\_");_(ze,$,ue,"_","\\textunderscore");_(T,$,ue,"","\\angle",!0);_(T,$,ue,"","\\infty",!0);_(T,$,ue,"","\\prime");_(T,$,ue,"","\\triangle");_(T,$,ue,"","\\Gamma",!0);_(T,$,ue,"","\\Delta",!0);_(T,$,ue,"","\\Theta",!0);_(T,$,ue,"","\\Lambda",!0);_(T,$,ue,"","\\Xi",!0);_(T,$,ue,"","\\Pi",!0);_(T,$,ue,"","\\Sigma",!0);_(T,$,ue,"","\\Upsilon",!0);_(T,$,ue,"","\\Phi",!0);_(T,$,ue,"","\\Psi",!0);_(T,$,ue,"","\\Omega",!0);_(T,$,ue,"A","");_(T,$,ue,"B","");_(T,$,ue,"E","");_(T,$,ue,"Z","");_(T,$,ue,"H","");_(T,$,ue,"I","");_(T,$,ue,"K","");_(T,$,ue,"M","");_(T,$,ue,"N","");_(T,$,ue,"O","");_(T,$,ue,"P","");_(T,$,ue,"T","");_(T,$,ue,"X","");_(T,$,ue,"","\\neg",!0);_(T,$,ue,"","\\lnot");_(T,$,ue,"","\\top");_(T,$,ue,"","\\bot");_(T,$,ue,"","\\emptyset");_(T,ne,ue,"","\\varnothing");_(T,$,ir,"","\\alpha",!0);_(T,$,ir,"","\\beta",!0);_(T,$,ir,"","\\gamma",!0);_(T,$,ir,"","\\delta",!0);_(T,$,ir,"","\\epsilon",!0);_(T,$,ir,"","\\zeta",!0);_(T,$,ir,"","\\eta",!0);_(T,$,ir,"","\\theta",!0);_(T,$,ir,"","\\iota",!0);_(T,$,ir,"","\\kappa",!0);_(T,$,ir,"","\\lambda",!0);_(T,$,ir,"","\\mu",!0);_(T,$,ir,"","\\nu",!0);_(T,$,ir,"","\\xi",!0);_(T,$,ir,"","\\omicron",!0);_(T,$,ir,"","\\pi",!0);_(T,$,ir,"","\\rho",!0);_(T,$,ir,"","\\sigma",!0);_(T,$,ir,"","\\tau",!0);_(T,$,ir,"","\\upsilon",!0);_(T,$,ir,"","\\phi",!0);_(T,$,ir,"","\\chi",!0);_(T,$,ir,"","\\psi",!0);_(T,$,ir,"","\\omega",!0);_(T,$,ir,"","\\varepsilon",!0);_(T,$,ir,"","\\vartheta",!0);_(T,$,ir,"","\\varpi",!0);_(T,$,ir,"","\\varrho",!0);_(T,$,ir,"","\\varsigma",!0);_(T,$,ir,"","\\varphi",!0);_(T,$,Ct,"","*",!0);_(T,$,Ct,"+","+");_(T,$,Ct,"","-",!0);_(T,$,Ct,"","\\cdot",!0);_(T,$,Ct,"","\\circ",!0);_(T,$,Ct,"","\\div",!0);_(T,$,Ct,"","\\pm",!0);_(T,$,Ct,"","\\times",!0);_(T,$,Ct,"","\\cap",!0);_(T,$,Ct,"","\\cup",!0);_(T,$,Ct,"","\\setminus",!0);_(T,$,Ct,"","\\land");_(T,$,Ct,"","\\lor");_(T,$,Ct,"","\\wedge",!0);_(T,$,Ct,"","\\vee",!0);_(T,$,ue,"","\\surd");_(T,$,ba,"","\\langle",!0);_(T,$,ba,"","\\lvert");_(T,$,ba,"","\\lVert");_(T,$,Ni,"?","?");_(T,$,Ni,"!","!");_(T,$,Ni,"","\\rangle",!0);_(T,$,Ni,"","\\rvert");_(T,$,Ni,"","\\rVert");_(T,$,ie,"=","=");_(T,$,ie,":",":");_(T,$,ie,"","\\approx",!0);_(T,$,ie,"","\\cong",!0);_(T,$,ie,"","\\ge");_(T,$,ie,"","\\geq",!0);_(T,$,ie,"","\\gets");_(T,$,ie,">","\\gt",!0);_(T,$,ie,"","\\in",!0);_(T,$,ie,"","\\@not");_(T,$,ie,"","\\subset",!0);_(T,$,ie,"","\\supset",!0);_(T,$,ie,"","\\subseteq",!0);_(T,$,ie,"","\\supseteq",!0);_(T,ne,ie,"","\\nsubseteq",!0);_(T,ne,ie,"","\\nsupseteq",!0);_(T,$,ie,"","\\models");_(T,$,ie,"","\\leftarrow",!0);_(T,$,ie,"","\\le");_(T,$,ie,"","\\leq",!0);_(T,$,ie,"<","\\lt",!0);_(T,$,ie,"","\\rightarrow",!0);_(T,$,ie,"","\\to");_(T,ne,ie,"","\\ngeq",!0);_(T,ne,ie,"","\\nleq",!0);_(T,$,_c,"","\\ ");_(T,$,_c,"","\\space");_(T,$,_c,"","\\nobreakspace");_(ze,$,_c,"","\\ ");_(ze,$,_c,""," ");_(ze,$,_c,"","\\space");_(ze,$,_c,"","\\nobreakspace");_(T,$,_c,null,"\\nobreak");_(T,$,_c,null,"\\allowbreak");_(T,$,W2,",",",");_(T,$,W2,";",";");_(T,ne,Ct,"","\\barwedge",!0);_(T,ne,Ct,"","\\veebar",!0);_(T,$,Ct,"","\\odot",!0);_(T,$,Ct,"","\\oplus",!0);_(T,$,Ct,"","\\otimes",!0);_(T,$,ue,"","\\partial",!0);_(T,$,Ct,"","\\oslash",!0);_(T,ne,Ct,"","\\circledcirc",!0);_(T,ne,Ct,"","\\boxdot",!0);_(T,$,Ct,"","\\bigtriangleup");_(T,$,Ct,"","\\bigtriangledown");_(T,$,Ct,"","\\dagger");_(T,$,Ct,"","\\diamond");_(T,$,Ct,"","\\star");_(T,$,Ct,"","\\triangleleft");_(T,$,Ct,"","\\triangleright");_(T,$,ba,"{","\\{");_(ze,$,ue,"{","\\{");_(ze,$,ue,"{","\\textbraceleft");_(T,$,Ni,"}","\\}");_(ze,$,ue,"}","\\}");_(ze,$,ue,"}","\\textbraceright");_(T,$,ba,"{","\\lbrace");_(T,$,Ni,"}","\\rbrace");_(T,$,ba,"[","\\lbrack",!0);_(ze,$,ue,"[","\\lbrack",!0);_(T,$,Ni,"]","\\rbrack",!0);_(ze,$,ue,"]","\\rbrack",!0);_(T,$,ba,"(","\\lparen",!0);_(T,$,Ni,")","\\rparen",!0);_(ze,$,ue,"<","\\textless",!0);_(ze,$,ue,">","\\textgreater",!0);_(T,$,ba,"","\\lfloor",!0);_(T,$,Ni,"","\\rfloor",!0);_(T,$,ba,"","\\lceil",!0);_(T,$,Ni,"","\\rceil",!0);_(T,$,ue,"\\","\\backslash");_(T,$,ue,"","|");_(T,$,ue,"","\\vert");_(ze,$,ue,"|","\\textbar",!0);_(T,$,ue,"","\\|");_(T,$,ue,"","\\Vert");_(ze,$,ue,"","\\textbardbl");_(ze,$,ue,"~","\\textasciitilde");_(ze,$,ue,"\\","\\textbackslash");_(ze,$,ue,"^","\\textasciicircum");_(T,$,ie,"","\\uparrow",!0);_(T,$,ie,"","\\Uparrow",!0);_(T,$,ie,"","\\downarrow",!0);_(T,$,ie,"","\\Downarrow",!0);_(T,$,ie,"","\\updownarrow",!0);_(T,$,ie,"","\\Updownarrow",!0);_(T,$,us,"","\\coprod");_(T,$,us,"","\\bigvee");_(T,$,us,"","\\bigwedge");_(T,$,us,"","\\biguplus");_(T,$,us,"","\\bigcap");_(T,$,us,"","\\bigcup");_(T,$,us,"","\\int");_(T,$,us,"","\\intop");_(T,$,us,"","\\iint");_(T,$,us,"","\\iiint");_(T,$,us,"","\\prod");_(T,$,us,"","\\sum");_(T,$,us,"","\\bigotimes");_(T,$,us,"","\\bigoplus");_(T,$,us,"","\\bigodot");_(T,$,us,"","\\oint");_(T,$,us,"","\\oiint");_(T,$,us,"","\\oiiint");_(T,$,us,"","\\bigsqcup");_(T,$,us,"","\\smallint");_(ze,$,o0,"","\\textellipsis");_(T,$,o0,"","\\mathellipsis");_(ze,$,o0,"","\\ldots",!0);_(T,$,o0,"","\\ldots",!0);_(T,$,o0,"","\\@cdots",!0);_(T,$,o0,"","\\ddots",!0);_(T,$,ue,"","\\varvdots");_(ze,$,ue,"","\\varvdots");_(T,$,On,"","\\acute");_(T,$,On,"","\\grave");_(T,$,On,"","\\ddot");_(T,$,On,"~","\\tilde");_(T,$,On,"","\\bar");_(T,$,On,"","\\breve");_(T,$,On,"","\\check");_(T,$,On,"^","\\hat");_(T,$,On,"","\\vec");_(T,$,On,"","\\dot");_(T,$,On,"","\\mathring");_(T,$,ir,"","\\@imath");_(T,$,ir,"","\\@jmath");_(T,$,ue,"","");_(T,$,ue,"","");_(ze,$,ue,"","\\i",!0);_(ze,$,ue,"","\\j",!0);_(ze,$,ue,"","\\ss",!0);_(ze,$,ue,"","\\ae",!0);_(ze,$,ue,"","\\oe",!0);_(ze,$,ue,"","\\o",!0);_(ze,$,ue,"","\\AE",!0);_(ze,$,ue,"","\\OE",!0);_(ze,$,ue,"","\\O",!0);_(ze,$,On,"","\\'");_(ze,$,On,"","\\`");_(ze,$,On,"","\\^");_(ze,$,On,"","\\~");_(ze,$,On,"","\\=");_(ze,$,On,"","\\u");_(ze,$,On,"","\\.");_(ze,$,On,"","\\c");_(ze,$,On,"","\\r");_(ze,$,On,"","\\v");_(ze,$,On,"",'\\"');_(ze,$,On,"","\\H");_(ze,$,On,"","\\textcircled");var Uq={"--":!0,"---":!0,"``":!0,"''":!0};_(ze,$,ue,"","--",!0);_(ze,$,ue,"","\\textendash");_(ze,$,ue,"","---",!0);_(ze,$,ue,"","\\textemdash");_(ze,$,ue,"","`",!0);_(ze,$,ue,"","\\textquoteleft");_(ze,$,ue,"","'",!0);_(ze,$,ue,"","\\textquoteright");_(ze,$,ue,"","``",!0);_(ze,$,ue,"","\\textquotedblleft");_(ze,$,ue,"","''",!0);_(ze,$,ue,"","\\textquotedblright");_(T,$,ue,"","\\degree",!0);_(ze,$,ue,"","\\degree");_(ze,$,ue,"","\\textdegree",!0);_(T,$,ue,"","\\pounds");_(T,$,ue,"","\\mathsterling",!0);_(ze,$,ue,"","\\pounds");_(ze,$,ue,"","\\textsterling",!0);_(T,ne,ue,"","\\maltese");_(ze,ne,ue,"","\\maltese");var yI='0123456789/@."';for(var H5=0;H5<yI.length;H5++){var vI=yI.charAt(H5);_(T,$,ue,vI,vI)}var xI='0123456789!@*()-=+";:?/.,';for(var V5=0;V5<xI.length;V5++){var bI=xI.charAt(V5);_(ze,$,ue,bI,bI)}var Lb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var q5=0;q5<Lb.length;q5++){var Iy=Lb.charAt(q5);_(T,$,ir,Iy,Iy),_(ze,$,ue,Iy,Iy)}_(T,ne,ue,"C","");_(ze,ne,ue,"C","");_(T,ne,ue,"H","");_(ze,ne,ue,"H","");_(T,ne,ue,"N","");_(ze,ne,ue,"N","");_(T,ne,ue,"P","");_(ze,ne,ue,"P","");_(T,ne,ue,"Q","");_(ze,ne,ue,"Q","");_(T,ne,ue,"R","");_(ze,ne,ue,"R","");_(T,ne,ue,"Z","");_(ze,ne,ue,"Z","");_(T,$,ir,"h","");_(ze,$,ir,"h","");var fr="";for(var ai=0;ai<Lb.length;ai++){var Wn=Lb.charAt(ai);fr=String.fromCharCode(55349,56320+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56372+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56424+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56580+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56684+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56736+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56788+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56840+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56944+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),ai<26&&(fr=String.fromCharCode(55349,56632+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr),fr=String.fromCharCode(55349,56476+ai),_(T,$,ir,Wn,fr),_(ze,$,ue,Wn,fr))}fr="";_(T,$,ir,"k",fr);_(ze,$,ue,"k",fr);for(var id=0;id<10;id++){var Lc=id.toString();fr=String.fromCharCode(55349,57294+id),_(T,$,ir,Lc,fr),_(ze,$,ue,Lc,fr),fr=String.fromCharCode(55349,57314+id),_(T,$,ir,Lc,fr),_(ze,$,ue,Lc,fr),fr=String.fromCharCode(55349,57324+id),_(T,$,ir,Lc,fr),_(ze,$,ue,Lc,fr),fr=String.fromCharCode(55349,57334+id),_(T,$,ir,Lc,fr),_(ze,$,ue,Lc,fr)}var ZS="";for(var W5=0;W5<ZS.length;W5++){var jy=ZS.charAt(W5);_(T,$,ir,jy,jy),_(ze,$,ue,jy,jy)}var My=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wI=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Vxe=function(t,r){var n=t.charCodeAt(0),s=t.charCodeAt(1),i=(n-55296)*1024+(s-56320)+65536,a=r==="math"?0:1;if(119808<=i&&i<120484){var o=Math.floor((i-119808)/26);return[My[o][2],My[o][a]]}else if(120782<=i&&i<=120831){var c=Math.floor((i-120782)/10);return[wI[c][2],wI[c][a]]}else{if(i===120485||i===120486)return[My[0][2],My[0][a]];if(120486<i&&i<120782)return["",""];throw new Ze("Unsupported character: "+t)}},G2=function(t,r,n){return Nn[n][t]&&Nn[n][t].replace&&(t=Nn[n][t].replace),{value:t,metrics:ZN(t,r,n)}},co=function(t,r,n,s,i){var a=G2(t,r,n),o=a.metrics;t=a.value;var c;if(o){var u=o.italic;(n==="text"||s&&s.font==="mathit")&&(u=0),c=new Va(t,o.height,o.depth,u,o.skew,o.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),c=new Va(t,0,0,0,0,0,i);if(s){c.maxFontSize=s.sizeMultiplier,s.style.isTight()&&c.classes.push("mtight");var d=s.getColor();d&&(c.style.color=d)}return c},qxe=function(t,r,n,s){return s===void 0&&(s=[]),n.font==="boldsymbol"&&G2(t,"Main-Bold",r).metrics?co(t,"Main-Bold",r,n,s.concat(["mathbf"])):t==="\\"||Nn[r][t].font==="main"?co(t,"Main-Regular",r,n,s):co(t,"AMS-Regular",r,n,s.concat(["amsrm"]))},Wxe=function(t,r,n,s,i){return i!=="textord"&&G2(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Gxe=function(t,r,n){var s=t.mode,i=t.text,a=["mord"],o=s==="math"||s==="text"&&r.font,c=o?r.font:r.fontFamily,u="",d="";if(i.charCodeAt(0)===55349&&([u,d]=Vxe(i,s)),u.length>0)return co(i,u,s,r,a.concat(d));if(c){var h,f;if(c==="boldsymbol"){var p=Wxe(i,s,r,a,n);h=p.fontName,f=[p.fontClass]}else o?(h=Vq[c].fontName,f=[c]):(h=Py(c,r.fontWeight,r.fontShape),f=[c,r.fontWeight,r.fontShape]);if(G2(i,h,s).metrics)return co(i,h,s,r,a.concat(f));if(Uq.hasOwnProperty(i)&&h.slice(0,10)==="Typewriter"){for(var m=[],g=0;g<i.length;g++)m.push(co(i[g],h,s,r,a.concat(f)));return Hq(m)}}if(n==="mathord")return co(i,"Math-Italic",s,r,a.concat(["mathnormal"]));if(n==="textord"){var w=Nn[s][i]&&Nn[s][i].font;if(w==="ams"){var y=Py("amsrm",r.fontWeight,r.fontShape);return co(i,y,s,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(w==="main"||!w){var v=Py("textrm",r.fontWeight,r.fontShape);return co(i,v,s,r,a.concat(r.fontWeight,r.fontShape))}else{var b=Py(w,r.fontWeight,r.fontShape);return co(i,b,s,r,a.concat(b,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Kxe=(e,t)=>{if(Hu(e.classes)!==Hu(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var s in t.style)if(t.style.hasOwnProperty(s)&&e.style[s]!==t.style[s])return!1;return!0},Yxe=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Va&&n instanceof Va&&Kxe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},XN=function(t){for(var r=0,n=0,s=0,i=0;i<t.children.length;i++){var a=t.children[i];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>s&&(s=a.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=s},Pi=function(t,r,n,s){var i=new N1(t,r,n,s);return XN(i),i},zq=(e,t,r,n)=>new N1(e,t,r,n),Zxe=function(t,r,n){var s=Pi([t],[],r);return s.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),s.style.borderBottomWidth=ot(s.height),s.maxFontSize=1,s},Qxe=function(t,r,n,s){var i=new QN(t,r,n,s);return XN(i),i},Hq=function(t){var r=new E1(t);return XN(r),r},Xxe=function(t,r){return t instanceof E1?Pi([],[t],r):t},Jxe=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],s=-r[0].shift-r[0].elem.depth,i=s,a=1;a<r.length;a++){var o=-r[a].shift-i-r[a].elem.depth,c=o-(r[a-1].elem.height+r[a-1].elem.depth);i=i+o,n.push({type:"kern",size:c}),n.push(r[a])}return{children:n,depth:s}}var u;if(t.positionType==="top"){for(var d=t.positionData,h=0;h<t.children.length;h++){var f=t.children[h];d-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=d}else if(t.positionType==="bottom")u=-t.positionData;else{var p=t.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-p.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},ebe=function(t,r){for(var{children:n,depth:s}=Jxe(t),i=0,a=0;a<n.length;a++){var o=n[a];if(o.type==="elem"){var c=o.elem;i=Math.max(i,c.maxFontSize,c.height)}}i+=2;var u=Pi(["pstrut"],[]);u.style.height=ot(i);for(var d=[],h=s,f=s,p=s,m=0;m<n.length;m++){var g=n[m];if(g.type==="kern")p+=g.size;else{var w=g.elem,y=g.wrapperClasses||[],v=g.wrapperStyle||{},b=Pi(y,[u,w],void 0,v);b.style.top=ot(-i-p-w.depth),g.marginLeft&&(b.style.marginLeft=g.marginLeft),g.marginRight&&(b.style.marginRight=g.marginRight),d.push(b),p+=w.height+w.depth}h=Math.min(h,p),f=Math.max(f,p)}var k=Pi(["vlist"],d);k.style.height=ot(f);var C;if(h<0){var A=Pi([],[]),R=Pi(["vlist"],[A]);R.style.height=ot(-h);var O=Pi(["vlist-s"],[new Va("")]);C=[Pi(["vlist-r"],[k,O]),Pi(["vlist-r"],[R])]}else C=[Pi(["vlist-r"],[k])];var F=Pi(["vlist-t"],C);return C.length===2&&F.classes.push("vlist-t2"),F.height=f,F.depth=-h,F},tbe=(e,t)=>{var r=Pi(["mspace"],[],t),n=zn(e,t);return r.style.marginRight=ot(n),r},Py=function(t,r,n){var s="";switch(t){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=t}var i;return r==="textbf"&&n==="textit"?i="BoldItalic":r==="textbf"?i="Bold":r==="textit"?i="Italic":i="Regular",s+"-"+i},Vq={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},qq={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},rbe=function(t,r){var[n,s,i]=qq[t],a=new Vu(n),o=new mc([a],{width:ot(s),height:ot(i),style:"width:"+ot(s),viewBox:"0 0 "+1e3*s+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),c=zq(["overlay"],[o],r);return c.height=i,c.style.height=ot(i),c.style.width=ot(s),c},ke={fontMap:Vq,makeSymbol:co,mathsym:qxe,makeSpan:Pi,makeSvgSpan:zq,makeLineSpan:Zxe,makeAnchor:Qxe,makeFragment:Hq,wrapFragment:Xxe,makeVList:ebe,makeOrd:Gxe,makeGlue:tbe,staticSvg:rbe,svgData:qq,tryCombineChars:Yxe},$n={number:3,unit:"mu"},ad={number:4,unit:"mu"},Al={number:5,unit:"mu"},nbe={mord:{mop:$n,mbin:ad,mrel:Al,minner:$n},mop:{mord:$n,mop:$n,mrel:Al,minner:$n},mbin:{mord:ad,mop:ad,mopen:ad,minner:ad},mrel:{mord:Al,mop:Al,mopen:Al,minner:Al},mopen:{},mclose:{mop:$n,mbin:ad,mrel:Al,minner:$n},mpunct:{mord:$n,mop:$n,mrel:Al,mopen:$n,mclose:$n,mpunct:$n,minner:$n},minner:{mord:$n,mop:$n,mbin:ad,mrel:Al,mopen:$n,mpunct:$n,minner:$n}},sbe={mord:{mop:$n},mop:{mord:$n,mop:$n},mbin:{},mrel:{},mopen:{},mclose:{mop:$n},mpunct:{},minner:{mop:$n}},Wq={},$b={},Fb={};function bt(e){for(var{type:t,names:r,props:n,handler:s,htmlBuilder:i,mathmlBuilder:a}=e,o={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:s},c=0;c<r.length;++c)Wq[r[c]]=o;t&&(i&&($b[t]=i),a&&(Fb[t]=a))}function Ph(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;bt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Bb=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},rs=function(t){return t.type==="ordgroup"?t.body:[t]},gc=ke.makeSpan,ibe=["leftmost","mbin","mopen","mrel","mop","mpunct"],abe=["rightmost","mrel","mclose","mpunct"],obe={display:ar.DISPLAY,text:ar.TEXT,script:ar.SCRIPT,scriptscript:ar.SCRIPTSCRIPT},lbe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},bs=function(t,r,n,s){s===void 0&&(s=[null,null]);for(var i=[],a=0;a<t.length;a++){var o=en(t[a],r);if(o instanceof E1){var c=o.children;i.push(...c)}else i.push(o)}if(ke.tryCombineChars(i),!n)return i;var u=r;if(t.length===1){var d=t[0];d.type==="sizing"?u=r.havingSize(d.size):d.type==="styling"&&(u=r.havingStyle(obe[d.style]))}var h=gc([s[0]||"leftmost"],[],r),f=gc([s[1]||"rightmost"],[],r),p=n==="root";return kI(i,(m,g)=>{var w=g.classes[0],y=m.classes[0];w==="mbin"&&er.contains(abe,y)?g.classes[0]="mord":y==="mbin"&&er.contains(ibe,w)&&(m.classes[0]="mord")},{node:h},f,p),kI(i,(m,g)=>{var w=QS(g),y=QS(m),v=w&&y?m.hasClass("mtight")?sbe[w][y]:nbe[w][y]:null;if(v)return ke.makeGlue(v,u)},{node:h},f,p),i},kI=function e(t,r,n,s,i){s&&t.push(s);for(var a=0;a<t.length;a++){var o=t[a],c=Gq(o);if(c){e(c.children,r,n,null,i);continue}var u=!o.hasClass("mspace");if(u){var d=r(o,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),a++))}u?n.node=o:i&&o.hasClass("newline")&&(n.node=gc(["leftmost"])),n.insertAfter=(h=>f=>{t.splice(h+1,0,f),a++})(a)}s&&t.pop()},Gq=function(t){return t instanceof E1||t instanceof QN||t instanceof N1&&t.hasClass("enclosing")?t:null},cbe=function e(t,r){var n=Gq(t);if(n){var s=n.children;if(s.length){if(r==="right")return e(s[s.length-1],"right");if(r==="left")return e(s[0],"left")}}return t},QS=function(t,r){return t?(r&&(t=cbe(t,r)),lbe[t.classes[0]]||null):null},Ig=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return gc(r.concat(n))},en=function(t,r,n){if(!t)return gc();if($b[t.type]){var s=$b[t.type](t,r);if(n&&r.size!==n.size){s=gc(r.sizingClasses(n),[s],r);var i=r.sizeMultiplier/n.sizeMultiplier;s.height*=i,s.depth*=i}return s}else throw new Ze("Got group of unknown type: '"+t.type+"'")};function Oy(e,t){var r=gc(["base"],e,t),n=gc(["strut"]);return n.style.height=ot(r.height+r.depth),r.depth&&(n.style.verticalAlign=ot(-r.depth)),r.children.unshift(n),r}function XS(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=bs(e,t,"root"),s;n.length===2&&n[1].hasClass("tag")&&(s=n.pop());for(var i=[],a=[],o=0;o<n.length;o++)if(a.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var c=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,a.push(n[o]),n[o].hasClass("nobreak")&&(c=!0);c||(i.push(Oy(a,t)),a=[])}else n[o].hasClass("newline")&&(a.pop(),a.length>0&&(i.push(Oy(a,t)),a=[]),i.push(n[o]));a.length>0&&i.push(Oy(a,t));var u;r?(u=Oy(bs(r,t,!0)),u.classes=["tag"],i.push(u)):s&&i.push(s);var d=gc(["katex-html"],i);if(d.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=ot(d.height+d.depth),d.depth&&(h.style.verticalAlign=ot(-d.depth))}return d}function Kq(e){return new E1(e)}class ia{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Hu(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof tl&&this.children[n+1]instanceof tl){for(var s=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof tl;)s+=this.children[++n].toText();t.appendChild(new tl(s).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=er.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+er.escape(Hu(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class tl{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return er.escape(this.toText())}toText(){return this.text}}class ube{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ot(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ot(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var We={MathNode:ia,TextNode:tl,SpaceNode:ube,newDocumentFragment:Kq},qa=function(t,r,n){return Nn[r][t]&&Nn[r][t].replace&&t.charCodeAt(0)!==55349&&!(Uq.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=Nn[r][t].replace),new We.TextNode(t)},JN=function(t){return t.length===1?t[0]:new We.MathNode("mrow",t)},e7=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var s=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=t.text;if(er.contains(["\\imath","\\jmath"],i))return null;Nn[s][i]&&Nn[s][i].replace&&(i=Nn[s][i].replace);var a=ke.fontMap[n].fontName;return ZN(i,a,s)?ke.fontMap[n].variant:null};function G5(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof tl&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof tl&&r.text===","}else return!1}var Yi=function(t,r,n){if(t.length===1){var s=yn(t[0],r);return n&&s instanceof ia&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var i=[],a,o=0;o<t.length;o++){var c=yn(t[o],r);if(c instanceof ia&&a instanceof ia){if(c.type==="mtext"&&a.type==="mtext"&&c.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...c.children);continue}else if(c.type==="mn"&&a.type==="mn"){a.children.push(...c.children);continue}else if(G5(c)&&a.type==="mn"){a.children.push(...c.children);continue}else if(c.type==="mn"&&G5(a))c.children=[...a.children,...c.children],i.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(a.type==="mn"||G5(a))){var u=c.children[0];u instanceof ia&&u.type==="mn"&&(u.children=[...a.children,...u.children],i.pop())}else if(a.type==="mi"&&a.children.length===1){var d=a.children[0];if(d instanceof tl&&d.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var h=c.children[0];h instanceof tl&&h.text.length>0&&(h.text=h.text.slice(0,1)+""+h.text.slice(1),i.pop())}}}i.push(c),a=c}return i},qu=function(t,r,n){return JN(Yi(t,r,n))},yn=function(t,r){if(!t)return new We.MathNode("mrow");if(Fb[t.type]){var n=Fb[t.type](t,r);return n}else throw new Ze("Got group of unknown type: '"+t.type+"'")};function SI(e,t,r,n,s){var i=Yi(e,r),a;i.length===1&&i[0]instanceof ia&&er.contains(["mrow","mtable"],i[0].type)?a=i[0]:a=new We.MathNode("mrow",i);var o=new We.MathNode("annotation",[new We.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var c=new We.MathNode("semantics",[a,o]),u=new We.MathNode("math",[c]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var d=s?"katex":"katex-mathml";return ke.makeSpan([d],[u])}var Yq=function(t){return new Pl({style:t.displayMode?ar.DISPLAY:ar.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},Zq=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=ke.makeSpan(n,[t])}return t},dbe=function(t,r,n){var s=Yq(n),i;if(n.output==="mathml")return SI(t,r,s,n.displayMode,!0);if(n.output==="html"){var a=XS(t,s);i=ke.makeSpan(["katex"],[a])}else{var o=SI(t,r,s,n.displayMode,!1),c=XS(t,s);i=ke.makeSpan(["katex"],[o,c])}return Zq(i,n)},hbe=function(t,r,n){var s=Yq(n),i=XS(t,s),a=ke.makeSpan(["katex"],[i]);return Zq(a,n)},fbe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},pbe=function(t){var r=new We.MathNode("mo",[new We.TextNode(fbe[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},mbe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},gbe=function(t){return t.type==="ordgroup"?t.body.length:1},ybe=function(t,r){function n(){var o=4e5,c=t.label.slice(1);if(er.contains(["widehat","widecheck","widetilde","utilde"],c)){var u=t,d=gbe(u.base),h,f,p;if(d>5)c==="widehat"||c==="widecheck"?(h=420,o=2364,p=.42,f=c+"4"):(h=312,o=2340,p=.34,f="tilde4");else{var m=[1,1,2,2,3,3][d];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][m],h=[0,239,300,360,420][m],p=[0,.24,.3,.3,.36,.42][m],f=c+m):(o=[0,600,1033,2339,2340][m],h=[0,260,286,306,312][m],p=[0,.26,.286,.3,.306,.34][m],f="tilde"+m)}var g=new Vu(f),w=new mc([g],{width:"100%",height:ot(p),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:ke.makeSvgSpan([],[w],r),minWidth:0,height:p}}else{var y=[],v=mbe[c],[b,k,C]=v,A=C/1e3,R=b.length,O,F;if(R===1){var j=v[3];O=["hide-tail"],F=[j]}else if(R===2)O=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(R===3)O=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var D=0;D<R;D++){var z=new Vu(b[D]),Y=new mc([z],{width:"400em",height:ot(A),viewBox:"0 0 "+o+" "+C,preserveAspectRatio:F[D]+" slice"}),Q=ke.makeSvgSpan([O[D]],[Y],r);if(R===1)return{span:Q,minWidth:k,height:A};Q.style.height=ot(A),y.push(Q)}return{span:ke.makeSpan(["stretchy"],y,r),minWidth:k,height:A}}}var{span:s,minWidth:i,height:a}=n();return s.height=a,s.style.height=ot(a),i>0&&(s.style.minWidth=ot(i)),s},vbe=function(t,r,n,s,i){var a,o=t.height+t.depth+n+s;if(/fbox|color|angl/.test(r)){if(a=ke.makeSpan(["stretchy",r],[],i),r==="fbox"){var c=i.color&&i.getColor();c&&(a.style.borderColor=c)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new YS({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new YS({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new mc(u,{width:"100%",height:ot(o)});a=ke.makeSvgSpan([],[d],i)}return a.height=o,a.style.height=ot(o),a},yc={encloseSpan:vbe,mathMLnode:pbe,svgSpan:ybe};function jr(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function t7(e){var t=K2(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function K2(e){return e&&(e.type==="atom"||Hxe.hasOwnProperty(e.type))?e:null}var r7=(e,t)=>{var r,n,s;e&&e.type==="supsub"?(n=jr(e.base,"accent"),r=n.base,e.base=r,s=Uxe(en(e,t)),e.base=n):(n=jr(e,"accent"),r=n.base);var i=en(r,t.havingCrampedStyle()),a=n.isShifty&&er.isCharacterBox(r),o=0;if(a){var c=er.getBaseElem(r),u=en(c,t.havingCrampedStyle());o=gI(u).skew}var d=n.label==="\\c",h=d?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight),f;if(n.isStretchy)f=yc.svgSpan(n,t),f=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ot(2*o)+")",marginLeft:ot(2*o)}:void 0}]},t);else{var p,m;n.label==="\\vec"?(p=ke.staticSvg("vec",t),m=ke.svgData.vec[1]):(p=ke.makeOrd({mode:n.mode,text:n.label},t,"textord"),p=gI(p),p.italic=0,m=p.width,d&&(h+=p.depth)),f=ke.makeSpan(["accent-body"],[p]);var g=n.label==="\\textcircled";g&&(f.classes.push("accent-full"),h=i.height);var w=o;g||(w-=m/2),f.style.left=ot(w),n.label==="\\textcircled"&&(f.style.top=".2em"),f=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-h},{type:"elem",elem:f}]},t)}var y=ke.makeSpan(["mord","accent"],[f],t);return s?(s.children[0]=y,s.height=Math.max(y.height,s.height),s.classes[0]="mord",s):y},Qq=(e,t)=>{var r=e.isStretchy?yc.mathMLnode(e.label):new We.MathNode("mo",[qa(e.label,e.mode)]),n=new We.MathNode("mover",[yn(e.base,t),r]);return n.setAttribute("accent","true"),n},xbe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));bt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=Bb(t[0]),n=!xbe.test(e.funcName),s=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:s,base:r}},htmlBuilder:r7,mathmlBuilder:Qq});bt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:r7,mathmlBuilder:Qq});bt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:s}},htmlBuilder:(e,t)=>{var r=en(e.base,t),n=yc.svgSpan(e,t),s=e.label==="\\utilde"?.12:0,i=ke.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:r}]},t);return ke.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var r=yc.mathMLnode(e.label),n=new We.MathNode("munder",[yn(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var Dy=e=>{var t=new We.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};bt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:s}=e;return{type:"xArrow",mode:n.mode,label:s,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),s=ke.wrapFragment(en(e.body,n,t),t),i=e.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(i+"-arrow-pad");var a;e.below&&(n=t.havingStyle(r.sub()),a=ke.wrapFragment(en(e.below,n,t),t),a.classes.push(i+"-arrow-pad"));var o=yc.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(s.depth>.25||e.label==="\\xleftequilibrium")&&(u-=s.depth);var d;if(a){var h=-t.fontMetrics().axisHeight+a.height+.5*o.height+.111;d=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:o,shift:c},{type:"elem",elem:a,shift:h}]},t)}else d=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:o,shift:c}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),ke.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var r=yc.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var s=Dy(yn(e.body,t));if(e.below){var i=Dy(yn(e.below,t));n=new We.MathNode("munderover",[r,i,s])}else n=new We.MathNode("mover",[r,s])}else if(e.below){var a=Dy(yn(e.below,t));n=new We.MathNode("munder",[r,a])}else n=Dy(),n=new We.MathNode("mover",[r,n]);return n}});var bbe=ke.makeSpan;function Xq(e,t){var r=bs(e.body,t,!0);return bbe([e.mclass],r,t)}function Jq(e,t){var r,n=Yi(e.body,t);return e.mclass==="minner"?r=new We.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new We.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new We.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}bt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:rs(s),isCharacterBox:er.isCharacterBox(s)}},htmlBuilder:Xq,mathmlBuilder:Jq});var Y2=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};bt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Y2(t[0]),body:rs(t[1]),isCharacterBox:er.isCharacterBox(t[1])}}});bt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,s=t[1],i=t[0],a;n!=="\\stackrel"?a=Y2(s):a="mrel";var o={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:rs(s)},c={type:"supsub",mode:i.mode,base:o,sup:n==="\\underset"?null:i,sub:n==="\\underset"?i:null};return{type:"mclass",mode:r.mode,mclass:a,body:[c],isCharacterBox:er.isCharacterBox(c)}},htmlBuilder:Xq,mathmlBuilder:Jq});bt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Y2(t[0]),body:rs(t[0])}},htmlBuilder(e,t){var r=bs(e.body,t,!0),n=ke.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Yi(e.body,t),n=new We.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var wbe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},_I=()=>({type:"styling",body:[],mode:"math",style:"display"}),EI=e=>e.type==="textord"&&e.text==="@",kbe=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function Sbe(e,t,r){var n=wbe[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var s=r.callFunction("\\\\cdleft",[t[0]],[]),i={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[i],[]),o=r.callFunction("\\\\cdright",[t[1]],[]),c={type:"ordgroup",mode:"math",body:[s,a,o]};return r.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _be(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Ze("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],s=[n],i=0;i<t.length;i++){for(var a=t[i],o=_I(),c=0;c<a.length;c++)if(!EI(a[c]))o.body.push(a[c]);else{n.push(o),c+=1;var u=t7(a[c]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var f=!0,p=c+1;p<a.length;p++){if(kbe(a[p],u)){f=!1,c=p;break}if(EI(a[p]))throw new Ze("Missing a "+u+" character to complete a CD arrow.",a[p]);d[h].body.push(a[p])}if(f)throw new Ze("Missing a "+u+" character to complete a CD arrow.",a[c])}else throw new Ze('Expected one of "<>AV=|." after @',a[c]);var m=Sbe(u,d,e),g={type:"styling",body:[m],mode:"math",style:"display"};n.push(g),o=_I()}i%2===0?n.push(o):n.shift(),n=[],s.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var w=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}bt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=ke.wrapFragment(en(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=ot(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new We.MathNode("mrow",[yn(e.label,t)]);return r=new We.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new We.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});bt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=ke.wrapFragment(en(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new We.MathNode("mrow",[yn(e.fragment,t)])}});bt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=jr(t[0],"ordgroup"),s=n.body,i="",a=0;a<s.length;a++){var o=jr(s[a],"textord");i+=o.text}var c=parseInt(i),u;if(isNaN(c))throw new Ze("\\@char has non-numeric argument "+i);if(c<0||c>=1114111)throw new Ze("\\@char with invalid code point "+i);return c<=65535?u=String.fromCharCode(c):(c-=65536,u=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var eW=(e,t)=>{var r=bs(e.body,t.withColor(e.color),!1);return ke.makeFragment(r)},tW=(e,t)=>{var r=Yi(e.body,t.withColor(e.color)),n=new We.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};bt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=jr(t[0],"color-token").color,s=t[1];return{type:"color",mode:r.mode,color:n,body:rs(s)}},htmlBuilder:eW,mathmlBuilder:tW});bt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,s=jr(t[0],"color-token").color;r.gullet.macros.set("\\current@color",s);var i=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:s,body:i}},htmlBuilder:eW,mathmlBuilder:tW});bt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,s=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:s&&jr(s,"size").value}},htmlBuilder(e,t){var r=ke.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=ot(zn(e.size,t)))),r},mathmlBuilder(e,t){var r=new We.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",ot(zn(e.size,t)))),r}});var JS={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},rW=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Ze("Expected a control sequence",e);return t},Ebe=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},nW=(e,t,r,n)=>{var s=e.gullet.macros.get(r.text);s==null&&(r.noexpand=!0,s={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,s,n)};bt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(JS[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=JS[n.text]),jr(t.parseFunction(),"internal");throw new Ze("Invalid token after macro prefix",n)}});bt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),s=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new Ze("Expected a control sequence",n);for(var i=0,a,o=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){a=t.gullet.future(),o[i].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Ze('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==i+1)throw new Ze('Argument number "'+n.text+'" out of order');i++,o.push([])}else{if(n.text==="EOF")throw new Ze("Expected a macro definition");o[i].push(n.text)}var{tokens:c}=t.gullet.consumeArg();return a&&c.unshift(a),(r==="\\edef"||r==="\\xdef")&&(c=t.gullet.expandTokens(c),c.reverse()),t.gullet.macros.set(s,{tokens:c,numArgs:i,delimiters:o},r===JS[r]),{type:"internal",mode:t.mode}}});bt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=rW(t.gullet.popToken());t.gullet.consumeSpaces();var s=Ebe(t);return nW(t,n,s,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});bt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=rW(t.gullet.popToken()),s=t.gullet.popToken(),i=t.gullet.popToken();return nW(t,n,i,r==="\\\\globalfuture"),t.gullet.pushToken(i),t.gullet.pushToken(s),{type:"internal",mode:t.mode}}});var Z0=function(t,r,n){var s=Nn.math[t]&&Nn.math[t].replace,i=ZN(s||t,r,n);if(!i)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return i},n7=function(t,r,n,s){var i=n.havingBaseStyle(r),a=ke.makeSpan(s.concat(i.sizingClasses(n)),[t],n),o=i.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=i.sizeMultiplier,a},sW=function(t,r,n){var s=r.havingBaseStyle(n),i=(1-r.sizeMultiplier/s.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ot(i),t.height-=i,t.depth+=i},Nbe=function(t,r,n,s,i,a){var o=ke.makeSymbol(t,"Main-Regular",i,s),c=n7(o,r,s,a);return n&&sW(c,s,r),c},Cbe=function(t,r,n,s){return ke.makeSymbol(t,"Size"+r+"-Regular",n,s)},iW=function(t,r,n,s,i,a){var o=Cbe(t,r,i,s),c=n7(ke.makeSpan(["delimsizing","size"+r],[o],s),ar.TEXT,s,a);return n&&sW(c,s,ar.TEXT),c},K5=function(t,r,n){var s;r==="Size1-Regular"?s="delim-size1":s="delim-size4";var i=ke.makeSpan(["delimsizinginner",s],[ke.makeSpan([],[ke.makeSymbol(t,r,n)])]);return{type:"elem",elem:i}},Y5=function(t,r,n){var s=el["Size4-Regular"][t.charCodeAt(0)]?el["Size4-Regular"][t.charCodeAt(0)][4]:el["Size1-Regular"][t.charCodeAt(0)][4],i=new Vu("inner",jxe(t,Math.round(1e3*r))),a=new mc([i],{width:ot(s),height:ot(r),style:"width:"+ot(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=ke.makeSvgSpan([],[a],n);return o.height=r,o.style.height=ot(r),o.style.width=ot(s),{type:"elem",elem:o}},e8=.008,Ly={type:"kern",size:-1*e8},Abe=["|","\\lvert","\\rvert","\\vert"],Tbe=["\\|","\\lVert","\\rVert","\\Vert"],aW=function(t,r,n,s,i,a){var o,c,u,d,h="",f=0;o=u=d=t,c=null;var p="Size1-Regular";t==="\\uparrow"?u=d="":t==="\\Uparrow"?u=d="":t==="\\downarrow"?o=u="":t==="\\Downarrow"?o=u="":t==="\\updownarrow"?(o="\\uparrow",u="",d="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="",d="\\Downarrow"):er.contains(Abe,t)?(u="",h="vert",f=333):er.contains(Tbe,t)?(u="",h="doublevert",f=556):t==="["||t==="\\lbrack"?(o="",u="",d="",p="Size4-Regular",h="lbrack",f=667):t==="]"||t==="\\rbrack"?(o="",u="",d="",p="Size4-Regular",h="rbrack",f=667):t==="\\lfloor"||t===""?(u=o="",d="",p="Size4-Regular",h="lfloor",f=667):t==="\\lceil"||t===""?(o="",u=d="",p="Size4-Regular",h="lceil",f=667):t==="\\rfloor"||t===""?(u=o="",d="",p="Size4-Regular",h="rfloor",f=667):t==="\\rceil"||t===""?(o="",u=d="",p="Size4-Regular",h="rceil",f=667):t==="("||t==="\\lparen"?(o="",u="",d="",p="Size4-Regular",h="lparen",f=875):t===")"||t==="\\rparen"?(o="",u="",d="",p="Size4-Regular",h="rparen",f=875):t==="\\{"||t==="\\lbrace"?(o="",c="",d="",u="",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="",c="",d="",u="",p="Size4-Regular"):t==="\\lgroup"||t===""?(o="",d="",u="",p="Size4-Regular"):t==="\\rgroup"||t===""?(o="",d="",u="",p="Size4-Regular"):t==="\\lmoustache"||t===""?(o="",d="",u="",p="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(o="",d="",u="",p="Size4-Regular");var m=Z0(o,p,i),g=m.height+m.depth,w=Z0(u,p,i),y=w.height+w.depth,v=Z0(d,p,i),b=v.height+v.depth,k=0,C=1;if(c!==null){var A=Z0(c,p,i);k=A.height+A.depth,C=2}var R=g+b+k,O=Math.max(0,Math.ceil((r-R)/(C*y))),F=R+O*C*y,j=s.fontMetrics().axisHeight;n&&(j*=s.sizeMultiplier);var D=F/2-j,z=[];if(h.length>0){var Y=F-g-b,Q=Math.round(F*1e3),te=Mxe(h,Math.round(Y*1e3)),Z=new Vu(h,te),J=(f/1e3).toFixed(3)+"em",V=(Q/1e3).toFixed(3)+"em",re=new mc([Z],{width:J,height:V,viewBox:"0 0 "+f+" "+Q}),E=ke.makeSvgSpan([],[re],s);E.height=Q/1e3,E.style.width=J,E.style.height=V,z.push({type:"elem",elem:E})}else{if(z.push(K5(d,p,i)),z.push(Ly),c===null){var N=F-g-b+2*e8;z.push(Y5(u,N,s))}else{var L=(F-g-b-k)/2+2*e8;z.push(Y5(u,L,s)),z.push(Ly),z.push(K5(c,p,i)),z.push(Ly),z.push(Y5(u,L,s))}z.push(Ly),z.push(K5(o,p,i))}var M=s.havingBaseStyle(ar.TEXT),G=ke.makeVList({positionType:"bottom",positionData:D,children:z},M);return n7(ke.makeSpan(["delimsizing","mult"],[G],M),ar.TEXT,s,a)},Z5=80,Q5=.08,X5=function(t,r,n,s,i){var a=Ixe(t,s,n),o=new Vu(t,a),c=new mc([o],{width:"400em",height:ot(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ke.makeSvgSpan(["hide-tail"],[c],i)},Rbe=function(t,r){var n=r.havingBaseSizing(),s=uW("\\surd",t*n.sizeMultiplier,cW,n),i=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,c=0,u=0,d=0,h;return s.type==="small"?(d=1e3+1e3*a+Z5,t<1?i=1:t<1.4&&(i=.7),c=(1+a+Q5)/i,u=(1+a)/i,o=X5("sqrtMain",c,d,a,r),o.style.minWidth="0.853em",h=.833/i):s.type==="large"?(d=(1e3+Z5)*bm[s.size],u=(bm[s.size]+a)/i,c=(bm[s.size]+a+Q5)/i,o=X5("sqrtSize"+s.size,c,d,a,r),o.style.minWidth="1.02em",h=1/i):(c=t+a+Q5,u=t+a,d=Math.floor(1e3*t+a)+Z5,o=X5("sqrtTall",c,d,a,r),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=ot(c),{span:o,advanceWidth:h,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*i}},oW=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Ibe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],lW=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],bm=[0,1.2,1.8,2.4,3],jbe=function(t,r,n,s,i){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),er.contains(oW,t)||er.contains(lW,t))return iW(t,r,!1,n,s,i);if(er.contains(Ibe,t))return aW(t,bm[r],!1,n,s,i);throw new Ze("Illegal delimiter: '"+t+"'")},Mbe=[{type:"small",style:ar.SCRIPTSCRIPT},{type:"small",style:ar.SCRIPT},{type:"small",style:ar.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Pbe=[{type:"small",style:ar.SCRIPTSCRIPT},{type:"small",style:ar.SCRIPT},{type:"small",style:ar.TEXT},{type:"stack"}],cW=[{type:"small",style:ar.SCRIPTSCRIPT},{type:"small",style:ar.SCRIPT},{type:"small",style:ar.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Obe=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},uW=function(t,r,n,s){for(var i=Math.min(2,3-s.style.size),a=i;a<n.length&&n[a].type!=="stack";a++){var o=Z0(t,Obe(n[a]),"math"),c=o.height+o.depth;if(n[a].type==="small"){var u=s.havingBaseStyle(n[a].style);c*=u.sizeMultiplier}if(c>r)return n[a]}return n[n.length-1]},dW=function(t,r,n,s,i,a){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var o;er.contains(lW,t)?o=Mbe:er.contains(oW,t)?o=cW:o=Pbe;var c=uW(t,r,o,s);return c.type==="small"?Nbe(t,c.style,n,s,i,a):c.type==="large"?iW(t,c.size,n,s,i,a):aW(t,r,n,s,i,a)},Dbe=function(t,r,n,s,i,a){var o=s.fontMetrics().axisHeight*s.sizeMultiplier,c=901,u=5/s.fontMetrics().ptPerEm,d=Math.max(r-o,n+o),h=Math.max(d/500*c,2*d-u);return dW(t,h,!0,s,i,a)},tc={sqrtImage:Rbe,sizedDelim:jbe,sizeToMaxHeight:bm,customSizedDelim:dW,leftRightDelim:Dbe},NI={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Lbe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Z2(e,t){var r=K2(e);if(r&&er.contains(Lbe,r.text))return r;throw r?new Ze("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new Ze("Invalid delimiter type '"+e.type+"'",e)}bt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=Z2(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:NI[e.funcName].size,mclass:NI[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?ke.makeSpan([e.mclass]):tc.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(qa(e.delim,e.mode));var r=new We.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ot(tc.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function CI(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}bt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Ze("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Z2(t[0],e).text,color:r}}});bt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Z2(t[0],e),n=e.parser;++n.leftrightDepth;var s=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=jr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:s,left:r.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{CI(e);for(var r=bs(e.body,t,!0,["mopen","mclose"]),n=0,s=0,i=!1,a=0;a<r.length;a++)r[a].isMiddle?i=!0:(n=Math.max(r[a].height,n),s=Math.max(r[a].depth,s));n*=t.sizeMultiplier,s*=t.sizeMultiplier;var o;if(e.left==="."?o=Ig(t,["mopen"]):o=tc.leftRightDelim(e.left,n,s,t,e.mode,["mopen"]),r.unshift(o),i)for(var c=1;c<r.length;c++){var u=r[c],d=u.isMiddle;d&&(r[c]=tc.leftRightDelim(d.delim,n,s,d.options,e.mode,[]))}var h;if(e.right===".")h=Ig(t,["mclose"]);else{var f=e.rightColor?t.withColor(e.rightColor):t;h=tc.leftRightDelim(e.right,n,s,f,e.mode,["mclose"])}return r.push(h),ke.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{CI(e);var r=Yi(e.body,t);if(e.left!=="."){var n=new We.MathNode("mo",[qa(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var s=new We.MathNode("mo",[qa(e.right,e.mode)]);s.setAttribute("fence","true"),e.rightColor&&s.setAttribute("mathcolor",e.rightColor),r.push(s)}return JN(r)}});bt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Z2(t[0],e);if(!e.parser.leftrightDepth)throw new Ze("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=Ig(t,[]);else{r=tc.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?qa("|","text"):qa(e.delim,e.mode),n=new We.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var s7=(e,t)=>{var r=ke.wrapFragment(en(e.body,t),t),n=e.label.slice(1),s=t.sizeMultiplier,i,a=0,o=er.isCharacterBox(e.body);if(n==="sout")i=ke.makeSpan(["stretchy","sout"]),i.height=t.fontMetrics().defaultRuleThickness/s,a=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var c=zn({number:.6,unit:"pt"},t),u=zn({number:.35,unit:"ex"},t),d=t.havingBaseSizing();s=s/d.sizeMultiplier;var h=r.height+r.depth+c+u;r.style.paddingLeft=ot(h/2+c);var f=Math.floor(1e3*h*s),p=Txe(f),m=new mc([new Vu("phase",p)],{width:"400em",height:ot(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});i=ke.makeSvgSpan(["hide-tail"],[m],t),i.style.height=ot(h),a=r.depth+c+u}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var g=0,w=0,y=0;/box/.test(n)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=t.fontMetrics().fboxsep+(n==="colorbox"?0:y),w=g):n==="angl"?(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),g=4*y,w=Math.max(0,.25-r.depth)):(g=o?.2:0,w=g),i=yc.encloseSpan(r,n,g,w,t),/fbox|boxed|fcolorbox/.test(n)?(i.style.borderStyle="solid",i.style.borderWidth=ot(y)):n==="angl"&&y!==.049&&(i.style.borderTopWidth=ot(y),i.style.borderRightWidth=ot(y)),a=r.depth+w,e.backgroundColor&&(i.style.backgroundColor=e.backgroundColor,e.borderColor&&(i.style.borderColor=e.borderColor))}var v;if(e.backgroundColor)v=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:a},{type:"elem",elem:r,shift:0}]},t);else{var b=/cancel|phase/.test(n)?["svg-align"]:[];v=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:i,shift:a,wrapperClasses:b}]},t)}return/cancel/.test(n)&&(v.height=r.height,v.depth=r.depth),/cancel/.test(n)&&!o?ke.makeSpan(["mord","cancel-lap"],[v],t):ke.makeSpan(["mord"],[v],t)},i7=(e,t)=>{var r=0,n=new We.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[yn(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var s=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+s+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};bt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:s}=e,i=jr(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:n.mode,label:s,backgroundColor:i,body:a}},htmlBuilder:s7,mathmlBuilder:i7});bt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:s}=e,i=jr(t[0],"color-token").color,a=jr(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:n.mode,label:s,backgroundColor:a,borderColor:i,body:o}},htmlBuilder:s7,mathmlBuilder:i7});bt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});bt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];return{type:"enclose",mode:r.mode,label:n,body:s}},htmlBuilder:s7,mathmlBuilder:i7});bt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var hW={};function xl(e){for(var{type:t,names:r,props:n,handler:s,htmlBuilder:i,mathmlBuilder:a}=e,o={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},c=0;c<r.length;++c)hW[r[c]]=o;i&&($b[t]=i),a&&(Fb[t]=a)}var fW={};function H(e,t){fW[e]=t}function AI(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}var Q2=e=>{var t=e.parser.settings;if(!t.displayMode)throw new Ze("{"+e.envName+"} can be used only in display mode.")};function a7(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ed(e,t,r){var{hskipBeforeAndAfter:n,addJot:s,cols:i,arraystretch:a,colSeparationType:o,autoTag:c,singleRow:u,emptySingleRow:d,maxNumCols:h,leqno:f}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)a=1;else if(a=parseFloat(p),!a||a<0)throw new Ze("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var m=[],g=[m],w=[],y=[],v=c!=null?[]:void 0;function b(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function k(){v&&(e.gullet.macros.get("\\df@tag")?(v.push(e.subparse([new Ua("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):v.push(!!c&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(b(),y.push(AI(e));;){var C=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),C={type:"ordgroup",mode:e.mode,body:C},r&&(C={type:"styling",mode:e.mode,style:r,body:[C]}),m.push(C);var A=e.fetch().text;if(A==="&"){if(h&&m.length===h){if(u||o)throw new Ze("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(A==="\\end"){k(),m.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(g.length>1||!d)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(A==="\\\\"){e.consume();var R=void 0;e.gullet.future().text!==" "&&(R=e.parseSizeGroup(!0)),w.push(R?R.value:null),k(),y.push(AI(e)),m=[],g.push(m),b()}else throw new Ze("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:s,arraystretch:a,body:g,cols:i,rowGaps:w,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:o,tags:v,leqno:f}}function o7(e){return e.slice(0,1)==="d"?"display":"text"}var bl=function(t,r){var n,s,i=t.body.length,a=t.hLinesBeforeRow,o=0,c=new Array(i),u=[],d=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),h=1/r.fontMetrics().ptPerEm,f=5*h;if(t.colSeparationType&&t.colSeparationType==="small"){var p=r.havingStyle(ar.SCRIPT).sizeMultiplier;f=.2778*(p/r.sizeMultiplier)}var m=t.colSeparationType==="CD"?zn({number:3,unit:"ex"},r):12*h,g=3*h,w=t.arraystretch*m,y=.7*w,v=.3*w,b=0;function k(Ne){for(var Je=0;Je<Ne.length;++Je)Je>0&&(b+=.25),u.push({pos:b,isDashed:Ne[Je]})}for(k(a[0]),n=0;n<t.body.length;++n){var C=t.body[n],A=y,R=v;o<C.length&&(o=C.length);var O=new Array(C.length);for(s=0;s<C.length;++s){var F=en(C[s],r);R<F.depth&&(R=F.depth),A<F.height&&(A=F.height),O[s]=F}var j=t.rowGaps[n],D=0;j&&(D=zn(j,r),D>0&&(D+=v,R<D&&(R=D),D=0)),t.addJot&&(R+=g),O.height=A,O.depth=R,b+=A,O.pos=b,b+=R+D,c[n]=O,k(a[n+1])}var z=b/2+r.fontMetrics().axisHeight,Y=t.cols||[],Q=[],te,Z,J=[];if(t.tags&&t.tags.some(Ne=>Ne))for(n=0;n<i;++n){var V=c[n],re=V.pos-z,E=t.tags[n],N=void 0;E===!0?N=ke.makeSpan(["eqn-num"],[],r):E===!1?N=ke.makeSpan([],[],r):N=ke.makeSpan([],bs(E,r,!0),r),N.depth=V.depth,N.height=V.height,J.push({type:"elem",elem:N,shift:re})}for(s=0,Z=0;s<o||Z<Y.length;++s,++Z){for(var L=Y[Z]||{},M=!0;L.type==="separator";){if(M||(te=ke.makeSpan(["arraycolsep"],[]),te.style.width=ot(r.fontMetrics().doubleRuleSep),Q.push(te)),L.separator==="|"||L.separator===":"){var G=L.separator==="|"?"solid":"dashed",W=ke.makeSpan(["vertical-separator"],[],r);W.style.height=ot(b),W.style.borderRightWidth=ot(d),W.style.borderRightStyle=G,W.style.margin="0 "+ot(-d/2);var se=b-z;se&&(W.style.verticalAlign=ot(-se)),Q.push(W)}else throw new Ze("Invalid separator type: "+L.separator);Z++,L=Y[Z]||{},M=!1}if(!(s>=o)){var X=void 0;(s>0||t.hskipBeforeAndAfter)&&(X=er.deflt(L.pregap,f),X!==0&&(te=ke.makeSpan(["arraycolsep"],[]),te.style.width=ot(X),Q.push(te)));var me=[];for(n=0;n<i;++n){var be=c[n],ge=be[s];if(ge){var Ee=be.pos-z;ge.depth=be.depth,ge.height=be.height,me.push({type:"elem",elem:ge,shift:Ee})}}me=ke.makeVList({positionType:"individualShift",children:me},r),me=ke.makeSpan(["col-align-"+(L.align||"c")],[me]),Q.push(me),(s<o-1||t.hskipBeforeAndAfter)&&(X=er.deflt(L.postgap,f),X!==0&&(te=ke.makeSpan(["arraycolsep"],[]),te.style.width=ot(X),Q.push(te)))}}if(c=ke.makeSpan(["mtable"],Q),u.length>0){for(var Re=ke.makeLineSpan("hline",r,d),je=ke.makeLineSpan("hdashline",r,d),Ie=[{type:"elem",elem:c,shift:0}];u.length>0;){var Ve=u.pop(),He=Ve.pos-z;Ve.isDashed?Ie.push({type:"elem",elem:je,shift:He}):Ie.push({type:"elem",elem:Re,shift:He})}c=ke.makeVList({positionType:"individualShift",children:Ie},r)}if(J.length===0)return ke.makeSpan(["mord"],[c],r);var we=ke.makeVList({positionType:"individualShift",children:J},r);return we=ke.makeSpan(["tag"],[we],r),ke.makeFragment([c,we])},$be={c:"center ",l:"left ",r:"right "},wl=function(t,r){for(var n=[],s=new We.MathNode("mtd",[],["mtr-glue"]),i=new We.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<t.body.length;a++){for(var o=t.body[a],c=[],u=0;u<o.length;u++)c.push(new We.MathNode("mtd",[yn(o[u],r)]));t.tags&&t.tags[a]&&(c.unshift(s),c.push(s),t.leqno?c.unshift(i):c.push(i)),n.push(new We.MathNode("mtr",c))}var d=new We.MathNode("mtable",n),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);d.setAttribute("rowspacing",ot(h));var f="",p="";if(t.cols&&t.cols.length>0){var m=t.cols,g="",w=!1,y=0,v=m.length;m[0].type==="separator"&&(f+="top ",y=1),m[m.length-1].type==="separator"&&(f+="bottom ",v-=1);for(var b=y;b<v;b++)m[b].type==="align"?(p+=$be[m[b].align],w&&(g+="none "),w=!0):m[b].type==="separator"&&w&&(g+=m[b].separator==="|"?"solid ":"dashed ",w=!1);d.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&d.setAttribute("columnlines",g.trim())}if(t.colSeparationType==="align"){for(var k=t.cols||[],C="",A=1;A<k.length;A++)C+=A%2?"0em ":"1em ";d.setAttribute("columnspacing",C.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var R="",O=t.hLinesBeforeRow;f+=O[0].length>0?"left ":"",f+=O[O.length-1].length>0?"right ":"";for(var F=1;F<O.length-1;F++)R+=O[F].length===0?"none ":O[F][0]?"dashed ":"solid ";return/[sd]/.test(R)&&d.setAttribute("rowlines",R.trim()),f!==""&&(d=new We.MathNode("menclose",[d]),d.setAttribute("notation",f.trim())),t.arraystretch&&t.arraystretch<1&&(d=new We.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},pW=function(t,r){t.envName.indexOf("ed")===-1&&Q2(t);var n=[],s=t.envName.indexOf("at")>-1?"alignat":"align",i=t.envName==="split",a=ed(t.parser,{cols:n,addJot:!0,autoTag:i?void 0:a7(t.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:i?2:void 0,leqno:t.parser.settings.leqno},"display"),o,c=0,u={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var d="",h=0;h<r[0].body.length;h++){var f=jr(r[0].body[h],"textord");d+=f.text}o=Number(d),c=o*2}var p=!c;a.body.forEach(function(y){for(var v=1;v<y.length;v+=2){var b=jr(y[v],"styling"),k=jr(b.body[0],"ordgroup");k.body.unshift(u)}if(p)c<y.length&&(c=y.length);else{var C=y.length/2;if(o<C)throw new Ze("Too many math in a row: "+("expected "+o+", but got "+C),y[0])}});for(var m=0;m<c;++m){var g="r",w=0;m%2===1?g="l":m>0&&p&&(w=1),n[m]={type:"align",align:g,pregap:w,postgap:0}}return a.colSeparationType=p?"align":"alignat",a};xl({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=K2(t[0]),n=r?[t[0]]:jr(t[0],"ordgroup").body,s=n.map(function(a){var o=t7(a),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new Ze("Unknown column alignment: "+c,a)}),i={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return ed(e.parser,i,o7(e.envName))},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var s=e.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),r=s.fetch().text,"lcr".indexOf(r)===-1)throw new Ze("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),n.cols=[{type:"align",align:r}]}}var i=ed(e.parser,n,o7(e.envName)),a=Math.max(0,...i.body.map(o=>o.length));return i.cols=new Array(a).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[i],left:t[0],right:t[1],rightColor:void 0}:i},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=ed(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=K2(t[0]),n=r?[t[0]]:jr(t[0],"ordgroup").body,s=n.map(function(a){var o=t7(a),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new Ze("Unknown column alignment: "+c,a)});if(s.length>1)throw new Ze("{subarray} can contain only one column");var i={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=ed(e.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new Ze("{subarray} can contain only one column");return i},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=ed(e.parser,t,o7(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:pW,htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){er.contains(["gather","gather*"],e.envName)&&Q2(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:a7(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ed(e.parser,t,"display")},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:pW,htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Q2(e);var t={autoTag:a7(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ed(e.parser,t,"display")},htmlBuilder:bl,mathmlBuilder:wl});xl({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Q2(e),_be(e.parser)},htmlBuilder:bl,mathmlBuilder:wl});H("\\nonumber","\\gdef\\@eqnsw{0}");H("\\notag","\\nonumber");bt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Ze(e.funcName+" valid only within array environment")}});var TI=hW;bt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];if(s.type!=="ordgroup")throw new Ze("Invalid environment name",s);for(var i="",a=0;a<s.body.length;++a)i+=jr(s.body[a],"textord").text;if(n==="\\begin"){if(!TI.hasOwnProperty(i))throw new Ze("No such environment: "+i,s);var o=TI[i],{args:c,optArgs:u}=r.parseArguments("\\begin{"+i+"}",o),d={mode:r.mode,envName:i,parser:r},h=o.handler(d,c,u);r.expect("\\end",!1);var f=r.nextToken,p=jr(r.parseFunction(),"environment");if(p.name!==i)throw new Ze("Mismatch: \\begin{"+i+"} matched by \\end{"+p.name+"}",f);return h}return{type:"environment",mode:r.mode,name:i,nameGroup:s}}});var mW=(e,t)=>{var r=e.font,n=t.withFont(r);return en(e.body,n)},gW=(e,t)=>{var r=e.font,n=t.withFont(r);return yn(e.body,n)},RI={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};bt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=Bb(t[0]),i=n;return i in RI&&(i=RI[i]),{type:"font",mode:r.mode,font:i.slice(1),body:s}},htmlBuilder:mW,mathmlBuilder:gW});bt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],s=er.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Y2(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:s}}});bt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:s}=e,{mode:i}=r,a=r.parseExpression(!0,s),o="math"+n.slice(1);return{type:"font",mode:i,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:mW,mathmlBuilder:gW});var yW=(e,t)=>{var r=t;return e==="display"?r=r.id>=ar.SCRIPT.id?r.text():ar.DISPLAY:e==="text"&&r.size===ar.DISPLAY.size?r=ar.TEXT:e==="script"?r=ar.SCRIPT:e==="scriptscript"&&(r=ar.SCRIPTSCRIPT),r},l7=(e,t)=>{var r=yW(e.size,t.style),n=r.fracNum(),s=r.fracDen(),i;i=t.havingStyle(n);var a=en(e.numer,i,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,c=3.5/t.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<c?c:a.depth}i=t.havingStyle(s);var u=en(e.denom,i,t),d,h,f;e.hasBarLine?(e.barSize?(h=zn(e.barSize,t),d=ke.makeLineSpan("frac-line",t,h)):d=ke.makeLineSpan("frac-line",t),h=d.height,f=d.height):(d=null,h=0,f=t.fontMetrics().defaultRuleThickness);var p,m,g;r.size===ar.DISPLAY.size||e.size==="display"?(p=t.fontMetrics().num1,h>0?m=3*f:m=7*f,g=t.fontMetrics().denom1):(h>0?(p=t.fontMetrics().num2,m=f):(p=t.fontMetrics().num3,m=3*f),g=t.fontMetrics().denom2);var w;if(d){var v=t.fontMetrics().axisHeight;p-a.depth-(v+.5*h)<m&&(p+=m-(p-a.depth-(v+.5*h))),v-.5*h-(u.height-g)<m&&(g+=m-(v-.5*h-(u.height-g)));var b=-(v-.5*h);w=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:d,shift:b},{type:"elem",elem:a,shift:-p}]},t)}else{var y=p-a.depth-(u.height-g);y<m&&(p+=.5*(m-y),g+=.5*(m-y)),w=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:a,shift:-p}]},t)}i=t.havingStyle(r),w.height*=i.sizeMultiplier/t.sizeMultiplier,w.depth*=i.sizeMultiplier/t.sizeMultiplier;var k;r.size===ar.DISPLAY.size?k=t.fontMetrics().delim1:r.size===ar.SCRIPTSCRIPT.size?k=t.havingStyle(ar.SCRIPT).fontMetrics().delim2:k=t.fontMetrics().delim2;var C,A;return e.leftDelim==null?C=Ig(t,["mopen"]):C=tc.customSizedDelim(e.leftDelim,k,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?A=ke.makeSpan([]):e.rightDelim==null?A=Ig(t,["mclose"]):A=tc.customSizedDelim(e.rightDelim,k,!0,t.havingStyle(r),e.mode,["mclose"]),ke.makeSpan(["mord"].concat(i.sizingClasses(t)),[C,ke.makeSpan(["mfrac"],[w]),A],t)},c7=(e,t)=>{var r=new We.MathNode("mfrac",[yn(e.numer,t),yn(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=zn(e.barSize,t);r.setAttribute("linethickness",ot(n))}var s=yW(e.size,t.style);if(s.size!==t.style.size){r=new We.MathNode("mstyle",[r]);var i=s.size===ar.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",i),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var a=[];if(e.leftDelim!=null){var o=new We.MathNode("mo",[new We.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),e.rightDelim!=null){var c=new We.MathNode("mo",[new We.TextNode(e.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),a.push(c)}return JN(a)}return r};bt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0],i=t[1],a,o=null,c=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",c=")";break;case"\\\\bracefrac":a=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":a=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:s,denom:i,hasBarLine:a,leftDelim:o,rightDelim:c,size:u,barSize:null}},htmlBuilder:l7,mathmlBuilder:c7});bt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0],i=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:s,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});bt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,s;switch(r){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:s,token:n}}});var II=["display","text","script","scriptscript"],jI=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};bt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],s=t[5],i=Bb(t[0]),a=i.type==="atom"&&i.family==="open"?jI(i.text):null,o=Bb(t[1]),c=o.type==="atom"&&o.family==="close"?jI(o.text):null,u=jr(t[2],"size"),d,h=null;u.isBlank?d=!0:(h=u.value,d=h.number>0);var f="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var m=jr(p.body[0],"textord");f=II[Number(m.text)]}}else p=jr(p,"textord"),f=II[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:s,continued:!1,hasBarLine:d,barSize:h,leftDelim:a,rightDelim:c,size:f}},htmlBuilder:l7,mathmlBuilder:c7});bt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:s}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:jr(t[0],"size").value,token:s}}});bt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0],i=pxe(jr(t[1],"infix").size),a=t[2],o=i.number>0;return{type:"genfrac",mode:r.mode,numer:s,denom:a,continued:!1,hasBarLine:o,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:l7,mathmlBuilder:c7});var vW=(e,t)=>{var r=t.style,n,s;e.type==="supsub"?(n=e.sup?en(e.sup,t.havingStyle(r.sup()),t):en(e.sub,t.havingStyle(r.sub()),t),s=jr(e.base,"horizBrace")):s=jr(e,"horizBrace");var i=en(s.base,t.havingBaseStyle(ar.DISPLAY)),a=yc.svgSpan(s,t),o;if(s.isOver?(o=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=ke.makeVList({positionType:"bottom",positionData:i.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:i}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),n){var c=ke.makeSpan(["mord",s.isOver?"mover":"munder"],[o],t);s.isOver?o=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:n}]},t):o=ke.makeVList({positionType:"bottom",positionData:c.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return ke.makeSpan(["mord",s.isOver?"mover":"munder"],[o],t)},Fbe=(e,t)=>{var r=yc.mathMLnode(e.label);return new We.MathNode(e.isOver?"mover":"munder",[yn(e.base,t),r])};bt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:vW,mathmlBuilder:Fbe});bt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],s=jr(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:r.mode,href:s,body:rs(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=bs(e.body,t,!1);return ke.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=qu(e.body,t);return r instanceof ia||(r=new ia("mrow",[r])),r.setAttribute("href",e.href),r}});bt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=jr(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var s=[],i=0;i<n.length;i++){var a=n[i];a==="~"&&(a="\\textasciitilde"),s.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:s};return{type:"href",mode:r.mode,href:n,body:rs(o)}}});bt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:rs(t[0])}},htmlBuilder(e,t){var r=bs(e.body,t,!1);return ke.makeFragment(r)},mathmlBuilder(e,t){return new We.MathNode("mrow",Yi(e.body,t))}});bt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:s}=e,i=jr(t[0],"raw").string,a=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(n){case"\\htmlClass":c.class=i,o={command:"\\htmlClass",class:i};break;case"\\htmlId":c.id=i,o={command:"\\htmlId",id:i};break;case"\\htmlStyle":c.style=i,o={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var u=i.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length!==2)throw new Ze("Error parsing key-value for \\htmlData");c["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:c,body:rs(a)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=bs(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var s=ke.makeSpan(n,r,t);for(var i in e.attributes)i!=="class"&&e.attributes.hasOwnProperty(i)&&s.setAttribute(i,e.attributes[i]);return s},mathmlBuilder:(e,t)=>qu(e.body,t)});bt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:rs(t[0]),mathml:rs(t[1])}},htmlBuilder:(e,t)=>{var r=bs(e.html,t,!1);return ke.makeFragment(r)},mathmlBuilder:(e,t)=>qu(e.mathml,t)});var J5=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new Ze("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Lq(n))throw new Ze("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};bt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,s={number:0,unit:"em"},i={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var c=jr(r[0],"raw").string,u=c.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length===2){var f=h[1].trim();switch(h[0].trim()){case"alt":o=f;break;case"width":s=J5(f);break;case"height":i=J5(f);break;case"totalheight":a=J5(f);break;default:throw new Ze("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=jr(t[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:n.mode,alt:o,width:s,height:i,totalheight:a,src:p}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=zn(e.height,t),n=0;e.totalheight.number>0&&(n=zn(e.totalheight,t)-r);var s=0;e.width.number>0&&(s=zn(e.width,t));var i={height:ot(r+n)};s>0&&(i.width=ot(s)),n>0&&(i.verticalAlign=ot(-n));var a=new Fxe(e.src,e.alt,i);return a.height=r,a.depth=n,a},mathmlBuilder:(e,t)=>{var r=new We.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=zn(e.height,t),s=0;if(e.totalheight.number>0&&(s=zn(e.totalheight,t)-n,r.setAttribute("valign",ot(-s))),r.setAttribute("height",ot(n+s)),e.width.number>0){var i=zn(e.width,t);r.setAttribute("width",ot(i))}return r.setAttribute("src",e.src),r}});bt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,s=jr(t[0],"size");if(r.settings.strict){var i=n[1]==="m",a=s.value.unit==="mu";i?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+s.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:s.value}},htmlBuilder(e,t){return ke.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=zn(e.dimension,t);return new We.SpaceNode(r)}});bt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:s}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=ke.makeSpan([],[en(e.body,t)]),r=ke.makeSpan(["inner"],[r],t)):r=ke.makeSpan(["inner"],[en(e.body,t)]);var n=ke.makeSpan(["fix"],[]),s=ke.makeSpan([e.alignment],[r,n],t),i=ke.makeSpan(["strut"]);return i.style.height=ot(s.height+s.depth),s.depth&&(i.style.verticalAlign=ot(-s.depth)),s.children.unshift(i),s=ke.makeSpan(["thinbox"],[s],t),ke.makeSpan(["mord","vbox"],[s],t)},mathmlBuilder:(e,t)=>{var r=new We.MathNode("mpadded",[yn(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});bt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,s=n.mode;n.switchMode("math");var i=r==="\\("?"\\)":"$",a=n.parseExpression(!1,i);return n.expect(i),n.switchMode(s),{type:"styling",mode:n.mode,style:"text",body:a}}});bt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Ze("Mismatched "+e.funcName)}});var MI=(e,t)=>{switch(t.style.size){case ar.DISPLAY.size:return e.display;case ar.TEXT.size:return e.text;case ar.SCRIPT.size:return e.script;case ar.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};bt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:rs(t[0]),text:rs(t[1]),script:rs(t[2]),scriptscript:rs(t[3])}},htmlBuilder:(e,t)=>{var r=MI(e,t),n=bs(r,t,!1);return ke.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=MI(e,t);return qu(r,t)}});var xW=(e,t,r,n,s,i,a)=>{e=ke.makeSpan([],[e]);var o=r&&er.isCharacterBox(r),c,u;if(t){var d=en(t,n.havingStyle(s.sup()),n);u={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var h=en(r,n.havingStyle(s.sub()),n);c={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-h.height)}}var f;if(u&&c){var p=n.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+a;f=ke.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:ot(-i)},{type:"kern",size:c.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ot(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(c){var m=e.height-a;f=ke.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:ot(-i)},{type:"kern",size:c.kern},{type:"elem",elem:e}]},n)}else if(u){var g=e.depth+a;f=ke.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ot(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var w=[f];if(c&&i!==0&&!o){var y=ke.makeSpan(["mspace"],[],n);y.style.marginRight=ot(i),w.unshift(y)}return ke.makeSpan(["mop","op-limits"],w,n)},bW=["\\smallint"],l0=(e,t)=>{var r,n,s=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=jr(e.base,"op"),s=!0):i=jr(e,"op");var a=t.style,o=!1;a.size===ar.DISPLAY.size&&i.symbol&&!er.contains(bW,i.name)&&(o=!0);var c;if(i.symbol){var u=o?"Size2-Regular":"Size1-Regular",d="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(d=i.name.slice(1),i.name=d==="oiint"?"\\iint":"\\iiint"),c=ke.makeSymbol(i.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var h=c.italic,f=ke.staticSvg(d+"Size"+(o?"2":"1"),t);c=ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:f,shift:o?.08:0}]},t),i.name="\\"+d,c.classes.unshift("mop"),c.italic=h}}else if(i.body){var p=bs(i.body,t,!0);p.length===1&&p[0]instanceof Va?(c=p[0],c.classes[0]="mop"):c=ke.makeSpan(["mop"],p,t)}else{for(var m=[],g=1;g<i.name.length;g++)m.push(ke.mathsym(i.name[g],i.mode,t));c=ke.makeSpan(["mop"],m,t)}var w=0,y=0;return(c instanceof Va||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(w=(c.height-c.depth)/2-t.fontMetrics().axisHeight,y=c.italic),s?xW(c,r,n,t,a,y,w):(w&&(c.style.position="relative",c.style.top=ot(w)),c)},C1=(e,t)=>{var r;if(e.symbol)r=new ia("mo",[qa(e.name,e.mode)]),er.contains(bW,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new ia("mo",Yi(e.body,t));else{r=new ia("mi",[new tl(e.name.slice(1))]);var n=new ia("mo",[qa("","text")]);e.parentIsSupSub?r=new ia("mrow",[r,n]):r=Kq([r,n])}return r},Bbe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};bt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=n;return s.length===1&&(s=Bbe[s]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:l0,mathmlBuilder:C1});bt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:rs(n)}},htmlBuilder:l0,mathmlBuilder:C1});var Ube={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};bt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:l0,mathmlBuilder:C1});bt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:l0,mathmlBuilder:C1});bt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=Ube[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:l0,mathmlBuilder:C1});var wW=(e,t)=>{var r,n,s=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=jr(e.base,"operatorname"),s=!0):i=jr(e,"operatorname");var a;if(i.body.length>0){for(var o=i.body.map(h=>{var f=h.text;return typeof f=="string"?{type:"textord",mode:h.mode,text:f}:h}),c=bs(o,t.withFont("mathrm"),!0),u=0;u<c.length;u++){var d=c[u];d instanceof Va&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=ke.makeSpan(["mop"],c,t)}else a=ke.makeSpan(["mop"],[],t);return s?xW(a,r,n,t,t.style,0,0):a},zbe=(e,t)=>{for(var r=Yi(e.body,t.withFont("mathrm")),n=!0,s=0;s<r.length;s++){var i=r[s];if(!(i instanceof We.SpaceNode))if(i instanceof We.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=i.children[0];i.children.length===1&&a instanceof We.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(d=>d.toText()).join("");r=[new We.TextNode(o)]}var c=new We.MathNode("mi",r);c.setAttribute("mathvariant","normal");var u=new We.MathNode("mo",[qa("","text")]);return e.parentIsSupSub?new We.MathNode("mrow",[c,u]):We.newDocumentFragment([c,u])};bt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,s=t[0];return{type:"operatorname",mode:r.mode,body:rs(s),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:wW,mathmlBuilder:zbe});H("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ph({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?ke.makeFragment(bs(e.body,t,!1)):ke.makeSpan(["mord"],bs(e.body,t,!0),t)},mathmlBuilder(e,t){return qu(e.body,t,!0)}});bt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=en(e.body,t.havingCrampedStyle()),n=ke.makeLineSpan("overline-line",t),s=t.fontMetrics().defaultRuleThickness,i=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*s},{type:"elem",elem:n},{type:"kern",size:s}]},t);return ke.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var r=new We.MathNode("mo",[new We.TextNode("")]);r.setAttribute("stretchy","true");var n=new We.MathNode("mover",[yn(e.body,t),r]);return n.setAttribute("accent","true"),n}});bt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:rs(n)}},htmlBuilder:(e,t)=>{var r=bs(e.body,t.withPhantom(),!1);return ke.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=Yi(e.body,t);return new We.MathNode("mphantom",r)}});bt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ke.makeSpan([],[en(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),ke.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=Yi(rs(e.body),t),n=new We.MathNode("mphantom",r),s=new We.MathNode("mpadded",[n]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});bt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ke.makeSpan(["inner"],[en(e.body,t.withPhantom())]),n=ke.makeSpan(["fix"],[]);return ke.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=Yi(rs(e.body),t),n=new We.MathNode("mphantom",r),s=new We.MathNode("mpadded",[n]);return s.setAttribute("width","0px"),s}});bt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=jr(t[0],"size").value,s=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:s}},htmlBuilder(e,t){var r=en(e.body,t),n=zn(e.dy,t);return ke.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new We.MathNode("mpadded",[yn(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});bt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});bt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,s=r[0],i=jr(t[0],"size"),a=jr(t[1],"size");return{type:"rule",mode:n.mode,shift:s&&jr(s,"size").value,width:i.value,height:a.value}},htmlBuilder(e,t){var r=ke.makeSpan(["mord","rule"],[],t),n=zn(e.width,t),s=zn(e.height,t),i=e.shift?zn(e.shift,t):0;return r.style.borderRightWidth=ot(n),r.style.borderTopWidth=ot(s),r.style.bottom=ot(i),r.width=n,r.height=s+i,r.depth=-i,r.maxFontSize=s*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=zn(e.width,t),n=zn(e.height,t),s=e.shift?zn(e.shift,t):0,i=t.color&&t.getColor()||"black",a=new We.MathNode("mspace");a.setAttribute("mathbackground",i),a.setAttribute("width",ot(r)),a.setAttribute("height",ot(n));var o=new We.MathNode("mpadded",[a]);return s>=0?o.setAttribute("height",ot(s)):(o.setAttribute("height",ot(s)),o.setAttribute("depth",ot(-s))),o.setAttribute("voffset",ot(s)),o}});function kW(e,t,r){for(var n=bs(e,t,!1),s=t.sizeMultiplier/r.sizeMultiplier,i=0;i<n.length;i++){var a=n[i].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[i].classes,t.sizingClasses(r)):n[i].classes[a+1]==="reset-size"+t.size&&(n[i].classes[a+1]="reset-size"+r.size),n[i].height*=s,n[i].depth*=s}return ke.makeFragment(n)}var PI=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Hbe=(e,t)=>{var r=t.havingSize(e.size);return kW(e.body,r,t)};bt({type:"sizing",names:PI,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:s}=e,i=s.parseExpression(!1,r);return{type:"sizing",mode:s.mode,size:PI.indexOf(n)+1,body:i}},htmlBuilder:Hbe,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=Yi(e.body,r),s=new We.MathNode("mstyle",n);return s.setAttribute("mathsize",ot(r.sizeMultiplier)),s}});bt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,s=!1,i=!1,a=r[0]&&jr(r[0],"ordgroup");if(a)for(var o="",c=0;c<a.body.length;++c){var u=a.body[c];if(o=u.text,o==="t")s=!0;else if(o==="b")i=!0;else{s=!1,i=!1;break}}else s=!0,i=!0;var d=t[0];return{type:"smash",mode:n.mode,body:d,smashHeight:s,smashDepth:i}},htmlBuilder:(e,t)=>{var r=ke.makeSpan([],[en(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].depth=0;var i=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return ke.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var r=new We.MathNode("mpadded",[yn(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});bt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,s=r[0],i=t[0];return{type:"sqrt",mode:n.mode,body:i,index:s}},htmlBuilder(e,t){var r=en(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=ke.wrapFragment(r,t);var n=t.fontMetrics(),s=n.defaultRuleThickness,i=s;t.style.id<ar.TEXT.id&&(i=t.fontMetrics().xHeight);var a=s+i/4,o=r.height+r.depth+a+s,{span:c,ruleWidth:u,advanceWidth:d}=tc.sqrtImage(o,t),h=c.height-u;h>r.height+r.depth+a&&(a=(a+h-r.height-r.depth)/2);var f=c.height-r.height-a-u;r.style.paddingLeft=ot(d);var p=ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+f)},{type:"elem",elem:c},{type:"kern",size:u}]},t);if(e.index){var m=t.havingStyle(ar.SCRIPTSCRIPT),g=en(e.index,m,t),w=.6*(p.height-p.depth),y=ke.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:g}]},t),v=ke.makeSpan(["root"],[y]);return ke.makeSpan(["mord","sqrt"],[v,p],t)}else return ke.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new We.MathNode("mroot",[yn(r,t),yn(n,t)]):new We.MathNode("msqrt",[yn(r,t)])}});var OI={display:ar.DISPLAY,text:ar.TEXT,script:ar.SCRIPT,scriptscript:ar.SCRIPTSCRIPT};bt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:s}=e,i=s.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:a,body:i}},htmlBuilder(e,t){var r=OI[e.style],n=t.havingStyle(r).withFont("");return kW(e.body,n,t)},mathmlBuilder(e,t){var r=OI[e.style],n=t.havingStyle(r),s=Yi(e.body,n),i=new We.MathNode("mstyle",s),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[e.style];return i.setAttribute("scriptlevel",o[0]),i.setAttribute("displaystyle",o[1]),i}});var Vbe=function(t,r){var n=t.base;if(n)if(n.type==="op"){var s=n.limits&&(r.style.size===ar.DISPLAY.size||n.alwaysHandleSupSub);return s?l0:null}else if(n.type==="operatorname"){var i=n.alwaysHandleSupSub&&(r.style.size===ar.DISPLAY.size||n.limits);return i?wW:null}else{if(n.type==="accent")return er.isCharacterBox(n.base)?r7:null;if(n.type==="horizBrace"){var a=!t.sub;return a===n.isOver?vW:null}else return null}else return null};Ph({type:"supsub",htmlBuilder(e,t){var r=Vbe(e,t);if(r)return r(e,t);var{base:n,sup:s,sub:i}=e,a=en(n,t),o,c,u=t.fontMetrics(),d=0,h=0,f=n&&er.isCharacterBox(n);if(s){var p=t.havingStyle(t.style.sup());o=en(s,p,t),f||(d=a.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(i){var m=t.havingStyle(t.style.sub());c=en(i,m,t),f||(h=a.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var g;t.style===ar.DISPLAY?g=u.sup1:t.style.cramped?g=u.sup3:g=u.sup2;var w=t.sizeMultiplier,y=ot(.5/u.ptPerEm/w),v=null;if(c){var b=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(a instanceof Va||b)&&(v=ot(-a.italic))}var k;if(o&&c){d=Math.max(d,g,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var C=u.defaultRuleThickness,A=4*C;if(d-o.depth-(c.height-h)<A){h=A-(d-o.depth)+c.height;var R=.8*u.xHeight-(d-o.depth);R>0&&(d+=R,h-=R)}var O=[{type:"elem",elem:c,shift:h,marginRight:y,marginLeft:v},{type:"elem",elem:o,shift:-d,marginRight:y}];k=ke.makeVList({positionType:"individualShift",children:O},t)}else if(c){h=Math.max(h,u.sub1,c.height-.8*u.xHeight);var F=[{type:"elem",elem:c,marginLeft:v,marginRight:y}];k=ke.makeVList({positionType:"shift",positionData:h,children:F},t)}else if(o)d=Math.max(d,g,o.depth+.25*u.xHeight),k=ke.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:y}]},t);else throw new Error("supsub must have either sup or sub.");var j=QS(a,"right")||"mord";return ke.makeSpan([j],[a,ke.makeSpan(["msupsub"],[k])],t)},mathmlBuilder(e,t){var r=!1,n,s;e.base&&e.base.type==="horizBrace"&&(s=!!e.sup,s===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var i=[yn(e.base,t)];e.sub&&i.push(yn(e.sub,t)),e.sup&&i.push(yn(e.sup,t));var a;if(r)a=n?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===ar.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===ar.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var c=e.base;c&&c.type==="op"&&c.limits&&(t.style===ar.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===ar.DISPLAY)?a="munder":a="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===ar.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===ar.DISPLAY)?a="mover":a="msup"}return new We.MathNode(a,i)}});Ph({type:"atom",htmlBuilder(e,t){return ke.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new We.MathNode("mo",[qa(e.text,e.mode)]);if(e.family==="bin"){var n=e7(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var SW={mi:"italic",mn:"normal",mtext:"normal"};Ph({type:"mathord",htmlBuilder(e,t){return ke.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new We.MathNode("mi",[qa(e.text,e.mode,t)]),n=e7(e,t)||"italic";return n!==SW[r.type]&&r.setAttribute("mathvariant",n),r}});Ph({type:"textord",htmlBuilder(e,t){return ke.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=qa(e.text,e.mode,t),n=e7(e,t)||"normal",s;return e.mode==="text"?s=new We.MathNode("mtext",[r]):/[0-9]/.test(e.text)?s=new We.MathNode("mn",[r]):e.text==="\\prime"?s=new We.MathNode("mo",[r]):s=new We.MathNode("mi",[r]),n!==SW[s.type]&&s.setAttribute("mathvariant",n),s}});var e3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},t3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ph({type:"spacing",htmlBuilder(e,t){if(t3.hasOwnProperty(e.text)){var r=t3[e.text].className||"";if(e.mode==="text"){var n=ke.makeOrd(e,t,"textord");return n.classes.push(r),n}else return ke.makeSpan(["mspace",r],[ke.mathsym(e.text,e.mode,t)],t)}else{if(e3.hasOwnProperty(e.text))return ke.makeSpan(["mspace",e3[e.text]],[],t);throw new Ze('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(t3.hasOwnProperty(e.text))r=new We.MathNode("mtext",[new We.TextNode("")]);else{if(e3.hasOwnProperty(e.text))return new We.MathNode("mspace");throw new Ze('Unknown type of space "'+e.text+'"')}return r}});var DI=()=>{var e=new We.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Ph({type:"tag",mathmlBuilder(e,t){var r=new We.MathNode("mtable",[new We.MathNode("mtr",[DI(),new We.MathNode("mtd",[qu(e.body,t)]),DI(),new We.MathNode("mtd",[qu(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var LI={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},$I={"\\textbf":"textbf","\\textmd":"textmd"},qbe={"\\textit":"textit","\\textup":"textup"},FI=(e,t)=>{var r=e.font;if(r){if(LI[r])return t.withTextFontFamily(LI[r]);if($I[r])return t.withTextFontWeight($I[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(qbe[r])};bt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,s=t[0];return{type:"text",mode:r.mode,body:rs(s),font:n}},htmlBuilder(e,t){var r=FI(e,t),n=bs(e.body,r,!0);return ke.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=FI(e,t);return qu(e.body,r)}});bt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=en(e.body,t),n=ke.makeLineSpan("underline-line",t),s=t.fontMetrics().defaultRuleThickness,i=ke.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:s},{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:r}]},t);return ke.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var r=new We.MathNode("mo",[new We.TextNode("")]);r.setAttribute("stretchy","true");var n=new We.MathNode("munder",[yn(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});bt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=en(e.body,t),n=t.fontMetrics().axisHeight,s=.5*(r.height-n-(r.depth+n));return ke.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new We.MathNode("mpadded",[yn(e.body,t)],["vcenter"])}});bt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new Ze("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=BI(e),n=[],s=t.havingStyle(t.style.text()),i=0;i<r.length;i++){var a=r[i];a==="~"&&(a="\\textasciitilde"),n.push(ke.makeSymbol(a,"Typewriter-Regular",e.mode,s,["mord","texttt"]))}return ke.makeSpan(["mord","text"].concat(s.sizingClasses(t)),ke.tryCombineChars(n),s)},mathmlBuilder(e,t){var r=new We.TextNode(BI(e)),n=new We.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var BI=e=>e.body.replace(/ /g,e.star?"":""),hu=Wq,_W=`[ \r
	]`,Wbe="\\\\[a-zA-Z@]+",Gbe="\\\\[^\uD800-\uDFFF]",Kbe="("+Wbe+")"+_W+"*",Ybe=`\\\\(
|[ \r	]+
?)[ \r	]*`,t8="[-]",Zbe=new RegExp(t8+"+$"),Qbe="("+_W+"+)|"+(Ybe+"|")+"([!-\\[\\]---]"+(t8+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(t8+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Kbe)+("|"+Gbe+")");class UI{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(Qbe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new Ua("EOF",new na(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new Ze("Unexpected character: '"+t[r]+"'",new Ua(t[r],new na(this,r,r+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[s]===14){var i=t.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new Ua(s,new na(this,r,this.tokenRegex.lastIndex))}}class Xbe{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ze("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var Jbe=fW;H("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});H("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});H("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});H("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});H("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});H("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");H("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var zI={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};H("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Ze("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=zI[t.text],n==null||n>=r)throw new Ze("Invalid base-"+r+" digit "+t.text);for(var s;(s=zI[e.future().text])!=null&&s<r;)n*=r,n+=s,e.popToken()}return"\\@char{"+n+"}"});var u7=(e,t,r,n)=>{var s=e.consumeArg().tokens;if(s.length!==1)throw new Ze("\\newcommand's first argument must be a macro name");var i=s[0].text,a=e.isDefined(i);if(a&&!t)throw new Ze("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!r)throw new Ze("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(s=e.consumeArg().tokens,s.length===1&&s[0].text==="["){for(var c="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)c+=u.text,u=e.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new Ze("Invalid number of arguments: "+c);o=parseInt(c),s=e.consumeArg().tokens}return a&&n||e.macros.set(i,{tokens:s,numArgs:o}),""};H("\\newcommand",e=>u7(e,!1,!0,!1));H("\\renewcommand",e=>u7(e,!0,!1,!1));H("\\providecommand",e=>u7(e,!0,!0,!0));H("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});H("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});H("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),hu[r],Nn.math[r],Nn.text[r]),""});H("\\bgroup","{");H("\\egroup","}");H("~","\\nobreakspace");H("\\lq","`");H("\\rq","'");H("\\aa","\\r a");H("\\AA","\\r A");H("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");H("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");H("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");H("","\\mathscr{B}");H("","\\mathscr{E}");H("","\\mathscr{F}");H("","\\mathscr{H}");H("","\\mathscr{I}");H("","\\mathscr{L}");H("","\\mathscr{M}");H("","\\mathscr{R}");H("","\\mathfrak{C}");H("","\\mathfrak{H}");H("","\\mathfrak{Z}");H("\\Bbbk","\\Bbb{k}");H("","\\cdotp");H("\\llap","\\mathllap{\\textrm{#1}}");H("\\rlap","\\mathrlap{\\textrm{#1}}");H("\\clap","\\mathclap{\\textrm{#1}}");H("\\mathstrut","\\vphantom{(}");H("\\underbar","\\underline{\\text{#1}}");H("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');H("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");H("\\ne","\\neq");H("","\\neq");H("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");H("","\\notin");H("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");H("","\\perp");H("","\\mathclose{!\\mkern-0.8mu!}");H("","\\notni");H("","\\ulcorner");H("","\\urcorner");H("","\\llcorner");H("","\\lrcorner");H("","\\copyright");H("","\\textregistered");H("","\\textregistered");H("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');H("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');H("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');H("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');H("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");H("","\\vdots");H("\\varGamma","\\mathit{\\Gamma}");H("\\varDelta","\\mathit{\\Delta}");H("\\varTheta","\\mathit{\\Theta}");H("\\varLambda","\\mathit{\\Lambda}");H("\\varXi","\\mathit{\\Xi}");H("\\varPi","\\mathit{\\Pi}");H("\\varSigma","\\mathit{\\Sigma}");H("\\varUpsilon","\\mathit{\\Upsilon}");H("\\varPhi","\\mathit{\\Phi}");H("\\varPsi","\\mathit{\\Psi}");H("\\varOmega","\\mathit{\\Omega}");H("\\substack","\\begin{subarray}{c}#1\\end{subarray}");H("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");H("\\boxed","\\fbox{$\\displaystyle{#1}$}");H("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");H("\\implies","\\DOTSB\\;\\Longrightarrow\\;");H("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");H("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");H("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var HI={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};H("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in HI?t=HI[r]:(r.slice(0,4)==="\\not"||r in Nn.math&&er.contains(["bin","rel"],Nn.math[r].group))&&(t="\\dotsb"),t});var d7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};H("\\dotso",function(e){var t=e.future().text;return t in d7?"\\ldots\\,":"\\ldots"});H("\\dotsc",function(e){var t=e.future().text;return t in d7&&t!==","?"\\ldots\\,":"\\ldots"});H("\\cdots",function(e){var t=e.future().text;return t in d7?"\\@cdots\\,":"\\@cdots"});H("\\dotsb","\\cdots");H("\\dotsm","\\cdots");H("\\dotsi","\\!\\cdots");H("\\dotsx","\\ldots\\,");H("\\DOTSI","\\relax");H("\\DOTSB","\\relax");H("\\DOTSX","\\relax");H("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");H("\\,","\\tmspace+{3mu}{.1667em}");H("\\thinspace","\\,");H("\\>","\\mskip{4mu}");H("\\:","\\tmspace+{4mu}{.2222em}");H("\\medspace","\\:");H("\\;","\\tmspace+{5mu}{.2777em}");H("\\thickspace","\\;");H("\\!","\\tmspace-{3mu}{.1667em}");H("\\negthinspace","\\!");H("\\negmedspace","\\tmspace-{4mu}{.2222em}");H("\\negthickspace","\\tmspace-{5mu}{.277em}");H("\\enspace","\\kern.5em ");H("\\enskip","\\hskip.5em\\relax");H("\\quad","\\hskip1em\\relax");H("\\qquad","\\hskip2em\\relax");H("\\tag","\\@ifstar\\tag@literal\\tag@paren");H("\\tag@paren","\\tag@literal{({#1})}");H("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Ze("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});H("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");H("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");H("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");H("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");H("\\newline","\\\\\\relax");H("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var EW=ot(el["Main-Regular"][84][1]-.7*el["Main-Regular"][65][1]);H("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+EW+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");H("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+EW+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");H("\\hspace","\\@ifstar\\@hspacer\\@hspace");H("\\@hspace","\\hskip #1\\relax");H("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");H("\\ordinarycolon",":");H("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");H("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');H("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');H("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');H("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');H("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');H("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');H("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');H("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');H("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');H("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');H("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');H("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');H("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');H("","\\dblcolon");H("","\\eqcolon");H("","\\coloneqq");H("","\\eqqcolon");H("","\\Coloneqq");H("\\ratio","\\vcentcolon");H("\\coloncolon","\\dblcolon");H("\\colonequals","\\coloneqq");H("\\coloncolonequals","\\Coloneqq");H("\\equalscolon","\\eqqcolon");H("\\equalscoloncolon","\\Eqqcolon");H("\\colonminus","\\coloneq");H("\\coloncolonminus","\\Coloneq");H("\\minuscolon","\\eqcolon");H("\\minuscoloncolon","\\Eqcolon");H("\\coloncolonapprox","\\Colonapprox");H("\\coloncolonsim","\\Colonsim");H("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");H("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");H("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");H("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");H("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");H("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");H("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");H("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");H("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");H("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");H("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");H("\\ngeqq","\\html@mathml{\\@ngeqq}{}");H("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");H("\\nleqq","\\html@mathml{\\@nleqq}{}");H("\\nleqslant","\\html@mathml{\\@nleqslant}{}");H("\\nshortmid","\\html@mathml{\\@nshortmid}{}");H("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");H("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");H("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");H("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");H("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");H("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");H("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");H("\\imath","\\html@mathml{\\@imath}{}");H("\\jmath","\\html@mathml{\\@jmath}{}");H("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");H("","\\llbracket");H("","\\rrbracket");H("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");H("","\\lBrace");H("","\\rBrace");H("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");H("","\\minuso");H("\\darr","\\downarrow");H("\\dArr","\\Downarrow");H("\\Darr","\\Downarrow");H("\\lang","\\langle");H("\\rang","\\rangle");H("\\uarr","\\uparrow");H("\\uArr","\\Uparrow");H("\\Uarr","\\Uparrow");H("\\N","\\mathbb{N}");H("\\R","\\mathbb{R}");H("\\Z","\\mathbb{Z}");H("\\alef","\\aleph");H("\\alefsym","\\aleph");H("\\Alpha","\\mathrm{A}");H("\\Beta","\\mathrm{B}");H("\\bull","\\bullet");H("\\Chi","\\mathrm{X}");H("\\clubs","\\clubsuit");H("\\cnums","\\mathbb{C}");H("\\Complex","\\mathbb{C}");H("\\Dagger","\\ddagger");H("\\diamonds","\\diamondsuit");H("\\empty","\\emptyset");H("\\Epsilon","\\mathrm{E}");H("\\Eta","\\mathrm{H}");H("\\exist","\\exists");H("\\harr","\\leftrightarrow");H("\\hArr","\\Leftrightarrow");H("\\Harr","\\Leftrightarrow");H("\\hearts","\\heartsuit");H("\\image","\\Im");H("\\infin","\\infty");H("\\Iota","\\mathrm{I}");H("\\isin","\\in");H("\\Kappa","\\mathrm{K}");H("\\larr","\\leftarrow");H("\\lArr","\\Leftarrow");H("\\Larr","\\Leftarrow");H("\\lrarr","\\leftrightarrow");H("\\lrArr","\\Leftrightarrow");H("\\Lrarr","\\Leftrightarrow");H("\\Mu","\\mathrm{M}");H("\\natnums","\\mathbb{N}");H("\\Nu","\\mathrm{N}");H("\\Omicron","\\mathrm{O}");H("\\plusmn","\\pm");H("\\rarr","\\rightarrow");H("\\rArr","\\Rightarrow");H("\\Rarr","\\Rightarrow");H("\\real","\\Re");H("\\reals","\\mathbb{R}");H("\\Reals","\\mathbb{R}");H("\\Rho","\\mathrm{P}");H("\\sdot","\\cdot");H("\\sect","\\S");H("\\spades","\\spadesuit");H("\\sub","\\subset");H("\\sube","\\subseteq");H("\\supe","\\supseteq");H("\\Tau","\\mathrm{T}");H("\\thetasym","\\vartheta");H("\\weierp","\\wp");H("\\Zeta","\\mathrm{Z}");H("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");H("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");H("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");H("\\bra","\\mathinner{\\langle{#1}|}");H("\\ket","\\mathinner{|{#1}\\rangle}");H("\\braket","\\mathinner{\\langle{#1}\\rangle}");H("\\Bra","\\left\\langle#1\\right|");H("\\Ket","\\left|#1\\right\\rangle");var NW=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,s=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var c=h=>f=>{e&&(f.macros.set("|",a),s.length&&f.macros.set("\\|",o));var p=h;if(!h&&s.length){var m=f.future();m.text==="|"&&(f.popToken(),p=!0)}return{tokens:p?s:n,numArgs:0}};t.macros.set("|",c(!1)),s.length&&t.macros.set("\\|",c(!0));var u=t.consumeArg().tokens,d=t.expandTokens([...i,...u,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};H("\\bra@ket",NW(!1));H("\\bra@set",NW(!0));H("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");H("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");H("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");H("\\angln","{\\angl n}");H("\\blue","\\textcolor{##6495ed}{#1}");H("\\orange","\\textcolor{##ffa500}{#1}");H("\\pink","\\textcolor{##ff00af}{#1}");H("\\red","\\textcolor{##df0030}{#1}");H("\\green","\\textcolor{##28ae7b}{#1}");H("\\gray","\\textcolor{gray}{#1}");H("\\purple","\\textcolor{##9d38bd}{#1}");H("\\blueA","\\textcolor{##ccfaff}{#1}");H("\\blueB","\\textcolor{##80f6ff}{#1}");H("\\blueC","\\textcolor{##63d9ea}{#1}");H("\\blueD","\\textcolor{##11accd}{#1}");H("\\blueE","\\textcolor{##0c7f99}{#1}");H("\\tealA","\\textcolor{##94fff5}{#1}");H("\\tealB","\\textcolor{##26edd5}{#1}");H("\\tealC","\\textcolor{##01d1c1}{#1}");H("\\tealD","\\textcolor{##01a995}{#1}");H("\\tealE","\\textcolor{##208170}{#1}");H("\\greenA","\\textcolor{##b6ffb0}{#1}");H("\\greenB","\\textcolor{##8af281}{#1}");H("\\greenC","\\textcolor{##74cf70}{#1}");H("\\greenD","\\textcolor{##1fab54}{#1}");H("\\greenE","\\textcolor{##0d923f}{#1}");H("\\goldA","\\textcolor{##ffd0a9}{#1}");H("\\goldB","\\textcolor{##ffbb71}{#1}");H("\\goldC","\\textcolor{##ff9c39}{#1}");H("\\goldD","\\textcolor{##e07d10}{#1}");H("\\goldE","\\textcolor{##a75a05}{#1}");H("\\redA","\\textcolor{##fca9a9}{#1}");H("\\redB","\\textcolor{##ff8482}{#1}");H("\\redC","\\textcolor{##f9685d}{#1}");H("\\redD","\\textcolor{##e84d39}{#1}");H("\\redE","\\textcolor{##bc2612}{#1}");H("\\maroonA","\\textcolor{##ffbde0}{#1}");H("\\maroonB","\\textcolor{##ff92c6}{#1}");H("\\maroonC","\\textcolor{##ed5fa6}{#1}");H("\\maroonD","\\textcolor{##ca337c}{#1}");H("\\maroonE","\\textcolor{##9e034e}{#1}");H("\\purpleA","\\textcolor{##ddd7ff}{#1}");H("\\purpleB","\\textcolor{##c6b9fc}{#1}");H("\\purpleC","\\textcolor{##aa87ff}{#1}");H("\\purpleD","\\textcolor{##7854ab}{#1}");H("\\purpleE","\\textcolor{##543b78}{#1}");H("\\mintA","\\textcolor{##f5f9e8}{#1}");H("\\mintB","\\textcolor{##edf2df}{#1}");H("\\mintC","\\textcolor{##e0e5cc}{#1}");H("\\grayA","\\textcolor{##f6f7f7}{#1}");H("\\grayB","\\textcolor{##f0f1f2}{#1}");H("\\grayC","\\textcolor{##e3e5e6}{#1}");H("\\grayD","\\textcolor{##d6d8da}{#1}");H("\\grayE","\\textcolor{##babec2}{#1}");H("\\grayF","\\textcolor{##888d93}{#1}");H("\\grayG","\\textcolor{##626569}{#1}");H("\\grayH","\\textcolor{##3b3e40}{#1}");H("\\grayI","\\textcolor{##21242c}{#1}");H("\\kaBlue","\\textcolor{##314453}{#1}");H("\\kaGreen","\\textcolor{##71B307}{#1}");var CW={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ewe{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new Xbe(Jbe,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new UI(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,s;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:s,end:n}=this.consumeArg(["]"])}else({tokens:s,start:r,end:n}=this.consumeArg());return this.pushToken(new Ua("EOF",n.loc)),this.pushTokens(s),r.range(n,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var s=this.future(),i,a=0,o=0;do{if(i=this.popToken(),r.push(i),i.text==="{")++a;else if(i.text==="}"){if(--a,a===-1)throw new Ze("Extra }",i)}else if(i.text==="EOF")throw new Ze("Unexpected end of input in a macro argument, expected '"+(t&&n?t[o]:"}")+"'",i);if(t&&n)if((a===0||a===1&&t[o]==="{")&&i.text===t[o]){if(++o,o===t.length){r.splice(-o,o);break}}else o=0}while(a!==0||n);return s.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:s,end:i}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new Ze("The length of delimiters doesn't match the number of args!");for(var n=r[0],s=0;s<n.length;s++){var i=this.popToken();if(n[s]!==i.text)throw new Ze("Use of the macro doesn't match its definition",i)}}for(var a=[],o=0;o<t;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Ze("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,s=r.noexpand?null:this._getExpansion(n);if(s==null||t&&s.unexpandable){if(t&&s==null&&n[0]==="\\"&&!this.isDefined(n))throw new Ze("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var i=s.tokens,a=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){i=i.slice();for(var o=i.length-1;o>=0;--o){var c=i[o];if(c.text==="#"){if(o===0)throw new Ze("Incomplete placeholder at end of macro body",c);if(c=i[--o],c.text==="#")i.splice(o+1,1);else if(/^[1-9]$/.test(c.text))i.splice(o,2,...a[+c.text-1]);else throw new Ze("Not a valid argument number",c)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Ua(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),r.push(s)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var s=typeof r=="function"?r(this):r;if(typeof s=="string"){var i=0;if(s.indexOf("#")!==-1)for(var a=s.replace(/##/g,"");a.indexOf("#"+(i+1))!==-1;)++i;for(var o=new UI(s,this.settings),c=[],u=o.lex();u.text!=="EOF";)c.push(u),u=o.lex();c.reverse();var d={tokens:c,numArgs:i};return d}return s}isDefined(t){return this.macros.has(t)||hu.hasOwnProperty(t)||Nn.math.hasOwnProperty(t)||Nn.text.hasOwnProperty(t)||CW.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:hu.hasOwnProperty(t)&&!hu[t].primitive}}var VI=/^[]/,$y=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),r3={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},qI={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class X2{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ewe(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new Ze("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Ua("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(X2.endOfExpression.indexOf(s.text)!==-1||r&&s.text===r||t&&hu[s.text]&&hu[s.text].infix)break;var i=this.parseAtom(r);if(i){if(i.type==="internal")continue}else break;n.push(i)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,s=0;s<t.length;s++)if(t[s].type==="infix"){if(r!==-1)throw new Ze("only one infix operator per group",t[s].token);r=s,n=t[s].replaceWith}if(r!==-1&&n){var i,a,o=t.slice(0,r),c=t.slice(r+1);o.length===1&&o[0].type==="ordgroup"?i=o[0]:i={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[i,t[r],a],[]):u=this.callFunction(n,[i,a],[]),[u]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var s=this.parseGroup(t);if(!s)throw new Ze("Expected group after '"+n+"'",r);return s}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var s={type:"text",mode:this.mode,body:r},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return i}parseAtom(t){var r=this.parseGroup("atom",t);if(this.mode==="text")return r;for(var n,s;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(r&&r.type==="op"){var a=i.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=i.text==="\\limits");else throw new Ze("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(n)throw new Ze("Double superscript",i);n=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(s)throw new Ze("Double subscript",i);s=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(n)throw new Ze("Double superscript",i);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:c}}else if($y[i.text]){var u=VI.test(i.text),d=[];for(d.push(new Ua($y[i.text])),this.consume();;){var h=this.fetch().text;if(!$y[h]||VI.test(h)!==u)break;d.unshift(new Ua($y[h])),this.consume()}var f=this.subparse(d);u?s={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||s?{type:"supsub",mode:this.mode,base:r,sup:n,sub:s}:r}parseFunction(t,r){var n=this.fetch(),s=n.text,i=hu[s];if(!i)return null;if(this.consume(),r&&r!=="atom"&&!i.allowedInArgument)throw new Ze("Got function '"+s+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!i.allowedInText)throw new Ze("Can't use function '"+s+"' in text mode",n);if(this.mode==="math"&&i.allowedInMath===!1)throw new Ze("Can't use function '"+s+"' in math mode",n);var{args:a,optArgs:o}=this.parseArguments(s,i);return this.callFunction(s,a,o,n,t)}callFunction(t,r,n,s,i){var a={funcName:t,parser:this,token:s,breakOnTokenText:i},o=hu[t];if(o&&o.handler)return o.handler(a,r,n);throw new Ze("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var s=[],i=[],a=0;a<n;a++){var o=r.argTypes&&r.argTypes[a],c=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&i[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,c);if(c)i.push(u);else if(u!=null)s.push(u);else throw new Ze("Null argument, please report this as a bug")}return{args:s,optArgs:i}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var s=this.parseArgumentGroup(n,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",n);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(n)throw new Ze("A primitive argument cannot be optional");var a=this.parseGroup(t);if(a==null)throw new Ze("Expected group as "+t,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Ze("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var s="",i;(i=this.fetch()).text!=="EOF";)s+=i.text,this.consume();return this.consume(),n.text=s,n}parseRegexGroup(t,r){for(var n=this.fetch(),s=n,i="",a;(a=this.fetch()).text!=="EOF"&&t.test(i+a.text);)s=a,i+=s.text,this.consume();if(i==="")throw new Ze("Invalid "+r+": '"+n.text+"'",n);return n.range(s,i)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Ze("Invalid color: '"+r.text+"'",r);var s=n[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!s)throw new Ze("Invalid size: '"+r.text+"'",r);var i={number:+(s[1]+s[2]),unit:s[3]};if(!Lq(i))throw new Ze("Invalid unit: '"+i.unit+"'",r);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var s=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return r&&this.switchMode(s),a}parseGroup(t,r){var n=this.fetch(),s=n.text,i;if(s==="{"||s==="\\begingroup"){this.consume();var a=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:na.range(n,c),body:o,semisimple:s==="\\begingroup"||void 0}}else if(i=this.parseFunction(r,t)||this.parseSymbol(),i==null&&s[0]==="\\"&&!CW.hasOwnProperty(s)){if(this.settings.throwOnError)throw new Ze("Undefined control sequence: "+s,n);i=this.formatUnsupportedCmd(s),this.consume()}return i}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var s=t[n],i=s.text;i==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:na.range(s,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:na.range(s,t[n+1]),text:"--"}),r-=1)),(i==="'"||i==="`")&&t[n+1].text===i&&(t.splice(n,2,{type:"textord",mode:"text",loc:na.range(s,t[n+1]),text:i+i}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),s=n.charAt(0)==="*";if(s&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Ze(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:s}}qI.hasOwnProperty(r[0])&&!Nn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=qI[r[0]]+r.slice(1));var i=Zbe.exec(r);i&&(r=r.substring(0,i.index),r==="i"?r="":r==="j"&&(r=""));var a;if(Nn[this.mode][r]){this.settings.strict&&this.mode==="math"&&ZS.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var o=Nn[this.mode][r].group,c=na.range(t),u;if(zxe.hasOwnProperty(o)){var d=o;u={type:"atom",mode:this.mode,family:d,loc:c,text:r}}else u={type:o,mode:this.mode,loc:c,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Dq(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),a={type:"textord",mode:"text",loc:na.range(t),text:r};else return null;if(this.consume(),i)for(var h=0;h<i[0].length;h++){var f=i[0][h];if(!r3[f])throw new Ze("Unknown accent ' "+f+"'",t);var p=r3[f][this.mode]||r3[f].text;if(!p)throw new Ze("Accent "+f+" unsupported in "+this.mode+" mode",t);a={type:"accent",mode:this.mode,loc:na.range(t),label:p,isStretchy:!1,isShifty:!0,base:a}}return a}}X2.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var h7=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new X2(t,r);delete n.gullet.macros.current["\\df@tag"];var s=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Ze("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:n.subparse([new Ua("\\df@tag")])}]}return s},AW=function(t,r,n){r.textContent="";var s=f7(t,n).toNode();r.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),AW=function(){throw new Ze("KaTeX doesn't work in quirks mode.")});var twe=function(t,r){var n=f7(t,r).toMarkup();return n},rwe=function(t,r){var n=new KN(r);return h7(t,n)},TW=function(t,r,n){if(n.throwOnError||!(t instanceof Ze))throw t;var s=ke.makeSpan(["katex-error"],[new Va(r)]);return s.setAttribute("title",t.toString()),s.setAttribute("style","color:"+n.errorColor),s},f7=function(t,r){var n=new KN(r);try{var s=h7(t,n);return dbe(s,t,n)}catch(i){return TW(i,t,n)}},nwe=function(t,r){var n=new KN(r);try{var s=h7(t,n);return hbe(s,t,n)}catch(i){return TW(i,t,n)}},swe="0.16.21",iwe={Span:N1,Anchor:QN,SymbolNode:Va,SvgNode:mc,PathNode:Vu,LineNode:YS},WI={version:swe,render:AW,renderToString:twe,ParseError:Ze,SETTINGS_SCHEMA:Iv,__parse:rwe,__renderToDomTree:f7,__renderToHTMLTree:nwe,__setFontMetrics:Pxe,__defineSymbol:_,__defineFunction:bt,__defineMacro:H,__domTree:iwe};const awe={},owe=[];function lwe(e){const t=e||awe;return function(r,n){qN(r,"element",function(s,i){const a=Array.isArray(s.properties.className)?s.properties.className:owe,o=a.includes("language-math"),c=a.includes("math-display"),u=a.includes("math-inline");let d=c;if(!o&&!c&&!u)return;let h=i[i.length-1],f=s;if(s.tagName==="code"&&o&&h&&h.type==="element"&&h.tagName==="pre"&&(f=h,h=i[i.length-2],d=!0),!h)return;const p=Iq(f,{whitespace:"pre"});let m;try{m=WI.renderToString(p,{...t,displayMode:d,throwOnError:!0})}catch(w){const y=w,v=y.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...i,s],cause:y,place:s.position,ruleId:v,source:"rehype-katex"});try{m=WI.renderToString(p,{...t,displayMode:d,strict:"ignore",throwOnError:!1})}catch{m=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(w)},children:[{type:"text",value:p}]}]}}typeof m=="string"&&(m=Wve(m).children);const g=h.children.indexOf(f);return h.children.splice(g,1,...m),kq})}}function GI(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,s=r.indexOf(t);for(;s!==-1;)n++,s=r.indexOf(t,s+t.length);return n}const n3="phrasing",s3=["autolink","link","image","label"];function cwe(){return{transforms:[gwe],enter:{literalAutolink:dwe,literalAutolinkEmail:i3,literalAutolinkHttp:i3,literalAutolinkWww:i3},exit:{literalAutolink:mwe,literalAutolinkEmail:pwe,literalAutolinkHttp:hwe,literalAutolinkWww:fwe}}}function uwe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:n3,notInConstruct:s3},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:n3,notInConstruct:s3},{character:":",before:"[ps]",after:"\\/",inConstruct:n3,notInConstruct:s3}]}}function dwe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function i3(e){this.config.enter.autolinkProtocol.call(this,e)}function hwe(e){this.config.exit.autolinkProtocol.call(this,e)}function fwe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function pwe(e){this.config.exit.autolinkEmail.call(this,e)}function mwe(e){this.exit(e)}function gwe(e){Nq(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ywe],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,vwe]],{ignore:["link","linkReference"]})}function ywe(e,t,r,n,s){let i="";if(!RW(s)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!xwe(r)))return!1;const a=bwe(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:i+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function vwe(e,t,r,n){return!RW(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function xwe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function bwe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const s=GI(e,"(");let i=GI(e,")");for(;n!==-1&&s>i;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[e,r]}function RW(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||kh(r)||U2(r))&&(!t||r!==47)}IW.peek=Twe;function wwe(){this.buffer()}function kwe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Swe(){this.buffer()}function _we(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ewe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=bo(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Nwe(e){this.exit(e)}function Cwe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=bo(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Awe(e){this.exit(e)}function Twe(){return"["}function IW(e,t,r,n){const s=r.createTracker(n);let i=s.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return i+=s.move(r.safe(r.associationId(e),{after:"]",before:i})),o(),a(),i+=s.move("]"),i}function Rwe(){return{enter:{gfmFootnoteCallString:wwe,gfmFootnoteCall:kwe,gfmFootnoteDefinitionLabelString:Swe,gfmFootnoteDefinition:_we},exit:{gfmFootnoteCallString:Ewe,gfmFootnoteCall:Nwe,gfmFootnoteDefinitionLabelString:Cwe,gfmFootnoteDefinition:Awe}}}function Iwe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:IW},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,s,i,a){const o=i.createTracker(a);let c=o.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return c+=o.move(i.safe(i.associationId(n),{before:c,after:"]"})),d(),c+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+i.indentLines(i.containerFlow(n,o.current()),t?jW:jwe))),u(),c}}function jwe(e,t,r){return t===0?e:jW(e,t,r)}function jW(e,t,r){return(r?"":"    ")+e}const Mwe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MW.peek=$we;function Pwe(){return{canContainEols:["delete"],enter:{strikethrough:Dwe},exit:{strikethrough:Lwe}}}function Owe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Mwe}],handlers:{delete:MW}}}function Dwe(e){this.enter({type:"delete",children:[]},e)}function Lwe(e){this.exit(e)}function MW(e,t,r,n){const s=r.createTracker(n),i=r.enter("strikethrough");let a=s.move("~~");return a+=r.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),i(),a}function $we(){return"~"}function Fwe(e){return e.length}function Bwe(e,t){const r=t||{},n=(r.align||[]).concat(),s=r.stringLength||Fwe,i=[],a=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],w=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const v=Uwe(e[d][y]);if(r.alignDelimiters!==!1){const b=s(v);w[y]=b,(c[y]===void 0||b>c[y])&&(c[y]=b)}g.push(v)}a[d]=g,o[d]=w}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<u;)i[h]=KI(n[h]);else{const g=KI(n);for(;++h<u;)i[h]=g}h=-1;const f=[],p=[];for(;++h<u;){const g=i[h];let w="",y="";g===99?(w=":",y=":"):g===108?w=":":g===114&&(y=":");let v=r.alignDelimiters===!1?1:Math.max(1,c[h]-w.length-y.length);const b=w+"-".repeat(v)+y;r.alignDelimiters!==!1&&(v=w.length+v+y.length,v>c[h]&&(c[h]=v),p[h]=v),f[h]=b}a.splice(1,0,f),o.splice(1,0,p),d=-1;const m=[];for(;++d<a.length;){const g=a[d],w=o[d];h=-1;const y=[];for(;++h<u;){const v=g[h]||"";let b="",k="";if(r.alignDelimiters!==!1){const C=c[h]-(w[h]||0),A=i[h];A===114?b=" ".repeat(C):A===99?C%2?(b=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(b=" ".repeat(C/2),k=b):k=" ".repeat(C)}r.delimiterStart!==!1&&!h&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&v==="")&&(r.delimiterStart!==!1||h)&&y.push(" "),r.alignDelimiters!==!1&&y.push(b),y.push(v),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||h!==u-1)&&y.push("|")}m.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function Uwe(e){return e==null?"":String(e)}function KI(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function zwe(e,t,r,n){const s=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const a=r.indentLines(r.containerFlow(e,i.current()),Hwe);return s(),a}function Hwe(e,t,r){return">"+(r?"":" ")+e}function Vwe(e,t){return YI(e,t.inConstruct,!0)&&!YI(e,t.notInConstruct,!1)}function YI(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function ZI(e,t,r,n){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&Vwe(r.stack,r.unsafe[s]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function qwe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Wwe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Gwe(e,t,r,n){const s=Wwe(r),i=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(qwe(e,r)){const h=r.enter("codeIndented"),f=r.indentLines(i,Kwe);return h(),f}const o=r.createTracker(n),c=s.repeat(Math.max(Eq(i,s)+1,3)),u=r.enter("codeFenced");let d=o.move(c);if(e.lang){const h=r.enter(`codeFencedLang${a}`);d+=o.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=r.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),i&&(d+=o.move(i+`
`)),d+=o.move(c),u(),d}function Kwe(e,t,r){return(r?"":"    ")+e}function p7(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ywe(e,t,r,n){const s=p7(r),i=s==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const c=r.createTracker(n);let u=c.move("[");return u+=c.move(r.safe(r.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=r.enter(`title${i}`),u+=c.move(" "+s),u+=c.move(r.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),o()),a(),u}function Zwe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function jg(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ub(e,t,r){const n=Lp(e),s=Lp(t);return n===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}PW.peek=Qwe;function PW(e,t,r,n){const s=Zwe(r),i=r.enter("emphasis"),a=r.createTracker(n),o=a.move(s);let c=a.move(r.containerPhrasing(e,{after:s,before:o,...a.current()}));const u=c.charCodeAt(0),d=Ub(n.before.charCodeAt(n.before.length-1),u,s);d.inside&&(c=jg(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=Ub(n.after.charCodeAt(0),h,s);f.inside&&(c=c.slice(0,-1)+jg(h));const p=a.move(s);return i(),r.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+c+p}function Qwe(e,t,r){return r.options.emphasis||"*"}function Xwe(e,t){let r=!1;return q2(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,BS}),!!((!e.depth||e.depth<3)&&$N(e)&&(t.options.setext||r))}function Jwe(e,t,r,n){const s=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(Xwe(e,r)){const d=r.enter("headingSetext"),h=r.enter("phrasing"),f=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(s===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(s),o=r.enter("headingAtx"),c=r.enter("phrasing");i.move(a+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=jg(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),c(),o(),u}OW.peek=e2e;function OW(e){return e.value||""}function e2e(){return"<"}DW.peek=t2e;function DW(e,t,r,n){const s=p7(r),i=s==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const c=r.createTracker(n);let u=c.move("![");return u+=c.move(r.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=r.enter(`title${i}`),u+=c.move(" "+s),u+=c.move(r.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),o()),u+=c.move(")"),a(),u}function t2e(){return"!"}LW.peek=r2e;function LW(e,t,r,n){const s=e.referenceType,i=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let c=o.move("![");const u=r.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return a(),r.stack=d,i(),s==="full"||!u||u!==h?c+=o.move(h+"]"):s==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function r2e(){return"!"}$W.peek=n2e;function $W(e,t,r){let n=e.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(n);)s+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const a=r.unsafe[i],o=r.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(n);){let u=c.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(c.index+1)}}return s+n+s}function n2e(){return"`"}function FW(e,t){const r=$N(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}BW.peek=s2e;function BW(e,t,r,n){const s=p7(r),i=s==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,c;if(FW(e,r)){const d=r.stack;r.stack=[],o=r.enter("autolink");let h=a.move("<");return h+=a.move(r.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),o(),r.stack=d,h}o=r.enter("link"),c=r.enter("label");let u=a.move("[");return u+=a.move(r.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(r.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=r.enter("destinationRaw"),u+=a.move(r.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=r.enter(`title${i}`),u+=a.move(" "+s),u+=a.move(r.safe(e.title,{before:u,after:s,...a.current()})),u+=a.move(s),c()),u+=a.move(")"),o(),u}function s2e(e,t,r){return FW(e,r)?"<":"["}UW.peek=i2e;function UW(e,t,r,n){const s=e.referenceType,i=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let c=o.move("[");const u=r.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return a(),r.stack=d,i(),s==="full"||!u||u!==h?c+=o.move(h+"]"):s==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function i2e(){return"["}function m7(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function a2e(e){const t=m7(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function o2e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function zW(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function l2e(e,t,r,n){const s=r.enter("list"),i=r.bulletCurrent;let a=e.ordered?o2e(r):m7(r);const o=e.ordered?a==="."?")":".":a2e(r);let c=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),zW(r)===a&&d){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),r.bulletCurrent=a;const u=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=i,s(),u}function c2e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function u2e(e,t,r,n){const s=c2e(r);let i=r.bulletCurrent||m7(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(i+" ".repeat(a-i.length)),o.shift(a);const c=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),d);return c(),u;function d(h,f,p){return f?(p?"":" ".repeat(a))+h:(p?i:i+" ".repeat(a-i.length))+h}}function d2e(e,t,r,n){const s=r.enter("paragraph"),i=r.enter("phrasing"),a=r.containerPhrasing(e,n);return i(),s(),a}const h2e=S1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function f2e(e,t,r,n){return(e.children.some(function(a){return h2e(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function p2e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}HW.peek=m2e;function HW(e,t,r,n){const s=p2e(r),i=r.enter("strong"),a=r.createTracker(n),o=a.move(s+s);let c=a.move(r.containerPhrasing(e,{after:s,before:o,...a.current()}));const u=c.charCodeAt(0),d=Ub(n.before.charCodeAt(n.before.length-1),u,s);d.inside&&(c=jg(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=Ub(n.after.charCodeAt(0),h,s);f.inside&&(c=c.slice(0,-1)+jg(h));const p=a.move(s+s);return i(),r.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+c+p}function m2e(e,t,r){return r.options.strong||"*"}function g2e(e,t,r,n){return r.safe(e.value,n)}function y2e(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function v2e(e,t,r){const n=(zW(r)+(r.options.ruleSpaces?" ":"")).repeat(y2e(r));return r.options.ruleSpaces?n.slice(0,-1):n}const VW={blockquote:zwe,break:ZI,code:Gwe,definition:Ywe,emphasis:PW,hardBreak:ZI,heading:Jwe,html:OW,image:DW,imageReference:LW,inlineCode:$W,link:BW,linkReference:UW,list:l2e,listItem:u2e,paragraph:d2e,root:f2e,strong:HW,text:g2e,thematicBreak:v2e};function x2e(){return{enter:{table:b2e,tableData:QI,tableHeader:QI,tableRow:k2e},exit:{codeText:S2e,table:w2e,tableData:a3,tableHeader:a3,tableRow:a3}}}function b2e(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function w2e(e){this.exit(e),this.data.inTable=void 0}function k2e(e){this.enter({type:"tableRow",children:[]},e)}function a3(e){this.exit(e)}function QI(e){this.enter({type:"tableCell",children:[]},e)}function S2e(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,_2e));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function _2e(e,t){return t==="|"?t:e}function E2e(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,s=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:c,tableRow:o}};function a(p,m,g,w){return u(d(p,g,w),p.align)}function o(p,m,g,w){const y=h(p,g,w),v=u([y]);return v.slice(0,v.indexOf(`
`))}function c(p,m,g,w){const y=g.enter("tableCell"),v=g.enter("phrasing"),b=g.containerPhrasing(p,{...w,before:i,after:i});return v(),y(),b}function u(p,m){return Bwe(p,{align:m,alignDelimiters:n,padding:r,stringLength:s})}function d(p,m,g){const w=p.children;let y=-1;const v=[],b=m.enter("table");for(;++y<w.length;)v[y]=h(w[y],m,g);return b(),v}function h(p,m,g){const w=p.children;let y=-1;const v=[],b=m.enter("tableRow");for(;++y<w.length;)v[y]=c(w[y],p,m,g);return b(),v}function f(p,m,g){let w=VW.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function N2e(){return{exit:{taskListCheckValueChecked:XI,taskListCheckValueUnchecked:XI,paragraph:A2e}}}function C2e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:T2e}}}function XI(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function A2e(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const s=t.children;let i=-1,a;for(;++i<s.length;){const o=s[i];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function T2e(e,t,r,n){const s=e.children[0],i=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);i&&o.move(a);let c=VW.listItem(e,t,r,{...n,...o.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function R2e(){return[cwe(),Rwe(),Pwe(),x2e(),N2e()]}function I2e(e){return{extensions:[uwe(),Iwe(e),Owe(),E2e(e),C2e()]}}const j2e={tokenize:$2e,partial:!0},qW={tokenize:F2e,partial:!0},WW={tokenize:B2e,partial:!0},GW={tokenize:U2e,partial:!0},M2e={tokenize:z2e,partial:!0},KW={name:"wwwAutolink",tokenize:D2e,previous:ZW},YW={name:"protocolAutolink",tokenize:L2e,previous:QW},Ec={name:"emailAutolink",tokenize:O2e,previous:XW},kl={};function P2e(){return{text:kl}}let od=48;for(;od<123;)kl[od]=Ec,od++,od===58?od=65:od===91&&(od=97);kl[43]=Ec;kl[45]=Ec;kl[46]=Ec;kl[95]=Ec;kl[72]=[Ec,YW];kl[104]=[Ec,YW];kl[87]=[Ec,KW];kl[119]=[Ec,KW];function O2e(e,t,r){const n=this;let s,i;return a;function a(h){return!r8(h)||!XW.call(n,n.previous)||g7(n.events)?r(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return r8(h)?(e.consume(h),o):h===64?(e.consume(h),c):r(h)}function c(h){return h===46?e.check(M2e,d,u)(h):h===45||h===95||ti(h)?(i=!0,e.consume(h),c):d(h)}function u(h){return e.consume(h),s=!0,c}function d(h){return i&&s&&mi(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):r(h)}}function D2e(e,t,r){const n=this;return s;function s(a){return a!==87&&a!==119||!ZW.call(n,n.previous)||g7(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(j2e,e.attempt(qW,e.attempt(WW,i),r),r)(a))}function i(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function L2e(e,t,r){const n=this;let s="",i=!1;return a;function a(h){return(h===72||h===104)&&QW.call(n,n.previous)&&!g7(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(h),e.consume(h),o):r(h)}function o(h){if(mi(h)&&s.length<5)return s+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const f=s.toLowerCase();if(f==="http"||f==="https")return e.consume(h),c}return r(h)}function c(h){return h===47?(e.consume(h),i?u:(i=!0,c)):r(h)}function u(h){return h===null||Pb(h)||gn(h)||kh(h)||U2(h)?r(h):e.attempt(qW,e.attempt(WW,d),r)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function $2e(e,t,r){let n=0;return s;function s(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),s):a===46&&n===3?(e.consume(a),i):r(a)}function i(a){return a===null?r(a):t(a)}}function F2e(e,t,r){let n,s,i;return a;function a(u){return u===46||u===95?e.check(GW,c,o)(u):u===null||gn(u)||kh(u)||u!==45&&U2(u)?c(u):(i=!0,e.consume(u),a)}function o(u){return u===95?n=!0:(s=n,n=void 0),e.consume(u),a}function c(u){return s||n||!i?r(u):t(u)}}function B2e(e,t){let r=0,n=0;return s;function s(a){return a===40?(r++,e.consume(a),s):a===41&&n<r?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(GW,t,i)(a):a===null||gn(a)||kh(a)?t(a):(e.consume(a),s)}function i(a){return a===41&&n++,e.consume(a),s}}function U2e(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),i):o===93?(e.consume(o),s):o===60||o===null||gn(o)||kh(o)?t(o):r(o)}function s(o){return o===null||o===40||o===91||gn(o)||kh(o)?t(o):n(o)}function i(o){return mi(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):mi(o)?(e.consume(o),a):r(o)}}function z2e(e,t,r){return n;function n(i){return e.consume(i),s}function s(i){return ti(i)?r(i):t(i)}}function ZW(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||gn(e)}function QW(e){return!mi(e)}function XW(e){return!(e===47||r8(e))}function r8(e){return e===43||e===45||e===46||e===95||ti(e)}function g7(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const H2e={tokenize:Q2e,partial:!0};function V2e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:K2e,continuation:{tokenize:Y2e},exit:Z2e}},text:{91:{name:"gfmFootnoteCall",tokenize:G2e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:q2e,resolveTo:W2e}}}}function q2e(e,t,r){const n=this;let s=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;s--;){const c=n.events[s][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return r(c);const u=bo(n.sliceSerialize({start:a.end,end:n.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function W2e(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",s,t],["exit",s,t],["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function G2e(e,t,r){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,a;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?r(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(i>999||h===93&&!a||h===null||h===91||gn(h))return r(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return s.includes(bo(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(h)}return gn(h)||(a=!0),i++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),i++,u):u(h)}}function K2e(e,t,r){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,a=0,o;return c;function c(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(m)}function d(m){if(a>999||m===93&&!o||m===null||m===91||gn(m))return r(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return i=bo(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return gn(m)||(o=!0),a++,e.consume(m),m===92?h:d}function h(m){return m===91||m===92||m===93?(e.consume(m),a++,d):d(m)}function f(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),s.includes(i)||s.push(i),Br(e,p,"gfmFootnoteDefinitionWhitespace")):r(m)}function p(m){return t(m)}}function Y2e(e,t,r){return e.check(k1,t,e.attempt(H2e,t,r))}function Z2e(e){e.exit("gfmFootnoteDefinition")}function Q2e(e,t,r){const n=this;return Br(e,s,"gfmFootnoteDefinitionIndent",5);function s(i){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(i):r(i)}}function X2e(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:s};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function s(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},f=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",h,o]],p=o.parser.constructs.insideSpan.null;p&&fa(f,f.length,0,z2(p,a.slice(u+1,c),o)),fa(f,f.length,0,[["exit",h,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",d,o]]),fa(a,u-1,c-u+3,f),c=u+f.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function i(a,o,c){const u=this.previous,d=this.events;let h=0;return f;function f(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(m):(a.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=Lp(u);if(m===126)return h>1?c(m):(a.consume(m),h++,p);if(h<2&&!r)return c(m);const w=a.exit("strikethroughSequenceTemporary"),y=Lp(m);return w._open=!y||y===2&&!!g,w._close=!g||g===2&&!!y,o(m)}}}class J2e{constructor(){this.map=[]}add(t,r,n){e4e(this,t,r,n)}consume(t){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let s=n.pop();for(;s;){for(const i of s)t.push(i);s=n.pop()}this.map.length=0}}function e4e(e,t,r,n){let s=0;if(!(r===0&&n.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=r,e.map[s][2].push(...n);return}s+=1}e.map.push([t,r,n])}}function t4e(e,t){let r=!1;const n=[];for(;t<e.length;){const s=e[t];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function r4e(){return{flow:{null:{name:"table",tokenize:n4e,resolveAll:s4e}}}}function n4e(e,t,r){const n=this;let s=0,i=0,a;return o;function o(j){let D=n.events.length-1;for(;D>-1;){const Q=n.events[D][1].type;if(Q==="lineEnding"||Q==="linePrefix")D--;else break}const z=D>-1?n.events[D][1].type:null,Y=z==="tableHead"||z==="tableRow"?A:c;return Y===A&&n.parser.lazy[n.now().line]?r(j):Y(j)}function c(j){return e.enter("tableHead"),e.enter("tableRow"),u(j)}function u(j){return j===124||(a=!0,i+=1),d(j)}function d(j){return j===null?r(j):qt(j)?i>1?(i=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),p):r(j):Hr(j)?Br(e,d,"whitespace")(j):(i+=1,a&&(a=!1,s+=1),j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),h(j)))}function h(j){return j===null||j===124||gn(j)?(e.exit("data"),d(j)):(e.consume(j),j===92?f:h)}function f(j){return j===92||j===124?(e.consume(j),h):h(j)}function p(j){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(j):(e.enter("tableDelimiterRow"),a=!1,Hr(j)?Br(e,m,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):m(j))}function m(j){return j===45||j===58?w(j):j===124?(a=!0,e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),g):C(j)}function g(j){return Hr(j)?Br(e,w,"whitespace")(j):w(j)}function w(j){return j===58?(i+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),y):j===45?(i+=1,y(j)):j===null||qt(j)?k(j):C(j)}function y(j){return j===45?(e.enter("tableDelimiterFiller"),v(j)):C(j)}function v(j){return j===45?(e.consume(j),v):j===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(j))}function b(j){return Hr(j)?Br(e,k,"whitespace")(j):k(j)}function k(j){return j===124?m(j):j===null||qt(j)?!a||s!==i?C(j):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(j)):C(j)}function C(j){return r(j)}function A(j){return e.enter("tableRow"),R(j)}function R(j){return j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),R):j===null||qt(j)?(e.exit("tableRow"),t(j)):Hr(j)?Br(e,R,"whitespace")(j):(e.enter("data"),O(j))}function O(j){return j===null||j===124||gn(j)?(e.exit("data"),R(j)):(e.consume(j),j===92?F:O)}function F(j){return j===92||j===124?(e.consume(j),O):O(j)}}function s4e(e,t){let r=-1,n=!0,s=0,i=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,u,d,h;const f=new J2e;for(;++r<e.length;){const p=e[r],m=p[1];p[0]==="enter"?m.type==="tableHead"?(o=!1,c!==0&&(JI(f,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(r,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(n=!0,h=void 0,i=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(r,0,[["enter",d,t]])),s=m.type==="tableDelimiterRow"?2:d?3:1):s&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],h=Fy(f,t,i,s,void 0,h),i=[0,0,0,0]),a[2]=r)):m.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(a[0]=a[1],h=Fy(f,t,i,s,void 0,h)),i=a,a=[i[1],r,0,0])):m.type==="tableHead"?(o=!0,c=r):m.type==="tableRow"||m.type==="tableDelimiterRow"?(c=r,i[1]!==0?(a[0]=a[1],h=Fy(f,t,i,s,r,h)):a[1]!==0&&(h=Fy(f,t,a,s,r,h)),s=0):s&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=r)}for(c!==0&&JI(f,t,c,u,d),f.consume(t.events),r=-1;++r<t.events.length;){const p=t.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=t4e(t.events,r))}return e}function Fy(e,t,r,n,s,i){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(i.end=Object.assign({},af(t.events,r[0])),e.add(r[0],0,[["exit",i,t]]));const c=af(t.events,r[1]);if(i={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",i,t]]),r[2]!==0){const u=af(t.events,r[2]),d=af(t.events,r[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",h,t]]),n!==2){const f=t.events[r[2]],p=t.events[r[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const m=r[2]+1,g=r[3]-r[2]-1;e.add(m,g,[])}}e.add(r[3]+1,0,[["exit",h,t]])}return s!==void 0&&(i.end=Object.assign({},af(t.events,s)),e.add(s,0,[["exit",i,t]]),i=void 0),i}function JI(e,t,r,n,s){const i=[],a=af(t.events,r);s&&(s.end=Object.assign({},a),i.push(["exit",s,t])),n.end=Object.assign({},a),i.push(["exit",n,t]),e.add(r+1,0,i)}function af(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const i4e={name:"tasklistCheck",tokenize:o4e};function a4e(){return{text:{91:i4e}}}function o4e(e,t,r){const n=this;return s;function s(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),i)}function i(c){return gn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):r(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(c)}function o(c){return qt(c)?t(c):Hr(c)?e.check({tokenize:l4e},t,r)(c):r(c)}}function l4e(e,t,r){return Br(e,n,"whitespace");function n(s){return s===null?r(s):t(s)}}function c4e(e){return nq([P2e(),V2e(),X2e(e),r4e(),a4e()])}const u4e={};function d4e(e){const t=this,r=e||u4e,n=t.data(),s=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);s.push(c4e(r)),i.push(R2e()),a.push(I2e(r))}function h4e(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",a="(?!struct)("+n+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},p=t.optional(s)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],k={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},C={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},A=[C,h,o,r,e.C_BLOCK_COMMENT_MODE,d,u],R={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:k,contains:A.concat([{begin:/\(/,end:/\)/,keywords:k,contains:A.concat(["self"]),relevance:0}]),relevance:0},O={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:k,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:k,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:k,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(R,O,C,A,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:k,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:k},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function f4e(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=h4e(e),n=r.keywords;return n.type=[...n.type,...t.type],n.literal=[...n.literal,...t.literal],n.built_in=[...n.built_in,...t.built_in],n._hints=t._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function p4e(e){const t=e.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const s={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,s]};s.contains.push(o);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],w=["true","false"],y={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],k=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:w,built_in:[...v,...b,"set","shopt",...k,...C]},contains:[p,e.SHEBANG(),m,h,i,a,y,o,c,u,d,r]}}function m4e(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",a="("+n+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},p=t.optional(s)+e.IDENT_RE+"\\s*\\(",w={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[h,o,r,e.C_BLOCK_COMMENT_MODE,d,u],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:w,contains:y.concat([{begin:/\(/,end:/\)/,keywords:w,contains:y.concat(["self"]),relevance:0}]),relevance:0},b={begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:w,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:w,relevance:0},{begin:p,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:w,disableAutodetect:!0,illegal:"</",contains:[].concat(v,b,y,[h,{begin:e.IDENT_RE+"::",keywords:w},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:u,keywords:w}}}function g4e(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",a="(?!struct)("+n+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},p=t.optional(s)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],k={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},C={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},A=[C,h,o,r,e.C_BLOCK_COMMENT_MODE,d,u],R={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:k,contains:A.concat([{begin:/\(/,end:/\)/,keywords:k,contains:A.concat(["self"]),relevance:0}]),relevance:0},O={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:k,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:k,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:k,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:k,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(R,O,C,A,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:k,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:k},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function y4e(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],s=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],i=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:s.concat(i),built_in:t,literal:n},o=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(d,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:a},p=e.inherit(f,{illegal:/\n/}),m={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,p]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},w=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});f.contains=[g,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],p.contains=[w,m,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[u,g,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},v={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",k={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,v,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,v,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,v],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[y,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},k]}}const v4e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),x4e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],b4e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],w4e=[...x4e,...b4e],k4e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),S4e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),_4e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),E4e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function N4e(e){const t=e.regex,r=v4e(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",i=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+S4e.join("|")+")"},{begin:":(:)?("+_4e.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+E4e.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:i},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:k4e.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+w4e.join("|")+")\\b"}]}}function C4e(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function A4e(e){const i={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:i,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,illegal:/["']/}]}]}}function T4e(e){const t=e.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(r,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function R4e(e){const t=e.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},n=e.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const s={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},i={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[n,i,s,a,r,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,h=t.either(c,u,d),f=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[n,o,i,s,a,r]}}]}}var of="[0-9](_*[0-9])*",By=`\\.(${of})`,Uy="[0-9a-fA-F](_*[0-9a-fA-F])*",ej={className:"number",variants:[{begin:`(\\b(${of})((${By})|\\.)?|(${By}))[eE][+-]?(${of})[fFdD]?\\b`},{begin:`\\b(${of})((${By})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${By})[fFdD]?\\b`},{begin:`\\b(${of})[fFdD]\\b`},{begin:`\\b0[xX]((${Uy})\\.?|(${Uy})?\\.(${Uy}))[pP][+-]?(${of})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Uy})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function JW(e,t,r){return r===-1?"":e.replace(t,n=>JW(e,t,r-1))}function I4e(e){const t=e.regex,r="[-a-zA-Z_$][-a-zA-Z_$0-9]*",n=r+JW("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,ej,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},ej,u]}}const tj="[A-Za-z$_][0-9A-Za-z$_]*",j4e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],M4e=["true","false","null","undefined","NaN","Infinity"],eG=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],tG=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],rG=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],P4e=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],O4e=[].concat(rG,eG,tG);function D4e(e){const t=e.regex,r=(V,{after:re})=>{const E="</"+V[0].slice(1);return V.input.indexOf(E,re)!==-1},n=tj,s={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(V,re)=>{const E=V[0].length+V.index,N=V.input[E];if(N==="<"||N===","){re.ignoreMatch();return}N===">"&&(r(V,{after:E})||re.ignoreMatch());let L;const M=V.input.substring(E);if(L=M.match(/^\s*=/)){re.ignoreMatch();return}if((L=M.match(/^\s+extends\s+/))&&L.index===0){re.ignoreMatch();return}}},o={$pattern:tj,keyword:j4e,literal:M4e,built_in:O4e,"variable.language":P4e},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,w,{match:/\$\d+/},h];f.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const k=[].concat(v,f.contains),C=k.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(k)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C},R={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...eG,...tG]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},j={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},D={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function z(V){return t.concat("(?!",V.join("|"),")")}const Y={match:t.concat(/\b/,z([...rG,"super","import"].map(V=>`${V}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},Q={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},te={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},Z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",J={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,w,v,{match:/\$\d+/},h,O,{scope:"attr",match:n+t.lookahead(":"),relevance:0},J,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:Z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:i},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},j,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},Q,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},Y,D,R,te,{match:/\$[(.]/}]}}function L4e(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],s={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[t,r,e.QUOTE_STRING_MODE,s,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var lf="[0-9](_*[0-9])*",zy=`\\.(${lf})`,Hy="[0-9a-fA-F](_*[0-9a-fA-F])*",$4e={className:"number",variants:[{begin:`(\\b(${lf})((${zy})|\\.)?|(${zy}))[eE][+-]?(${lf})[fFdD]?\\b`},{begin:`\\b(${lf})((${zy})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${zy})[fFdD]?\\b`},{begin:`\\b(${lf})[fFdD]\\b`},{begin:`\\b0[xX]((${Hy})\\.?|(${Hy})?\\.(${Hy}))[pP][+-]?(${lf})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Hy})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function F4e(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},s={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,s]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,s]}]};s.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},u=$4e,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=h;return f.variants[1].contains=[h],h.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,r,n,o,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,o,c,a,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const B4e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),U4e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],z4e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],H4e=[...U4e,...z4e],V4e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),nG=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),sG=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),q4e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),W4e=nG.concat(sG).sort().reverse();function G4e(e){const t=B4e(e),r=W4e,n="and or not only",s="[\\w-]+",i="("+s+"|@\\{"+s+"\\})",a=[],o=[],c=function(b){return{className:"string",begin:"~?"+b+".*?"+b}},u=function(b,k,C){return{className:b,begin:k,relevance:C}},d={$pattern:/[a-z-]+/,keyword:n,attribute:V4e.join(" ")},h={begin:"\\(",end:"\\)",contains:o,keywords:d,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,u("variable","@@?"+s,10),u("variable","@\\{"+s+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:s+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=o.concat({begin:/\{/,end:/\}/,contains:a}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},m={begin:i+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+q4e.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:o,relevance:0}},w={className:"variable",variants:[{begin:"@"+s+"\\s*:",relevance:15},{begin:"@"+s}],starts:{end:"[;}]",returnEnd:!0,contains:f}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+s+"\\}"),{begin:"\\b("+H4e.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",i,0),u("selector-id","#"+i),u("selector-class","\\."+i,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+nG.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+sG.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},v={begin:s+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[y]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,w,v,m,y,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function K4e(e){const t="\\[=*\\[",r="\\]=*\\]",n={begin:t,end:r,contains:["self"]},s=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,r,{contains:[n],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:s.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:s}].concat(s)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:r,contains:[n],relevance:5}])}}function Y4e(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,r]},s={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},i={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,r,n,s,i,a]}}function Z4e(e){const t=e.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},s={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},i={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(u,{contains:[]}),f=e.inherit(d,{contains:[]});u.contains.push(f),d.contains.push(h);let p=[r,c];return[u,d,h,f].forEach(y=>{y.contains=y.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},r,i,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},s,n,c,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Q4e(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function X4e(e){const t=e.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,s={$pattern:/[\w.]+/,keyword:r.join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:s},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,i,c],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(g,w,y="\\1")=>{const v=y==="\\1"?y:t.concat(y,w);return t.concat(t.concat("(?:",g,")"),w,/(?:\\.|[^\\\/])*?/,v,/(?:\\.|[^\\\/])*?/,y,n)},p=(g,w,y)=>t.concat(t.concat("(?:",g,")"),w,/(?:\\.|[^\\\/])*?/,y,n),m=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",t.either(...h,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=m,a.contains=m,{name:"Perl",aliases:["pl","pm"],keywords:s,contains:m}}function J4e(e){const t=e.regex,r=/(?![A-Za-z0-9])(?![$])/,n=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),s=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),i=t.concat(/[A-Z]+/,r),a={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(Q,te)=>{te.data._beginMatch=Q[1]||Q[2]},"on:end":(Q,te)=>{te.data._beginMatch!==Q[1]&&te.ignoreMatch()}},f=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,m={scope:"string",variants:[d,u,h,f]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},w=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],v=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],k={keyword:y,literal:(Q=>{const te=[];return Q.forEach(Z=>{te.push(Z),Z.toLowerCase()===Z?te.push(Z.toUpperCase()):te.push(Z.toLowerCase())}),te})(w),built_in:v},C=Q=>Q.map(te=>te.replace(/\|\d+$/,"")),A={variants:[{match:[/new/,t.concat(p,"+"),t.concat("(?!",C(v).join("\\b|"),"\\b)"),s],scope:{1:"keyword",4:"title.class"}}]},R=t.concat(n,"\\b(?!\\()"),O={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),R],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[s,t.concat(/::/,t.lookahead(/(?!class\b)/)),R],scope:{1:"title.class",3:"variable.constant"}},{match:[s,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[s,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},F={scope:"attr",match:t.concat(n,t.lookahead(":"),t.lookahead(/(?!::)/))},j={relevance:0,begin:/\(/,end:/\)/,keywords:k,contains:[F,a,O,e.C_BLOCK_COMMENT_MODE,m,g,A]},D={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",C(y).join("\\b|"),"|",C(v).join("\\b|"),"\\b)"),n,t.concat(p,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[j]};j.contains.push(D);const z=[F,O,e.C_BLOCK_COMMENT_MODE,m,g,A],Y={begin:t.concat(/#\[\s*\\?/,t.either(s,i)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:w,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:w,keyword:["new","array"]},contains:["self",...z]},...z,{scope:"meta",variants:[{match:s},{match:i}]}]};return{case_insensitive:!1,keywords:k,contains:[Y,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,D,O,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},A,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:k,contains:["self",Y,a,O,e.C_BLOCK_COMMENT_MODE,m,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},m,g]}}function e5e(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function t5e(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function r5e(e){const t=e.regex,r=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,m=`\\b|${n.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${m})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${f})[jJ](?=${m})`}]},w={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",c,g,h,e.HASH_COMMENT_MODE]}]};return u.contains=[h,g,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[c,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,w,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,h]}]}}function n5e(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function s5e(e){const t=e.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),s=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,i=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[s,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[i,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:s},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:i},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function i5e(e){const t=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),s=t.concat(n,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},h={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",m={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},A=[h,{variants:[{match:[/class\s+/,s,/\s+<\s+/,s]},{match:[/\b(class|module)\s+/,s]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,s],scope:{2:"title.class"},keywords:a},{relevance:0,match:[s,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:r}],relevance:0},m,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=A,g.contains=A;const j=[{begin:/^\s*=>/,starts:{end:"$",contains:A}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:A}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(j).concat(u).concat(A)}}function a5e(e){const t=e.regex,r=/(r#)?/,n=t.concat(r,e.UNDERSCORE_IDENT_RE),s=t.concat(r,e.IDENT_RE),i={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,s,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:o,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,n],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},i]}}const o5e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),l5e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],c5e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],u5e=[...l5e,...c5e],d5e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),h5e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),f5e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),p5e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function m5e(e){const t=o5e(e),r=f5e,n=h5e,s="@[a-z-]+",i="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+u5e.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+p5e.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:s,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:d5e.join(" ")},contains:[{begin:s,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function g5e(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function y5e(e){const t=e.regex,r=e.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},s={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,m=[...u,...c].filter(C=>!d.includes(C)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},w={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function v(C){return t.concat(/\b/,t.either(...C.map(A=>A.replace(/\s+/,"\\s+"))),/\b/)}const b={scope:"keyword",match:v(f),relevance:0};function k(C,{exceptions:A,when:R}={}){const O=R;return A=A||[],C.map(F=>F.match(/\|\d+$/)||A.includes(F)?F:O(F)?`${F}|0`:F)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:k(m,{when:C=>C.length<3}),literal:i,type:o,built_in:h},contains:[{scope:"type",match:v(a)},b,y,g,n,s,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,r,w]}}function iG(e){return e?typeof e=="string"?e:e.source:null}function A0(e){return un("(?=",e,")")}function un(...e){return e.map(r=>iG(r)).join("")}function v5e(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function hi(...e){return"("+(v5e(e).capture?"":"?:")+e.map(n=>iG(n)).join("|")+")"}const y7=e=>un(/\b/,e,/\w$/.test(e)?/\b/:/\B/),x5e=["Protocol","Type"].map(y7),rj=["init","self"].map(y7),b5e=["Any","Self"],o3=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],nj=["false","nil","true"],w5e=["assignment","associativity","higherThan","left","lowerThan","none","right"],k5e=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],sj=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],aG=hi(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),oG=hi(aG,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),l3=un(aG,oG,"*"),lG=hi(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),zb=hi(lG,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Fo=un(lG,zb,"*"),Vy=un(/[A-Z]/,zb,"*"),S5e=["attached","autoclosure",un(/convention\(/,hi("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",un(/objc\(/,Fo,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],_5e=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function E5e(e){const t={match:/\s+/,relevance:0},r=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[e.C_LINE_COMMENT_MODE,r],s={match:[/\./,hi(...x5e,...rj)],className:{2:"keyword"}},i={match:un(/\./,hi(...o3)),relevance:0},a=o3.filter(He=>typeof He=="string").concat(["_|0"]),o=o3.filter(He=>typeof He!="string").concat(b5e).map(y7),c={variants:[{className:"keyword",match:hi(...o,...rj)}]},u={$pattern:hi(/\b\w+/,/#\w+/),keyword:a.concat(k5e),literal:nj},d=[s,i,c],h={match:un(/\./,hi(...sj)),relevance:0},f={className:"built_in",match:un(/\b/,hi(...sj),/(?=\()/)},p=[h,f],m={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:l3},{match:`\\.(\\.|${oG})+`}]},w=[m,g],y="([0-9]_*)+",v="([0-9a-fA-F]_*)+",b={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${v})(\\.(${v}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},k=(He="")=>({className:"subst",variants:[{match:un(/\\/,He,/[0\\tnr"']/)},{match:un(/\\/,He,/u\{[0-9a-fA-F]{1,8}\}/)}]}),C=(He="")=>({className:"subst",match:un(/\\/,He,/[\t ]*(?:[\r\n]|\r\n)/)}),A=(He="")=>({className:"subst",label:"interpol",begin:un(/\\/,He,/\(/),end:/\)/}),R=(He="")=>({begin:un(He,/"""/),end:un(/"""/,He),contains:[k(He),C(He),A(He)]}),O=(He="")=>({begin:un(He,/"/),end:un(/"/,He),contains:[k(He),A(He)]}),F={className:"string",variants:[R(),R("#"),R("##"),R("###"),O(),O("#"),O("##"),O("###")]},j=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],D={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:j},z=He=>{const we=un(He,/\//),Ne=un(/\//,He);return{begin:we,end:Ne,contains:[...j,{scope:"comment",begin:`#(?!.*${Ne})`,end:/$/}]}},Y={scope:"regexp",variants:[z("###"),z("##"),z("#"),D]},Q={match:un(/`/,Fo,/`/)},te={className:"variable",match:/\$\d+/},Z={className:"variable",match:`\\$${zb}+`},J=[Q,te,Z],V={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:_5e,contains:[...w,b,F]}]}},re={scope:"keyword",match:un(/@/,hi(...S5e),A0(hi(/\(/,/\s+/)))},E={scope:"meta",match:un(/@/,Fo)},N=[V,re,E],L={match:A0(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:un(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,zb,"+")},{className:"type",match:Vy,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:un(/\s+&\s+/,A0(Vy)),relevance:0}]},M={begin:/</,end:/>/,keywords:u,contains:[...n,...d,...N,m,L]};L.contains.push(M);const G={match:un(Fo,/\s*:/),keywords:"_|0",relevance:0},W={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",G,...n,Y,...d,...p,...w,b,F,...J,...N,L]},se={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,L]},X={begin:hi(A0(un(Fo,/\s*:/)),A0(un(Fo,/\s+/,Fo,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Fo}]},me={begin:/\(/,end:/\)/,keywords:u,contains:[X,...n,...d,...w,b,F,...N,L,W],endsParent:!0,illegal:/["']/},be={match:[/(func|macro)/,/\s+/,hi(Q.match,Fo,l3)],className:{1:"keyword",3:"title.function"},contains:[se,me,t],illegal:[/\[/,/%/]},ge={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[se,me,t],illegal:/\[|%/},Ee={match:[/operator/,/\s+/,l3],className:{1:"keyword",3:"title"}},Re={begin:[/precedencegroup/,/\s+/,Vy],className:{1:"keyword",3:"title"},contains:[L],keywords:[...w5e,...nj],end:/}/},je={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Ie={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ve={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Fo,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[se,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:Vy},...d],relevance:0}]};for(const He of F.variants){const we=He.contains.find(Je=>Je.label==="interpol");we.keywords=u;const Ne=[...d,...p,...w,b,F,...J];we.contains=[...Ne,{begin:/\(/,end:/\)/,contains:["self",...Ne]}]}return{name:"Swift",keywords:u,contains:[...n,be,ge,je,Ie,Ve,Ee,Re,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},Y,...d,...p,...w,b,F,...J,...N,L,W]}}const Hb="[A-Za-z$_][0-9A-Za-z$_]*",cG=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],uG=["true","false","null","undefined","NaN","Infinity"],dG=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],hG=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],fG=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],pG=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],mG=[].concat(fG,dG,hG);function N5e(e){const t=e.regex,r=(V,{after:re})=>{const E="</"+V[0].slice(1);return V.input.indexOf(E,re)!==-1},n=Hb,s={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(V,re)=>{const E=V[0].length+V.index,N=V.input[E];if(N==="<"||N===","){re.ignoreMatch();return}N===">"&&(r(V,{after:E})||re.ignoreMatch());let L;const M=V.input.substring(E);if(L=M.match(/^\s*=/)){re.ignoreMatch();return}if((L=M.match(/^\s+extends\s+/))&&L.index===0){re.ignoreMatch();return}}},o={$pattern:Hb,keyword:cG,literal:uG,built_in:mG,"variable.language":pG},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,w,{match:/\$\d+/},h];f.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const k=[].concat(v,f.contains),C=k.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(k)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C},R={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...dG,...hG]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},j={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},D={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function z(V){return t.concat("(?!",V.join("|"),")")}const Y={match:t.concat(/\b/,z([...fG,"super","import"].map(V=>`${V}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},Q={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},te={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},Z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",J={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,w,v,{match:/\$\d+/},h,O,{scope:"attr",match:n+t.lookahead(":"),relevance:0},J,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:Z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:i},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},j,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},Q,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},Y,D,R,te,{match:/\$[(.]/}]}}function C5e(e){const t=e.regex,r=N5e(e),n=Hb,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:Hb,keyword:cG.concat(c),literal:uG,built_in:mG.concat(s),"variable.language":pG},d={className:"meta",begin:"@"+n},h=(g,w,y)=>{const v=g.contains.findIndex(b=>b.label===w);if(v===-1)throw new Error("can not find mode to replace");g.contains.splice(v,1,y)};Object.assign(r.keywords,u),r.exports.PARAMS_CONTAINS.push(d);const f=r.contains.find(g=>g.scope==="attr"),p=Object.assign({},f,{match:t.concat(n,t.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,f,p]),r.contains=r.contains.concat([d,i,a,p]),h(r,"shebang",e.SHEBANG()),h(r,"use_strict",o);const m=r.contains.find(g=>g.label==="func.def");return m.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function A5e(e){const t=e.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s=/\d{1,2}\/\d{1,2}\/\d{4}/,i=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(i,s),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(i,s),/ +/,t.either(a,o),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,n,c,u,d,h,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function T5e(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const r=e.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],s={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},i={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[r,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},i,a,s,e.QUOTE_STRING_MODE,c,u,o]}}function R5e(e){const t=e.regex,r=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(i,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,c,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,a,c,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(r,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function I5e(e){const t="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},s={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},i={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,s]},o=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},m={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},w=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},m,g,i,a],y=[...w];return y.pop(),y.push(o),p.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:w}}const j5e={arduino:f4e,bash:p4e,c:m4e,cpp:g4e,csharp:y4e,css:N4e,diff:C4e,go:A4e,graphql:T4e,ini:R4e,java:I4e,javascript:D4e,json:L4e,kotlin:F4e,less:G4e,lua:K4e,makefile:Y4e,markdown:Z4e,objectivec:Q4e,perl:X4e,php:J4e,"php-template":e5e,plaintext:t5e,python:r5e,"python-repl":n5e,r:s5e,ruby:i5e,rust:a5e,scss:m5e,shell:g5e,sql:y5e,swift:E5e,typescript:C5e,vbnet:A5e,wasm:T5e,xml:R5e,yaml:I5e};function gG(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const r=e[t],n=typeof r;(n==="object"||n==="function")&&!Object.isFrozen(r)&&gG(r)}),e}let ij=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function yG(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function fu(e,...t){const r=Object.create(null);for(const n in e)r[n]=e[n];return t.forEach(function(n){for(const s in n)r[s]=n[s]}),r}const M5e="</span>",aj=e=>!!e.scope,P5e=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const r=e.split(".");return[`${t}${r.shift()}`,...r.map((n,s)=>`${n}${"_".repeat(s+1)}`)].join(" ")}return`${t}${e}`};class O5e{constructor(t,r){this.buffer="",this.classPrefix=r.classPrefix,t.walk(this)}addText(t){this.buffer+=yG(t)}openNode(t){if(!aj(t))return;const r=P5e(t.scope,{prefix:this.classPrefix});this.span(r)}closeNode(t){aj(t)&&(this.buffer+=M5e)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const oj=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class v7{constructor(){this.rootNode=oj(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const r=oj({scope:t});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,r){return typeof r=="string"?t.addText(r):r.children&&(t.openNode(r),r.children.forEach(n=>this._walk(t,n)),t.closeNode(r)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(r=>typeof r=="string")?t.children=[t.children.join("")]:t.children.forEach(r=>{v7._collapse(r)}))}}class D5e extends v7{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,r){const n=t.root;r&&(n.scope=`language:${r}`),this.add(n)}toHTML(){return new O5e(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Mg(e){return e?typeof e=="string"?e:e.source:null}function vG(e){return Oh("(?=",e,")")}function L5e(e){return Oh("(?:",e,")*")}function $5e(e){return Oh("(?:",e,")?")}function Oh(...e){return e.map(r=>Mg(r)).join("")}function F5e(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function x7(...e){return"("+(F5e(e).capture?"":"?:")+e.map(n=>Mg(n)).join("|")+")"}function xG(e){return new RegExp(e.toString()+"|").exec("").length-1}function B5e(e,t){const r=e&&e.exec(t);return r&&r.index===0}const U5e=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function b7(e,{joinWith:t}){let r=0;return e.map(n=>{r+=1;const s=r;let i=Mg(n),a="";for(;i.length>0;){const o=U5e.exec(i);if(!o){a+=i;break}a+=i.substring(0,o.index),i=i.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?a+="\\"+String(Number(o[1])+s):(a+=o[0],o[0]==="("&&r++)}return a}).map(n=>`(${n})`).join(t)}const z5e=/\b\B/,bG="[a-zA-Z]\\w*",w7="[a-zA-Z_]\\w*",wG="\\b\\d+(\\.\\d+)?",kG="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",SG="\\b(0b[01]+)",H5e="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",V5e=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Oh(t,/.*\b/,e.binary,/\b.*/)),fu({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(r,n)=>{r.index!==0&&n.ignoreMatch()}},e)},Pg={begin:"\\\\[\\s\\S]",relevance:0},q5e={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Pg]},W5e={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Pg]},G5e={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},J2=function(e,t,r={}){const n=fu({scope:"comment",begin:e,end:t,contains:[]},r);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=x7("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:Oh(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},K5e=J2("//","$"),Y5e=J2("/\\*","\\*/"),Z5e=J2("#","$"),Q5e={scope:"number",begin:wG,relevance:0},X5e={scope:"number",begin:kG,relevance:0},J5e={scope:"number",begin:SG,relevance:0},e3e={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Pg,{begin:/\[/,end:/\]/,relevance:0,contains:[Pg]}]},t3e={scope:"title",begin:bG,relevance:0},r3e={scope:"title",begin:w7,relevance:0},n3e={begin:"\\.\\s*"+w7,relevance:0},s3e=function(e){return Object.assign(e,{"on:begin":(t,r)=>{r.data._beginMatch=t[1]},"on:end":(t,r)=>{r.data._beginMatch!==t[1]&&r.ignoreMatch()}})};var qy=Object.freeze({__proto__:null,APOS_STRING_MODE:q5e,BACKSLASH_ESCAPE:Pg,BINARY_NUMBER_MODE:J5e,BINARY_NUMBER_RE:SG,COMMENT:J2,C_BLOCK_COMMENT_MODE:Y5e,C_LINE_COMMENT_MODE:K5e,C_NUMBER_MODE:X5e,C_NUMBER_RE:kG,END_SAME_AS_BEGIN:s3e,HASH_COMMENT_MODE:Z5e,IDENT_RE:bG,MATCH_NOTHING_RE:z5e,METHOD_GUARD:n3e,NUMBER_MODE:Q5e,NUMBER_RE:wG,PHRASAL_WORDS_MODE:G5e,QUOTE_STRING_MODE:W5e,REGEXP_MODE:e3e,RE_STARTERS_RE:H5e,SHEBANG:V5e,TITLE_MODE:t3e,UNDERSCORE_IDENT_RE:w7,UNDERSCORE_TITLE_MODE:r3e});function i3e(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function a3e(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function o3e(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=i3e,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function l3e(e,t){Array.isArray(e.illegal)&&(e.illegal=x7(...e.illegal))}function c3e(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function u3e(e,t){e.relevance===void 0&&(e.relevance=1)}const d3e=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},e);Object.keys(e).forEach(n=>{delete e[n]}),e.keywords=r.keywords,e.begin=Oh(r.beforeMatch,vG(r.begin)),e.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},e.relevance=0,delete r.beforeMatch},h3e=["of","and","for","in","not","or","if","then","parent","list","value"],f3e="keyword";function _G(e,t,r=f3e){const n=Object.create(null);return typeof e=="string"?s(r,e.split(" ")):Array.isArray(e)?s(r,e):Object.keys(e).forEach(function(i){Object.assign(n,_G(e[i],t,i))}),n;function s(i,a){t&&(a=a.map(o=>o.toLowerCase())),a.forEach(function(o){const c=o.split("|");n[c[0]]=[i,p3e(c[0],c[1])]})}}function p3e(e,t){return t?Number(t):m3e(e)?0:1}function m3e(e){return h3e.includes(e.toLowerCase())}const lj={},qd=e=>{console.error(e)},cj=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Qh=(e,t)=>{lj[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),lj[`${e}/${t}`]=!0)},Vb=new Error;function EG(e,t,{key:r}){let n=0;const s=e[r],i={},a={};for(let o=1;o<=t.length;o++)a[o+n]=s[o],i[o+n]=!0,n+=xG(t[o-1]);e[r]=a,e[r]._emit=i,e[r]._multi=!0}function g3e(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw qd("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Vb;if(typeof e.beginScope!="object"||e.beginScope===null)throw qd("beginScope must be object"),Vb;EG(e,e.begin,{key:"beginScope"}),e.begin=b7(e.begin,{joinWith:""})}}function y3e(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw qd("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Vb;if(typeof e.endScope!="object"||e.endScope===null)throw qd("endScope must be object"),Vb;EG(e,e.end,{key:"endScope"}),e.end=b7(e.end,{joinWith:""})}}function v3e(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function x3e(e){v3e(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),g3e(e),y3e(e)}function b3e(e){function t(a,o){return new RegExp(Mg(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,o]),this.matchAt+=xG(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(c=>c[1]);this.matcherRe=t(b7(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(o);if(!c)return null;const u=c.findIndex((h,f)=>f>0&&h!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const c=new r;return this.rules.slice(o).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[o]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,c){this.rules.push([o,c]),c.type==="begin"&&this.count++}exec(o){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(o);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(o)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function s(a){const o=new n;return a.contains.forEach(c=>o.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&o.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&o.addRule(a.illegal,{type:"illegal"}),o}function i(a,o){const c=a;if(a.isCompiled)return c;[a3e,c3e,x3e,d3e].forEach(d=>d(a,o)),e.compilerExtensions.forEach(d=>d(a,o)),a.__beforeBegin=null,[o3e,l3e,u3e].forEach(d=>d(a,o)),a.isCompiled=!0;let u=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=_G(a.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),o&&(a.begin||(a.begin=/\B|\b/),c.beginRe=t(c.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=t(c.end)),c.terminatorEnd=Mg(c.end)||"",a.endsWithParent&&o.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(c.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return w3e(d==="self"?a:d)})),a.contains.forEach(function(d){i(d,c)}),a.starts&&i(a.starts,o),c.matcher=s(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=fu(e.classNameAliases||{}),i(e)}function NG(e){return e?e.endsWithParent||NG(e.starts):!1}function w3e(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return fu(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:NG(e)?fu(e,{starts:e.starts?fu(e.starts):null}):Object.isFrozen(e)?fu(e):e}var k3e="11.11.1";class S3e extends Error{constructor(t,r){super(t),this.name="HTMLInjectionError",this.html=r}}const c3=yG,uj=fu,dj=Symbol("nomatch"),_3e=7,CG=function(e){const t=Object.create(null),r=Object.create(null),n=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:D5e};function c(Z){return o.noHighlightRe.test(Z)}function u(Z){let J=Z.className+" ";J+=Z.parentNode?Z.parentNode.className:"";const V=o.languageDetectRe.exec(J);if(V){const re=O(V[1]);return re||(cj(i.replace("{}",V[1])),cj("Falling back to no-highlight mode for this block.",Z)),re?V[1]:"no-highlight"}return J.split(/\s+/).find(re=>c(re)||O(re))}function d(Z,J,V){let re="",E="";typeof J=="object"?(re=Z,V=J.ignoreIllegals,E=J.language):(Qh("10.7.0","highlight(lang, code, ...args) has been deprecated."),Qh("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),E=Z,re=J),V===void 0&&(V=!0);const N={code:re,language:E};Q("before:highlight",N);const L=N.result?N.result:h(N.language,N.code,V);return L.code=N.code,Q("after:highlight",L),L}function h(Z,J,V,re){const E=Object.create(null);function N(ae,fe){return ae.keywords[fe]}function L(){if(!Ne.keywords){oe.addText(xe);return}let ae=0;Ne.keywordPatternRe.lastIndex=0;let fe=Ne.keywordPatternRe.exec(xe),Le="";for(;fe;){Le+=xe.substring(ae,fe.index);const Ge=Ve.case_insensitive?fe[0].toLowerCase():fe[0],kt=N(Ne,Ge);if(kt){const[ce,pe]=kt;if(oe.addText(Le),Le="",E[Ge]=(E[Ge]||0)+1,E[Ge]<=_3e&&(rt+=pe),ce.startsWith("_"))Le+=fe[0];else{const Ae=Ve.classNameAliases[ce]||ce;W(fe[0],Ae)}}else Le+=fe[0];ae=Ne.keywordPatternRe.lastIndex,fe=Ne.keywordPatternRe.exec(xe)}Le+=xe.substring(ae),oe.addText(Le)}function M(){if(xe==="")return;let ae=null;if(typeof Ne.subLanguage=="string"){if(!t[Ne.subLanguage]){oe.addText(xe);return}ae=h(Ne.subLanguage,xe,!0,Je[Ne.subLanguage]),Je[Ne.subLanguage]=ae._top}else ae=p(xe,Ne.subLanguage.length?Ne.subLanguage:null);Ne.relevance>0&&(rt+=ae.relevance),oe.__addSublanguage(ae._emitter,ae.language)}function G(){Ne.subLanguage!=null?M():L(),xe=""}function W(ae,fe){ae!==""&&(oe.startScope(fe),oe.addText(ae),oe.endScope())}function se(ae,fe){let Le=1;const Ge=fe.length-1;for(;Le<=Ge;){if(!ae._emit[Le]){Le++;continue}const kt=Ve.classNameAliases[ae[Le]]||ae[Le],ce=fe[Le];kt?W(ce,kt):(xe=ce,L(),xe=""),Le++}}function X(ae,fe){return ae.scope&&typeof ae.scope=="string"&&oe.openNode(Ve.classNameAliases[ae.scope]||ae.scope),ae.beginScope&&(ae.beginScope._wrap?(W(xe,Ve.classNameAliases[ae.beginScope._wrap]||ae.beginScope._wrap),xe=""):ae.beginScope._multi&&(se(ae.beginScope,fe),xe="")),Ne=Object.create(ae,{parent:{value:Ne}}),Ne}function me(ae,fe,Le){let Ge=B5e(ae.endRe,Le);if(Ge){if(ae["on:end"]){const kt=new ij(ae);ae["on:end"](fe,kt),kt.isMatchIgnored&&(Ge=!1)}if(Ge){for(;ae.endsParent&&ae.parent;)ae=ae.parent;return ae}}if(ae.endsWithParent)return me(ae.parent,fe,Le)}function be(ae){return Ne.matcher.regexIndex===0?(xe+=ae[0],1):(Yt=!0,0)}function ge(ae){const fe=ae[0],Le=ae.rule,Ge=new ij(Le),kt=[Le.__beforeBegin,Le["on:begin"]];for(const ce of kt)if(ce&&(ce(ae,Ge),Ge.isMatchIgnored))return be(fe);return Le.skip?xe+=fe:(Le.excludeBegin&&(xe+=fe),G(),!Le.returnBegin&&!Le.excludeBegin&&(xe=fe)),X(Le,ae),Le.returnBegin?0:fe.length}function Ee(ae){const fe=ae[0],Le=J.substring(ae.index),Ge=me(Ne,ae,Le);if(!Ge)return dj;const kt=Ne;Ne.endScope&&Ne.endScope._wrap?(G(),W(fe,Ne.endScope._wrap)):Ne.endScope&&Ne.endScope._multi?(G(),se(Ne.endScope,ae)):kt.skip?xe+=fe:(kt.returnEnd||kt.excludeEnd||(xe+=fe),G(),kt.excludeEnd&&(xe=fe));do Ne.scope&&oe.closeNode(),!Ne.skip&&!Ne.subLanguage&&(rt+=Ne.relevance),Ne=Ne.parent;while(Ne!==Ge.parent);return Ge.starts&&X(Ge.starts,ae),kt.returnEnd?0:fe.length}function Re(){const ae=[];for(let fe=Ne;fe!==Ve;fe=fe.parent)fe.scope&&ae.unshift(fe.scope);ae.forEach(fe=>oe.openNode(fe))}let je={};function Ie(ae,fe){const Le=fe&&fe[0];if(xe+=ae,Le==null)return G(),0;if(je.type==="begin"&&fe.type==="end"&&je.index===fe.index&&Le===""){if(xe+=J.slice(fe.index,fe.index+1),!s){const Ge=new Error(`0 width match regex (${Z})`);throw Ge.languageName=Z,Ge.badRule=je.rule,Ge}return 1}if(je=fe,fe.type==="begin")return ge(fe);if(fe.type==="illegal"&&!V){const Ge=new Error('Illegal lexeme "'+Le+'" for mode "'+(Ne.scope||"<unnamed>")+'"');throw Ge.mode=Ne,Ge}else if(fe.type==="end"){const Ge=Ee(fe);if(Ge!==dj)return Ge}if(fe.type==="illegal"&&Le==="")return xe+=`
`,1;if(tr>1e5&&tr>fe.index*3)throw new Error("potential infinite loop, way more iterations than matches");return xe+=Le,Le.length}const Ve=O(Z);if(!Ve)throw qd(i.replace("{}",Z)),new Error('Unknown language: "'+Z+'"');const He=b3e(Ve);let we="",Ne=re||He;const Je={},oe=new o.__emitter(o);Re();let xe="",rt=0,nt=0,tr=0,Yt=!1;try{if(Ve.__emitTokens)Ve.__emitTokens(J,oe);else{for(Ne.matcher.considerAll();;){tr++,Yt?Yt=!1:Ne.matcher.considerAll(),Ne.matcher.lastIndex=nt;const ae=Ne.matcher.exec(J);if(!ae)break;const fe=J.substring(nt,ae.index),Le=Ie(fe,ae);nt=ae.index+Le}Ie(J.substring(nt))}return oe.finalize(),we=oe.toHTML(),{language:Z,value:we,relevance:rt,illegal:!1,_emitter:oe,_top:Ne}}catch(ae){if(ae.message&&ae.message.includes("Illegal"))return{language:Z,value:c3(J),illegal:!0,relevance:0,_illegalBy:{message:ae.message,index:nt,context:J.slice(nt-100,nt+100),mode:ae.mode,resultSoFar:we},_emitter:oe};if(s)return{language:Z,value:c3(J),illegal:!1,relevance:0,errorRaised:ae,_emitter:oe,_top:Ne};throw ae}}function f(Z){const J={value:c3(Z),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return J._emitter.addText(Z),J}function p(Z,J){J=J||o.languages||Object.keys(t);const V=f(Z),re=J.filter(O).filter(j).map(G=>h(G,Z,!1));re.unshift(V);const E=re.sort((G,W)=>{if(G.relevance!==W.relevance)return W.relevance-G.relevance;if(G.language&&W.language){if(O(G.language).supersetOf===W.language)return 1;if(O(W.language).supersetOf===G.language)return-1}return 0}),[N,L]=E,M=N;return M.secondBest=L,M}function m(Z,J,V){const re=J&&r[J]||V;Z.classList.add("hljs"),Z.classList.add(`language-${re}`)}function g(Z){let J=null;const V=u(Z);if(c(V))return;if(Q("before:highlightElement",{el:Z,language:V}),Z.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",Z);return}if(Z.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Z)),o.throwUnescapedHTML))throw new S3e("One of your code blocks includes unescaped HTML.",Z.innerHTML);J=Z;const re=J.textContent,E=V?d(re,{language:V,ignoreIllegals:!0}):p(re);Z.innerHTML=E.value,Z.dataset.highlighted="yes",m(Z,V,E.language),Z.result={language:E.language,re:E.relevance,relevance:E.relevance},E.secondBest&&(Z.secondBest={language:E.secondBest.language,relevance:E.secondBest.relevance}),Q("after:highlightElement",{el:Z,result:E,text:re})}function w(Z){o=uj(o,Z)}const y=()=>{k(),Qh("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function v(){k(),Qh("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function k(){function Z(){k()}if(document.readyState==="loading"){b||window.addEventListener("DOMContentLoaded",Z,!1),b=!0;return}document.querySelectorAll(o.cssSelector).forEach(g)}function C(Z,J){let V=null;try{V=J(e)}catch(re){if(qd("Language definition for '{}' could not be registered.".replace("{}",Z)),s)qd(re);else throw re;V=a}V.name||(V.name=Z),t[Z]=V,V.rawDefinition=J.bind(null,e),V.aliases&&F(V.aliases,{languageName:Z})}function A(Z){delete t[Z];for(const J of Object.keys(r))r[J]===Z&&delete r[J]}function R(){return Object.keys(t)}function O(Z){return Z=(Z||"").toLowerCase(),t[Z]||t[r[Z]]}function F(Z,{languageName:J}){typeof Z=="string"&&(Z=[Z]),Z.forEach(V=>{r[V.toLowerCase()]=J})}function j(Z){const J=O(Z);return J&&!J.disableAutodetect}function D(Z){Z["before:highlightBlock"]&&!Z["before:highlightElement"]&&(Z["before:highlightElement"]=J=>{Z["before:highlightBlock"](Object.assign({block:J.el},J))}),Z["after:highlightBlock"]&&!Z["after:highlightElement"]&&(Z["after:highlightElement"]=J=>{Z["after:highlightBlock"](Object.assign({block:J.el},J))})}function z(Z){D(Z),n.push(Z)}function Y(Z){const J=n.indexOf(Z);J!==-1&&n.splice(J,1)}function Q(Z,J){const V=Z;n.forEach(function(re){re[V]&&re[V](J)})}function te(Z){return Qh("10.7.0","highlightBlock will be removed entirely in v12.0"),Qh("10.7.0","Please use highlightElement now."),g(Z)}Object.assign(e,{highlight:d,highlightAuto:p,highlightAll:k,highlightElement:g,highlightBlock:te,configure:w,initHighlighting:y,initHighlightingOnLoad:v,registerLanguage:C,unregisterLanguage:A,listLanguages:R,getLanguage:O,registerAliases:F,autoDetection:j,inherit:uj,addPlugin:z,removePlugin:Y}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=k3e,e.regex={concat:Oh,lookahead:vG,either:x7,optional:$5e,anyNumberOfTimes:L5e};for(const Z in qy)typeof qy[Z]=="object"&&gG(qy[Z]);return Object.assign(e,qy),e},Fp=CG({});Fp.newInstance=()=>CG({});var E3e=Fp;Fp.HighlightJS=Fp;Fp.default=Fp;const N3e=Fg(E3e),hj={},C3e="hljs-";function A3e(e){const t=N3e.newInstance();return e&&i(e),{highlight:r,highlightAuto:n,listLanguages:s,register:i,registerAlias:a,registered:o};function r(c,u,d){const h=d||hj,f=typeof h.prefix=="string"?h.prefix:C3e;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:T3e,classPrefix:f});const p=t.highlight(u,{ignoreIllegals:!0,language:c});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const m=p._emitter.root,g=m.data;return g.language=p.language,g.relevance=p.relevance,m}function n(c,u){const h=(u||hj).subset||s();let f=-1,p=0,m;for(;++f<h.length;){const g=h[f];if(!t.getLanguage(g))continue;const w=r(g,c,u);w.data&&w.data.relevance!==void 0&&w.data.relevance>p&&(p=w.data.relevance,m=w)}return m||{type:"root",children:[],data:{language:void 0,relevance:p}}}function s(){return t.listLanguages()}function i(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function a(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const h=c[d];t.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function o(c){return!!t.getLanguage(c)}}class T3e{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const r=this.stack[this.stack.length-1],n=r.children[r.children.length-1];n&&n.type==="text"?n.value+=t:r.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,r){const n=this.stack[this.stack.length-1],s=t.root.children;r?n.children.push({type:"element",tagName:"span",properties:{className:[r]},children:s}):n.children.push(...s)}openNode(t){const r=this,n=t.split(".").map(function(a,o){return o?a+"_".repeat(o):r.options.classPrefix+a}),s=this.stack[this.stack.length-1],i={type:"element",tagName:"span",properties:{className:n},children:[]};s.children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const R3e={};function I3e(e){const t=e||R3e,r=t.aliases,n=t.detect||!1,s=t.languages||j5e,i=t.plainText,a=t.prefix,o=t.subset;let c="hljs";const u=A3e(s);if(r&&u.registerAlias(r),a){const d=a.indexOf("-");c=d===-1?a:a.slice(0,d)}return function(d,h){q2(d,"element",function(f,p,m){if(f.tagName!=="code"||!m||m.type!=="element"||m.tagName!=="pre")return;const g=j3e(f);if(g===!1||!g&&!n||g&&i&&i.includes(g))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(c)||f.properties.className.unshift(c);const w=Iq(f,{whitespace:"pre"});let y;try{y=g?u.highlight(g,w,{prefix:a}):u.highlightAuto(w,{prefix:a,subset:o})}catch(v){const b=v;if(g&&/Unknown language/.test(b.message)){h.message("Cannot highlight as `"+g+"`, its not registered",{ancestors:[m,f],cause:b,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw b}!g&&y.data&&y.data.language&&f.properties.className.push("language-"+y.data.language),y.children.length>0&&(f.children=y.children)})}}function j3e(e){const t=e.properties.className;let r=-1;if(!Array.isArray(t))return;let n;for(;++r<t.length;){const s=String(t[r]);if(s==="no-highlight"||s==="nohighlight")return!1;!n&&s.slice(0,5)==="lang-"&&(n=s.slice(5)),!n&&s.slice(0,9)==="language-"&&(n=s.slice(9))}return n}const ld=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],bd={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...ld,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...ld],h2:[["className","sr-only"]],img:[...ld,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...ld,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...ld],table:[...ld],ul:[...ld,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Vc={}.hasOwnProperty;function M3e(e,t){let r={type:"root",children:[]};const n={schema:t?{...bd,...t}:bd,stack:[]},s=AG(n,e);return s&&(Array.isArray(s)?s.length===1?r=s[0]:r.children=s:r=s),r}function AG(e,t){if(t&&typeof t=="object"){const r=t;switch(typeof r.type=="string"?r.type:""){case"comment":return P3e(e,r);case"doctype":return O3e(e,r);case"element":return D3e(e,r);case"root":return L3e(e,r);case"text":return $3e(e,r)}}}function P3e(e,t){if(e.schema.allowComments){const r=typeof t.value=="string"?t.value:"",n=r.indexOf("-->"),i={type:"comment",value:n<0?r:r.slice(0,n)};return A1(i,t),i}}function O3e(e,t){if(e.schema.allowDoctypes){const r={type:"doctype"};return A1(r,t),r}}function D3e(e,t){const r=typeof t.tagName=="string"?t.tagName:"";e.stack.push(r);const n=TG(e,t.children),s=F3e(e,t.properties);e.stack.pop();let i=!1;if(r&&r!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(r))&&(i=!0,e.schema.ancestors&&Vc.call(e.schema.ancestors,r))){const o=e.schema.ancestors[r];let c=-1;for(i=!1;++c<o.length;)e.stack.includes(o[c])&&(i=!0)}if(!i)return e.schema.strip&&!e.schema.strip.includes(r)?n:void 0;const a={type:"element",tagName:r,properties:s,children:n};return A1(a,t),a}function L3e(e,t){const n={type:"root",children:TG(e,t.children)};return A1(n,t),n}function $3e(e,t){const n={type:"text",value:typeof t.value=="string"?t.value:""};return A1(n,t),n}function TG(e,t){const r=[];if(Array.isArray(t)){const n=t;let s=-1;for(;++s<n.length;){const i=AG(e,n[s]);i&&(Array.isArray(i)?r.push(...i):r.push(i))}}return r}function F3e(e,t){const r=e.stack[e.stack.length-1],n=e.schema.attributes,s=e.schema.required,i=n&&Vc.call(n,r)?n[r]:void 0,a=n&&Vc.call(n,"*")?n["*"]:void 0,o=t&&typeof t=="object"?t:{},c={};let u;for(u in o)if(Vc.call(o,u)){const d=o[u];let h=fj(e,pj(i,u),u,d);h==null&&(h=fj(e,pj(a,u),u,d)),h!=null&&(c[u]=h)}if(s&&Vc.call(s,r)){const d=s[r];for(u in d)Vc.call(d,u)&&!Vc.call(c,u)&&(c[u]=d[u])}return c}function fj(e,t,r,n){return t?Array.isArray(n)?B3e(e,t,r,n):RG(e,t,r,n):void 0}function B3e(e,t,r,n){let s=-1;const i=[];for(;++s<n.length;){const a=RG(e,t,r,n[s]);(typeof a=="number"||typeof a=="string")&&i.push(a)}return i}function RG(e,t,r,n){if(!(typeof n!="boolean"&&typeof n!="number"&&typeof n!="string")&&U3e(e,r,n)){if(typeof t=="object"&&t.length>1){let s=!1,i=0;for(;++i<t.length;){const a=t[i];if(a&&typeof a=="object"&&"flags"in a){if(a.test(String(n))){s=!0;break}}else if(a===n){s=!0;break}}if(!s)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(r)?e.schema.clobberPrefix+n:n}}function U3e(e,t,r){const n=e.schema.protocols&&Vc.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!n||n.length===0)return!0;const s=String(r),i=s.indexOf(":"),a=s.indexOf("?"),o=s.indexOf("#"),c=s.indexOf("/");if(i<0||c>-1&&i>c||a>-1&&i>a||o>-1&&i>o)return!0;let u=-1;for(;++u<n.length;){const d=n[u];if(i===d.length&&s.slice(0,d.length)===d)return!0}return!1}function A1(e,t){const r=QV(t);t.data&&(e.data=Tg(t.data)),r&&(e.position=r)}function pj(e,t){let r,n=-1;if(e)for(;++n<e.length;){const s=e[n],i=typeof s=="string"?s:s[0];if(i===t)return s;i==="data*"&&(r=s)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return r}function z3e(e){return function(t){return M3e(t,e)}}async function H3e(e){try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy text: ",t)}}function V3e({content:e,isThinking:t,duration:r}){const[n,s]=x.useState(!1),[i,a]=x.useState(0),o=x.useRef(null);x.useEffect(()=>{if(!t)return;o.current===null&&(o.current=Date.now());const d=Math.floor((Date.now()-o.current)/1e3);a(d);const h=setInterval(()=>{if(o.current!==null){const f=Math.floor((Date.now()-o.current)/1e3);a(f)}},1e3);return()=>{clearInterval(h),o.current=null}},[t]);const u=`${x.useMemo(()=>{if(r)return r;if(t)return i;const d=e.trim().split(/\s+/).length;return Math.max(1,Math.round(d/26))},[e,r,t,i])}`;return l.jsxs("div",{className:"my-3 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-900/50",children:[l.jsxs("button",{onClick:()=>s(!n),className:"w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors text-left","aria-expanded":n,children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:n?l.jsx(r0,{className:"h-4 w-4"}):l.jsx(IE,{className:"h-4 w-4"})}),l.jsx(yb,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:t?l.jsxs("span",{className:"flex items-center gap-2",children:["Thinking for ",u," seconds",l.jsxs("span",{className:"flex gap-1",children:[l.jsx("span",{className:"animate-bounce",style:{animationDelay:"0ms"},children:"."}),l.jsx("span",{className:"animate-bounce",style:{animationDelay:"150ms"},children:"."}),l.jsx("span",{className:"animate-bounce",style:{animationDelay:"300ms"},children:"."})]})]}):`Thought for ${u} seconds`})]}),n&&l.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:e})})]})}function q3e(e,t=!1){const r=[];if(t&&/^<think>\s*$/m.test(e)&&!e.includes("</think>")){const a=e.replace(/^<think>\s*/m,"");return a.trim()&&r.push({type:"content",content:a}),r}const n=t?/<think>([\s\S]*?)<\/think>|<think>([\s\S]*?)$/g:/<think>([\s\S]*?)(?:<\/think>|$)/g;let s=0,i;for(;(i=n.exec(e))!==null;){if(i.index>s){const o=e.slice(s,i.index);o.trim()&&r.push({type:"content",content:o})}const a=i[1]??i[2]??"";!t&&i[0].includes("<think>")?r.push({type:"thinking",content:a,duration:void 0,id:`think-${i.index}`}):a.trim()&&r.push({type:"thinking",content:a,duration:void 0,id:`think-${i.index}`}),s=i.index+i[0].length}if(s<e.length){const a=e.slice(s);a.trim()&&r.push({type:"content",content:a})}return r}function W3e(e){const t=x.useRef(null),[r,n]=x.useState(!1);return x.useEffect(()=>{if(t.current){const s=t.current.querySelectorAll("code"),i=["","md","markdown","text","txt","plaintext","tex","latex"];s.forEach(a=>{const o=a.className.match(/language-(\w+)/),c=o?o[1]:"";i.includes(c)&&(a.style.whiteSpace="pre-wrap")})}},[]),l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-end pt-2 mb-1",children:l.jsx(Me,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>{if(t.current){const s=t.current.innerText;H3e(s),n(!0),setTimeout(()=>n(!1),2e3)}},"aria-label":r?"Copied":"Copy to clipboard",children:r?l.jsxs(l.Fragment,{children:[l.jsx(jt,{className:"h-4 w-4"}),l.jsx("span",{className:"font-sans text-sm",children:"Copied"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Th,{className:"h-4 w-4"}),l.jsx("span",{className:"font-sans text-sm",children:"Copy Code"})]})})}),l.jsx("pre",{ref:t,className:"w-full overflow-x-auto",children:e.children})]})}function G3e(e){return l.jsx("code",{children:e.children})}function K3e({children:e,className:t,...r}){const{node:n,inline:s,...i}=r,a=x.useRef(null),[o,c]=x.useState(!1),[u,d]=x.useState(!1);return x.useEffect(()=>{const h=a.current;if(!h)return;const f=()=>{const{scrollLeft:p,scrollWidth:m,clientWidth:g}=h;c(p>0),d(p+g<m-1)};return f(),h.addEventListener("scroll",f),window.addEventListener("resize",f),()=>{h.removeEventListener("scroll",f),window.removeEventListener("resize",f)}},[]),l.jsxs("div",{className:"my-4 -mx-4 px-4 relative",children:[o&&l.jsx("div",{className:"absolute left-[15px] top-0 bottom-0 w-8 pointer-events-none bg-gradient-to-r from-background to-transparent z-10"}),u&&l.jsx("div",{className:"absolute right-[15px] top-0 bottom-0 w-8 pointer-events-none bg-gradient-to-l from-background to-transparent z-10"}),l.jsx("div",{ref:a,className:"overflow-x-auto",children:l.jsx("div",{className:"inline-block rounded-md border border-border/50 shadow-sm",children:l.jsx("table",{className:t||"",style:{minWidth:"max-content"},...i,children:e})})})]})}function Y3e(e){let t="";for(let r=0;r<e.length;r+=1){let n=e[r];const s=e[r+1]||" ";n==="$"&&s>="0"&&s<="9"&&(n="\\$"),t+=n}return t}function Z3e(e){const t=/```[\s\S]*?```|`.*?`/g,r=[],n=e.replace(t,function(o){return r.push(o),`__CODE_BLOCK_${r.length-1}__`}),s=/\\\[([\s\S]*?[^\\])\\\]/g;let i=n.replace(s,function(o,c){return`$$${c}$$`});const a=/\\\((.*?)\\\)/g;return i=i.replace(a,function(o,c){return`$${c}$`}),r.forEach(function(o,c){i=i.replace(`__CODE_BLOCK_${c}__`,o)}),i}function Q3e(e){var r,n,s;const t=x.useMemo(()=>Z3e(Y3e(e.content)),[e.content]);return l.jsx(hve,{remarkPlugins:[_ve,d4e,Ive],rehypePlugins:[[z3e,{...bd,attributes:{...bd.attributes,code:[...((r=bd.attributes)==null?void 0:r.code)||[],["className",/^language-./,"math-inline","math-display"]],span:[...((n=bd.attributes)==null?void 0:n.span)||[],["className",/^katex/]],div:[...((s=bd.attributes)==null?void 0:s.div)||[],["className","katex-display"]]}}],lwe,[I3e,{detect:!1,ignoreMissing:!0}]],components:{pre:i=>l.jsx(W3e,{...i}),code:i=>l.jsx(G3e,{...i}),table:i=>l.jsx(K3e,{...i}),p:i=>l.jsx("p",{...i,dir:"auto"}),a:i=>{const a=i.href||"",o=/^\/#/i.test(a),c=o?"_self":i.target??"_blank";return!o&&a?l.jsx("a",{...i,target:c,onClick:u=>{u.preventDefault(),vle(a)},style:{cursor:"pointer"}}):l.jsx("a",{...i,target:c})}},children:t})}const X3e=Ls.memo(Q3e);function mj(e){if(!e||typeof e!="object")return!1;const t=e;if(!("document"in t))return!1;const r=t.document;if(!r||typeof r!="object")return!1;const n=r;return!(!("filename"in n)||typeof n.filename!="string"||!("text_content"in n)||typeof n.text_content!="string")}function J3e({documentData:e}){const[t,r]=x.useState(!1),n=e.document.text_content||"No content available";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-3",children:l.jsxs(Me,{variant:"outline",size:"default",className:"h-20 w-20 p-2 flex flex-col items-center justify-center gap-1 overflow-hidden",onClick:()=>r(!0),title:e.document.filename,"aria-label":`Preview document: ${e.document.filename}`,children:[l.jsx(Xo,{className:"h-6 w-6 flex-shrink-0"}),l.jsx("span",{className:"text-xs truncate w-full text-center px-1",children:e.document.filename})]})}),l.jsx(ns,{open:t,onOpenChange:r,children:l.jsxs(Xn,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsx(pn,{children:l.jsx(mn,{children:e.document.filename})}),l.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:l.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed",children:n})})]})})]})}function e6e(e){const t=e.indexOf('{"document":');if(t===-1)return null;const r=e.substring(t);try{const a=JSON.parse(r);if(mj(a))return{data:a,endIndex:t+r.length}}catch{}let n=!1,s=!1,i=0;for(let a=0;a<r.length;a++){const o=r[a];if(s){s=!1;continue}if(o==="\\"){s=!0;continue}if(o==='"'&&!s){n=!n;continue}if(!n){if(o==="{")i++;else if(o==="}"&&(i--,i===0))try{const c=r.substring(0,a+1),u=JSON.parse(c);if(mj(u))return{data:u,endIndex:t+a+1}}catch(c){console.error("Document JSON parse error at position",a,c)}}}return null}function t6e(e){const t=[];if(e.includes('{"document":')){const r=e.indexOf('{"document":'),n=e.substring(0,r).trim();n&&t.push({type:"text",content:n});const s=e6e(e);if(s){t.push({type:"document",content:s.data});const i=e.substring(s.endIndex).trim();i&&t.push({type:"text",content:i})}else t.push({type:"text",content:e})}else t.push({type:"text",content:e});return t}function r6e({content:e,loading:t=!1,chatId:r}){const n=x.useMemo(()=>q3e(e,!t),[e,t]);return l.jsx(l.Fragment,{children:n.map((s,i)=>{if(s.type==="thinking"){const a=i===n.length-1,o=e.lastIndexOf("<think>"),c=e.lastIndexOf("</think>"),u=t&&a&&c<o;return l.jsx(V3e,{content:s.content,isThinking:u,duration:void 0},`${r}-${s.id||i}`)}else{const a=t6e(s.content);return l.jsx(Ls.Fragment,{children:a.map((o,c)=>o.type==="document"?l.jsx(J3e,{documentData:o.content},`doc-${i}-${c}`):l.jsx(X3e,{content:o.content},`text-${i}-${c}`))},i)}})})}function Wd(e){const t=x.useRef(null);return l.jsx("div",{className:"markdown-body",style:{fontSize:`${e.fontSize??16}px`,fontFamily:e.fontFamily||"inherit",wordBreak:"break-word"},ref:t,onContextMenu:e.onContextMenu,onDoubleClickCapture:e.onDoubleClickCapture,dir:"auto",children:l.jsx(r6e,{content:e.content,loading:e.loading,chatId:e.chatId})})}function IG({open:e,onOpenChange:t,feature:r,modelName:n}){var g,w,y;const s=ws(),i=xa(),a=()=>{t(!1),s({to:"/pricing"})},o=()=>{t(!1),window.dispatchEvent(new Event("newchat"));const v=new URLSearchParams(window.location.search);v.delete("conversation_id"),window.history.replaceState({},"",v.toString()?`/?${v}`:"/")},c=((w=(g=i.billingStatus)==null?void 0:g.product_name)==null?void 0:w.toLowerCase())||"free",u=!((y=i.billingStatus)!=null&&y.product_name)||c==="free",d=c.includes("pro")&&!c.includes("max"),h=c.includes("max"),f=()=>u?"Pro":"Max",m=(()=>{if(r==="websearch")return{icon:l.jsx(Op,{className:"h-8 w-8"}),title:"Live Web Search",description:"Search the web in real-time with AI-powered results",requiredPlan:"Pro",benefits:["Live web search powered by Brave","Get up-to-date information from the internet","Search queries are sent to Brave but not linked to your identity","Results are processed privately and securely","Perfect for current events, research, and fact-checking","Seamlessly integrated into your chat experience"]};if(r==="image")return{icon:l.jsx(yg,{className:"h-8 w-8"}),title:"Image Upload",description:"Upload and analyze images with AI-powered vision models",requiredPlan:"Starter",benefits:["Images stay private with end-to-end encryption","Upload JPEG, PNG, and WebP formats securely","Use advanced vision models like Gemma 3 and Qwen3-VL","Analyze diagrams, screenshots, and photos privately","Extract text from images without exposing data"]};if(r==="voice")return{icon:l.jsx(xb,{className:"h-8 w-8"}),title:"Voice Recording",description:"Record and transcribe voice messages with Whisper AI",requiredPlan:"Pro",benefits:["Voice recordings are end-to-end encrypted","Record messages directly in chat securely","Private transcription with Whisper Large v3","Support for multiple languages","No audio data is stored or used for training"]};if(r==="document")return{icon:l.jsx(Xo,{className:"h-8 w-8"}),title:"Document Upload",description:"Process and analyze documents with complete privacy",requiredPlan:"Pro",benefits:["Documents are processed securely with end-to-end encryption","Your files are never stored or used for AI training","Support for PDF, TXT, and Markdown formats","Extract and analyze text while maintaining complete privacy","Local processing ensures your sensitive data never leaves your device"]};if(r==="usage"){const v=f();return{icon:l.jsx(Zoe,{className:"h-8 w-8"}),title:u?"Daily Usage Limit Reached":"Monthly Usage Limit Reached",description:u?"You've reached your daily free tier limit. Upgrade to Pro for unlimited daily usage.":d?"You've reached your Pro plan's monthly limit. Upgrade to Max for 10x more usage.":"You've reached your monthly usage limit. Please wait for the next billing cycle.",requiredPlan:v,benefits:u?["No daily limits with Pro plan","Access to advanced AI models","Priority access during peak times","Higher monthly rate limits for continuous usage","Process images and documents","API access for developers"]:d?["10x more monthly messages with Max plan","Access to all premium models including DeepSeek R1","Highest priority during peak times","Maximum rate limits for power users"]:["You're already on our highest individual plan","Consider Team plans for shared usage","Monthly usage automatically refreshes","Contact support for custom enterprise plans"]}}else return r==="tokens"?{icon:l.jsx(mv,{className:"h-8 w-8"}),title:"Conversation Limit",description:"This conversation is too long for the free tier. Upgrade to Pro to continue this chat, or start a new conversation.",requiredPlan:"Pro",benefits:["No conversation limits","Continue conversations without interruption","Process longer documents and code files","Auto-compaction keeps conversations flowing"]}:{icon:l.jsx(BF,{className:"h-8 w-8"}),title:n?`Access ${n}`:"Powerful AI Models",description:"Get access to our most advanced AI models for superior performance",requiredPlan:"Pro",benefits:["All models run in secure, encrypted environments","Access to DeepSeek R1 for advanced reasoning","OpenAI GPT-OSS, Qwen, and other advanced models","Higher token limits for longer conversations","Priority access to new models as they launch"]}})();return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-md",children:[l.jsxs(pn,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:m.icon}),l.jsx(mn,{children:m.title})]}),l.jsx(Pn,{className:"text-base",children:m.description})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:m.requiredPlan==="Max"&&h?"You're on the Max plan":`Available with ${m.requiredPlan} plan${m.requiredPlan!=="Max"?" and above":""}`}),l.jsx("ul",{className:"space-y-2",children:m.benefits.map((v,b)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),l.jsx("span",{children:v})]},b))})]}),m.requiredPlan!=="Max"||!h?l.jsx("div",{className:"pt-2 border-t",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:u?"Plus access to 7 powerful models, image & document processing, and more":d?"Plus access to DeepSeek R1, 10x more usage, API access, and priority support":"Explore our pricing options for the best plan for your needs"})}):null]}),l.jsxs(Rs,{className:"gap-2 sm:gap-0",children:[r==="tokens"&&u?l.jsx(Me,{variant:"outline",onClick:o,children:"Start New Chat"}):l.jsx(Me,{variant:"outline",onClick:()=>t(!1),children:"Maybe Later"}),(m.requiredPlan!=="Max"||!h)&&l.jsxs(Me,{onClick:a,className:"gap-2",children:[l.jsx(fc,{className:"h-4 w-4"}),u?"Upgrade to Pro":d?"Upgrade to Max":"View Plans"]})]})]})})}const oi={"ibnzterrell/Meta-Llama-3.3-70B-Instruct-AWQ-INT4":{displayName:"Llama 3.3 70B",shortName:"Llama 3.3",tokenLimit:7e4},"llama-3.3-70b":{displayName:"Llama 3.3 70B",shortName:"Llama 3.3",tokenLimit:7e4},"leon-se/gemma-3-27b-it-fp8-dynamic":{displayName:"Gemma 3 27B",shortName:"Gemma 3",requiresStarter:!0,supportsVision:!0,tokenLimit:2e4},"gemma-3-27b":{displayName:"Gemma 3 27B",shortName:"Gemma 3",requiresStarter:!0,supportsVision:!0,tokenLimit:2e4},"deepseek-r1-0528":{displayName:"DeepSeek R1 671B",shortName:"DeepSeek R1",badges:["Pro","Reasoning"],requiresPro:!0,tokenLimit:13e4},"deepseek-v31-terminus":{displayName:"DeepSeek V3.1 Terminus",shortName:"DeepSeek V3.1",badges:["Pro","New"],requiresPro:!0,tokenLimit:13e4},"gpt-oss-120b":{displayName:"OpenAI GPT-OSS 120B",shortName:"GPT-OSS",badges:["Pro"],requiresPro:!0,tokenLimit:128e3},"qwen3-coder-480b":{displayName:"Qwen3 Coder 480B",shortName:"Qwen3 Coder",badges:["Pro"],requiresPro:!0,tokenLimit:128e3},"qwen3-vl-30b":{displayName:"Qwen3-VL 30B",shortName:"Qwen3-VL",badges:["New"],requiresStarter:!0,supportsVision:!0,tokenLimit:256e3}},nn={free:"llama-3.3-70b",quick:"gpt-oss-120b",reasoning_on:"deepseek-r1-0528",reasoning_off:"deepseek-v31-terminus",math:"qwen3-coder-480b",image:"qwen3-vl-30b"},n6e={free:{label:"General",icon:fc,description:"Balanced & capable"},quick:{label:"Quick",icon:PE,description:"Fastest responses"},reasoning:{label:"Reasoning",icon:yb,description:"Deep analysis"},math:{label:"Math/Coding",icon:qoe,description:"Technical tasks"},image:{label:"Image Analysis",icon:yg,description:"Vision & analysis"}};function gj({hasImages:e=!1}){var j;const{model:t,setModel:r,availableModels:n,setAvailableModels:s,billingStatus:i,setHasWhisperModel:a,thinkingEnabled:o,setThinkingEnabled:c}=xa(),u=qr(),d=x.useRef(!1),h=x.useRef(!1),f=x.useRef(n),[p,m]=x.useState(!1),[g,w]=x.useState(""),[y,v]=x.useState(!1),b=e;x.useEffect(()=>{f.current=n},[n]),x.useEffect(()=>{!h.current&&u.fetchModels&&!d.current&&(h.current=!0,d.current=!0,u.fetchModels().then(D=>{const z=D.some(J=>J.id==="whisper-large-v3");a(z);const Y=D.filter(J=>{if(J.id==="latest"||J.id.toLowerCase().includes("whisper")||J.id==="qwen3-coder-30b-a3b"||J.id.includes("instruct")||J.id.includes("embed"))return!1;const V=J;return V.tasks?!(V.tasks.includes("embed")&&!V.tasks.includes("generate")):!0}),Q=f.current||[],te=new Set(Q.map(J=>J.id)),Z=Y.filter(J=>!te.has(J.id));s([...Q,...Z])}).catch(D=>{console.error("Failed to fetch models from endpoint:",D)}).finally(()=>{d.current=!1}))},[u,s,a]),x.useEffect(()=>{t===nn.reasoning_on?c(!0):t===nn.reasoning_off&&c(!1)},[t]),x.useEffect(()=>{if(b&&C(nn.image)){const D=oi[t];D!=null&&D.supportsVision||r(nn.image)}},[b]);const k=()=>{if(t===nn.free)return"General";if(t===nn.quick)return"Quick";if(t===nn.reasoning_on||t===nn.reasoning_off)return"Reasoning";if(t===nn.math)return"Math/Coding";if(t===nn.image)return"Image Analysis";const D=oi[t];return(D==null?void 0:D.displayName)||t},C=D=>{var Q;const z=oi[D];if(!(z!=null&&z.requiresPro)&&!(z!=null&&z.requiresStarter))return!0;const Y=((Q=i==null?void 0:i.product_name)==null?void 0:Q.toLowerCase())||"";return z!=null&&z.requiresPro?Y.includes("pro")||Y.includes("max")||Y.includes("team"):z!=null&&z.requiresStarter?Y.includes("starter")||Y.includes("pro")||Y.includes("max")||Y.includes("team"):!0},A=D=>{if(D==="advanced"){v(!0);return}let z;D==="reasoning"?z=o?nn.reasoning_on:nn.reasoning_off:D==="image"?z=nn.image:z=nn[D];const Y=oi[z];if(!(b&&!(Y!=null&&Y.supportsVision))){if(!C(z)){const Q=oi[z];w((Q==null?void 0:Q.displayName)||z),m(!0);return}r(z)}},R=D=>{const z=oi[D];return((z==null?void 0:z.badges)||[]).filter(Q=>Q!=="Pro"&&Q!=="Starter")},O=(D,z=!1)=>{const Y=oi[D],Q=[];if(Y){Q.push(Y.displayName);const te=R(D);te&&te.length>0&&te.forEach((Z,J)=>{let V="text-[10px] px-1.5 py-0.5 rounded-sm font-medium";Z==="Coming Soon"?V+=" bg-gray-500/10 text-gray-600":Z==="Pro"?V+=" bg-gradient-to-r from-purple-500/10 to-blue-500/10 text-purple-600":Z==="Starter"?V+=" bg-gradient-to-r from-green-500/10 to-emerald-500/10 text-green-600":Z==="New"?V+=" bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-blue-600":Z==="Reasoning"?V+=" bg-gradient-to-r from-orange-500/10 to-red-500/10 text-orange-600":Z==="Beta"?V+=" bg-gradient-to-r from-yellow-500/10 to-orange-500/10 text-yellow-600":V+=" bg-purple-500/10 text-purple-600",Q.push(l.jsx("span",{className:V,children:Z},`badge-${J}`))}),z&&(Y.requiresPro||Y.requiresStarter)&&!C(D)&&Q.push(l.jsx(vg,{className:"h-3 w-3 opacity-50"},"lock")),Y.supportsVision&&Q.push(l.jsx($oe,{className:"h-3 w-3 opacity-50"},"cam"))}else{const te=n.find(Z=>Z.id===D);Q.push((te==null?void 0:te.id)||D),Q.push(l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-sm font-medium bg-gray-500/10 text-gray-600",children:"Coming Soon"},"badge"))}return l.jsx("span",{className:"flex items-center gap-1",children:Q})},F=l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("div",{className:"text-xs font-medium",children:k()})});return l.jsxs(l.Fragment,{children:[l.jsxs(vh,{children:[l.jsx(xh,{asChild:!0,children:l.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 gap-1 px-2","data-testid":"model-selector-button","aria-label":`Current model: ${((j=oi[t])==null?void 0:j.displayName)||t}. Click to change model.`,children:[F,l.jsx(r0,{className:"h-3 w-3 opacity-50"})]})}),l.jsx(zu,{align:"start",className:"w-64 p-0",children:y?l.jsxs("div",{className:"p-1 h-[300px] flex flex-col",children:[l.jsxs(fn,{onSelect:D=>{D.preventDefault(),v(!1)},className:"flex items-center gap-2 px-3 py-1.5 cursor-pointer mb-1",children:[l.jsx(nS,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),l.jsx(Td,{}),l.jsx("div",{className:"overflow-y-auto flex-1",children:n&&Array.isArray(n)&&[...n].filter(D=>oi[D.id]!==void 0).filter(D=>D.id==="leon-se/gemma-3-27b-it-fp8-dynamic"?!n.some(z=>z.id==="gemma-3-27b"):D.id==="ibnzterrell/Meta-Llama-3.3-70B-Instruct-AWQ-INT4"?!n.some(z=>z.id==="llama-3.3-70b"):!0).filter((D,z,Y)=>oi[D.id]!==void 0&&Y.findIndex(Q=>Q.id===D.id)===z).sort((D,z)=>{const Y=oi[D.id],Q=oi[z.id];if(b){const re=(Y==null?void 0:Y.supportsVision)||!1,E=(Q==null?void 0:Q.supportsVision)||!1;if(re&&!E)return-1;if(!re&&E)return 1}const te=(Y==null?void 0:Y.disabled)||!1,Z=(Q==null?void 0:Q.disabled)||!1,J=((Y==null?void 0:Y.requiresPro)||(Y==null?void 0:Y.requiresStarter)||!1)&&!C(D.id),V=((Q==null?void 0:Q.requiresPro)||(Q==null?void 0:Q.requiresStarter)||!1)&&!C(z.id);return te&&!Z?1:!te&&Z?-1:J&&!V?1:!J&&V?-1:0}).map(D=>{const z=oi[D.id],Y=(z==null?void 0:z.disabled)||!1,Q=(z==null?void 0:z.requiresPro)||!1,te=(z==null?void 0:z.requiresStarter)||!1,Z=C(D.id),J=(Q||te)&&!Z,V=b&&!(z!=null&&z.supportsVision),re=Y||V;return l.jsxs(fn,{onClick:()=>{if(!re)if(J){const E=oi[D.id];w((E==null?void 0:E.displayName)||D.id),m(!0)}else r(D.id),v(!1)},className:`flex items-center justify-between group ${re?"opacity-50 cursor-not-allowed":""} ${J?"hover:bg-purple-50 dark:hover:bg-purple-950/20":""}`,disabled:re,children:[l.jsx("div",{className:"flex items-center gap-2 flex-1",children:l.jsx("div",{className:"text-sm",children:O(D.id,!0)})}),t===D.id&&l.jsx(jt,{className:"h-4 w-4"})]},`advanced-${D.id}`)})})]}):l.jsxs("div",{className:"p-1 h-[300px] flex flex-col",children:[["free","quick","reasoning","math","image"].map(D=>{const z=n6e[D],Y=z.icon,Q=D==="free"&&t===nn.free||D==="quick"&&t===nn.quick||D==="reasoning"&&(t===nn.reasoning_on||t===nn.reasoning_off)||D==="math"&&t===nn.math||D==="image"&&t===nn.image,te=D==="reasoning"?o?nn.reasoning_on:nn.reasoning_off:nn[D],Z=C(te),J=oi[te],V=!Z,E=b&&!(J!=null&&J.supportsVision)||(J==null?void 0:J.disabled);return l.jsxs(fn,{onClick:()=>A(D),className:`flex items-center gap-2 px-3 py-1.5 cursor-pointer ${E?"opacity-50 cursor-not-allowed":""} ${V?"hover:bg-purple-50 dark:hover:bg-purple-950/20":""}`,disabled:E,children:[l.jsx(Y,{className:"h-4 w-4 opacity-70"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-sm font-medium",children:z.label}),V&&l.jsx(vg,{className:"h-3 w-3 opacity-50"})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:z.description})]}),Q&&l.jsx(jt,{className:"h-4 w-4"})]},D)}),l.jsx(Td,{}),l.jsxs(fn,{onSelect:D=>{D.preventDefault(),v(!0)},className:"flex items-center gap-2 px-3 py-1.5 cursor-pointer",children:[l.jsx(nS,{className:"h-4 w-4 opacity-70 rotate-180"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Advanced"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"All models"})]})]})]})})]}),l.jsx(IG,{open:p,onOpenChange:m,feature:"model",modelName:g})]})}function s6e({open:e,onOpenChange:t,hasProAccess:r}){const n=ws(),s=()=>{t(!1),n({to:"/pricing"})},i=()=>{t(!1),n({to:"/downloads"})};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-md",children:[l.jsxs(pn,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:l.jsx(Xo,{className:"h-8 w-8"})}),l.jsx(mn,{children:"Document Upload on Mobile & Desktop"})]}),l.jsx(Pn,{className:"text-base",children:r?"You have access to document upload! Download our apps to use this feature.":"Document upload is available on our mobile and desktop apps with Pro plan and above."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center p-4 rounded-lg border bg-card",children:[l.jsx(HF,{className:"h-8 w-8 mb-2 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:"Desktop"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"macOS  Linux"})]}),l.jsxs("div",{className:"flex flex-col items-center p-4 rounded-lg border bg-card",children:[l.jsx(oS,{className:"h-8 w-8 mb-2 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:"Mobile"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"iOS  Android (beta)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Features include:"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Local PDF processing - files are processed on your device"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Support for PDF, TXT, and Markdown files"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Extracted text is secured with end-to-end encryption"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Files up to 10MB supported"})]})]})]}),!r&&l.jsx("div",{className:"pt-2 border-t",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Upgrade to Pro to unlock document upload along with voice recording, powerful models, and more."})})]}),l.jsx(Rs,{className:"gap-2 sm:gap-0",children:r?l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"outline",onClick:()=>t(!1),children:"Close"}),l.jsxs(Me,{onClick:i,className:"gap-2",children:[l.jsx(oS,{className:"h-4 w-4"}),"Get Apps"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"outline",onClick:()=>t(!1),children:"Maybe Later"}),l.jsxs(Me,{onClick:s,className:"gap-2",children:[l.jsx(fc,{className:"h-4 w-4"}),"View Plans"]})]})})]})})}function i6e({open:e,onOpenChange:t,currentModel:r,hasDocument:n}){const s=r==null?void 0:r.includes("gemma");return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-md",children:[l.jsxs(pn,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10 text-orange-500",children:l.jsx(As,{className:"h-8 w-8"})}),l.jsx(mn,{children:"Message Too Large"})]}),l.jsx(Pn,{className:"text-base",children:"Your message exceeds the context limit for the current model."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Here's what you can try:"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(mv,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Shorten your message"})," - Try reducing the amount of text or content"]})]}),n&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(mv,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Use a smaller document"})," - Try uploading a shorter document or extracting only the relevant sections"]})]}),s&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(mv,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Switch to a model with more context"})," - Try DeepSeek R1 or other models that support 128k tokens"]})]})]})]})}),l.jsx(Rs,{children:l.jsx(Me,{onClick:()=>t(!1),children:"Got it"})})]})})}function yj({isRecording:e,isProcessing:t=!1,onSend:r,onCancel:n,isCompact:s=!1,className:i}){const[a,o]=x.useState(0),c=x.useRef(0),u=x.useRef();x.useEffect(()=>{if(e&&!t){c.current=Date.now();const p=()=>{const m=Math.floor((Date.now()-c.current)/1e3);o(m),u.current=requestAnimationFrame(p)};return u.current=requestAnimationFrame(p),()=>{u.current&&cancelAnimationFrame(u.current)}}},[e,t]);const d=p=>{const m=Math.floor(p/60),g=p%60;return`${m}:${g.toString().padStart(2,"0")}`},h=x.useMemo(()=>{const m=[];let w=12345;const y=()=>(w=(w*9301+49297)%233280,w/233280);for(let v=0;v<30;v++){const b=35+Math.sin(v/30*Math.PI*2)*20,k=y()*15,C=b+k,A=.8+y()*.4,R=v/30*.3;m.push({height:C,animationDuration:A,animationDelay:R})}return m},[]),f=()=>h.map((p,m)=>l.jsx("div",{className:"flex-shrink-0 bg-primary/40 rounded-full",style:{width:"2px",height:`${p.height}%`,animation:e?`pulse ${p.animationDuration}s ease-in-out ${p.animationDelay}s infinite`:"none",transition:"height 0.3s ease-out"}},m));return e?l.jsxs("div",{className:Ht("absolute inset-0 z-40 flex items-center justify-center","animate-in fade-in duration-200",i),children:[l.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scaleY(0.5); opacity: 0.6; }
            50% { transform: scaleY(1); opacity: 1; }
          }
        `}),l.jsxs("div",{className:"w-full h-full rounded-lg bg-background/95 backdrop-blur-sm border border-primary/20 relative overflow-hidden flex flex-col items-center justify-center p-4",children:[l.jsxs("div",{className:"absolute top-3 left-3 right-3 flex justify-between",children:[l.jsx(Me,{onClick:n,variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted","aria-label":"Cancel recording",disabled:t,children:l.jsx(Jn,{className:"h-4 w-4"})}),l.jsx(Me,{onClick:r,size:s?"icon":"sm",className:Ht(s?"rounded-full":"gap-1.5"),"aria-label":"Send recording",disabled:t,children:t?l.jsx(Ar,{className:Ht(s?"h-4 w-4":"h-3.5 w-3.5","animate-spin")}):s?l.jsx(mT,{className:"h-4 w-4"}):l.jsxs(l.Fragment,{children:[l.jsx(mT,{className:"h-3.5 w-3.5"}),"Send"]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-md w-full",children:[!s&&l.jsx("div",{className:"flex items-center justify-center h-12 w-full gap-0.5 px-4",children:f()}),l.jsx("div",{className:"text-2xl font-mono text-muted-foreground",children:d(a)}),!s&&l.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:t?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),"Recording"]})})]})]})]}):null}function a6e({open:e,onOpenChange:t,onConfirm:r}){return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"sm:max-w-md",children:[l.jsxs(pn,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-500",children:l.jsx(Op,{className:"h-8 w-8"})}),l.jsx(mn,{children:"Live Web Search"})]}),l.jsx(Pn,{className:"text-base",children:"When toggled on, Maple will automatically search the web when your question requires current or real-time information."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"What you get:"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Live web search powered by Brave"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Get up-to-date information from the internet"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Search queries are sent to Brave but not linked to your identity"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Results are processed privately and securely"})]}),l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(jt,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"Perfect for current events, research, and fact-checking"})]})]})]}),l.jsx("div",{className:"pt-2 border-t",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the globe icon anytime to toggle web search on or off for your messages."})})]}),l.jsx(Rs,{children:l.jsx(Me,{onClick:r,className:"w-full",children:"Got it"})})]})})}function li(e,t){const r=new Map;return e.forEach(n=>r.set(n.id,n)),t.forEach(n=>r.set(n.id,n)),Array.from(r.values())}function u3(e){return e.filter(t=>{const r=t!=null&&typeof t=="object"&&"id"in t&&"type"in t;return!r&&t!=null&&console.warn("Invalid conversation item filtered from API response:",t),r})}function o6e(e){const[t,r]=x.useState(!1),n=x.useCallback(async()=>{try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(s){console.error("Failed to copy text:",s)}},[e]);return{isCopied:t,handleCopy:n}}function l6e({text:e}){const{isCopied:t,handleCopy:r}=o6e(e);return l.jsx(Me,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-muted-foreground hover:text-foreground",onClick:r,"aria-label":t?"Copied":"Copy to clipboard",children:t?l.jsx(jt,{className:"h-3.5 w-3.5"}):l.jsx(Th,{className:"h-3.5 w-3.5"})})}function d3({tool:e,toolOutput:t}){const[r,n]=x.useState(!1);if(e.type==="web_search_call"){const s=e,i=s.status==="in_progress"?"Searching the web...":s.status==="searching"?"Searching...":s.status==="completed"?"Searched the web":"Search failed",a=s.status==="in_progress"||s.status==="searching";return l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/30 px-3 py-2 rounded-md mb-2",children:[a?l.jsx(Ar,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(aS,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:i})]})}if(e.type==="function_call"){const s=e;let i="";try{i=JSON.parse(s.arguments).query||""}catch{}if(t){const o=t.output||"",c=o.length>150?o.substring(0,150)+"...":o,u=o.length>150,d=s.name==="web_search";if(d)return l.jsxs("div",{className:"text-sm bg-muted/20 border border-muted/40 rounded-lg px-4 py-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(aS,{className:"h-4 w-4 text-primary flex-shrink-0"}),l.jsx("span",{className:"font-medium text-foreground",children:i?`Searched: "${i}"`:"Web Search"})]}),l.jsxs("div",{className:"pl-6 text-foreground/80",children:[l.jsx(Wd,{content:r?o:c,fontSize:14}),u&&l.jsx("button",{onClick:()=>n(!r),className:"ml-2 text-xs text-primary hover:text-primary/80 font-medium",children:r?"Show less":"Show more"})]})]});const h=d?i?`Searched for "${i}"`:"Web search completed":`Tool "${s.name}" completed`;return l.jsxs("div",{className:"text-sm bg-muted/20 border border-muted/40 rounded-lg px-4 py-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jt,{className:"h-4 w-4 text-green-600 dark:text-green-400 flex-shrink-0"}),l.jsx("span",{className:"font-medium text-foreground",children:h})]}),l.jsxs("div",{className:"pl-6 text-foreground/80",children:[l.jsx(Wd,{content:r?o:c,fontSize:14}),u&&l.jsx("button",{onClick:()=>n(!r),className:"ml-2 text-xs text-primary hover:text-primary/80 font-medium",children:r?"Show less":"Show more"})]})]})}return s.name==="web_search"?l.jsxs("div",{className:"flex items-center gap-2 text-sm bg-muted/30 px-3 py-2 rounded-md mb-2",children:[l.jsx(Ar,{className:"h-4 w-4 text-primary animate-spin flex-shrink-0"}),l.jsx("span",{className:"text-foreground",children:i?`Searching for "${i}"...`:"Searching the web..."})]}):l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/30 px-3 py-2 rounded-md mb-2",children:[l.jsx(Ar,{className:"h-3.5 w-3.5 animate-spin"}),l.jsx("span",{children:i?`Searching for "${i}"...`:"Running tool..."})]})}if(e.type==="function_call_output"){const i=e.output||"",a=i.length>150?i.substring(0,150)+"...":i,o=i.length>150;return l.jsxs("div",{className:"text-sm bg-muted/20 border border-muted/40 rounded-lg px-4 py-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jt,{className:"h-4 w-4 text-green-600 dark:text-green-400 flex-shrink-0"}),l.jsx("span",{className:"font-medium text-foreground",children:"Tool Result"})]}),l.jsxs("div",{className:"pl-6 text-foreground/80",children:[l.jsx(Wd,{content:r?i:a,fontSize:14}),o&&l.jsx("button",{onClick:()=>n(!r),className:"ml-2 text-xs text-primary hover:text-primary/80 font-medium",children:r?"Show less":"Show more"})]})]})}return null}const jG=x.memo(({messages:e,isGenerating:t,chatId:r,firstMessageRef:n,isLoadingOlderMessages:s})=>{const{callMap:i,outputMap:a}=x.useMemo(()=>{const o=new Map,c=new Map;return e.forEach(u=>{u.type==="function_call"?o.set(u.call_id,u):u.type==="function_call_output"&&c.set(u.call_id,u)}),{callMap:o,outputMap:c}},[e]);return l.jsxs(l.Fragment,{children:[s&&l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-75"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-150"})]})}),e.map((o,c)=>{const u=o.type;if(u==="function_call"){const d=o,h=a.get(d.call_id);return l.jsx("div",{ref:c===0?n:void 0,className:"py-2 px-4",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(d3,{tool:d,toolOutput:h})})},o.id)}if(u==="function_call_output"){const d=o;return i.get(d.call_id)?null:l.jsx("div",{ref:c===0?n:void 0,className:"py-2 px-4",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(d3,{tool:d})})},o.id)}if(u==="web_search_call"){const d=o;return l.jsx("div",{ref:c===0?n:void 0,className:"py-2 px-4",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(d3,{tool:d})})},o.id)}if(u==="message"){const d=o,h=d.role==="assistant"&&d.status==="in_progress";return(!d.content||d.content.length===0)&&!h?null:l.jsx("div",{ref:c===0?n:void 0,className:`group py-6 px-4 ${d.role==="user"?"bg-muted/30":""}`,children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-3 max-w-4xl mx-auto",children:[l.jsx("div",{className:"flex-shrink-0",children:d.role==="user"?l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(wg,{className:"h-4 w-4 text-primary"})}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(gb,{className:"h-4 w-4 text-primary"})})}),l.jsx("div",{className:"flex-1 overflow-hidden w-full md:w-auto",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"font-semibold text-sm",children:d.role==="user"?"You":"Maple"}),l.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:l.jsx("div",{className:"space-y-3",children:d.content.map((f,p)=>(f.type==="input_text"||f.type==="output_text"||f.type==="text")&&"text"in f&&f.text?l.jsx("div",{children:l.jsx(Wd,{content:f.text,loading:d.status==="streaming",chatId:r||""})},p):f.type==="input_image"&&"image_url"in f&&f.image_url?l.jsx("div",{children:l.jsx("img",{src:f.image_url,alt:`Image ${p+1}`,className:"max-w-full rounded-lg",style:{maxHeight:"400px",objectFit:"contain"}})},p):null)})}),d.role==="assistant"&&d.status==="in_progress"&&l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-75"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-150"})]}),d.role==="assistant"&&d.status==="incomplete"&&l.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-md mt-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),l.jsx("span",{children:"Chat Canceled"})]}),d.role==="assistant"&&d.content&&d.content.length>0&&l.jsx("div",{className:"flex gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:l.jsx(l6e,{text:d.content.filter(f=>"text"in f&&f.text).map(f=>"text"in f?f.text:"").join("")})})]})})]})},d.id)}return null}),t&&!e.some(o=>o.type==="message"&&o.role==="assistant"&&(o.status==="streaming"||o.status==="in_progress"))&&l.jsx("div",{className:"group py-6 px-4",children:l.jsxs("div",{className:"flex gap-3 max-w-4xl mx-auto",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(gb,{className:"h-4 w-4 text-primary"})})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"font-semibold text-sm",children:"Maple"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-75"}),l.jsx("div",{className:"w-2 h-2 bg-foreground/60 rounded-full animate-pulse delay-150"})]})]})]})})]})});jG.displayName="MessageList";function c6e(){var Fe,Oe,De,qe,Qt,wr;const e=f_(),t=wH(),r=xa(),n=qr(),s=Ao(),i=Wa(),[a,o]=x.useState(()=>new URLSearchParams(window.location.search).get("conversation_id")||void 0),[c,u]=x.useState(null),[d,h]=x.useState([]),[f,p]=x.useState(""),[m,g]=x.useState(!1),[w,y]=x.useState(!e),[v,b]=x.useState(null),[k,C]=x.useState(),[A,R]=x.useState(!1),[O,F]=x.useState(),[j,D]=x.useState(!1),[z,Y]=x.useState(),[Q,te]=x.useState(!1),[Z,J]=x.useState(!1),[V,re]=x.useState([]),[E,N]=x.useState(new Map),[L,M]=x.useState(""),[G,W]=x.useState(""),[se,X]=x.useState(!1),[me,be]=x.useState(null),[ge,Ee]=x.useState(!1),[Re,je]=x.useState("image"),[Ie,Ve]=x.useState(!1),[He,we]=x.useState(!1),[Ne,Je]=x.useState(!1),[oe,xe]=x.useState(!1),[rt,nt]=x.useState(!1),[tr,Yt]=x.useState(!1),[ae,fe]=x.useState(null),[Le,Ge]=x.useState(!1),[kt,ce]=x.useState(()=>localStorage.getItem("chatFullscreen")==="true"),[pe,Ae]=x.useState(!1);x.useEffect(()=>{localStorage.setItem("chatFullscreen",kt.toString())},[kt]);const $e=x.useCallback(()=>{Ae(!0),ce(ye=>!ye),setTimeout(()=>Ae(!1),300)},[]),[pt,Xt]=x.useState(0),vr=x.useRef(null),[Wt,at]=x.useState(!1),ct=x.useRef(0),yt=x.useRef(!1),[_t,xr]=x.useState(!1),kr=x.useRef(null),Mr=x.useRef(null),_r=x.useRef(!1),Ci=x.useRef(null),wa=x.useRef(null),jo=x.useRef(null),ii=x.useRef(null),Zr=x.useRef(null),qn=x.useRef(null),I=x.useRef(null),U=x.useCallback(()=>{E.forEach(ye=>URL.revokeObjectURL(ye)),N(new Map),re([]),M(""),W(""),be(null)},[E]);x.useEffect(()=>{if(ii.current){ii.current.style.height="auto";const ye=ii.current.scrollHeight;ii.current.style.height=`${Math.min(ye,200)}px`}},[f]),x.useEffect(()=>{e||!m&&ii.current&&!ii.current.disabled&&setTimeout(()=>{var ye;(ye=ii.current)==null||ye.focus()},100)},[e,m,d.length,a]);const B=x.useCallback(()=>{const ye=qn.current;if(!ye)return;const{scrollTop:Se,scrollHeight:ee,clientHeight:Ye}=ye,dt=ee-Se-Ye<100;at(!dt)},[]),S=x.useCallback((ye="smooth")=>{qn.current&&qn.current.scrollTo({top:qn.current.scrollHeight,behavior:ye})},[]);x.useEffect(()=>{const ye=qn.current;if(ye)return ye.addEventListener("scroll",B),B(),()=>ye.removeEventListener("scroll",B)},[B]),x.useEffect(()=>{d.length>0&&ct.current===0&&!Q&&setTimeout(()=>{S("instant")},0),Q||(ct.current=d.length)},[d.length,S,Q]);const K=d.length>0?d[d.length-1].id:null,he=x.useRef(K);x.useEffect(()=>{K!==he.current&&d.length>0&&d[d.length-1].type==="message"&&d[d.length-1].role==="user"&&setTimeout(()=>{S("smooth")},50),he.current=K},[K,d,S]),x.useEffect(()=>{const ye=d.some(Se=>Se.type==="message"&&Se.status==="streaming");ye&&!yt.current&&!Wt&&setTimeout(()=>{const Se=qn.current;if(Se){const ee=Se.scrollTop,Ye=Se.scrollHeight-Se.clientHeight,dt=Math.min(ee+100,Ye);Se.scrollTo({top:dt,behavior:"smooth"})}},100),yt.current=ye},[d,Wt]),x.useEffect(()=>{_t&&(setTimeout(()=>{S("smooth")},100),xr(!1))},[_t,S]),x.useEffect(()=>{const ye=()=>{o(void 0),u(null),h([]),p(""),b(null),C(void 0),Y(void 0),J(!1),te(!1),U(),ct.current=0},Se=Ye=>{const{conversationId:dt}=Ye.detail;dt&&dt!==a&&(ct.current=0,o(dt),b(null))},ee=()=>{const dt=new URLSearchParams(window.location.search).get("conversation_id")||void 0;dt!==a&&(ct.current=0,o(dt))};return window.addEventListener("newchat",ye),window.addEventListener("conversationselected",Se),window.addEventListener("popstate",ee),()=>{window.removeEventListener("newchat",ye),window.removeEventListener("conversationselected",Se),window.removeEventListener("popstate",ee)}},[a,U]);const ve=x.useCallback(async()=>{var ye;if(!(!O||!t))try{await t.responses.cancel(O),g(!1),F(void 0),(ye=Ci.current)==null||ye.abort(),Ci.current=null,_r.current=!1}catch(Se){console.error("Failed to cancel response:",Se),b("Failed to cancel response. Please try again.")}},[O,t]),Pe=x.useCallback(async ye=>{if(t){ct.current=0;try{const Se=t.conversations.retrieve(ye),Ye=await t.conversations.items.list(ye,{limit:10,order:"desc"}),dt=u3(Ye.data),ht=dt.reverse();if(h(ht),dt.length>0){const $t=ht[0].id;Y($t);const cr=dt.length===10;J(cr)}else Y(void 0),J(!1);const Lt=Ye.data.find($t=>$t.status!=="in_progress");Lt&&C(Lt.id);const Zt=await Se;u(Zt)}catch(Se){const ee=Se;if(ee.status===404){u(null),h([]),b(null),Y(void 0),J(!1);const Ye=new URLSearchParams(window.location.search);Ye.delete("conversation_id"),window.history.replaceState({},"",Ye.toString()?`/?${Ye}`:"/")}else console.error("Failed to load conversation:",Se),b(ee.message||"Failed to load conversation")}}},[t]),Ke=x.useCallback(async()=>{if(!(!(c!=null&&c.id)||!t||!z||Q)){te(!0);try{const ye=await t.conversations.items.list(c.id,{limit:10,order:"desc",after:z}),Se=u3(ye.data);if(Se.length>0){const ee=Se.reverse();h(ht=>li(ee,ht));const Ye=ee[0].id,dt=Se.length===10;Y(Ye),J(dt)}else J(!1)}catch(ye){console.error("Failed to load older messages:",ye)}finally{te(!1)}}},[c==null?void 0:c.id,t,z,Q]),Ot=x.useCallback(async()=>{if(!(!(c!=null&&c.id)||!t)&&!_r.current)try{const ye=await t.conversations.items.list(c.id,{...k?{after:k,order:"asc"}:{},limit:20});if(ye.data.length>0){const Se=u3(ye.data);if(Se.length>0){h(Ye=>{const dt=new Set(Ye.map(Lt=>Lt.id));return Se.filter(Lt=>!dt.has(Lt.id)).length>0&&xr(!0),li(Ye,Se)});const ee=[...ye.data].reverse().find(Ye=>Ye.status!=="in_progress");ee&&C(ee.id),m&&Se.some(Ye=>Ye.type==="message"&&Ye.role==="assistant"&&(Ye.status==="completed"||Ye.status==="incomplete"))&&g(!1)}}}catch(ye){console.error("Polling error:",ye)}},[c==null?void 0:c.id,k,m,t]);x.useEffect(()=>{if(A){R(!1);return}a&&t?Pe(a):a||(u(null),h([]),C(void 0),Y(void 0),J(!1),te(!1),ct.current=0)},[a,t,Pe]),x.useEffect(()=>{if(!(c!=null&&c.id)||!t)return;const ye=[2e3,5e3,1e4,15e3,2e4,3e4,6e4];let Se=0,ee;const Ye=()=>{const dt=ye[Math.min(Se,ye.length-1)];ee=setTimeout(()=>{Ot(),Se<ye.length-1&&Se++,Ye()},dt)};return Ye(),()=>{ee&&clearTimeout(ee)}},[c==null?void 0:c.id,t,Ot]),x.useEffect(()=>{var ht;const ye=(ht=c==null?void 0:c.metadata)==null?void 0:ht.title;if(!(c!=null&&c.id)||!t||ye!=="New Conversation")return;let Se=500;const ee=1e4;let Ye;const dt=async()=>{var Lt;try{const Zt=await t.conversations.retrieve(c.id),$t=(Lt=Zt.metadata)==null?void 0:Lt.title;if($t&&$t!=="New Conversation"){u(Zt),D(!0),setTimeout(()=>D(!1),850),i.invalidateQueries({queryKey:["conversations"]});return}Se=Math.min(Se*2,ee),Ye=setTimeout(dt,Se)}catch(Zt){console.error("Failed to check title update:",Zt),Se=Math.min(Se*2,ee),Ye=setTimeout(dt,Se)}};return Ye=setTimeout(dt,Se),()=>{Ye&&clearTimeout(Ye)}},[c==null?void 0:c.id,(Fe=c==null?void 0:c.metadata)==null?void 0:Fe.title,t,i]),x.useEffect(()=>{if(!I.current||!Z)return;const ye=new IntersectionObserver(Se=>{Se[0].isIntersecting&&Z&&!Q&&Ke()},{root:qn.current,rootMargin:"100px",threshold:.1});return ye.observe(I.current),()=>{ye.disconnect()}},[Z,Q,Ke]),x.useEffect(()=>{if(v){const ye=setTimeout(()=>{b(null)},3e3);return()=>clearTimeout(ye)}},[v]),x.useEffect(()=>()=>{vr.current!==null&&(window.clearTimeout(vr.current),vr.current=null)},[]);const gt=x.useCallback(()=>y(ye=>!ye),[]),Wr=x.useCallback(()=>{const ye=pt+1;Xt(ye),vr.current!==null&&window.clearTimeout(vr.current),vr.current=window.setTimeout(()=>{Xt(0)},2e3),ye>=7&&(console.log("Easter egg activated! "),Xt(0),vr.current!==null&&window.clearTimeout(vr.current))},[pt]),ut=r.billingStatus,nr=ut&&(((Oe=ut.product_name)==null?void 0:Oe.toLowerCase().includes("pro"))||((De=ut.product_name)==null?void 0:De.toLowerCase().includes("max"))||((qe=ut.product_name)==null?void 0:qe.toLowerCase().includes("team"))),br=ut&&(((Qt=ut.product_name)==null?void 0:Qt.toLowerCase().includes("starter"))||nr),gr=nr,lr=nr&&r.hasWhisperModel,dr=nr,hr=x.useCallback(ye=>{if(!ye.target.files)return;const Se=["image/jpeg","image/jpg","image/png","image/webp"],ee=10*1024*1024,Ye=Array.from(ye.target.files).filter(ht=>Se.includes(ht.type.toLowerCase())?ht.size>ee?(be("Image too large (max 10MB)"),setTimeout(()=>be(null),5e3),!1):!0:(be("Only JPEG, PNG, and WebP images are supported"),setTimeout(()=>be(null),5e3),!1)),dt=new Map(E);Ye.forEach(ht=>{dt.has(ht)||dt.set(ht,URL.createObjectURL(ht))}),N(dt),re(ht=>[...ht,...Ye]),ye.target.value=""},[E,r]),At=x.useCallback(ye=>{re(Se=>{const ee=Se[ye],Ye=E.get(ee);return Ye&&(URL.revokeObjectURL(Ye),N(dt=>{const ht=new Map(dt);return ht.delete(ee),ht})),Se.filter((dt,ht)=>ht!==ye)})},[E]),Vt=x.useCallback(async ye=>{var Ye,dt;const Se=(Ye=ye.target.files)==null?void 0:Ye[0];if(!Se)return;const ee=10*1024*1024;if(Se.size>ee){be("Document too large (max 10MB)"),setTimeout(()=>be(null),5e3),ye.target.value="";return}X(!0),be(null);try{if(Se.name.endsWith(".txt")||Se.name.endsWith(".md")){const ht=await Se.text(),Lt={document:{filename:Se.name,text_content:ht}};M(JSON.stringify(Lt)),W(Se.name)}else if(Se.name.endsWith(".pdf")&&s){const ht=new FileReader,Lt=await new Promise((cr,st)=>{ht.onload=()=>{const Bt=ht.result.split(",")[1];cr(Bt)},ht.onerror=st,ht.readAsDataURL(Se)}),{invoke:Zt}=await qi(async()=>{const{invoke:cr}=await Promise.resolve().then(()=>xo);return{invoke:cr}},void 0),$t=await Zt("extract_document_content",{fileBase64:Lt,filename:Se.name,fileType:"pdf"});if((dt=$t.document)!=null&&dt.text_content){const cr={document:{filename:$t.document.filename,text_content:$t.document.text_content.replace(/!\[Image\]\([^)]+\)/g,"")}};M(JSON.stringify(cr)),W(Se.name)}}else Se.name.endsWith(".pdf")&&(be("PDF files can only be processed in the desktop app"),setTimeout(()=>be(null),5e3))}catch(ht){console.error("Document processing error:",ht),be("Failed to process document"),setTimeout(()=>be(null),5e3)}finally{X(!1),ye.target.value=""}},[s]),xt=x.useCallback(()=>{M(""),W("")},[]),Rt=async()=>{if(!(oe||rt)){if(!lr){je("voice"),Ee(!0);return}try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){fe("Microphone access is blocked. Please check your browser permissions or disable Lockdown Mode for this site (Settings > Safari > Advanced > Lockdown Mode)."),setTimeout(()=>fe(null),8e3);return}const ye=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!0,autoGainControl:!1,sampleRate:16e3}});Mr.current=ye;const Se=new RT(ye,{type:"audio",mimeType:"audio/wav",recorderType:RT.StereoAudioRecorder,numberOfAudioChannels:1,desiredSampRate:16e3});kr.current=Se,Se.startRecording(),xe(!0),fe(null)}catch(ye){console.error("Failed to start recording:",ye);const Se=ye;Se.name==="NotAllowedError"||Se.name==="PermissionDeniedError"?fe("Microphone access denied. Please enable microphone permissions in Settings > Maple."):Se.name==="NotFoundError"||Se.name==="DevicesNotFoundError"?fe("No microphone found. Please check your device."):Se.name==="NotReadableError"||Se.name==="TrackStartError"?fe("Microphone is already in use by another app."):fe(`Failed to access microphone: ${Se.name||"Unknown error"} - ${Se.message||"Please try again"}`),setTimeout(()=>fe(null),5e3)}}},It=(ye=!1)=>{kr.current&&oe&&(ye?Yt(!0):xe(!1),kr.current.stopRecording(async()=>{var Ye;const Se=(Ye=kr.current)==null?void 0:Ye.getBlob();if(!Se||Se.size===0){console.error("No audio recorded or empty recording"),ye&&(fe("No audio was recorded. Please try again."),setTimeout(()=>fe(null),5e3)),Mr.current&&(Mr.current.getTracks().forEach(dt=>dt.stop()),Mr.current=null),kr.current=null,Yt(!1),xe(!1);return}const ee=new File([Se],"recording.wav",{type:"audio/wav"});if(ye){nt(!0);try{const ht=(await n.transcribeAudio(ee,"whisper-large-v3")).text.trim();if(ht){const Lt=f?`${f} ${ht}`:ht;p(""),U(),xe(!1),nt(!1),Yt(!1),await Ce(void 0,Lt)}else fe("No speech detected. Please try again."),setTimeout(()=>fe(null),5e3)}catch(dt){console.error("Transcription failed:",dt),fe("Failed to transcribe audio. Please try again."),setTimeout(()=>fe(null),5e3)}finally{nt(!1),Yt(!1),xe(!1)}}Mr.current&&(Mr.current.getTracks().forEach(dt=>dt.stop()),Mr.current=null),kr.current=null}))},mt=x.useCallback(async ye=>{var Ye,dt,ht,Lt,Zt;let Se,ee="";for await(const $t of ye){const cr=$t.type;if(console.log(" SSE Event:",cr,$t),cr==="response.created"){const st=$t;(Ye=st.response)!=null&&Ye.id&&F(st.response.id)}else if(cr==="response.output_item.added"&&((dt=$t.item)==null?void 0:dt.type)==="message"){const st=$t;if((ht=st.item)!=null&&ht.id){Se=st.item.id;const Bt={id:Se,type:"message",role:"assistant",content:[],status:"in_progress"};h(Ft=>li(Ft,[Bt]))}}else if(cr==="response.output_item.added"&&((Lt=$t.item)==null?void 0:Lt.type)==="web_search_call"){const st=$t;if((Zt=st.item)!=null&&Zt.id){const Bt={id:st.item.id,type:"web_search_call",status:"in_progress"};h(Ft=>li(Ft,[Bt]))}}else if(cr==="response.web_search_call.in_progress"){const st=$t;st.item_id&&h(Bt=>{const Ft=Bt.find(Sr=>Sr.id===st.item_id);if(Ft&&Ft.type==="web_search_call"){const Sr={...Ft,status:"in_progress"};return li(Bt,[Sr])}return Bt})}else if(cr==="response.web_search_call.searching"){const st=$t;st.item_id&&h(Bt=>{const Ft=Bt.find(Sr=>Sr.id===st.item_id);if(Ft&&Ft.type==="web_search_call"){const Sr={...Ft,status:"searching"};return li(Bt,[Sr])}return Bt})}else if(cr==="response.web_search_call.completed"){const st=$t;st.item_id&&h(Bt=>{const Ft=Bt.find(Sr=>Sr.id===st.item_id);if(Ft&&Ft.type==="web_search_call"){const Sr={...Ft,status:"completed"};return li(Bt,[Sr])}return Bt})}else if(cr==="tool_call.created"){const st=$t;if(st.tool_call_id){const Bt={id:st.tool_call_id,call_id:st.tool_call_id,type:"function_call",name:st.name||"function",arguments:JSON.stringify(st.arguments||{}),status:"in_progress"};h(Ft=>li(Ft,[Bt]))}}else if(cr==="tool_output.created"){const st=$t;if(st.tool_output_id&&st.tool_call_id){const Bt={id:st.tool_output_id,call_id:st.tool_call_id,type:"function_call_output",output:st.output||"",status:"completed"};h(Ft=>{const Sr=li(Ft,[Bt]),vn=Sr.find(xn=>xn.type==="function_call"&&xn.call_id===st.tool_call_id);if(vn){const xn={...vn,status:"completed"};return li(Sr,[xn])}return Sr})}}else if(cr==="response.output_text.delta"&&$t.delta){const st=$t.delta;ee+=st,Se&&h(Bt=>{const Ft=Bt.find(Sr=>Sr.id===Se);if(Ft&&Ft.type==="message"){const xn={...Ft,content:[{type:"output_text",text:ee,annotations:[]}],status:"streaming"};return li(Bt,[xn])}return Bt})}else if(cr==="response.output_item.done")Se&&(h(st=>{const Bt=st.find(Ft=>Ft.id===Se);if(Bt){const Ft={...Bt,status:"completed"};return li(st,[Ft])}return st}),C(Se));else if(cr==="response.failed"||cr==="error")console.error("Streaming error:",$t),Se&&h(st=>{const Bt=st.find(Ft=>Ft.id===Se);if(Bt){const Ft={...Bt,status:"error"};return li(st,[Ft])}return st}),b("Failed to generate response. Please try again.");else if(cr==="response.cancelled"){Se&&h(st=>{const Bt=st.find(Ft=>Ft.id===Se);if(Bt){const Ft={...Bt,status:"incomplete"};return li(st,[Ft])}return st});break}}},[]),Ce=x.useCallback(async(ye,Se)=>{var Sr,vn,xn;ye==null||ye.preventDefault();const Ye=(Se||f).trim();if(!(Ye||V.length>0||L)||m||!t)return;b(null);const ht=[];let Lt=Ye;if(L&&(Lt=L+(Ye?`

${Ye}`:"")),Lt){const zr={type:"input_text",text:Lt};ht.push(zr)}for(const zr of V)try{const td={type:"input_image",image_url:await K0e(zr),detail:"auto",file_id:null};ht.push(td)}catch(on){console.error("Failed to convert image:",on)}const Zt=Dp(),$t={id:Zt,type:"message",role:"user",content:ht,status:"completed"};h(zr=>li(zr,[$t])),C(Zt);const cr=Ye,st=[...V],Bt=L,Ft=G;Se||(p(""),U()),g(!0);try{let zr=c==null?void 0:c.id;if(!zr){const Dh=await t.conversations.create({metadata:{}});zr=Dh.id,u(Dh);const Nc=new URLSearchParams(window.location.search);Nc.set("conversation_id",zr),window.history.replaceState(null,"",`${window.location.pathname}?${Nc.toString()}`),R(!0),o(zr),window.dispatchEvent(new Event("conversationcreated"))}const on=new AbortController;Ci.current=on;const td=await t.responses.create({conversation:zr,model:r.model||Hf,input:[{role:"user",content:ht}],metadata:{internal_message_id:Zt},stream:!0,store:!0,...Le&&{tools:[{type:"web_search"}]}},{signal:on.signal});_r.current=!0;try{await mt(td)}finally{_r.current=!1,F(void 0)}}catch(zr){console.error("Failed to send message:",zr);let on=zr instanceof Error?zr.message:"Something went wrong";const td=(Sr=zr==null?void 0:zr.cause)==null?void 0:Sr.message;td&&td.includes("Request failed with status")&&(on=td);let Dh=null;if(on.includes("Request failed with status 413:"))try{const Dn=on.match(/Request failed with status 413:\s*({.*})/);Dn&&Dn[1]&&(Dh=JSON.parse(Dn[1]))}catch(Dn){console.error("Failed to parse 413 error:",Dn)}if(Dh&&Dh.message==="Message exceeds context limit"){if(h(Dn=>Dn.filter(Ws=>Ws.id!==Zt)),!Se){p(cr),re(st);const Dn=new Map;for(const Ws of st)Dn.set(Ws,URL.createObjectURL(Ws));N(Dn),M(Bt),W(Ft)}we(!0),b("Your message exceeds the context limit for this model.");return}let Nc=null;if(on.includes("Request failed with status 403:"))try{const Dn=on.match(/Request failed with status 403:\s*({.*})/);Dn&&Dn[1]&&(Nc=JSON.parse(Dn[1]))}catch(Dn){console.error("Failed to parse 403 error:",Dn)}if(Nc){if(h(Dn=>Dn.filter(Ws=>Ws.id!==Zt)),!Se){p(cr),re(st);const Dn=new Map;for(const Ws of st)Dn.set(Ws,URL.createObjectURL(Ws));N(Dn),M(Bt),W(Ft)}if(Nc.message==="Free tier token limit exceeded")je("tokens"),Ee(!0),b("This conversation is too long for the free tier. Upgrade to Pro for longer conversations.");else if(Nc.message==="Usage limit reached")if(!(ut!=null&&ut.product_name)||ut.product_name.toLowerCase()==="free")je("usage"),Ee(!0),b("You've reached your daily usage limit. Upgrade to Pro for more chats.");else{je("usage"),Ee(!0);const Ws=((vn=ut.product_name)==null?void 0:vn.toLowerCase().includes("pro"))&&!((xn=ut.product_name)!=null&&xn.toLowerCase().includes("max"));b(Ws?"You've reached your monthly Pro limit. Upgrade to Max for 10x more usage.":"You've reached your monthly usage limit. Please wait for the next billing cycle.")}else b(Nc.message||"Access denied. Please check your subscription.")}else if(zr instanceof Error&&zr.name!=="AbortError")if((c==null?void 0:c.id)&&d.length>1&&(c!=null&&c.id))try{console.log("Waiting 1s before retry..."),await new Promise(rd=>setTimeout(rd,1e3)),console.log("Retrying request once...");const Ws=new AbortController;Ci.current=Ws;const T1=await t.responses.create({conversation:c.id,model:r.model||Hf,input:[{role:"user",content:ht}],metadata:{internal_message_id:Zt},stream:!0,store:!0,...Le&&{tools:[{type:"web_search"}]}},{signal:Ws.signal});_r.current=!0;try{await mt(T1),console.log("Retry completed successfully")}finally{_r.current=!1}return}catch(Ws){console.error("Retry failed:",Ws);try{if((await t.conversations.items.list(c.id,{limit:5,order:"desc"})).data.find(Xa=>Xa.id===Zt))console.log("Message found after retry failure - it actually went through");else{if(console.log("Message not found after retry - restoring input"),h(Xa=>Xa.filter(R1=>R1.id!==Zt)),!Se){p(cr),re(st);const Xa=new Map;for(const R1 of st)Xa.set(R1,URL.createObjectURL(R1));N(Xa),M(Bt),W(Ft)}b("Failed to send message. Please try again.")}}catch(T1){if(console.error("Final check failed:",T1),h(rd=>rd.filter(Xa=>Xa.id!==Zt)),!Se){p(cr),re(st);const rd=new Map;for(const Xa of st)rd.set(Xa,URL.createObjectURL(Xa));N(rd),M(Bt),W(Ft)}b("Failed to send message. Please try again.")}}else b(on+". Please try again.")}finally{g(!1),F(void 0),Ci.current=null,_r.current=!1}},[f,m,t,c,r.model,V,L,U,mt,Le]),Te=ye=>{ye.key==="Enter"&&!ye.shiftKey&&!e&&(ye.preventDefault(),Ce())};return l.jsxs("div",{className:`grid h-dvh min-h-0 w-full grid-cols-1 overflow-hidden ${w?"md:grid-cols-[280px_1fr]":""}`,children:[l.jsx(Av,{chatId:a,isOpen:w,onToggle:gt}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0 min-h-0 bg-background overflow-hidden relative",children:[v&&l.jsx("div",{className:"fixed top-16 left-1/2 -translate-x-1/2 z-50 w-full max-w-2xl px-4 md:left-[calc(50%+140px)]",children:l.jsxs(_n,{variant:"destructive",className:"bg-background",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:v})]})}),!w&&l.jsx("div",{className:"fixed top-[9.5px] left-4 z-20",children:l.jsx(LV,{onToggle:gt})}),d.length>0&&l.jsx("div",{className:"h-14 flex items-center px-4",children:l.jsxs("div",{className:"flex-1 flex items-center justify-center relative",children:[l.jsx("h1",{className:`text-base font-medium truncate max-w-[20rem] text-foreground transition-colors duration-300 ${j?"title-update-animation":""}`,children:((wr=c==null?void 0:c.metadata)==null?void 0:wr.title)||"Chat"}),!w&&l.jsx(Me,{variant:"outline",size:"icon",className:"absolute right-0 h-9 w-9",onClick:()=>{const ye=new URLSearchParams(window.location.search);ye.delete("conversation_id");const Se=ye.toString()?`${window.location.pathname}?${ye.toString()}`:window.location.pathname;window.history.replaceState(null,"",Se),window.dispatchEvent(new Event("newchat")),o(void 0),u(null),h([]),C(void 0),Y(void 0),J(!1),te(!1),w&&gt()},"aria-label":"New chat",children:l.jsx(k2,{className:"h-4 w-4"})})]})}),l.jsx("div",{ref:qn,className:"flex-1 min-h-0 overflow-y-auto overscroll-y-contain flex flex-col relative",children:d.length>0&&l.jsxs("div",{className:"max-w-4xl mx-auto p-6 w-full",children:[l.jsx("div",{className:"space-y-1",children:l.jsx(jG,{messages:d,isGenerating:m,chatId:a,firstMessageRef:I,isLoadingOlderMessages:Q})}),l.jsx("div",{ref:Zr})]})}),d.length===0&&!a?l.jsx("div",{className:`absolute inset-0 flex flex-col px-4 ${pe?"transition-all duration-300":""} ${kt?"justify-start pt-8":"justify-center"}`,children:l.jsxs("div",{className:`w-full mx-auto ${pe?"transition-all duration-300":""} ${kt?"max-w-6xl h-full flex flex-col":"max-w-4xl"}`,children:[!kt&&l.jsxs("div",{className:"flex flex-col items-center -mt-20 mb-16",children:[l.jsxs("div",{className:"flex items-center justify-center mb-3",onClick:Wr,style:{cursor:"default"},children:[l.jsx("img",{src:"/maple-leaf-and-maple-white.png",alt:"Maple",className:"h-12 hidden dark:block"}),l.jsx("img",{src:"/maple-leaf-and-maple-black.png",alt:"Maple",className:"h-12 block dark:hidden"})]}),l.jsx("p",{className:"text-xl font-light text-muted-foreground",children:"Private AI Chat"})]}),l.jsxs("div",{className:`flex flex-col items-center gap-6 ${kt?"flex-1 justify-center":""}`,children:[!kt&&l.jsx("h1",{className:"text-3xl font-medium text-foreground",children:"How can I help you today?"}),l.jsx("form",{onSubmit:Ce,className:"w-full relative",children:l.jsxs("div",{className:"space-y-2",children:[(V.length>0||G)&&l.jsxs("div",{className:"space-y-2",children:[V.length>0&&l.jsx("div",{className:"flex gap-2 flex-wrap",children:V.map((ye,Se)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:E.get(ye)||"",alt:`Attachment ${Se+1}`,className:"w-16 h-16 object-cover rounded-md border"}),l.jsx("button",{type:"button",onClick:()=>At(Se),className:"absolute -top-1 -right-1 bg-background border rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Jn,{className:"h-3 w-3"})})]},Se))}),G&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[l.jsx(Xo,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm truncate flex-1",children:G}),l.jsx("button",{type:"button",onClick:xt,className:"text-muted-foreground hover:text-foreground",children:l.jsx(Jn,{className:"h-3 w-3"})})]})]}),(me||ae)&&l.jsx("div",{className:"text-sm text-red-500 px-2",children:me||ae}),l.jsxs("div",{className:`relative rounded-xl border-2 border-border focus-within:border-purple-500 bg-background overflow-hidden ${pe?"transition-all duration-300":"transition-colors"} ${kt?"flex flex-col h-[70vh] max-h-[800px]":""}`,children:[l.jsx("button",{type:"button",onClick:$e,className:"absolute right-2 top-2 z-10 p-1.5 rounded-md text-muted-foreground/60 hover:text-foreground hover:bg-muted/50 transition-colors","aria-label":kt?"Exit fullscreen":"Enter fullscreen",children:kt?l.jsx(tle,{className:"h-4 w-4"}):l.jsx(Xoe,{className:"h-4 w-4"})}),l.jsx(Sg,{ref:ii,value:f,onChange:ye=>p(ye.target.value),onKeyDown:Te,placeholder:"Message Maple...",disabled:m||oe,className:`w-full resize-none px-5 pt-4 pb-2 pr-10 border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 placeholder:text-muted-foreground/60 text-base ${kt?"flex-1 min-h-0":"min-h-[120px] max-h-[200px]"}`,rows:kt?void 0:4,id:"message"}),l.jsxs("div",{className:"flex items-center justify-between px-3 pb-2 pt-1 border-t border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gj,{hasImages:V.length>0||d.some(ye=>{var Se;return ye.type==="message"&&((Se=ye.content)==null?void 0:Se.some(ee=>ee.type==="input_image"))})}),(r.model===nn.reasoning_on||r.model===nn.reasoning_off)&&l.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const ye=!r.thinkingEnabled;r.setThinkingEnabled(ye),r.setModel(ye?nn.reasoning_on:nn.reasoning_off)},"aria-label":r.thinkingEnabled?"Disable thinking mode":"Enable thinking mode",children:l.jsx(yb,{className:`h-4 w-4 ${r.thinkingEnabled?"text-purple-500":"text-muted-foreground"}`})}),l.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{if(!dr){je("websearch"),Ee(!0);return}if(!(localStorage.getItem("hasSeenWebSearchInfo")==="true")){localStorage.setItem("hasSeenWebSearchInfo","true"),Ge(!0),Je(!0);return}Ge(!Le)},"aria-label":Le?"Disable web search":"Enable web search",children:l.jsx(Op,{className:`h-4 w-4 ${Le?"text-blue-500":"text-muted-foreground"}`})}),l.jsxs(vh,{children:[l.jsx(xh,{asChild:!0,children:l.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0",disabled:se,children:l.jsx(iS,{className:"h-4 w-4"})})}),l.jsxs(zu,{align:"start",children:[l.jsxs(fn,{onClick:()=>{var ye;br?(ye=wa.current)==null||ye.click():(je("image"),Ee(!0))},children:[l.jsx(yg,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Add Images"})]}),l.jsxs(fn,{onClick:()=>{var ye;s?gr?(ye=jo.current)==null||ye.click():(je("document"),Ee(!0)):Ve(!0)},children:[l.jsx(Xo,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Add Document"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{type:"button",onClick:Rt,disabled:m||oe||!lr,size:"icon",variant:"ghost",className:"h-9 w-9 rounded-lg hover:bg-muted",children:l.jsx(xb,{className:"h-4 w-4"})}),m?l.jsx(Me,{type:"button",onClick:ve,size:"icon",variant:"destructive",className:"h-9 w-9 rounded-lg",children:l.jsx("div",{className:"h-3 w-3 bg-current rounded-sm"})}):l.jsx(Me,{type:"submit",disabled:!f.trim()&&!V.length&&!L,size:"icon",className:"h-9 w-9 rounded-lg",children:l.jsx(yT,{className:"h-4 w-4"})})]})]}),oe&&l.jsx(yj,{isRecording:oe,isProcessing:tr||rt,onSend:()=>It(!0),onCancel:()=>It(!1),isCompact:!1,className:"absolute inset-0 rounded-xl"})]})]})}),!kt&&l.jsx("p",{className:"text-sm text-center text-muted-foreground/60",children:"Encrypted at every step"}),kt&&l.jsxs("div",{className:"fixed bottom-4 right-4",children:[l.jsx("img",{src:"/maple-leaf-and-maple-white.png",alt:"Maple",className:"h-6 hidden dark:block"}),l.jsx("img",{src:"/maple-leaf-and-maple-black.png",alt:"Maple",className:"h-6 block dark:hidden"})]})]})]})}):l.jsx("div",{className:"bg-background pb-[env(safe-area-inset-bottom)]",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[l.jsx("form",{onSubmit:Ce,className:"relative",children:l.jsxs("div",{className:"space-y-2",children:[(V.length>0||G)&&l.jsxs("div",{className:"space-y-2",children:[V.length>0&&l.jsx("div",{className:"flex gap-2 flex-wrap",children:V.map((ye,Se)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:E.get(ye)||"",alt:`Attachment ${Se+1}`,className:"w-12 h-12 object-cover rounded-md border"}),l.jsx("button",{type:"button",onClick:()=>At(Se),className:"absolute -top-1 -right-1 bg-background border rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Jn,{className:"h-2.5 w-2.5"})})]},Se))}),G&&l.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-muted/50 rounded-md text-xs",children:[l.jsx(Xo,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("span",{className:"truncate flex-1",children:G}),l.jsx("button",{type:"button",onClick:xt,className:"text-muted-foreground hover:text-foreground",children:l.jsx(Jn,{className:"h-2.5 w-2.5"})})]})]}),(me||ae)&&l.jsx("div",{className:"text-xs text-red-500 px-2",children:me||ae}),l.jsxs("div",{className:"relative rounded-xl border-2 border-border focus-within:border-purple-500 transition-colors bg-background overflow-hidden",children:[l.jsx(Sg,{ref:ii,value:f,onChange:ye=>p(ye.target.value),onKeyDown:Te,placeholder:"Message Maple...",disabled:m||oe,className:"w-full resize-none min-h-[52px] max-h-[200px] px-4 pt-3 pb-2 border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 placeholder:text-muted-foreground/60",rows:1,id:"message"}),l.jsxs("div",{className:"flex items-center justify-between px-3 pb-2 pt-1 border-t border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gj,{hasImages:V.length>0||d.some(ye=>{var Se;return ye.type==="message"&&((Se=ye.content)==null?void 0:Se.some(ee=>ee.type==="input_image"))})}),(r.model===nn.reasoning_on||r.model===nn.reasoning_off)&&l.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const ye=!r.thinkingEnabled;r.setThinkingEnabled(ye),r.setModel(ye?nn.reasoning_on:nn.reasoning_off)},"aria-label":r.thinkingEnabled?"Disable thinking mode":"Enable thinking mode",children:l.jsx(yb,{className:`h-4 w-4 ${r.thinkingEnabled?"text-purple-500":"text-muted-foreground"}`})}),l.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{if(!dr){je("websearch"),Ee(!0);return}if(!(localStorage.getItem("hasSeenWebSearchInfo")==="true")){localStorage.setItem("hasSeenWebSearchInfo","true"),Ge(!0),Je(!0);return}Ge(!Le)},"aria-label":Le?"Disable web search":"Enable web search",children:l.jsx(Op,{className:`h-4 w-4 ${Le?"text-blue-500":"text-muted-foreground"}`})}),l.jsxs(vh,{children:[l.jsx(xh,{asChild:!0,children:l.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0",disabled:se,children:l.jsx(iS,{className:"h-4 w-4"})})}),l.jsxs(zu,{align:"start",children:[l.jsxs(fn,{onClick:()=>{var ye;br?(ye=wa.current)==null||ye.click():(je("image"),Ee(!0))},children:[l.jsx(yg,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Add Images"})]}),l.jsxs(fn,{onClick:()=>{var ye;s?gr?(ye=jo.current)==null||ye.click():(je("document"),Ee(!0)):Ve(!0)},children:[l.jsx(Xo,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Add Document"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{type:"button",onClick:Rt,disabled:m||oe||!lr,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-muted",children:l.jsx(xb,{className:"h-4 w-4"})}),m?l.jsx(Me,{type:"button",onClick:ve,size:"icon",variant:"destructive",className:"h-8 w-8 rounded-lg",children:l.jsx("div",{className:"h-3 w-3 bg-current rounded-sm"})}):l.jsx(Me,{type:"submit",disabled:!f.trim()&&!V.length&&!L,size:"icon",className:"h-8 w-8 rounded-lg",children:l.jsx(yT,{className:"h-4 w-4"})})]})]}),oe&&l.jsx(yj,{isRecording:oe,isProcessing:tr||rt,onSend:()=>It(!0),onCancel:()=>It(!1),isCompact:!0,className:"absolute inset-0 rounded-xl"})]})]})}),l.jsx("p",{className:"text-sm text-center text-muted-foreground/60 mt-2",children:"AI can make mistakes. Check important info."})]})}),l.jsx(IG,{open:ge,onOpenChange:Ee,feature:Re==="document"?"document":Re==="voice"?"voice":Re==="usage"?"usage":Re==="tokens"?"tokens":Re==="websearch"?"websearch":"image"}),l.jsx(s6e,{open:Ie,onOpenChange:Ve,hasProAccess:gr||!1}),l.jsx(i6e,{open:He,onOpenChange:we,currentModel:r.model,hasDocument:!!G}),l.jsx(a6e,{open:Ne,onOpenChange:ye=>{Je(ye)},onConfirm:()=>{Je(!1)}}),l.jsx("input",{type:"file",ref:wa,accept:"image/jpeg,image/jpg,image/png,image/webp",multiple:!0,onChange:hr,className:"hidden"}),l.jsx("input",{type:"file",ref:jo,accept:".pdf,.txt,.md",onChange:Vt,className:"hidden"})]})]})}function u6e({open:e,onOpenChange:t}){const r=ws(),n=qr(),s=()=>{r({to:"/pricing"})},i=async()=>{await n.signOut()};return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"max-w-[calc(100vw-2rem)] sm:max-w-[425px] [&>button]:hidden",onInteractOutside:a=>a.preventDefault(),onEscapeKeyDown:a=>a.preventDefault(),children:[l.jsxs(pn,{children:[l.jsxs(mn,{className:"flex items-center gap-2 text-amber-600 dark:text-amber-500",children:[l.jsx(pc,{className:"w-5 h-5"}),"Subscription Required"]}),l.jsx(Pn,{children:"Anonymous accounts require a paid subscription to use Maple AI."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"rounded-lg border border-amber-500/50 bg-amber-500/10 p-4 space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Your anonymous account is not activated yet and cannot use the chat feature."}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"To start chatting with Maple AI, you need to subscribe to a paid plan. Anonymous accounts must pay for a full year using Bitcoin or redeem a subscription pass."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Me,{onClick:s,className:"w-full gap-2",children:[l.jsx(u1,{className:"w-4 h-4"}),"View Pricing & Subscribe"]}),l.jsxs(Me,{variant:"outline",onClick:i,className:"w-full gap-2",children:[l.jsx(xg,{className:"w-4 h-4"}),"Log Out"]})]})]})]})})}function d6e({open:e,onOpenChange:t,discount:r}){const n=ws(),s=()=>{t(!1),n({to:"/pricing"})},i=[{icon:l.jsx(BF,{className:"h-4 w-4"}),text:"7 powerful AI models including DeepSeek R1"},{icon:l.jsx(yg,{className:"h-4 w-4"}),text:"Image upload and vision analysis"},{icon:l.jsx(Xo,{className:"h-4 w-4"}),text:"Document processing (PDF, TXT, MD)"},{icon:l.jsx(xb,{className:"h-4 w-4"}),text:"Voice recording with Whisper transcription"},{icon:l.jsx(Op,{className:"h-4 w-4"}),text:"Live web search powered by Brave"},{icon:l.jsx(PE,{className:"h-4 w-4"}),text:"No daily limits - generous monthly usage"}];return l.jsx(ns,{open:e,onOpenChange:t,children:l.jsxs(Xn,{className:"max-w-[calc(100vw-2rem)] sm:max-w-lg max-h-[calc(100vh-2rem)] overflow-y-auto",children:[l.jsx(pn,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 sm:p-2.5 rounded-xl bg-gradient-to-br from-pink-500/20 to-orange-500/20 shrink-0",children:l.jsx(ME,{className:"h-6 w-6 sm:h-7 sm:w-7 text-pink-500"})}),l.jsxs("div",{children:[l.jsx(mn,{className:"text-lg sm:text-xl",children:r.name}),l.jsx(Pn,{className:"text-sm mt-0.5",children:"Limited time offer"})]})]}),l.jsxs(ca,{className:"bg-gradient-to-r from-pink-500 to-orange-500 text-white text-base sm:text-lg px-3 py-1 sm:py-1.5 shadow-lg w-fit",children:[r.percent_off,"% OFF"]})]})}),l.jsxs("div",{className:"space-y-5 py-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-pink-500/10 to-orange-500/10 border border-pink-500/20",children:[l.jsx("p",{className:"text-base font-medium text-foreground",children:r.description}),r.duration_months&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Discount applies for the first ",r.duration_months," month",r.duration_months>1?"s":""," of your subscription."]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Upgrade to Pro and unlock:"}),l.jsx("ul",{className:"grid gap-2.5",children:i.map((a,o)=>l.jsxs("li",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-green-500/10 text-green-500 shrink-0",children:a.icon}),l.jsx("span",{children:a.text})]},o))})]}),l.jsx("div",{className:"pt-3 border-t",children:l.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[l.jsx(jt,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),l.jsx("span",{children:"All features include end-to-end encryption. Your data stays private."})]})})]}),l.jsxs(Rs,{className:"flex-col-reverse sm:flex-row gap-2 sm:gap-2",children:[l.jsx(Me,{variant:"outline",onClick:()=>t(!1),className:"w-full sm:w-auto",children:"Maybe Later"}),l.jsxs(Me,{onClick:s,className:"w-full sm:w-auto gap-2 bg-gradient-to-r from-pink-500 to-orange-500 hover:from-pink-600 hover:to-orange-600 text-white border-0",children:[l.jsx(fc,{className:"h-4 w-4"}),"Upgrade Now"]})]})]})})}function MG(e){return`promo_seen_${e.toLowerCase().replace(/[^a-z0-9]/g,"_")}`}function h6e(e){try{return localStorage.getItem(MG(e))==="true"}catch{return!1}}function f6e(e){try{localStorage.setItem(MG(e),"true")}catch{}}function p6e(e){return{login:(e==null?void 0:e.login)==="true"?"true":void 0,next:e.next?e.next:void 0,team_setup:(e==null?void 0:e.team_setup)===!0||(e==null?void 0:e.team_setup)==="true"?!0:void 0,credits_success:(e==null?void 0:e.credits_success)===!0||(e==null?void 0:e.credits_success)==="true"?!0:void 0}}const PG=ks("/")({component:m6e,validateSearch:p6e});function m6e(){var O,F,j;const e=ws(),t=qr(),r=Wa(),{setBillingStatus:n,billingStatus:s}=xa(),{login:i,next:a,team_setup:o,credits_success:c}=PG.useSearch(),[u,d]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState(!1),[g,w]=x.useState(!1),[y,v]=x.useState(!1);ts({queryKey:["billingStatus"],queryFn:async()=>{const z=await Lr().getBillingStatus();return n(z),z},enabled:!!t.auth.user}),x.useEffect(()=>{i==="true"&&e({to:"/login",search:a?{next:a}:void 0})},[i,a,e]);const{data:b}=ts({queryKey:["teamStatus"],queryFn:async()=>await Lr().getTeamStatus(),enabled:!!t.auth.user}),{data:k}=ts({queryKey:["discount"],queryFn:async()=>await Lr().getDiscount(),staleTime:5*60*1e3,enabled:!!t.auth.user});x.useEffect(()=>{o&&t.auth.user&&b&&(d(!0),e({to:"/",replace:!0}))},[o,t.auth.user,b,e]),x.useEffect(()=>{if(c&&t.auth.user){f(!0),m(!0),r.invalidateQueries({queryKey:["apiCreditBalance"]}),e({to:"/",replace:!0});const D=setTimeout(()=>m(!1),5e3);return()=>clearTimeout(D)}},[c,t.auth.user,e,r]);const C=((F=(O=t.auth.user)==null?void 0:O.user.login_method)==null?void 0:F.toLowerCase())==="guest",A=((j=s==null?void 0:s.product_name)==null?void 0:j.toLowerCase().includes("free"))??!1,R=C&&A&&s!==null;return x.useEffect(()=>{const D=window.location.pathname;w(!!(R&&D!=="/pricing"))},[R]),x.useEffect(()=>{!t.auth.user||!s||!(k!=null&&k.active)||!C&&!t.auth.user.user.email_verified||R||A&&!h6e(k.name)&&(f6e(k.name),v(!0))},[t.auth.user,s,k,C,A,R]),t.auth.user?l.jsxs(l.Fragment,{children:[l.jsx(c6e,{}),l.jsx(kb,{}),l.jsx(u6e,{open:g,onOpenChange:w}),l.jsx(fV,{open:u,onOpenChange:d,teamStatus:b}),l.jsx(DV,{open:h,onOpenChange:f,showCreditSuccessMessage:p}),(k==null?void 0:k.active)&&l.jsx(d6e,{open:y,onOpenChange:v,discount:k})]}):l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsx(Xle,{}),l.jsx(kb,{})]})}const OG=ks("/verify/$code")({component:g6e});function g6e(){const{code:e}=OG.useParams(),[t,r]=x.useState(!0),[n,s]=x.useState(null),i=ws(),{verifyEmail:a,refetchUser:o}=qr();return x.useEffect(()=>{async function c(){try{await a(e),setTimeout(async()=>{await o(),i({to:"/"})},2e3)}catch(u){u instanceof Error?s(u.message):s("An unknown error occurred")}finally{r(!1)}}c()},[e,i,a,o]),t?l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsx(vs,{children:"Verifying Email"})}),l.jsx(xs,{className:"flex justify-center",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin"})})]}):n?l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsx(vs,{children:"Verification Failed"})}),l.jsx(xs,{children:l.jsx(Fa,{title:"Error",description:n})})]}):l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsx(vs,{children:"Email Verified"})}),l.jsx(xs,{children:"Your email has been successfully verified. Redirecting..."})]})}const DG=ks("/password-reset/confirm")({component:y6e,validateSearch:e=>({email:e.email,secret:e.secret})});function y6e(){const{email:e,secret:t}=DG.useSearch();return l.jsxs("div",{className:"pt-8 mx-auto max-w-md",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Confirm Password Reset"}),l.jsx(SB,{email:e,secret:t})]})}const LG=ks("/team/invite/$inviteId")({component:v6e});function v6e(){var w;const{inviteId:e}=LG.useParams(),t=ws(),r=qr(),n=Wa(),[s,i]=x.useState(!1),[a,o]=x.useState(null),[c,u]=x.useState(!1),d=!!r.auth.user,h=(w=r.auth.user)==null?void 0:w.user.email,{data:f,isLoading:p}=ts({queryKey:["teamInvite",e],queryFn:async()=>{if(!d)throw new Error("Authentication required");return await Lr().checkTeamInvite(e)},enabled:d,retry:!1});x.useEffect(()=>{!d&&!p&&t({to:"/signup",search:{next:`/team/invite/${e}`}})},[d,p,t,e]);const m=async()=>{if(!h){o("Unable to determine your email address");return}i(!0),o(null);try{await Lr().acceptTeamInvite(e,{email:h}),await n.invalidateQueries({queryKey:["teamStatus"]}),await n.invalidateQueries({queryKey:["billingStatus"]}),u(!0),setTimeout(()=>{t({to:"/"})},2e3)}catch(y){console.error("Failed to accept invite:",y),o(y instanceof Error?y.message:"Failed to accept invitation")}finally{i(!1)}},g=()=>{t({to:"/"})};return p||!d?l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsx(Oa,{children:l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx(hn,{className:"w-full max-w-md",children:l.jsx(xs,{className:"flex items-center justify-center py-12",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})})})]}):f!=null&&f.valid?c?l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsx(Oa,{children:l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx(hn,{className:"w-full max-w-md",children:l.jsxs(ys,{children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"rounded-full bg-green-100 dark:bg-green-900/20 p-3",children:l.jsx(fl,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),l.jsx(vs,{className:"text-center",children:"Welcome to the Team!"}),l.jsxs(Cu,{className:"text-center",children:["You've successfully joined ",(f==null?void 0:f.team_name)||"the team",". Redirecting you to the dashboard..."]})]})})})})]}):l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsx(Oa,{children:l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsxs(hn,{className:"w-full max-w-md",children:[l.jsxs(ys,{children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:l.jsx(wb,{className:"h-8 w-8 text-primary"})})}),l.jsx(vs,{className:"text-center",children:"Team Invitation"}),l.jsx(Cu,{className:"text-center",children:"You've been invited to join a team on Maple AI"})]}),l.jsxs(xs,{className:"space-y-4",children:[l.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Team"}),l.jsx("p",{className:"font-medium",children:f.team_name})]}),f.invited_by_name&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Invited by"}),l.jsx("p",{className:"font-medium",children:f.invited_by_name})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Your email"}),l.jsx("p",{className:"font-medium",children:h})]})]}),a&&l.jsxs(_n,{variant:"destructive",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx(En,{children:a})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Me,{variant:"outline",onClick:g,disabled:s,className:"flex-1",children:"Decline"}),l.jsx(Me,{onClick:m,disabled:s,className:"flex-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Joining..."]}):l.jsxs(l.Fragment,{children:[l.jsx(fl,{className:"mr-2 h-4 w-4"}),"Accept Invitation"]})})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By accepting this invitation, you'll join the team and gain access to shared resources."})]})]})})})]}):l.jsxs(l.Fragment,{children:[l.jsx(la,{}),l.jsx(Oa,{children:l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsxs(hn,{className:"w-full max-w-md",children:[l.jsxs(ys,{children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:l.jsx(x2,{className:"h-8 w-8 text-destructive"})})}),l.jsx(vs,{className:"text-center",children:"Invalid or Expired Invitation"}),l.jsx(Cu,{className:"text-center",children:"This invitation link is no longer valid. It may have expired or already been used."})]}),l.jsx(xs,{children:l.jsx(Me,{onClick:()=>t({to:"/"}),className:"w-full",children:"Go to Dashboard"})})]})})})]})}const $G=ks("/auth/$provider/callback")({component:b6e});function x6e(e){switch(e.toLowerCase()){case"github":return"GitHub";case"google":return"Google";case"apple":return"Apple";default:return e.charAt(0).toUpperCase()+e.slice(1)}}function b6e(){const[e,t]=x.useState(!0),[r,n]=x.useState(null),s=ws(),{handleGitHubCallback:i,handleGoogleCallback:a,handleAppleCallback:o}=qr(),c=x.useRef(!1),u=()=>{const p=localStorage.getItem("redirect-to-native")==="true";if(localStorage.removeItem("redirect-to-native"),p){const g=localStorage.getItem("access_token")||"",w=localStorage.getItem("refresh_token");let y=`cloud.opensecret.maple://auth?access_token=${encodeURIComponent(g)}`;w&&(y+=`&refresh_token=${encodeURIComponent(w)}`),setTimeout(()=>{window.location.href=y},1e3);return}const m=sessionStorage.getItem("selected_plan");sessionStorage.removeItem("selected_plan"),setTimeout(()=>{s(m?{to:"/pricing",search:{selected_plan:m}}:{to:"/"})},2e3)},d=p=>{console.error("Authentication callback error:",p),p instanceof Error?n(p.message):n("Unknown error"),t(!1)},{provider:h}=$G.useParams(),f=x6e(h);return x.useEffect(()=>{(async()=>{if(c.current)return;c.current=!0;const m=new URLSearchParams(window.location.search),g=m.get("code"),w=m.get("state");let y=null;if(h==="apple"&&!g){const v=sessionStorage.getItem("apple_form_data");if(v)try{y=JSON.parse(v),sessionStorage.removeItem("apple_form_data")}catch(b){console.error("Failed to parse Apple form data:",b)}}if(g&&w||h==="apple"&&y)try{if(h==="github")await i(g||"",w||"","");else if(h==="google")await a(g||"",w||"","");else if(h==="apple")await o(g||"",w||"","");else throw new Error(`Unsupported provider: ${h}`);try{Lr().clearToken()}catch(v){console.warn("Failed to clear billing token:",v)}u()}catch(v){d(v)}finally{t(!1)}else n("Invalid callback parameters"),t(!1)})()},[i,a,o,s,h]),localStorage.getItem("redirect-to-native")==="true"?l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsxs(vs,{children:[f," Authentication Successful"]})}),l.jsxs(xs,{children:[l.jsx("p",{className:"mb-4",children:"Authentication successful! Redirecting you back to the app..."}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin"})})]})]}):e?l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsxs(vs,{children:["Processing ",f," Login"]})}),l.jsx(xs,{className:"flex justify-center",children:l.jsx(Ar,{className:"h-8 w-8 animate-spin"})})]}):r?l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsx(vs,{children:"Authentication Failed"})}),l.jsxs(xs,{children:[l.jsx(Fa,{title:"Error",description:r}),l.jsx("div",{className:"mt-4 flex justify-center",children:l.jsx(Me,{asChild:!0,children:l.jsx(Sn,{to:"/",children:"Try Again"})})})]})]}):l.jsxs(hn,{className:"max-w-md mx-auto mt-20",children:[l.jsx(ys,{children:l.jsxs(vs,{children:[f," Authentication Successful"]})}),l.jsxs(xs,{children:["You have successfully authenticated with ",f,".",sessionStorage.getItem("selected_plan")?"Redirecting to complete your plan selection...":"Redirecting to home page..."]})]})}const FG=ks("/_auth/chat/$chatId")({component:E6e});function BG(e){const[t,r]=x.useState(!1),n=x.useCallback(async()=>{try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(s){console.error("Failed to copy text: ",s)}},[e]);return{isCopied:t,handleCopy:n}}function w6e(e,t){return typeof e=="string"?l.jsx(Wd,{content:e,loading:!1,chatId:t}):e.map((r,n)=>{var s;return r.type==="text"?l.jsx(Wd,{content:r.text||"",loading:!1,chatId:t},n):l.jsx("img",{src:(s=r.image_url)==null?void 0:s.url,className:"max-w-full rounded-lg",alt:""},n)})}function k6e({message:e,chatId:t}){return l.jsx("div",{className:"flex flex-col p-4 rounded-lg bg-muted",children:l.jsxs("div",{className:"rounded-lg flex flex-col md:flex-row gap-4",children:[l.jsx("div",{children:l.jsx(wg,{})}),l.jsx("div",{className:"flex flex-col gap-2 min-w-0 flex-1 overflow-hidden",children:w6e(e.content,t)})]})})}function S6e({text:e,chatId:t}){const{isCopied:r,handleCopy:n}=BG(e);return l.jsx("div",{className:"group flex flex-col p-4",children:l.jsxs("div",{className:"rounded-lg flex flex-col md:flex-row gap-4",children:[l.jsx("div",{children:l.jsx(gb,{})}),l.jsxs("div",{className:"flex flex-col gap-2 min-w-0 flex-1 overflow-hidden",children:[l.jsx(Wd,{content:e,loading:!1,chatId:t}),l.jsx("div",{className:"flex gap-2 items-center",children:l.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:n,"aria-label":r?"Copied":"Copy to clipboard",children:r?l.jsx(jt,{className:"h-4 w-4"}):l.jsx(Th,{className:"h-4 w-4"})})})]})]})})}function _6e({text:e}){const[t,r]=x.useState(!1),{isCopied:n,handleCopy:s}=BG(e);return l.jsx("div",{className:"group flex flex-col p-4 rounded-lg bg-muted/50",children:l.jsxs("div",{className:"rounded-lg flex flex-col md:flex-row gap-4",children:[l.jsx("div",{children:l.jsx(gb,{className:"h-5 w-5 text-muted-foreground"})}),l.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"System Prompt"})}),l.jsx("div",{className:"text-sm text-foreground",children:t?l.jsxs(l.Fragment,{children:[e,e.length>100&&l.jsxs(l.Fragment,{children:[" ",l.jsx("button",{className:"text-primary hover:text-primary/80 underline cursor-pointer",onClick:()=>r(!1),children:"show less"})]})]}):l.jsxs(l.Fragment,{children:[e.length>100?e.slice(0,100):e,e.length>100&&l.jsxs(l.Fragment,{children:["... ",l.jsx("button",{className:"text-primary hover:text-primary/80 underline cursor-pointer",onClick:()=>r(!0),children:"see more"})]})]})}),l.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 self-start",onClick:s,"aria-label":n?"Copied":"Copy to clipboard",children:n?l.jsx(jt,{className:"h-4 w-4"}):l.jsx(Th,{className:"h-4 w-4"})})]})]})})}function E6e(){const{chatId:e}=FG.useParams(),{getChatById:t}=xa(),r=ws(),n=f_(),[s,i]=x.useState(!1),[a,o]=x.useState(!1),c=x.useRef(null),{data:u,isPending:d}=ts({queryKey:["archivedChat",e],queryFn:()=>t(e),retry:!1}),h=x.useCallback(()=>o(w=>!w),[]),f=x.useCallback(async()=>{try{await r({to:"/"}),setTimeout(()=>{var w;return(w=document.getElementById("message"))==null?void 0:w.focus()},0)}catch(w){console.error("Navigation failed:",w)}},[r]),p=x.useCallback(()=>{const w=c.current;if(!w)return;const{scrollTop:y,scrollHeight:v,clientHeight:b}=w,k=v-y-b<100;i(!k)},[]);x.useEffect(()=>{const w=c.current;if(w)return w.addEventListener("scroll",p),p(),()=>w.removeEventListener("scroll",p)},[p]);const m=x.useCallback(()=>{c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},[]);if(d)return l.jsxs("div",{className:"grid h-dvh w-full grid-cols-1 md:grid-cols-[280px_1fr]",children:[l.jsx(Av,{chatId:e,isOpen:a,onToggle:h}),l.jsx("main",{className:"flex h-dvh flex-col items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading archived chat..."})})]});if(!u)return l.jsxs("div",{className:"grid h-dvh w-full grid-cols-1 md:grid-cols-[280px_1fr]",children:[l.jsx(Av,{chatId:e,isOpen:a,onToggle:h}),l.jsx("main",{className:"flex h-dvh flex-col items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Archived chat not found"})})]});const g=(u.messages||[]).map(w=>({role:w.role||"user",content:w.content||""}));return l.jsxs("div",{className:"grid h-dvh w-full grid-cols-1 md:grid-cols-[280px_1fr]",children:[l.jsx(Av,{chatId:e,isOpen:a,onToggle:h}),l.jsxs("main",{className:"flex h-dvh flex-col bg-card/90 backdrop-blur-lg bg-center overflow-hidden",children:[!a&&l.jsx("div",{className:"fixed top-4 left-4 z-20 md:hidden",children:l.jsx(LV,{onToggle:h})}),l.jsxs("div",{ref:c,className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden flex flex-col relative",children:[l.jsxs("div",{className:"mt-4 md:mt-8 w-full h-10 flex items-center justify-center relative",children:[n&&l.jsx(Me,{variant:"outline",size:"icon",className:"absolute right-4",onClick:f,"aria-label":"New chat",children:l.jsx(k2,{className:"h-4 w-4"})}),l.jsx("h2",{className:"text-base font-semibold self-center truncate max-w-[20rem] mx-[6rem] py-2",children:u.title})]}),l.jsx("div",{className:"flex flex-col w-full max-w-[45rem] mx-auto gap-4 px-2 pt-4",children:g.map((w,y)=>{var v,b;return l.jsxs("div",{id:`message-${w.role}-${y}`,className:"flex flex-col gap-2",children:[w.role==="system"&&l.jsx(_6e,{text:typeof w.content=="string"?w.content:((v=w.content.find(k=>k.type==="text"))==null?void 0:v.text)||""}),w.role==="user"&&l.jsx(k6e,{message:w,chatId:e}),w.role==="assistant"&&l.jsx(S6e,{text:typeof w.content=="string"?w.content:((b=w.content.find(k=>k.type==="text"))==null?void 0:b.text)||"",chatId:e})]},y)})}),s&&l.jsx("button",{onClick:m,className:"fixed bottom-24 right-4 p-2 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 transition-colors z-10","aria-label":"Scroll to bottom",children:l.jsx(r0,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"w-full max-w-[45rem] mx-auto flex flex-col px-2 pb-4",children:l.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4 flex items-center gap-3",children:[l.jsx(Doe,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"Archived Chat"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is a read-only chat from your history. Start a new chat to continue the conversation."})]}),l.jsx(Me,{onClick:f,size:"sm",children:"New Chat"})]})})]})]})}const N6e=Jle.update({id:"/teams",path:"/teams",getParentRoute:()=>Is}),C6e=fB.update({id:"/signup",path:"/signup",getParentRoute:()=>Is}),A6e=pB.update({id:"/redeem",path:"/redeem",getParentRoute:()=>Is}),T6e=nue.update({id:"/proof",path:"/proof",getParentRoute:()=>Is}),R6e=hS.update({id:"/pricing",path:"/pricing",getParentRoute:()=>Is}),I6e=Aue.update({id:"/payment-success",path:"/payment-success",getParentRoute:()=>Is}),j6e=Rue.update({id:"/payment-canceled",path:"/payment-canceled",getParentRoute:()=>Is}),UG=Mue.update({id:"/password-reset",path:"/password-reset",getParentRoute:()=>Is}),M6e=_B.update({id:"/login",path:"/login",getParentRoute:()=>Is}),P6e=Uue.update({id:"/downloads",path:"/downloads",getParentRoute:()=>Is}),O6e=NB.update({id:"/desktop-auth",path:"/desktop-auth",getParentRoute:()=>Is}),D6e=Vue.update({id:"/about",path:"/about",getParentRoute:()=>Is}),zG=Wue.update({id:"/_auth",getParentRoute:()=>Is}),L6e=PG.update({id:"/",path:"/",getParentRoute:()=>Is}),$6e=OG.update({id:"/verify/$code",path:"/verify/$code",getParentRoute:()=>Is}),F6e=DG.update({id:"/confirm",path:"/confirm",getParentRoute:()=>UG}),B6e=LG.update({id:"/team/invite/$inviteId",path:"/team/invite/$inviteId",getParentRoute:()=>Is}),U6e=$G.update({id:"/auth/$provider/callback",path:"/auth/$provider/callback",getParentRoute:()=>Is}),z6e=FG.update({id:"/chat/$chatId",path:"/chat/$chatId",getParentRoute:()=>zG}),H6e={AuthChatChatIdRoute:z6e},V6e=zG._addFileChildren(H6e),q6e={PasswordResetConfirmRoute:F6e},W6e=UG._addFileChildren(q6e),G6e={IndexRoute:L6e,AuthRoute:V6e,AboutRoute:D6e,DesktopAuthRoute:O6e,DownloadsRoute:P6e,LoginRoute:M6e,PasswordResetRoute:W6e,PaymentCanceledRoute:j6e,PaymentSuccessRoute:I6e,PricingRoute:R6e,ProofRoute:T6e,RedeemRoute:A6e,SignupRoute:C6e,TeamsRoute:N6e,VerifyCodeRoute:$6e,AuthProviderCallbackRoute:U6e,TeamInviteInviteIdRoute:B6e},K6e=Is._addFileChildren(G6e)._addFileTypes();function Y6e({error:e}){return console.error(e),l.jsx("div",{className:"mx-auto px-4 py-8 max-w-md",children:l.jsxs(hn,{className:"bg-card/70 backdrop-blur-sm max-w-[45rem]",children:[l.jsx(ys,{children:l.jsx(vs,{children:e.name})}),l.jsx(xs,{children:e.message}),l.jsx(LE,{children:l.jsx("p",{children:l.jsx(Sn,{className:"underline",to:"/",children:"Go home"})})})]})})}function Z6e(e){return console.error(e),l.jsx("div",{className:"mx-auto px-4 py-8 max-w-md",children:l.jsxs(hn,{className:"bg-card/70 backdrop-blur-sm mx-auto max-w-[45rem]",children:[l.jsx(ys,{children:l.jsx(vs,{children:"404"})}),l.jsx(xs,{children:l.jsx("p",{children:"Route not found."})}),l.jsx(LE,{children:l.jsx("p",{children:l.jsx(Sn,{className:"underline",to:"/",children:"Go home"})})})]})})}function Q6e({children:e}){const t=qr();return x.useEffect(()=>{Gle(t)},[t]),l.jsx(l.Fragment,{children:e})}var vj;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(vj||(vj={}));async function X6e(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await Mn("plugin:event|unlisten",{event:e,eventId:t})}async function qb(e,t,r){var n;const s=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return Mn("plugin:event|listen",{event:e,target:s,handler:$E(t)}).then(i=>async()=>X6e(e,i))}function J6e(){return x.useEffect(()=>{let e;return(async()=>{try{Ao()&&(console.log("[Deep Link] Setting up handler for Tauri app"),e=await qb("deep-link-received",r=>{const n=r.payload;console.log("[Deep Link] Received URL:",n);try{const s=new URL(n),a=s.pathname.split("/").filter(Boolean)[0]||"";if(a==="auth"||a===""){const o=s.searchParams.get("access_token"),c=s.searchParams.get("refresh_token");o&&c?(console.log("[Deep Link] Auth tokens received"),localStorage.setItem("access_token",o),localStorage.setItem("refresh_token",c),window.location.href="/"):console.error("[Deep Link] Missing tokens in auth deep link")}else if(a==="payment"||a==="payment-success"||a==="payment-canceled"||s.searchParams.has("payment_success")||s.searchParams.has("success")){const o=a==="payment-success"||s.searchParams.get("success")==="true"||s.searchParams.get("payment_success")==="true",c=a==="payment-canceled"||s.searchParams.get("canceled")==="true"||s.searchParams.has("payment_canceled");console.log("[Deep Link] Payment callback received:",{isSuccess:o,isCanceled:c,path:a,source:s.searchParams.get("source")}),o?window.location.href="/pricing?success=true":c?window.location.href="/pricing?canceled=true":(console.warn("[Deep Link] Unknown payment status in callback"),window.location.href="/pricing")}else console.warn("[Deep Link] Unknown deep link type:",a)}catch(s){console.error("[Deep Link] Failed to process deep link:",s)}}),console.log("[Deep Link] Handler setup complete"))}catch(r){console.error("[Deep Link] Setup failed:",r)}})(),()=>{e&&e()}},[]),null}function eke({notification:e,onDismiss:t}){const[r,n]=x.useState(!1),[s,i]=x.useState(!1),a=x.useRef(null),o=x.useCallback(()=>{i(!0),a.current=setTimeout(()=>{n(!1),t()},200)},[t]);if(x.useEffect(()=>{if(e){if(n(!0),i(!1),e.duration&&e.duration>0){const d=setTimeout(()=>{o()},e.duration);return()=>clearTimeout(d)}}else n(!1)},[e,o]),x.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),!e||!r)return null;const c=()=>{if(e.icon)return e.icon;switch(e.type){case"success":return l.jsx(fl,{className:"h-5 w-5 text-green-600 dark:text-green-500"});case"error":return l.jsx(As,{className:"h-5 w-5 text-destructive"});case"info":return l.jsx(w2,{className:"h-5 w-5 text-primary"});case"update":return l.jsx(Koe,{className:"h-5 w-5 text-primary"})}},u=e.actions&&e.actions.length>0;return l.jsx("div",{className:"fixed top-4 right-4 z-50 pointer-events-none",children:l.jsxs("div",{className:Ht("pointer-events-auto flex flex-col gap-3 rounded-lg border bg-card text-card-foreground p-4 shadow-lg transition-all duration-200 min-w-[320px] max-w-md",s?"opacity-0 translate-x-full":"opacity-100 translate-x-0",e.type==="error"&&"border-destructive/50 dark:border-destructive",e.type==="success"&&"border-green-500/50 dark:border-green-500",e.type==="info"&&"border-primary/50",e.type==="update"&&"border-primary/50"),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:c()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium leading-tight",children:e.title}),e.message&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.message})]}),!u&&l.jsxs("button",{onClick:o,className:"flex-shrink-0 rounded-sm opacity-70 hover:opacity-100 transition-opacity",children:[l.jsx(Jn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),u&&l.jsx("div",{className:"flex justify-end gap-2",children:e.actions.map((d,h)=>l.jsx("button",{onClick:()=>{d.onClick(),o()},className:Ht("px-3 py-1.5 text-xs font-medium rounded-md transition-colors",d.variant==="primary"?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:d.label},h))})]})})}const HG=x.createContext(void 0);function tke({children:e}){const[t,r]=x.useState(null),n=x.useCallback(i=>{const a=Date.now().toString();r({...i,id:a,duration:i.duration??5e3})},[]),s=x.useCallback(()=>{r(null)},[]);return l.jsxs(HG.Provider,{value:{showNotification:n,clearNotification:s},children:[e,l.jsx(eke,{notification:t,onDismiss:s})]})}function VG(){const e=x.useContext(HG);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e}function rke(){const{showNotification:e}=VG();return x.useEffect(()=>{if(!Ao())return;let t=null,r=null;return(async()=>{try{t=await qb("proxy-autostarted",s=>{const i=s.payload;e({type:"success",title:"Proxy Started",message:`Local proxy is running on ${i.host}:${i.port}`,icon:l.jsx(w2,{className:"h-5 w-5 text-green-600 dark:text-green-500"}),duration:5e3})}),r=await qb("proxy-autostart-failed",s=>{const i=s.payload;e({type:"error",title:"Proxy Auto-Start Failed",message:i||"Failed to start the proxy automatically",duration:7e3})})}catch(s){console.error("Failed to setup proxy event listeners:",s)}})(),()=>{t&&t(),r&&r()}},[e]),null}function nke(){const{showNotification:e}=VG();return x.useEffect(()=>{if(!Ao())return;let t=null;return(async()=>{try{t=await qb("update-ready",n=>{const{version:s}=n.payload;e({type:"update",title:"Update Ready",message:`Version ${s} has been downloaded and is ready to install.`,duration:0,actions:[{label:"Later",variant:"secondary",onClick:()=>{}},{label:"Restart Now",variant:"primary",onClick:async()=>{try{await Mn("restart_for_update")}catch(i){console.error("Failed to restart for update:",i)}}}]})})}catch(n){console.error("Failed to setup update event listeners:",n)}})(),()=>{t&&t()}},[e]),null}const ske=Eee({routeTree:K6e,context:{os:void 0},defaultErrorComponent:Y6e,defaultNotFoundComponent:Z6e});function ike(){const e=qr();return l.jsx(Ree,{router:ske,context:{os:e}})}const ake=new Wee({defaultOptions:{queries:{staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:!0,retry:!1}}});function oke(){return l.jsx(tke,{children:l.jsx(Nae,{apiUrl:"https://enclave.trymaple.ai",clientId:"ba5a14b5-d915-47b1-b7b1-afda52bc5fc6",pcrConfig:{pcr0Values:["ed9109c16f30a470cf0ea2251816789b4ffa510c990118323ce94a2364b9bf05bdb8777959cbac86f5cabc4852e0da71","4f2bcdf16c38842e1a45defd944d24ea58bb5bcb76491843223022acfe9eb6f1ff79b2cb9a6b2a9219daf9c7bf40fa37","b8ee4b511ef2c9c6ab3e5c0840c5df2218fbb4d9df88254ece7af9462677e55aa5a03838f3ae432d86ca1cb6f992eee7","33ffe5cae0f72cfe904bde8019ad98efa0ce5db2800f37c5d4149461023d1f70ea77e4f58ae1327ff46ed6a34045d6e2","a1398fa2946b6ed4b96a1a992ee668aef3661329690f87d44cad5b646ce33e3b16a55674b1d6d54d115a5520801b97d6","878dc4111e94722f3d33b202dc1368916af2eb486e74b3d94c9dfbcb3d981fa652827ea8e951ddfe06d1cefb482e431c","4e242871fecc14933c889908a6a7593de574c2655a47ffa163c5fd7ba41d063152ef441bd555ac7f8569eac4fd7cbc8b","095d38ba5c9c7ad1cfe5832d3dd8304b020392867aeef84f47e08b4305b867540b0ff5b2eb7d279de410e19ad937896e","72c9a1dc207d919196c78f845c0f5fd4b3b3a690e024a3dd599f160be04875fbe52983773909a9f1584105f7d5103538","a5ae21e211fa709dbced7fec7fff0eb86001174365a29271c07d7fb55fd9f37c7e2ddef1b01f39e977ca246277efeef2","2520e5067830a34fc457b6360358e3754d53ab855f4a05a81312f2a2ed0bf893c5ec43d1325972efbe3a8f2b79303734","a275a3877972c670c4f43e658cc9296838f79a96a26429877f74285c3a088d426583d3e2f6f99cfd96c70fdfa1475266","8de5541089649e9edb2cd96fafb90716aa298483447e459708e8840b1f82a557c9d9ff6ae1fd2461b04310e7d9400d7d","02a41da2df084fd1dee420d7717bef6dc0120f1d6a0b7fded3f4c7a539be4044b3061c71bc7156731db1fb66494097b0","d9638aebacf2bf15ef0ab7d394320a3aa5ebde9f0e8911d2d2a0b49a2792f3825e6f6ca56960a63e91857398125d8038","41786ecb8e012b910cd095ad5f8b5acefcaf80df3cf8e909499da45dd594c7c4c28302b5dde551d870555bd389a1e2c4"],pcr0DevValues:["799600ba64a29e360b1651f4ced6c9ca5323094a45294551327b996062c3f21e6fef651e7e3d97ec8d25be87b9935b4f","2fd9d4f716fd28336d96bc1a20b18a727c2d18f292577ba99323acfc8fb08959428a123b7acff478994c4f961247a0c7","4292db2a90ce5ea6f6e2766e0238a328c81dc060a1f3175bced2e94a10e0490d3ff9125d774dafdff969ac661778e757","f58409ae1bc8600c887fef5cc4055149c88c94b41c2b3e268826af7b43a1cdbacffdb2c96bf5972120c6460ab83fe89e","6fcdb8086806a96c421c08eaf67cebf164aa898798b6f91b072c884773bc6ed64fe8f5af644fe35411195167b0e4a5f1","0042958bde1fdd1bcbd4085ec94456c49e7bc5d2c3368f6f34edd6f339193cb7b53929d299eaf6a220ed5b7691f8618a","583ac140e0454dd4766a07c147cb6d90d5430d6bc9c1571da19c781dea4027e1c434273caba584440180ca42c2db84d5","4451e47ddb4be8a63492e62bc400e69d924188040805c658334f708e8682d308af3feb16018e98a5589c345d28437a6b","5bc5a32791948dc7e315d01ec787307799bb6f70903d14c20dc47f19bb0ef3830eb3b2c5b04b7ae5b04717046b357a14","4243170eeb11d38cf9bbee48b754bccfe97385b4639051efe97cda50086784cd32009dcb89a0fb1098558f22dc55b4e6","be3de8fa74f42cc5165823da63aa283f1c8dfedb5e27e0bfa281c6dbd12d5b5bfd9bef591200175c44dbf0c504f5b0a5","ab7e90e1894f75fbd423f3d0027973b611beff7402bd224dcd0f162968fb9678f08c92970d16a444edc934aa6ecd7d62","8ba003e9d552d262cfd40a77eced199cfd0e776d1fd69d5ed6b7e6c6c92b91a0481e965247502f95a20478fe0a8f3de7","2e6e8f86a657f6daed8e699c0b74bf02d6c7d6414638b1032e6addd2bca7d208a0e8aa4961eb8e926c54dc58fd63d401","6b15f0571de13a6357e646bbe3772a8fe32fdd85b07ba97b3a6f95bdc43023dd9deb5710c26b75346de90157d9ecdd1f","2596e528703abda188de27b6995f8d3cc553502e4acbb4d06db1dc8239b428638447adff38ccce358ef9fe34c2e0bccc","e36d72989d89818b77ab1012cf875c46c0d7fb5389fd559b9ea0950231ae1cc17dd222e5d19a84363a27a3cd7f268de6"]},children:l.jsx(oue,{children:l.jsx(Yfe,{children:l.jsx(Qee,{client:ake,children:l.jsx(HX,{children:l.jsxs(Q6e,{children:[l.jsx(rke,{}),l.jsx(nke,{}),l.jsx(J6e,{}),l.jsx(ike,{})]})})})})})})})}async function lke(){await gle();const e=document.getElementById("root");e.innerHTML||UP(e).render(l.jsx(x.StrictMode,{children:l.jsx(oke,{})}))}lke();export{Mn as i};
